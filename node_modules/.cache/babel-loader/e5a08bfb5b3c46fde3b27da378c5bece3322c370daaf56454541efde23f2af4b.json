{"ast":null,"code":"// src/components/PreventiveMaintenanceModule.js\nimport React,{useState,useEffect,useCallback}from'react';import{ref as databaseRef,set as databaseSet,push,update,remove,onValue,off}from'firebase/database';import{database}from'../config/firebase';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PreventiveMaintenanceModule=_ref=>{let{vehiculos,currentUser,isMobile}=_ref;// Estados principales\nconst[maintenanceRecords,setMaintenanceRecords]=useState([]);const[showMaintenanceForm,setShowMaintenanceForm]=useState(false);const[selectedVehicle,setSelectedVehicle]=useState('');const[editingMaintenance,setEditingMaintenance]=useState(null);const[loading,setLoading]=useState(false);const[message,setMessage]=useState({type:'',text:''});// Estado para el paso actual del formulario\nconst[currentStep,setCurrentStep]=useState(1);// Estado para vista activa\nconst[activeView,setActiveView]=useState('dashboard');// Estado para bÃºsqueda y filtros\nconst[searchTerm,setSearchTerm]=useState('');const[filterStatus,setFilterStatus]=useState('todos');// Estado para tipo de repuesto\nconst[tipoRepuesto,setTipoRepuesto]=useState('original');// Estado para servicios preventivos\nconst[serviciosPreventivos,setServiciosPreventivos]=useState([{id:Date.now(),numero:1,servicio:'',codigo:'',detalle:'',manoObra:0,costoRepuesto:0,cantidadRepuesto:1,repuestoDescripcion:''}]);// CÃ¡lculos automÃ¡ticos\nconst calcularTotales=useCallback(()=>{const subtotalManoObra=serviciosPreventivos.reduce((sum,s)=>sum+(parseFloat(s.manoObra)||0),0);const subtotalRepuestos=serviciosPreventivos.reduce((sum,s)=>sum+(parseFloat(s.costoRepuesto)||0)*(parseInt(s.cantidadRepuesto)||1),0);const valorNeto=subtotalManoObra+subtotalRepuestos;const iva=valorNeto*0.19;const total=valorNeto+iva;return{subtotalManoObra,subtotalRepuestos,valorNeto,iva,total};},[serviciosPreventivos]);// Cargar registros de mantenimiento\nuseEffect(()=>{const maintenanceRef=databaseRef(database,'mantenimientos');const unsubscribe=onValue(maintenanceRef,snapshot=>{const data=snapshot.val();if(data){const maintenanceArray=Object.entries(data).map(_ref2=>{let[id,maintenance]=_ref2;return{id,...maintenance};});setMaintenanceRecords(maintenanceArray);}else{setMaintenanceRecords([]);}});return()=>off(maintenanceRef);},[]);// Funciones auxiliares\nconst agregarServicio=()=>{const nuevoNumero=serviciosPreventivos.length+1;setServiciosPreventivos([...serviciosPreventivos,{id:Date.now(),numero:nuevoNumero,servicio:'',codigo:'',detalle:'',manoObra:0,costoRepuesto:0,cantidadRepuesto:1,repuestoDescripcion:''}]);};const actualizarServicio=(id,campo,valor)=>{setServiciosPreventivos(serviciosPreventivos.map(s=>s.id===id?{...s,[campo]:valor}:s));};const eliminarServicio=id=>{if(serviciosPreventivos.length>1){const nuevosServicios=serviciosPreventivos.filter(s=>s.id!==id);const serviciosRenumerados=nuevosServicios.map((s,index)=>({...s,numero:index+1}));setServiciosPreventivos(serviciosRenumerados);}};// Guardar mantenimiento\nconst handleSaveMaintenance=async e=>{e.preventDefault();if(!selectedVehicle){setMessage({type:'error',text:'âŒ Debe seleccionar un vehÃ­culo'});return;}setLoading(true);try{const totales=calcularTotales();const vehiculo=vehiculos.find(v=>v.id===selectedVehicle);const maintenanceData={vehiculoId:selectedVehicle,vehiculoNombre:(vehiculo===null||vehiculo===void 0?void 0:vehiculo.nombre)||'',vehiculoPatente:(vehiculo===null||vehiculo===void 0?void 0:vehiculo.patente)||'',tipoRepuesto,serviciosPreventivos,totales,fechaMantenimiento:new Date().toISOString(),kilometrajeActual:(vehiculo===null||vehiculo===void 0?void 0:vehiculo.kilometraje)||0,createdBy:currentUser.uid,createdAt:new Date().toISOString()};if(editingMaintenance){const maintenanceRef=databaseRef(database,`mantenimientos/${editingMaintenance.id}`);await update(maintenanceRef,{...maintenanceData,updatedAt:new Date().toISOString(),updatedBy:currentUser.uid});setMessage({type:'success',text:'âœ… Mantenimiento actualizado exitosamente'});}else{const maintenanceRef=databaseRef(database,'mantenimientos');const newMaintenanceRef=push(maintenanceRef);await databaseSet(newMaintenanceRef,maintenanceData);const vehicleRef=databaseRef(database,`vehiculos/${selectedVehicle}`);await update(vehicleRef,{ultimoMantenimiento:new Date().toISOString().split('T')[0],kilometrajeUltimoMantenimiento:(vehiculo===null||vehiculo===void 0?void 0:vehiculo.kilometraje)||0});setMessage({type:'success',text:'âœ… Mantenimiento registrado exitosamente'});}resetForm();}catch(error){console.error('Error al guardar mantenimiento:',error);setMessage({type:'error',text:'âŒ Error al guardar mantenimiento'});}finally{setLoading(false);}};const handleEditMaintenance=maintenance=>{setEditingMaintenance(maintenance);setSelectedVehicle(maintenance.vehiculoId);setTipoRepuesto(maintenance.tipoRepuesto);setServiciosPreventivos(maintenance.serviciosPreventivos);setShowMaintenanceForm(true);setCurrentStep(1);};const handleDeleteMaintenance=async maintenanceId=>{if(window.confirm('Â¿EstÃ¡ seguro de eliminar este registro de mantenimiento?')){try{const maintenanceRef=databaseRef(database,`mantenimientos/${maintenanceId}`);await remove(maintenanceRef);setMessage({type:'success',text:'âœ… Mantenimiento eliminado'});}catch(error){setMessage({type:'error',text:'âŒ Error al eliminar mantenimiento'});}}};const resetForm=()=>{setShowMaintenanceForm(false);setEditingMaintenance(null);setSelectedVehicle('');setTipoRepuesto('original');setCurrentStep(1);setServiciosPreventivos([{id:Date.now(),numero:1,servicio:'',codigo:'',detalle:'',manoObra:0,costoRepuesto:0,cantidadRepuesto:1,repuestoDescripcion:''}]);};const totales=calcularTotales();// Filtrar registros\nconst filteredRecords=maintenanceRecords.filter(record=>{const matchesSearch=record.vehiculoNombre.toLowerCase().includes(searchTerm.toLowerCase())||record.vehiculoPatente.toLowerCase().includes(searchTerm.toLowerCase());const matchesFilter=filterStatus==='todos'||record.tipoRepuesto===filterStatus;return matchesSearch&&matchesFilter;});// EstadÃ­sticas mejoradas\nconst getStats=()=>{const hoy=new Date();const inicioMes=new Date(hoy.getFullYear(),hoy.getMonth(),1);return{total:maintenanceRecords.length,esteMes:maintenanceRecords.filter(m=>new Date(m.fechaMantenimiento)>=inicioMes).length,costoTotal:maintenanceRecords.reduce((sum,m)=>{var _m$totales;return sum+(((_m$totales=m.totales)===null||_m$totales===void 0?void 0:_m$totales.total)||0);},0),promedioMensual:Math.round(maintenanceRecords.reduce((sum,m)=>{var _m$totales2;return sum+(((_m$totales2=m.totales)===null||_m$totales2===void 0?void 0:_m$totales2.total)||0);},0)/12)};};const stats=getStats();return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1400px',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',borderRadius:'20px',padding:'30px',marginBottom:'30px',color:'white',boxShadow:'0 10px 30px rgba(102, 126, 234, 0.2)'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:0,fontSize:'32px',fontWeight:'700'},children:\"\\uD83D\\uDD27 Centro de Mantenimientos\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'10px 0 0 0',opacity:0.9,fontSize:'16px'},children:\"Gestiona y programa los mantenimientos preventivos de tu flota\"})]}),message.text&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'16px',borderRadius:'12px',marginBottom:'20px',background:message.type==='success'?'#dcfce7':'#fee2e2',border:`2px solid ${message.type==='success'?'#86efac':'#fecaca'}`,color:message.type==='success'?'#166534':'#991b1b',fontWeight:'500',animation:'slideIn 0.3s ease'},children:message.text}),!showMaintenanceForm&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fit, minmax(${isMobile?'150px':'250px'}, 1fr))`,gap:'20px',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:'white',padding:'25px',borderRadius:'16px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',borderTop:'4px solid #3b82f6',transition:'transform 0.3s ease',cursor:'pointer'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-5px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'14px',fontWeight:'500'},children:\"Total Mantenimientos\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'36px',fontWeight:'bold',color:'#1f2937'},children:stats.total})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'40px',opacity:0.2},children:\"\\uD83D\\uDCCA\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:{background:'white',padding:'25px',borderRadius:'16px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',borderTop:'4px solid #22c55e',transition:'transform 0.3s ease',cursor:'pointer'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-5px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'14px',fontWeight:'500'},children:\"Este Mes\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'36px',fontWeight:'bold',color:'#1f2937'},children:stats.esteMes})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'40px',opacity:0.2},children:\"\\uD83D\\uDCC5\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:{background:'white',padding:'25px',borderRadius:'16px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',borderTop:'4px solid #f59e0b',transition:'transform 0.3s ease',cursor:'pointer'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-5px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'14px',fontWeight:'500'},children:\"Inversi\\xF3n Total\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'24px',fontWeight:'bold',color:'#1f2937'},children:[\"$\",stats.costoTotal.toLocaleString('es-CL')]})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'40px',opacity:0.2},children:\"\\uD83D\\uDCB0\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:{background:'white',padding:'25px',borderRadius:'16px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',borderTop:'4px solid #8b5cf6',transition:'transform 0.3s ease',cursor:'pointer'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-5px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'14px',fontWeight:'500'},children:\"Promedio Mensual\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'24px',fontWeight:'bold',color:'#1f2937'},children:[\"$\",stats.promedioMensual.toLocaleString('es-CL')]})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'40px',opacity:0.2},children:\"\\uD83D\\uDCC8\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'20px',borderRadius:'16px',marginBottom:'30px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',display:'flex',justifyContent:'space-between',alignItems:'center',flexWrap:'wrap',gap:'15px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'15px',flexWrap:'wrap'},children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setShowMaintenanceForm(true);setCurrentStep(1);},style:{padding:'12px 24px',background:'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',color:'white',border:'none',borderRadius:'12px',fontSize:'16px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px',boxShadow:'0 4px 15px rgba(34, 197, 94, 0.3)',transition:'all 0.3s ease'},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 6px 20px rgba(34, 197, 94, 0.4)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 4px 15px rgba(34, 197, 94, 0.3)';},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'20px'},children:\"\\u2795\"}),\"Nuevo Mantenimiento\"]})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uD83D\\uDD0D Buscar veh\\xEDculo...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),style:{padding:'10px 15px',border:'2px solid #e5e7eb',borderRadius:'10px',fontSize:'14px',width:'200px',transition:'border-color 0.3s ease',outline:'none'},onFocus:e=>e.currentTarget.style.borderColor='#3b82f6',onBlur:e=>e.currentTarget.style.borderColor='#e5e7eb'}),/*#__PURE__*/_jsxs(\"select\",{value:filterStatus,onChange:e=>setFilterStatus(e.target.value),style:{padding:'10px 15px',border:'2px solid #e5e7eb',borderRadius:'10px',fontSize:'14px',cursor:'pointer',transition:'border-color 0.3s ease',outline:'none'},onFocus:e=>e.currentTarget.style.borderColor='#3b82f6',onBlur:e=>e.currentTarget.style.borderColor='#e5e7eb',children:[/*#__PURE__*/_jsx(\"option\",{value:\"todos\",children:\"Todos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"original\",children:\"Originales\"}),/*#__PURE__*/_jsx(\"option\",{value:\"alternativo\",children:\"Alternativos\"})]})]})]})]}),showMaintenanceForm&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'20px',boxShadow:'0 10px 40px rgba(0,0,0,0.1)',overflow:'hidden'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',padding:'30px',borderBottom:'2px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:'24px',fontWeight:'600',color:'#1f2937'},children:editingMaintenance?'âœï¸ Editar Mantenimiento':'âž• Nuevo Mantenimiento'}),/*#__PURE__*/_jsx(\"button\",{onClick:resetForm,style:{padding:'8px 16px',background:'#ef4444',color:'white',border:'none',borderRadius:'8px',fontSize:'14px',cursor:'pointer'},children:\"\\u2716 Cancelar\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between',maxWidth:'600px',margin:'0 auto'},children:[{num:1,label:'VehÃ­culo',icon:'ðŸš›'},{num:2,label:'Servicios',icon:'ðŸ”§'},{num:3,label:'Resumen',icon:'ðŸ’°'}].map((step,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'50px',height:'50px',borderRadius:'50%',background:currentStep>=step.num?'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)':'#e5e7eb',color:currentStep>=step.num?'white':'#6b7280',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'20px',fontWeight:'bold',boxShadow:currentStep===step.num?'0 4px 15px rgba(59, 130, 246, 0.3)':'none',transition:'all 0.3s ease',cursor:currentStep>=step.num?'pointer':'default'},onClick:()=>currentStep>=step.num&&setCurrentStep(step.num),children:step.icon}),/*#__PURE__*/_jsx(\"span\",{style:{marginTop:'8px',fontSize:'13px',fontWeight:'500',color:currentStep>=step.num?'#1f2937':'#9ca3af'},children:step.label})]}),index<2&&/*#__PURE__*/_jsx(\"div\",{style:{height:'2px',background:currentStep>step.num?'#3b82f6':'#e5e7eb',flex:1,margin:'0 10px',transition:'background 0.3s ease'}})]},step.num))})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSaveMaintenance,style:{padding:'30px'},children:[currentStep===1&&/*#__PURE__*/_jsxs(\"div\",{style:{animation:'fadeIn 0.3s ease'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'20px',color:'#1f2937',fontSize:'20px'},children:\"Selecciona el veh\\xEDculo\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(300px, 1fr))',gap:'15px'},children:vehiculos.map(v=>{var _v$kilometraje;return/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelectedVehicle(v.id),style:{padding:'20px',border:`3px solid ${selectedVehicle===v.id?'#3b82f6':'#e5e7eb'}`,borderRadius:'12px',cursor:'pointer',background:selectedVehicle===v.id?'#eff6ff':'white',transition:'all 0.3s ease'},onMouseEnter:e=>{if(selectedVehicle!==v.id){e.currentTarget.style.borderColor='#93c5fd';e.currentTarget.style.background='#f0f9ff';}},onMouseLeave:e=>{if(selectedVehicle!==v.id){e.currentTarget.style.borderColor='#e5e7eb';e.currentTarget.style.background='white';}},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 5px 0',fontSize:'18px',color:'#1f2937'},children:v.nombre}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0',fontSize:'14px',color:'#6b7280'},children:[v.marca,\" \",v.modelo,\" \\u2022 Patente: \",v.patente]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'5px 0 0 0',fontSize:'13px',color:'#9ca3af'},children:[\"Kilometraje: \",((_v$kilometraje=v.kilometraje)===null||_v$kilometraje===void 0?void 0:_v$kilometraje.toLocaleString('es-CL'))||0,\" km\"]})]}),selectedVehicle===v.id&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'30px',color:'#3b82f6'},children:\"\\u2713\"})]})},v.id);})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'15px',color:'#1f2937',fontSize:'18px'},children:\"Tipo de repuestos a utilizar\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'15px'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{flex:1,padding:'20px',border:`3px solid ${tipoRepuesto==='original'?'#22c55e':'#e5e7eb'}`,borderRadius:'12px',cursor:'pointer',background:tipoRepuesto==='original'?'#f0fdf4':'white',transition:'all 0.3s ease',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"tipoRepuesto\",value:\"original\",checked:tipoRepuesto==='original',onChange:e=>setTipoRepuesto(e.target.value),style:{display:'none'}}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'30px',marginBottom:'10px'},children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',fontWeight:'600',color:'#15803d'},children:\"Repuestos Originales\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',marginTop:'5px'},children:\"Garant\\xEDa oficial del fabricante\"})]}),/*#__PURE__*/_jsxs(\"label\",{style:{flex:1,padding:'20px',border:`3px solid ${tipoRepuesto==='alternativo'?'#f59e0b':'#e5e7eb'}`,borderRadius:'12px',cursor:'pointer',background:tipoRepuesto==='alternativo'?'#fef3c7':'white',transition:'all 0.3s ease',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"tipoRepuesto\",value:\"alternativo\",checked:tipoRepuesto==='alternativo',onChange:e=>setTipoRepuesto(e.target.value),style:{display:'none'}}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'30px',marginBottom:'10px'},children:\"\\uD83D\\uDD04\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',fontWeight:'600',color:'#92400e'},children:\"Repuestos Alternativos\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',marginTop:'5px'},children:\"Menor costo, garant\\xEDa limitada\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'30px',display:'flex',justifyContent:'flex-end'},children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setCurrentStep(2),disabled:!selectedVehicle,style:{padding:'12px 30px',background:selectedVehicle?'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)':'#e5e7eb',color:selectedVehicle?'white':'#9ca3af',border:'none',borderRadius:'10px',fontSize:'16px',fontWeight:'600',cursor:selectedVehicle?'pointer':'not-allowed',display:'flex',alignItems:'center',gap:'8px'},children:[\"Continuar\",/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px'},children:\"\\u2192\"})]})})]}),currentStep===2&&/*#__PURE__*/_jsxs(\"div\",{style:{animation:'fadeIn 0.3s ease'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'20px',color:'#1f2937',fontSize:'20px'},children:\"Detalle de servicios realizados\"}),serviciosPreventivos.map((servicio,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',padding:'20px',background:'#f9fafb',borderRadius:'12px',border:'2px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{margin:0,fontSize:'16px',fontWeight:'600',color:'#374151'},children:[\"Servicio #\",servicio.numero]}),serviciosPreventivos.length>1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>eliminarServicio(servicio.id),style:{padding:'6px 12px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',fontSize:'12px',cursor:'pointer'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontSize:'13px',fontWeight:'500',color:'#374151'},children:\"Tipo de servicio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:servicio.servicio,onChange:e=>actualizarServicio(servicio.id,'servicio',e.target.value),placeholder:\"Ej: Cambio de aceite\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontSize:'13px',fontWeight:'500',color:'#374151'},children:\"C\\xF3digo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:servicio.codigo,onChange:e=>actualizarServicio(servicio.id,'codigo',e.target.value),placeholder:\"C\\xF3digo interno\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontSize:'13px',fontWeight:'500',color:'#374151'},children:\"Mano de obra ($)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:servicio.manoObra,onChange:e=>actualizarServicio(servicio.id,'manoObra',e.target.value),placeholder:\"0\",min:\"0\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{gridColumn:'span 3'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontSize:'13px',fontWeight:'500',color:'#374151'},children:\"Descripci\\xF3n del servicio\"}),/*#__PURE__*/_jsx(\"textarea\",{value:servicio.detalle,onChange:e=>actualizarServicio(servicio.id,'detalle',e.target.value),placeholder:\"Descripci\\xF3n detallada del trabajo realizado...\",rows:2,style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'14px',resize:'none'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontSize:'13px',fontWeight:'500',color:'#374151'},children:\"Repuesto\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:servicio.repuestoDescripcion,onChange:e=>actualizarServicio(servicio.id,'repuestoDescripcion',e.target.value),placeholder:\"Nombre del repuesto\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontSize:'13px',fontWeight:'500',color:'#374151'},children:\"Cantidad\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:servicio.cantidadRepuesto,onChange:e=>actualizarServicio(servicio.id,'cantidadRepuesto',e.target.value),min:\"1\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontSize:'13px',fontWeight:'500',color:'#374151'},children:\"Costo unitario ($)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:servicio.costoRepuesto,onChange:e=>actualizarServicio(servicio.id,'costoRepuesto',e.target.value),placeholder:\"0\",min:\"0\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'14px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px',padding:'10px',background:'white',borderRadius:'8px',textAlign:'right',fontSize:'16px',fontWeight:'600',color:'#059669'},children:[\"Subtotal: $\",((parseFloat(servicio.manoObra)||0)+(parseFloat(servicio.costoRepuesto)||0)*(parseInt(servicio.cantidadRepuesto)||1)).toLocaleString('es-CL')]})]},servicio.id)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:agregarServicio,style:{width:'100%',padding:'15px',background:'white',border:'2px dashed #3b82f6',borderRadius:'12px',color:'#3b82f6',fontSize:'15px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',gap:'8px',transition:'all 0.3s ease'},onMouseEnter:e=>{e.currentTarget.style.background='#eff6ff';},onMouseLeave:e=>{e.currentTarget.style.background='white';},children:\"\\u2795 Agregar otro servicio\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px',display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setCurrentStep(1),style:{padding:'12px 30px',background:'white',color:'#6b7280',border:'2px solid #e5e7eb',borderRadius:'10px',fontSize:'16px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px'},children:\"\\u2190\"}),\"Anterior\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setCurrentStep(3),style:{padding:'12px 30px',background:'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',color:'white',border:'none',borderRadius:'10px',fontSize:'16px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px'},children:[\"Continuar\",/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px'},children:\"\\u2192\"})]})]})]}),currentStep===3&&/*#__PURE__*/_jsxs(\"div\",{style:{animation:'fadeIn 0.3s ease'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'20px',color:'#1f2937',fontSize:'20px'},children:\"Resumen del mantenimiento\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',padding:'20px',background:'#f0f9ff',borderRadius:'12px',border:'2px solid #0284c7'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 10px 0',color:'#0c4a6e',fontSize:'16px'},children:\"\\uD83D\\uDE9B Veh\\xEDculo\"}),vehiculos.filter(v=>v.id===selectedVehicle).map(v=>{var _v$kilometraje2;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{style:{margin:'5px 0',fontSize:'15px',color:'#334155'},children:[/*#__PURE__*/_jsx(\"strong\",{children:v.nombre}),\" - \",v.marca,\" \",v.modelo]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'5px 0',fontSize:'14px',color:'#64748b'},children:[\"Patente: \",v.patente,\" | Kilometraje: \",((_v$kilometraje2=v.kilometraje)===null||_v$kilometraje2===void 0?void 0:_v$kilometraje2.toLocaleString('es-CL'))||0,\" km\"]})]},v.id);})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',padding:'20px',background:'#fefce8',borderRadius:'12px',border:'2px solid #ca8a04'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 15px 0',color:'#713f12',fontSize:'16px'},children:\"\\uD83D\\uDD27 Servicios realizados\"}),serviciosPreventivos.map((s,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',marginBottom:'10px',background:'white',borderRadius:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"strong\",{style:{fontSize:'14px'},children:[\"#\",i+1,\" \",s.servicio||'Sin nombre']}),/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'600',color:'#059669'},children:[\"$\",((parseFloat(s.manoObra)||0)+(parseFloat(s.costoRepuesto)||0)*(parseInt(s.cantidadRepuesto)||1)).toLocaleString('es-CL')]})]}),s.detalle&&/*#__PURE__*/_jsx(\"p\",{style:{margin:'5px 0 0 0',fontSize:'13px',color:'#6b7280'},children:s.detalle})]},s.id))]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'25px',background:tipoRepuesto==='original'?'#f0fdf4':'#fef3c7',borderRadius:'12px',border:`3px solid ${tipoRepuesto==='original'?'#22c55e':'#f59e0b'}`},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{margin:'0 0 20px 0',color:tipoRepuesto==='original'?'#166534':'#78350f',fontSize:'18px',textAlign:'center'},children:[\"\\uD83D\\uDCB0 Total con repuestos \",tipoRepuesto==='original'?'ORIGINALES':'ALTERNATIVOS']}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'2fr 1fr',gap:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',color:'#6b7280'},children:\"Subtotal Mano de Obra:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right',fontSize:'15px',fontWeight:'500'},children:[\"$\",totales.subtotalManoObra.toLocaleString('es-CL')]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',color:'#6b7280'},children:\"Subtotal Repuestos:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right',fontSize:'15px',fontWeight:'500'},children:[\"$\",totales.subtotalRepuestos.toLocaleString('es-CL')]}),/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:'10px',borderTop:'1px solid #e5e7eb',fontWeight:'600',fontSize:'16px'},children:\"VALOR NETO:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingTop:'10px',borderTop:'1px solid #e5e7eb',textAlign:'right',fontWeight:'600',fontSize:'16px'},children:[\"$\",totales.valorNeto.toLocaleString('es-CL')]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',color:'#6b7280'},children:\"IVA (19%):\"}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right',fontSize:'15px'},children:[\"$\",totales.iva.toLocaleString('es-CL')]}),/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:'15px',borderTop:'2px solid',borderColor:tipoRepuesto==='original'?'#22c55e':'#f59e0b',fontSize:'22px',fontWeight:'bold',color:tipoRepuesto==='original'?'#166534':'#78350f'},children:\"TOTAL:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingTop:'15px',borderTop:'2px solid',borderColor:tipoRepuesto==='original'?'#22c55e':'#f59e0b',textAlign:'right',fontSize:'22px',fontWeight:'bold',color:tipoRepuesto==='original'?'#166534':'#78350f'},children:[\"$\",totales.total.toLocaleString('es-CL')]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px',display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setCurrentStep(2),style:{padding:'12px 30px',background:'white',color:'#6b7280',border:'2px solid #e5e7eb',borderRadius:'10px',fontSize:'16px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px'},children:\"\\u2190\"}),\"Anterior\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{padding:'12px 40px',background:loading?'#9ca3af':'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',color:'white',border:'none',borderRadius:'10px',fontSize:'16px',fontWeight:'600',cursor:loading?'not-allowed':'pointer',display:'flex',alignItems:'center',gap:'8px',boxShadow:'0 4px 15px rgba(34, 197, 94, 0.3)'},children:loading?'â³ Guardando...':editingMaintenance?'âœ… Actualizar Mantenimiento':'âœ… Guardar Mantenimiento'})]})]})]}),/*#__PURE__*/_jsx(\"style\",{children:`\n            @keyframes fadeIn {\n              from { opacity: 0; transform: translateY(10px); }\n              to { opacity: 1; transform: translateY(0); }\n            }\n            @keyframes slideIn {\n              from { transform: translateX(-20px); opacity: 0; }\n              to { transform: translateX(0); opacity: 1; }\n            }\n          `})]}),!showMaintenanceForm&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'20px',boxShadow:'0 10px 40px rgba(0,0,0,0.1)',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'25px',borderBottom:'2px solid #e5e7eb',background:'linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)'},children:/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,color:'#1f2937',fontSize:'22px',fontWeight:'600'},children:\"\\uD83D\\uDCCB Historial de Mantenimientos\"})}),filteredRecords.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{padding:'60px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'60px',marginBottom:'20px',opacity:0.2},children:\"\\uD83D\\uDD27\"}),/*#__PURE__*/_jsx(\"h3\",{style:{color:'#9ca3af',fontSize:'20px',margin:'0 0 10px 0'},children:\"No hay mantenimientos registrados\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#d1d5db',fontSize:'16px'},children:\"Comienza agregando tu primer mantenimiento preventivo\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px'},children:filteredRecords.map(record=>{var _record$serviciosPrev,_record$kilometrajeAc,_record$totales,_record$totales$total;return/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'15px',padding:'20px',background:'#f9fafb',borderRadius:'12px',border:'2px solid #e5e7eb',transition:'all 0.3s ease'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#3b82f6';e.currentTarget.style.transform='translateX(5px)';},onMouseLeave:e=>{e.currentTarget.style.borderColor='#e5e7eb';e.currentTarget.style.transform='translateX(0)';},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'start'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'15px',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'18px',color:'#1f2937'},children:record.vehiculoNombre}),/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 10px',borderRadius:'6px',fontSize:'12px',fontWeight:'600',background:record.tipoRepuesto==='original'?'#dcfce7':'#fef3c7',color:record.tipoRepuesto==='original'?'#166534':'#78350f'},children:record.tipoRepuesto==='original'?'âœ… Original':'ðŸ”„ Alternativo'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'20px',fontSize:'14px',color:'#6b7280'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCC5 \",new Date(record.fechaMantenimiento).toLocaleDateString('es-CL')]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDE97 \",record.vehiculoPatente]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDD27 \",((_record$serviciosPrev=record.serviciosPreventivos)===null||_record$serviciosPrev===void 0?void 0:_record$serviciosPrev.length)||0,\" servicios\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCCD \",((_record$kilometrajeAc=record.kilometrajeActual)===null||_record$kilometrajeAc===void 0?void 0:_record$kilometrajeAc.toLocaleString('es-CL'))||0,\" km\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#9ca3af'},children:\"Total\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'22px',fontWeight:'bold',color:'#059669'},children:[\"$\",((_record$totales=record.totales)===null||_record$totales===void 0?void 0:(_record$totales$total=_record$totales.total)===null||_record$totales$total===void 0?void 0:_record$totales$total.toLocaleString('es-CL'))||0]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditMaintenance(record),style:{padding:'8px',background:'#3b82f6',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',width:'36px',height:'36px'},children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteMaintenance(record.id),style:{padding:'8px',background:'#ef4444',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',width:'36px',height:'36px'},children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]})]})},record.id);})})]})]});};export default PreventiveMaintenanceModule;","map":{"version":3,"names":["React","useState","useEffect","useCallback","ref","databaseRef","set","databaseSet","push","update","remove","onValue","off","database","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PreventiveMaintenanceModule","_ref","vehiculos","currentUser","isMobile","maintenanceRecords","setMaintenanceRecords","showMaintenanceForm","setShowMaintenanceForm","selectedVehicle","setSelectedVehicle","editingMaintenance","setEditingMaintenance","loading","setLoading","message","setMessage","type","text","currentStep","setCurrentStep","activeView","setActiveView","searchTerm","setSearchTerm","filterStatus","setFilterStatus","tipoRepuesto","setTipoRepuesto","serviciosPreventivos","setServiciosPreventivos","id","Date","now","numero","servicio","codigo","detalle","manoObra","costoRepuesto","cantidadRepuesto","repuestoDescripcion","calcularTotales","subtotalManoObra","reduce","sum","s","parseFloat","subtotalRepuestos","parseInt","valorNeto","iva","total","maintenanceRef","unsubscribe","snapshot","data","val","maintenanceArray","Object","entries","map","_ref2","maintenance","agregarServicio","nuevoNumero","length","actualizarServicio","campo","valor","eliminarServicio","nuevosServicios","filter","serviciosRenumerados","index","handleSaveMaintenance","e","preventDefault","totales","vehiculo","find","v","maintenanceData","vehiculoId","vehiculoNombre","nombre","vehiculoPatente","patente","fechaMantenimiento","toISOString","kilometrajeActual","kilometraje","createdBy","uid","createdAt","updatedAt","updatedBy","newMaintenanceRef","vehicleRef","ultimoMantenimiento","split","kilometrajeUltimoMantenimiento","resetForm","error","console","handleEditMaintenance","handleDeleteMaintenance","maintenanceId","window","confirm","filteredRecords","record","matchesSearch","toLowerCase","includes","matchesFilter","getStats","hoy","inicioMes","getFullYear","getMonth","esteMes","m","costoTotal","_m$totales","promedioMensual","Math","round","_m$totales2","stats","style","maxWidth","margin","children","background","borderRadius","padding","marginBottom","color","boxShadow","fontSize","fontWeight","opacity","border","animation","display","gridTemplateColumns","gap","borderTop","transition","cursor","onMouseEnter","currentTarget","transform","onMouseLeave","justifyContent","alignItems","toLocaleString","flexWrap","onClick","placeholder","value","onChange","target","width","outline","onFocus","borderColor","onBlur","overflow","borderBottom","num","label","icon","step","flex","flexDirection","height","marginTop","onSubmit","_v$kilometraje","marca","modelo","textAlign","name","checked","disabled","min","gridColumn","rows","resize","_v$kilometraje2","i","paddingTop","_record$serviciosPrev","_record$kilometrajeAc","_record$totales","_record$totales$total","toLocaleDateString"],"sources":["C:/Users/Izan/Desktop/AppReact/mapa-quillon/src/components/PreventiveMaintenanceModule.js"],"sourcesContent":["// src/components/PreventiveMaintenanceModule.js\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { \r\n  ref as databaseRef,\r\n  set as databaseSet,\r\n  push,\r\n  update,\r\n  remove,\r\n  onValue,\r\n  off\r\n} from 'firebase/database';\r\nimport { database } from '../config/firebase';\r\n\r\nconst PreventiveMaintenanceModule = ({ vehiculos, currentUser, isMobile }) => {\r\n  // Estados principales\r\n  const [maintenanceRecords, setMaintenanceRecords] = useState([]);\r\n  const [showMaintenanceForm, setShowMaintenanceForm] = useState(false);\r\n  const [selectedVehicle, setSelectedVehicle] = useState('');\r\n  const [editingMaintenance, setEditingMaintenance] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  \r\n  // Estado para el paso actual del formulario\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  \r\n  // Estado para vista activa\r\n  const [activeView, setActiveView] = useState('dashboard');\r\n  \r\n  // Estado para bÃºsqueda y filtros\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterStatus, setFilterStatus] = useState('todos');\r\n  \r\n  // Estado para tipo de repuesto\r\n  const [tipoRepuesto, setTipoRepuesto] = useState('original');\r\n  \r\n  // Estado para servicios preventivos\r\n  const [serviciosPreventivos, setServiciosPreventivos] = useState([{\r\n    id: Date.now(),\r\n    numero: 1,\r\n    servicio: '',\r\n    codigo: '',\r\n    detalle: '',\r\n    manoObra: 0,\r\n    costoRepuesto: 0,\r\n    cantidadRepuesto: 1,\r\n    repuestoDescripcion: ''\r\n  }]);\r\n\r\n  // CÃ¡lculos automÃ¡ticos\r\n  const calcularTotales = useCallback(() => {\r\n    const subtotalManoObra = serviciosPreventivos.reduce((sum, s) => sum + (parseFloat(s.manoObra) || 0), 0);\r\n    const subtotalRepuestos = serviciosPreventivos.reduce((sum, s) => sum + ((parseFloat(s.costoRepuesto) || 0) * (parseInt(s.cantidadRepuesto) || 1)), 0);\r\n    const valorNeto = subtotalManoObra + subtotalRepuestos;\r\n    const iva = valorNeto * 0.19;\r\n    const total = valorNeto + iva;\r\n    \r\n    return {\r\n      subtotalManoObra,\r\n      subtotalRepuestos,\r\n      valorNeto,\r\n      iva,\r\n      total\r\n    };\r\n  }, [serviciosPreventivos]);\r\n\r\n  // Cargar registros de mantenimiento\r\n  useEffect(() => {\r\n    const maintenanceRef = databaseRef(database, 'mantenimientos');\r\n    const unsubscribe = onValue(maintenanceRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const maintenanceArray = Object.entries(data).map(([id, maintenance]) => ({\r\n          id,\r\n          ...maintenance\r\n        }));\r\n        setMaintenanceRecords(maintenanceArray);\r\n      } else {\r\n        setMaintenanceRecords([]);\r\n      }\r\n    });\r\n\r\n    return () => off(maintenanceRef);\r\n  }, []);\r\n\r\n  // Funciones auxiliares\r\n  const agregarServicio = () => {\r\n    const nuevoNumero = serviciosPreventivos.length + 1;\r\n    setServiciosPreventivos([...serviciosPreventivos, {\r\n      id: Date.now(),\r\n      numero: nuevoNumero,\r\n      servicio: '',\r\n      codigo: '',\r\n      detalle: '',\r\n      manoObra: 0,\r\n      costoRepuesto: 0,\r\n      cantidadRepuesto: 1,\r\n      repuestoDescripcion: ''\r\n    }]);\r\n  };\r\n\r\n  const actualizarServicio = (id, campo, valor) => {\r\n    setServiciosPreventivos(serviciosPreventivos.map(s => \r\n      s.id === id ? { ...s, [campo]: valor } : s\r\n    ));\r\n  };\r\n\r\n  const eliminarServicio = (id) => {\r\n    if (serviciosPreventivos.length > 1) {\r\n      const nuevosServicios = serviciosPreventivos.filter(s => s.id !== id);\r\n      const serviciosRenumerados = nuevosServicios.map((s, index) => ({\r\n        ...s,\r\n        numero: index + 1\r\n      }));\r\n      setServiciosPreventivos(serviciosRenumerados);\r\n    }\r\n  };\r\n\r\n  // Guardar mantenimiento\r\n  const handleSaveMaintenance = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!selectedVehicle) {\r\n      setMessage({ type: 'error', text: 'âŒ Debe seleccionar un vehÃ­culo' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    \r\n    try {\r\n      const totales = calcularTotales();\r\n      const vehiculo = vehiculos.find(v => v.id === selectedVehicle);\r\n      \r\n      const maintenanceData = {\r\n        vehiculoId: selectedVehicle,\r\n        vehiculoNombre: vehiculo?.nombre || '',\r\n        vehiculoPatente: vehiculo?.patente || '',\r\n        tipoRepuesto,\r\n        serviciosPreventivos,\r\n        totales,\r\n        fechaMantenimiento: new Date().toISOString(),\r\n        kilometrajeActual: vehiculo?.kilometraje || 0,\r\n        createdBy: currentUser.uid,\r\n        createdAt: new Date().toISOString()\r\n      };\r\n\r\n      if (editingMaintenance) {\r\n        const maintenanceRef = databaseRef(database, `mantenimientos/${editingMaintenance.id}`);\r\n        await update(maintenanceRef, {\r\n          ...maintenanceData,\r\n          updatedAt: new Date().toISOString(),\r\n          updatedBy: currentUser.uid\r\n        });\r\n        \r\n        setMessage({ type: 'success', text: 'âœ… Mantenimiento actualizado exitosamente' });\r\n      } else {\r\n        const maintenanceRef = databaseRef(database, 'mantenimientos');\r\n        const newMaintenanceRef = push(maintenanceRef);\r\n        await databaseSet(newMaintenanceRef, maintenanceData);\r\n        \r\n        const vehicleRef = databaseRef(database, `vehiculos/${selectedVehicle}`);\r\n        await update(vehicleRef, {\r\n          ultimoMantenimiento: new Date().toISOString().split('T')[0],\r\n          kilometrajeUltimoMantenimiento: vehiculo?.kilometraje || 0\r\n        });\r\n        \r\n        setMessage({ type: 'success', text: 'âœ… Mantenimiento registrado exitosamente' });\r\n      }\r\n\r\n      resetForm();\r\n      \r\n    } catch (error) {\r\n      console.error('Error al guardar mantenimiento:', error);\r\n      setMessage({ type: 'error', text: 'âŒ Error al guardar mantenimiento' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEditMaintenance = (maintenance) => {\r\n    setEditingMaintenance(maintenance);\r\n    setSelectedVehicle(maintenance.vehiculoId);\r\n    setTipoRepuesto(maintenance.tipoRepuesto);\r\n    setServiciosPreventivos(maintenance.serviciosPreventivos);\r\n    setShowMaintenanceForm(true);\r\n    setCurrentStep(1);\r\n  };\r\n\r\n  const handleDeleteMaintenance = async (maintenanceId) => {\r\n    if (window.confirm('Â¿EstÃ¡ seguro de eliminar este registro de mantenimiento?')) {\r\n      try {\r\n        const maintenanceRef = databaseRef(database, `mantenimientos/${maintenanceId}`);\r\n        await remove(maintenanceRef);\r\n        setMessage({ type: 'success', text: 'âœ… Mantenimiento eliminado' });\r\n      } catch (error) {\r\n        setMessage({ type: 'error', text: 'âŒ Error al eliminar mantenimiento' });\r\n      }\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setShowMaintenanceForm(false);\r\n    setEditingMaintenance(null);\r\n    setSelectedVehicle('');\r\n    setTipoRepuesto('original');\r\n    setCurrentStep(1);\r\n    setServiciosPreventivos([{\r\n      id: Date.now(),\r\n      numero: 1,\r\n      servicio: '',\r\n      codigo: '',\r\n      detalle: '',\r\n      manoObra: 0,\r\n      costoRepuesto: 0,\r\n      cantidadRepuesto: 1,\r\n      repuestoDescripcion: ''\r\n    }]);\r\n  };\r\n\r\n  const totales = calcularTotales();\r\n\r\n  // Filtrar registros\r\n  const filteredRecords = maintenanceRecords.filter(record => {\r\n    const matchesSearch = record.vehiculoNombre.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         record.vehiculoPatente.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchesFilter = filterStatus === 'todos' || record.tipoRepuesto === filterStatus;\r\n    return matchesSearch && matchesFilter;\r\n  });\r\n\r\n  // EstadÃ­sticas mejoradas\r\n  const getStats = () => {\r\n    const hoy = new Date();\r\n    const inicioMes = new Date(hoy.getFullYear(), hoy.getMonth(), 1);\r\n    \r\n    return {\r\n      total: maintenanceRecords.length,\r\n      esteMes: maintenanceRecords.filter(m => new Date(m.fechaMantenimiento) >= inicioMes).length,\r\n      costoTotal: maintenanceRecords.reduce((sum, m) => sum + (m.totales?.total || 0), 0),\r\n      promedioMensual: Math.round(maintenanceRecords.reduce((sum, m) => sum + (m.totales?.total || 0), 0) / 12)\r\n    };\r\n  };\r\n\r\n  const stats = getStats();\r\n\r\n  return (\r\n    <div style={{ maxWidth: '1400px', margin: '0 auto' }}>\r\n      {/* Header mejorado */}\r\n      <div style={{\r\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n        borderRadius: '20px',\r\n        padding: '30px',\r\n        marginBottom: '30px',\r\n        color: 'white',\r\n        boxShadow: '0 10px 30px rgba(102, 126, 234, 0.2)'\r\n      }}>\r\n        <h1 style={{ margin: 0, fontSize: '32px', fontWeight: '700' }}>\r\n          ðŸ”§ Centro de Mantenimientos\r\n        </h1>\r\n        <p style={{ margin: '10px 0 0 0', opacity: 0.9, fontSize: '16px' }}>\r\n          Gestiona y programa los mantenimientos preventivos de tu flota\r\n        </p>\r\n      </div>\r\n\r\n      {/* Mensajes */}\r\n      {message.text && (\r\n        <div style={{\r\n          padding: '16px',\r\n          borderRadius: '12px',\r\n          marginBottom: '20px',\r\n          background: message.type === 'success' ? '#dcfce7' : '#fee2e2',\r\n          border: `2px solid ${message.type === 'success' ? '#86efac' : '#fecaca'}`,\r\n          color: message.type === 'success' ? '#166534' : '#991b1b',\r\n          fontWeight: '500',\r\n          animation: 'slideIn 0.3s ease'\r\n        }}>\r\n          {message.text}\r\n        </div>\r\n      )}\r\n\r\n      {/* Dashboard de estadÃ­sticas */}\r\n      {!showMaintenanceForm && (\r\n        <>\r\n          <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: `repeat(auto-fit, minmax(${isMobile ? '150px' : '250px'}, 1fr))`,\r\n            gap: '20px',\r\n            marginBottom: '30px'\r\n          }}>\r\n            <div style={{\r\n              background: 'white',\r\n              padding: '25px',\r\n              borderRadius: '16px',\r\n              boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n              borderTop: '4px solid #3b82f6',\r\n              transition: 'transform 0.3s ease',\r\n              cursor: 'pointer'\r\n            }}\r\n            onMouseEnter={(e) => e.currentTarget.style.transform = 'translateY(-5px)'}\r\n            onMouseLeave={(e) => e.currentTarget.style.transform = 'translateY(0)'}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <div>\r\n                  <div style={{ color: '#6b7280', fontSize: '14px', fontWeight: '500' }}>Total Mantenimientos</div>\r\n                  <div style={{ fontSize: '36px', fontWeight: 'bold', color: '#1f2937' }}>{stats.total}</div>\r\n                </div>\r\n                <div style={{ fontSize: '40px', opacity: 0.2 }}>ðŸ“Š</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{\r\n              background: 'white',\r\n              padding: '25px',\r\n              borderRadius: '16px',\r\n              boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n              borderTop: '4px solid #22c55e',\r\n              transition: 'transform 0.3s ease',\r\n              cursor: 'pointer'\r\n            }}\r\n            onMouseEnter={(e) => e.currentTarget.style.transform = 'translateY(-5px)'}\r\n            onMouseLeave={(e) => e.currentTarget.style.transform = 'translateY(0)'}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <div>\r\n                  <div style={{ color: '#6b7280', fontSize: '14px', fontWeight: '500' }}>Este Mes</div>\r\n                  <div style={{ fontSize: '36px', fontWeight: 'bold', color: '#1f2937' }}>{stats.esteMes}</div>\r\n                </div>\r\n                <div style={{ fontSize: '40px', opacity: 0.2 }}>ðŸ“…</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{\r\n              background: 'white',\r\n              padding: '25px',\r\n              borderRadius: '16px',\r\n              boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n              borderTop: '4px solid #f59e0b',\r\n              transition: 'transform 0.3s ease',\r\n              cursor: 'pointer'\r\n            }}\r\n            onMouseEnter={(e) => e.currentTarget.style.transform = 'translateY(-5px)'}\r\n            onMouseLeave={(e) => e.currentTarget.style.transform = 'translateY(0)'}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <div>\r\n                  <div style={{ color: '#6b7280', fontSize: '14px', fontWeight: '500' }}>InversiÃ³n Total</div>\r\n                  <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#1f2937' }}>\r\n                    ${stats.costoTotal.toLocaleString('es-CL')}\r\n                  </div>\r\n                </div>\r\n                <div style={{ fontSize: '40px', opacity: 0.2 }}>ðŸ’°</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{\r\n              background: 'white',\r\n              padding: '25px',\r\n              borderRadius: '16px',\r\n              boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n              borderTop: '4px solid #8b5cf6',\r\n              transition: 'transform 0.3s ease',\r\n              cursor: 'pointer'\r\n            }}\r\n            onMouseEnter={(e) => e.currentTarget.style.transform = 'translateY(-5px)'}\r\n            onMouseLeave={(e) => e.currentTarget.style.transform = 'translateY(0)'}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <div>\r\n                  <div style={{ color: '#6b7280', fontSize: '14px', fontWeight: '500' }}>Promedio Mensual</div>\r\n                  <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#1f2937' }}>\r\n                    ${stats.promedioMensual.toLocaleString('es-CL')}\r\n                  </div>\r\n                </div>\r\n                <div style={{ fontSize: '40px', opacity: 0.2 }}>ðŸ“ˆ</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Barra de acciones */}\r\n          <div style={{\r\n            background: 'white',\r\n            padding: '20px',\r\n            borderRadius: '16px',\r\n            marginBottom: '30px',\r\n            boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            flexWrap: 'wrap',\r\n            gap: '15px'\r\n          }}>\r\n            <div style={{ display: 'flex', gap: '15px', flexWrap: 'wrap' }}>\r\n              <button\r\n                onClick={() => {\r\n                  setShowMaintenanceForm(true);\r\n                  setCurrentStep(1);\r\n                }}\r\n                style={{\r\n                  padding: '12px 24px',\r\n                  background: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '12px',\r\n                  fontSize: '16px',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '8px',\r\n                  boxShadow: '0 4px 15px rgba(34, 197, 94, 0.3)',\r\n                  transition: 'all 0.3s ease'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.transform = 'translateY(-2px)';\r\n                  e.currentTarget.style.boxShadow = '0 6px 20px rgba(34, 197, 94, 0.4)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.transform = 'translateY(0)';\r\n                  e.currentTarget.style.boxShadow = '0 4px 15px rgba(34, 197, 94, 0.3)';\r\n                }}>\r\n                <span style={{ fontSize: '20px' }}>âž•</span>\r\n                Nuevo Mantenimiento\r\n              </button>\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"ðŸ” Buscar vehÃ­culo...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                style={{\r\n                  padding: '10px 15px',\r\n                  border: '2px solid #e5e7eb',\r\n                  borderRadius: '10px',\r\n                  fontSize: '14px',\r\n                  width: '200px',\r\n                  transition: 'border-color 0.3s ease',\r\n                  outline: 'none'\r\n                }}\r\n                onFocus={(e) => e.currentTarget.style.borderColor = '#3b82f6'}\r\n                onBlur={(e) => e.currentTarget.style.borderColor = '#e5e7eb'}\r\n              />\r\n              \r\n              <select\r\n                value={filterStatus}\r\n                onChange={(e) => setFilterStatus(e.target.value)}\r\n                style={{\r\n                  padding: '10px 15px',\r\n                  border: '2px solid #e5e7eb',\r\n                  borderRadius: '10px',\r\n                  fontSize: '14px',\r\n                  cursor: 'pointer',\r\n                  transition: 'border-color 0.3s ease',\r\n                  outline: 'none'\r\n                }}\r\n                onFocus={(e) => e.currentTarget.style.borderColor = '#3b82f6'}\r\n                onBlur={(e) => e.currentTarget.style.borderColor = '#e5e7eb'}>\r\n                <option value=\"todos\">Todos</option>\r\n                <option value=\"original\">Originales</option>\r\n                <option value=\"alternativo\">Alternativos</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Formulario mejorado con pasos */}\r\n      {showMaintenanceForm && (\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '20px',\r\n          boxShadow: '0 10px 40px rgba(0,0,0,0.1)',\r\n          overflow: 'hidden'\r\n        }}>\r\n          {/* Indicador de progreso */}\r\n          <div style={{\r\n            background: 'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',\r\n            padding: '30px',\r\n            borderBottom: '2px solid #e5e7eb'\r\n          }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\r\n              <h2 style={{ margin: 0, fontSize: '24px', fontWeight: '600', color: '#1f2937' }}>\r\n                {editingMaintenance ? 'âœï¸ Editar Mantenimiento' : 'âž• Nuevo Mantenimiento'}\r\n              </h2>\r\n              <button\r\n                onClick={resetForm}\r\n                style={{\r\n                  padding: '8px 16px',\r\n                  background: '#ef4444',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  fontSize: '14px',\r\n                  cursor: 'pointer'\r\n                }}>\r\n                âœ– Cancelar\r\n              </button>\r\n            </div>\r\n\r\n            {/* Pasos */}\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', maxWidth: '600px', margin: '0 auto' }}>\r\n              {[\r\n                { num: 1, label: 'VehÃ­culo', icon: 'ðŸš›' },\r\n                { num: 2, label: 'Servicios', icon: 'ðŸ”§' },\r\n                { num: 3, label: 'Resumen', icon: 'ðŸ’°' }\r\n              ].map((step, index) => (\r\n                <div key={step.num} style={{ flex: 1, display: 'flex', alignItems: 'center' }}>\r\n                  <div style={{\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    alignItems: 'center',\r\n                    flex: 1\r\n                  }}>\r\n                    <div style={{\r\n                      width: '50px',\r\n                      height: '50px',\r\n                      borderRadius: '50%',\r\n                      background: currentStep >= step.num ? \r\n                        'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)' : \r\n                        '#e5e7eb',\r\n                      color: currentStep >= step.num ? 'white' : '#6b7280',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      fontSize: '20px',\r\n                      fontWeight: 'bold',\r\n                      boxShadow: currentStep === step.num ? '0 4px 15px rgba(59, 130, 246, 0.3)' : 'none',\r\n                      transition: 'all 0.3s ease',\r\n                      cursor: currentStep >= step.num ? 'pointer' : 'default'\r\n                    }}\r\n                    onClick={() => currentStep >= step.num && setCurrentStep(step.num)}>\r\n                      {step.icon}\r\n                    </div>\r\n                    <span style={{\r\n                      marginTop: '8px',\r\n                      fontSize: '13px',\r\n                      fontWeight: '500',\r\n                      color: currentStep >= step.num ? '#1f2937' : '#9ca3af'\r\n                    }}>\r\n                      {step.label}\r\n                    </span>\r\n                  </div>\r\n                  {index < 2 && (\r\n                    <div style={{\r\n                      height: '2px',\r\n                      background: currentStep > step.num ? '#3b82f6' : '#e5e7eb',\r\n                      flex: 1,\r\n                      margin: '0 10px',\r\n                      transition: 'background 0.3s ease'\r\n                    }} />\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <form onSubmit={handleSaveMaintenance} style={{ padding: '30px' }}>\r\n            {/* Paso 1: SelecciÃ³n de vehÃ­culo */}\r\n            {currentStep === 1 && (\r\n              <div style={{ animation: 'fadeIn 0.3s ease' }}>\r\n                <h3 style={{ marginBottom: '20px', color: '#1f2937', fontSize: '20px' }}>\r\n                  Selecciona el vehÃ­culo\r\n                </h3>\r\n                \r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '15px' }}>\r\n                  {vehiculos.map(v => (\r\n                    <div\r\n                      key={v.id}\r\n                      onClick={() => setSelectedVehicle(v.id)}\r\n                      style={{\r\n                        padding: '20px',\r\n                        border: `3px solid ${selectedVehicle === v.id ? '#3b82f6' : '#e5e7eb'}`,\r\n                        borderRadius: '12px',\r\n                        cursor: 'pointer',\r\n                        background: selectedVehicle === v.id ? '#eff6ff' : 'white',\r\n                        transition: 'all 0.3s ease'\r\n                      }}\r\n                      onMouseEnter={(e) => {\r\n                        if (selectedVehicle !== v.id) {\r\n                          e.currentTarget.style.borderColor = '#93c5fd';\r\n                          e.currentTarget.style.background = '#f0f9ff';\r\n                        }\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        if (selectedVehicle !== v.id) {\r\n                          e.currentTarget.style.borderColor = '#e5e7eb';\r\n                          e.currentTarget.style.background = 'white';\r\n                        }\r\n                      }}>\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                        <div>\r\n                          <h4 style={{ margin: '0 0 5px 0', fontSize: '18px', color: '#1f2937' }}>\r\n                            {v.nombre}\r\n                          </h4>\r\n                          <p style={{ margin: '0', fontSize: '14px', color: '#6b7280' }}>\r\n                            {v.marca} {v.modelo} â€¢ Patente: {v.patente}\r\n                          </p>\r\n                          <p style={{ margin: '5px 0 0 0', fontSize: '13px', color: '#9ca3af' }}>\r\n                            Kilometraje: {v.kilometraje?.toLocaleString('es-CL') || 0} km\r\n                          </p>\r\n                        </div>\r\n                        {selectedVehicle === v.id && (\r\n                          <div style={{ fontSize: '30px', color: '#3b82f6' }}>âœ“</div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                <div style={{ marginTop: '30px' }}>\r\n                  <h3 style={{ marginBottom: '15px', color: '#1f2937', fontSize: '18px' }}>\r\n                    Tipo de repuestos a utilizar\r\n                  </h3>\r\n                  \r\n                  <div style={{ display: 'flex', gap: '15px' }}>\r\n                    <label style={{\r\n                      flex: 1,\r\n                      padding: '20px',\r\n                      border: `3px solid ${tipoRepuesto === 'original' ? '#22c55e' : '#e5e7eb'}`,\r\n                      borderRadius: '12px',\r\n                      cursor: 'pointer',\r\n                      background: tipoRepuesto === 'original' ? '#f0fdf4' : 'white',\r\n                      transition: 'all 0.3s ease',\r\n                      textAlign: 'center'\r\n                    }}>\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"tipoRepuesto\"\r\n                        value=\"original\"\r\n                        checked={tipoRepuesto === 'original'}\r\n                        onChange={(e) => setTipoRepuesto(e.target.value)}\r\n                        style={{ display: 'none' }}\r\n                      />\r\n                      <div style={{ fontSize: '30px', marginBottom: '10px' }}>âœ…</div>\r\n                      <div style={{ fontSize: '16px', fontWeight: '600', color: '#15803d' }}>\r\n                        Repuestos Originales\r\n                      </div>\r\n                      <div style={{ fontSize: '13px', color: '#6b7280', marginTop: '5px' }}>\r\n                        GarantÃ­a oficial del fabricante\r\n                      </div>\r\n                    </label>\r\n\r\n                    <label style={{\r\n                      flex: 1,\r\n                      padding: '20px',\r\n                      border: `3px solid ${tipoRepuesto === 'alternativo' ? '#f59e0b' : '#e5e7eb'}`,\r\n                      borderRadius: '12px',\r\n                      cursor: 'pointer',\r\n                      background: tipoRepuesto === 'alternativo' ? '#fef3c7' : 'white',\r\n                      transition: 'all 0.3s ease',\r\n                      textAlign: 'center'\r\n                    }}>\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"tipoRepuesto\"\r\n                        value=\"alternativo\"\r\n                        checked={tipoRepuesto === 'alternativo'}\r\n                        onChange={(e) => setTipoRepuesto(e.target.value)}\r\n                        style={{ display: 'none' }}\r\n                      />\r\n                      <div style={{ fontSize: '30px', marginBottom: '10px' }}>ðŸ”„</div>\r\n                      <div style={{ fontSize: '16px', fontWeight: '600', color: '#92400e' }}>\r\n                        Repuestos Alternativos\r\n                      </div>\r\n                      <div style={{ fontSize: '13px', color: '#6b7280', marginTop: '5px' }}>\r\n                        Menor costo, garantÃ­a limitada\r\n                      </div>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={{ marginTop: '30px', display: 'flex', justifyContent: 'flex-end' }}>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setCurrentStep(2)}\r\n                    disabled={!selectedVehicle}\r\n                    style={{\r\n                      padding: '12px 30px',\r\n                      background: selectedVehicle ? \r\n                        'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)' : \r\n                        '#e5e7eb',\r\n                      color: selectedVehicle ? 'white' : '#9ca3af',\r\n                      border: 'none',\r\n                      borderRadius: '10px',\r\n                      fontSize: '16px',\r\n                      fontWeight: '600',\r\n                      cursor: selectedVehicle ? 'pointer' : 'not-allowed',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '8px'\r\n                    }}>\r\n                    Continuar\r\n                    <span style={{ fontSize: '18px' }}>â†’</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Paso 2: Servicios */}\r\n            {currentStep === 2 && (\r\n              <div style={{ animation: 'fadeIn 0.3s ease' }}>\r\n                <h3 style={{ marginBottom: '20px', color: '#1f2937', fontSize: '20px' }}>\r\n                  Detalle de servicios realizados\r\n                </h3>\r\n\r\n                {serviciosPreventivos.map((servicio, index) => (\r\n                  <div key={servicio.id} style={{\r\n                    marginBottom: '20px',\r\n                    padding: '20px',\r\n                    background: '#f9fafb',\r\n                    borderRadius: '12px',\r\n                    border: '2px solid #e5e7eb'\r\n                  }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px' }}>\r\n                      <h4 style={{ margin: 0, fontSize: '16px', fontWeight: '600', color: '#374151' }}>\r\n                        Servicio #{servicio.numero}\r\n                      </h4>\r\n                      {serviciosPreventivos.length > 1 && (\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => eliminarServicio(servicio.id)}\r\n                          style={{\r\n                            padding: '6px 12px',\r\n                            background: '#ef4444',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '6px',\r\n                            fontSize: '12px',\r\n                            cursor: 'pointer'\r\n                          }}>\r\n                          ðŸ—‘ï¸ Eliminar\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '15px' }}>\r\n                      <div>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontSize: '13px', fontWeight: '500', color: '#374151' }}>\r\n                          Tipo de servicio\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={servicio.servicio}\r\n                          onChange={(e) => actualizarServicio(servicio.id, 'servicio', e.target.value)}\r\n                          placeholder=\"Ej: Cambio de aceite\"\r\n                          style={{\r\n                            width: '100%',\r\n                            padding: '10px',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '8px',\r\n                            fontSize: '14px'\r\n                          }}\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontSize: '13px', fontWeight: '500', color: '#374151' }}>\r\n                          CÃ³digo\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={servicio.codigo}\r\n                          onChange={(e) => actualizarServicio(servicio.id, 'codigo', e.target.value)}\r\n                          placeholder=\"CÃ³digo interno\"\r\n                          style={{\r\n                            width: '100%',\r\n                            padding: '10px',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '8px',\r\n                            fontSize: '14px'\r\n                          }}\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontSize: '13px', fontWeight: '500', color: '#374151' }}>\r\n                          Mano de obra ($)\r\n                        </label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={servicio.manoObra}\r\n                          onChange={(e) => actualizarServicio(servicio.id, 'manoObra', e.target.value)}\r\n                          placeholder=\"0\"\r\n                          min=\"0\"\r\n                          style={{\r\n                            width: '100%',\r\n                            padding: '10px',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '8px',\r\n                            fontSize: '14px'\r\n                          }}\r\n                        />\r\n                      </div>\r\n\r\n                      <div style={{ gridColumn: 'span 3' }}>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontSize: '13px', fontWeight: '500', color: '#374151' }}>\r\n                          DescripciÃ³n del servicio\r\n                        </label>\r\n                        <textarea\r\n                          value={servicio.detalle}\r\n                          onChange={(e) => actualizarServicio(servicio.id, 'detalle', e.target.value)}\r\n                          placeholder=\"DescripciÃ³n detallada del trabajo realizado...\"\r\n                          rows={2}\r\n                          style={{\r\n                            width: '100%',\r\n                            padding: '10px',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '8px',\r\n                            fontSize: '14px',\r\n                            resize: 'none'\r\n                          }}\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontSize: '13px', fontWeight: '500', color: '#374151' }}>\r\n                          Repuesto\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={servicio.repuestoDescripcion}\r\n                          onChange={(e) => actualizarServicio(servicio.id, 'repuestoDescripcion', e.target.value)}\r\n                          placeholder=\"Nombre del repuesto\"\r\n                          style={{\r\n                            width: '100%',\r\n                            padding: '10px',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '8px',\r\n                            fontSize: '14px'\r\n                          }}\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontSize: '13px', fontWeight: '500', color: '#374151' }}>\r\n                          Cantidad\r\n                        </label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={servicio.cantidadRepuesto}\r\n                          onChange={(e) => actualizarServicio(servicio.id, 'cantidadRepuesto', e.target.value)}\r\n                          min=\"1\"\r\n                          style={{\r\n                            width: '100%',\r\n                            padding: '10px',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '8px',\r\n                            fontSize: '14px'\r\n                          }}\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontSize: '13px', fontWeight: '500', color: '#374151' }}>\r\n                          Costo unitario ($)\r\n                        </label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={servicio.costoRepuesto}\r\n                          onChange={(e) => actualizarServicio(servicio.id, 'costoRepuesto', e.target.value)}\r\n                          placeholder=\"0\"\r\n                          min=\"0\"\r\n                          style={{\r\n                            width: '100%',\r\n                            padding: '10px',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '8px',\r\n                            fontSize: '14px'\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div style={{\r\n                      marginTop: '15px',\r\n                      padding: '10px',\r\n                      background: 'white',\r\n                      borderRadius: '8px',\r\n                      textAlign: 'right',\r\n                      fontSize: '16px',\r\n                      fontWeight: '600',\r\n                      color: '#059669'\r\n                    }}>\r\n                      Subtotal: ${((parseFloat(servicio.manoObra) || 0) + ((parseFloat(servicio.costoRepuesto) || 0) * (parseInt(servicio.cantidadRepuesto) || 1))).toLocaleString('es-CL')}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={agregarServicio}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '15px',\r\n                    background: 'white',\r\n                    border: '2px dashed #3b82f6',\r\n                    borderRadius: '12px',\r\n                    color: '#3b82f6',\r\n                    fontSize: '15px',\r\n                    fontWeight: '600',\r\n                    cursor: 'pointer',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    gap: '8px',\r\n                    transition: 'all 0.3s ease'\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    e.currentTarget.style.background = '#eff6ff';\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    e.currentTarget.style.background = 'white';\r\n                  }}>\r\n                  âž• Agregar otro servicio\r\n                </button>\r\n\r\n                <div style={{ marginTop: '30px', display: 'flex', justifyContent: 'space-between' }}>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setCurrentStep(1)}\r\n                    style={{\r\n                      padding: '12px 30px',\r\n                      background: 'white',\r\n                      color: '#6b7280',\r\n                      border: '2px solid #e5e7eb',\r\n                      borderRadius: '10px',\r\n                      fontSize: '16px',\r\n                      fontWeight: '600',\r\n                      cursor: 'pointer',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '8px'\r\n                    }}>\r\n                    <span style={{ fontSize: '18px' }}>â†</span>\r\n                    Anterior\r\n                  </button>\r\n\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setCurrentStep(3)}\r\n                    style={{\r\n                      padding: '12px 30px',\r\n                      background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\r\n                      color: 'white',\r\n                      border: 'none',\r\n                      borderRadius: '10px',\r\n                      fontSize: '16px',\r\n                      fontWeight: '600',\r\n                      cursor: 'pointer',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '8px'\r\n                    }}>\r\n                    Continuar\r\n                    <span style={{ fontSize: '18px' }}>â†’</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Paso 3: Resumen */}\r\n            {currentStep === 3 && (\r\n              <div style={{ animation: 'fadeIn 0.3s ease' }}>\r\n                <h3 style={{ marginBottom: '20px', color: '#1f2937', fontSize: '20px' }}>\r\n                  Resumen del mantenimiento\r\n                </h3>\r\n\r\n                {/* InformaciÃ³n del vehÃ­culo */}\r\n                <div style={{\r\n                  marginBottom: '20px',\r\n                  padding: '20px',\r\n                  background: '#f0f9ff',\r\n                  borderRadius: '12px',\r\n                  border: '2px solid #0284c7'\r\n                }}>\r\n                  <h4 style={{ margin: '0 0 10px 0', color: '#0c4a6e', fontSize: '16px' }}>\r\n                    ðŸš› VehÃ­culo\r\n                  </h4>\r\n                  {vehiculos.filter(v => v.id === selectedVehicle).map(v => (\r\n                    <div key={v.id}>\r\n                      <p style={{ margin: '5px 0', fontSize: '15px', color: '#334155' }}>\r\n                        <strong>{v.nombre}</strong> - {v.marca} {v.modelo}\r\n                      </p>\r\n                      <p style={{ margin: '5px 0', fontSize: '14px', color: '#64748b' }}>\r\n                        Patente: {v.patente} | Kilometraje: {v.kilometraje?.toLocaleString('es-CL') || 0} km\r\n                      </p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Resumen de servicios */}\r\n                <div style={{\r\n                  marginBottom: '20px',\r\n                  padding: '20px',\r\n                  background: '#fefce8',\r\n                  borderRadius: '12px',\r\n                  border: '2px solid #ca8a04'\r\n                }}>\r\n                  <h4 style={{ margin: '0 0 15px 0', color: '#713f12', fontSize: '16px' }}>\r\n                    ðŸ”§ Servicios realizados\r\n                  </h4>\r\n                  {serviciosPreventivos.map((s, i) => (\r\n                    <div key={s.id} style={{\r\n                      padding: '10px',\r\n                      marginBottom: '10px',\r\n                      background: 'white',\r\n                      borderRadius: '8px'\r\n                    }}>\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                        <strong style={{ fontSize: '14px' }}>#{i + 1} {s.servicio || 'Sin nombre'}</strong>\r\n                        <span style={{ fontWeight: '600', color: '#059669' }}>\r\n                          ${((parseFloat(s.manoObra) || 0) + ((parseFloat(s.costoRepuesto) || 0) * (parseInt(s.cantidadRepuesto) || 1))).toLocaleString('es-CL')}\r\n                        </span>\r\n                      </div>\r\n                      {s.detalle && (\r\n                        <p style={{ margin: '5px 0 0 0', fontSize: '13px', color: '#6b7280' }}>\r\n                          {s.detalle}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Resumen de costos */}\r\n                <div style={{\r\n                  padding: '25px',\r\n                  background: tipoRepuesto === 'original' ? '#f0fdf4' : '#fef3c7',\r\n                  borderRadius: '12px',\r\n                  border: `3px solid ${tipoRepuesto === 'original' ? '#22c55e' : '#f59e0b'}`\r\n                }}>\r\n                  <h4 style={{\r\n                    margin: '0 0 20px 0',\r\n                    color: tipoRepuesto === 'original' ? '#166534' : '#78350f',\r\n                    fontSize: '18px',\r\n                    textAlign: 'center'\r\n                  }}>\r\n                    ðŸ’° Total con repuestos {tipoRepuesto === 'original' ? 'ORIGINALES' : 'ALTERNATIVOS'}\r\n                  </h4>\r\n\r\n                  <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '10px' }}>\r\n                    <div style={{ fontSize: '15px', color: '#6b7280' }}>Subtotal Mano de Obra:</div>\r\n                    <div style={{ textAlign: 'right', fontSize: '15px', fontWeight: '500' }}>\r\n                      ${totales.subtotalManoObra.toLocaleString('es-CL')}\r\n                    </div>\r\n\r\n                    <div style={{ fontSize: '15px', color: '#6b7280' }}>Subtotal Repuestos:</div>\r\n                    <div style={{ textAlign: 'right', fontSize: '15px', fontWeight: '500' }}>\r\n                      ${totales.subtotalRepuestos.toLocaleString('es-CL')}\r\n                    </div>\r\n\r\n                    <div style={{ \r\n                      paddingTop: '10px',\r\n                      borderTop: '1px solid #e5e7eb',\r\n                      fontWeight: '600',\r\n                      fontSize: '16px'\r\n                    }}>\r\n                      VALOR NETO:\r\n                    </div>\r\n                    <div style={{ \r\n                      paddingTop: '10px',\r\n                      borderTop: '1px solid #e5e7eb',\r\n                      textAlign: 'right',\r\n                      fontWeight: '600',\r\n                      fontSize: '16px'\r\n                    }}>\r\n                      ${totales.valorNeto.toLocaleString('es-CL')}\r\n                    </div>\r\n\r\n                    <div style={{ fontSize: '15px', color: '#6b7280' }}>IVA (19%):</div>\r\n                    <div style={{ textAlign: 'right', fontSize: '15px' }}>\r\n                      ${totales.iva.toLocaleString('es-CL')}\r\n                    </div>\r\n\r\n                    <div style={{\r\n                      paddingTop: '15px',\r\n                      borderTop: '2px solid',\r\n                      borderColor: tipoRepuesto === 'original' ? '#22c55e' : '#f59e0b',\r\n                      fontSize: '22px',\r\n                      fontWeight: 'bold',\r\n                      color: tipoRepuesto === 'original' ? '#166534' : '#78350f'\r\n                    }}>\r\n                      TOTAL:\r\n                    </div>\r\n                    <div style={{\r\n                      paddingTop: '15px',\r\n                      borderTop: '2px solid',\r\n                      borderColor: tipoRepuesto === 'original' ? '#22c55e' : '#f59e0b',\r\n                      textAlign: 'right',\r\n                      fontSize: '22px',\r\n                      fontWeight: 'bold',\r\n                      color: tipoRepuesto === 'original' ? '#166534' : '#78350f'\r\n                    }}>\r\n                      ${totales.total.toLocaleString('es-CL')}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={{ marginTop: '30px', display: 'flex', justifyContent: 'space-between' }}>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setCurrentStep(2)}\r\n                    style={{\r\n                      padding: '12px 30px',\r\n                      background: 'white',\r\n                      color: '#6b7280',\r\n                      border: '2px solid #e5e7eb',\r\n                      borderRadius: '10px',\r\n                      fontSize: '16px',\r\n                      fontWeight: '600',\r\n                      cursor: 'pointer',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '8px'\r\n                    }}>\r\n                    <span style={{ fontSize: '18px' }}>â†</span>\r\n                    Anterior\r\n                  </button>\r\n\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={loading}\r\n                    style={{\r\n                      padding: '12px 40px',\r\n                      background: loading ? '#9ca3af' : 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n                      color: 'white',\r\n                      border: 'none',\r\n                      borderRadius: '10px',\r\n                      fontSize: '16px',\r\n                      fontWeight: '600',\r\n                      cursor: loading ? 'not-allowed' : 'pointer',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '8px',\r\n                      boxShadow: '0 4px 15px rgba(34, 197, 94, 0.3)'\r\n                    }}>\r\n                    {loading ? 'â³ Guardando...' : editingMaintenance ? 'âœ… Actualizar Mantenimiento' : 'âœ… Guardar Mantenimiento'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </form>\r\n\r\n          <style>{`\r\n            @keyframes fadeIn {\r\n              from { opacity: 0; transform: translateY(10px); }\r\n              to { opacity: 1; transform: translateY(0); }\r\n            }\r\n            @keyframes slideIn {\r\n              from { transform: translateX(-20px); opacity: 0; }\r\n              to { transform: translateX(0); opacity: 1; }\r\n            }\r\n          `}</style>\r\n        </div>\r\n      )}\r\n\r\n      {/* Lista de mantenimientos mejorada */}\r\n      {!showMaintenanceForm && (\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '20px',\r\n          boxShadow: '0 10px 40px rgba(0,0,0,0.1)',\r\n          overflow: 'hidden'\r\n        }}>\r\n          <div style={{\r\n            padding: '25px',\r\n            borderBottom: '2px solid #e5e7eb',\r\n            background: 'linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)'\r\n          }}>\r\n            <h2 style={{ margin: 0, color: '#1f2937', fontSize: '22px', fontWeight: '600' }}>\r\n              ðŸ“‹ Historial de Mantenimientos\r\n            </h2>\r\n          </div>\r\n\r\n          {filteredRecords.length === 0 ? (\r\n            <div style={{\r\n              padding: '60px',\r\n              textAlign: 'center'\r\n            }}>\r\n              <div style={{ fontSize: '60px', marginBottom: '20px', opacity: 0.2 }}>ðŸ”§</div>\r\n              <h3 style={{ color: '#9ca3af', fontSize: '20px', margin: '0 0 10px 0' }}>\r\n                No hay mantenimientos registrados\r\n              </h3>\r\n              <p style={{ color: '#d1d5db', fontSize: '16px' }}>\r\n                Comienza agregando tu primer mantenimiento preventivo\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div style={{ padding: '20px' }}>\r\n              {filteredRecords.map((record) => (\r\n                <div key={record.id} style={{\r\n                  marginBottom: '15px',\r\n                  padding: '20px',\r\n                  background: '#f9fafb',\r\n                  borderRadius: '12px',\r\n                  border: '2px solid #e5e7eb',\r\n                  transition: 'all 0.3s ease'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.borderColor = '#3b82f6';\r\n                  e.currentTarget.style.transform = 'translateX(5px)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.borderColor = '#e5e7eb';\r\n                  e.currentTarget.style.transform = 'translateX(0)';\r\n                }}>\r\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start' }}>\r\n                    <div style={{ flex: 1 }}>\r\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '15px', marginBottom: '10px' }}>\r\n                        <h3 style={{ margin: 0, fontSize: '18px', color: '#1f2937' }}>\r\n                          {record.vehiculoNombre}\r\n                        </h3>\r\n                        <span style={{\r\n                          padding: '4px 10px',\r\n                          borderRadius: '6px',\r\n                          fontSize: '12px',\r\n                          fontWeight: '600',\r\n                          background: record.tipoRepuesto === 'original' ? '#dcfce7' : '#fef3c7',\r\n                          color: record.tipoRepuesto === 'original' ? '#166534' : '#78350f'\r\n                        }}>\r\n                          {record.tipoRepuesto === 'original' ? 'âœ… Original' : 'ðŸ”„ Alternativo'}\r\n                        </span>\r\n                      </div>\r\n                      \r\n                      <div style={{ display: 'flex', gap: '20px', fontSize: '14px', color: '#6b7280' }}>\r\n                        <span>ðŸ“… {new Date(record.fechaMantenimiento).toLocaleDateString('es-CL')}</span>\r\n                        <span>ðŸš— {record.vehiculoPatente}</span>\r\n                        <span>ðŸ”§ {record.serviciosPreventivos?.length || 0} servicios</span>\r\n                        <span>ðŸ“ {record.kilometrajeActual?.toLocaleString('es-CL') || 0} km</span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '20px' }}>\r\n                      <div style={{ textAlign: 'right' }}>\r\n                        <div style={{ fontSize: '12px', color: '#9ca3af' }}>Total</div>\r\n                        <div style={{ fontSize: '22px', fontWeight: 'bold', color: '#059669' }}>\r\n                          ${record.totales?.total?.toLocaleString('es-CL') || 0}\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div style={{ display: 'flex', gap: '8px' }}>\r\n                        <button\r\n                          onClick={() => handleEditMaintenance(record)}\r\n                          style={{\r\n                            padding: '8px',\r\n                            background: '#3b82f6',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '8px',\r\n                            fontSize: '16px',\r\n                            cursor: 'pointer',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            width: '36px',\r\n                            height: '36px'\r\n                          }}>\r\n                          âœï¸\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDeleteMaintenance(record.id)}\r\n                          style={{\r\n                            padding: '8px',\r\n                            background: '#ef4444',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '8px',\r\n                            fontSize: '16px',\r\n                            cursor: 'pointer',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            width: '36px',\r\n                            height: '36px'\r\n                          }}>\r\n                          ðŸ—‘ï¸\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PreventiveMaintenanceModule;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}