{"ast":null,"code":"// src/components/ZonesManagement.js\nimport React,{useState,useEffect,useRef}from'react';import{database}from'../config/firebase';import{ref,push,set,update,remove,onValue}from'firebase/database';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const ZonesManagement=_ref=>{var _newZona$lat,_newZona$lng;let{currentUser,onLogout,onViewChange,currentView='zones'}=_ref;const mapRef=useRef(null);const[map,setMap]=useState(null);const[zonas,setZonas]=useState([]);const[trabajadores,setTrabajadores]=useState([]);const[selectedZona,setSelectedZona]=useState(null);const[isCreatingZona,setIsCreatingZona]=useState(false);const[showZonaForm,setShowZonaForm]=useState(false);const[mapLoaded,setMapLoaded]=useState(false);const[isMobile,setIsMobile]=useState(false);// Form states\nconst[newZona,setNewZona]=useState({nombre:'',descripcion:'',direccion:'',lat:null,lng:null,trabajadorAsignado:'',prioridad:'normal',fechaLimite:'',estado:'pendiente'});const markersRef=useRef({});const mapClickListenerRef=useRef(null);const API_KEY='AIzaSyA7DrdL36n5cx-RNzuXGAQggFeGCheHDbY';// Detectar si es m√≥vil\nuseEffect(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<=768);};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);// Cargar Google Maps\nuseEffect(()=>{const loadGoogleMaps=()=>{return new Promise(resolve=>{if(window.google&&window.google.maps){resolve(window.google.maps);return;}const existingScript=document.querySelector('script[src*=\"maps.googleapis.com\"]');if(existingScript){existingScript.addEventListener('load',()=>{resolve(window.google.maps);});return;}const script=document.createElement('script');script.src=`https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=places,geometry&v=weekly`;script.async=true;script.defer=true;script.onload=()=>resolve(window.google.maps);document.head.appendChild(script);});};const initMap=async()=>{const maps=await loadGoogleMaps();if(!mapRef.current)return;const mapInstance=new maps.Map(mapRef.current,{center:{lat:-36.7333,lng:-72.4667},zoom:13,mapTypeId:'roadmap'});setMap(mapInstance);setMapLoaded(true);};initMap();},[]);// Verificar si hay datos de solicitud pendiente\nuseEffect(()=>{const solicitudData=localStorage.getItem('solicitudParaZona');if(solicitudData){const solicitud=JSON.parse(solicitudData);// Establecer los datos del formulario\nsetNewZona({nombre:solicitud.nombre,descripcion:solicitud.descripcion,direccion:solicitud.direccion,lat:solicitud.lat,lng:solicitud.lng,trabajadorAsignado:'',prioridad:solicitud.prioridad||'normal',fechaLimite:solicitud.fechaLimite||'',estado:'pendiente'});// Mostrar el formulario\nsetShowZonaForm(true);// Crear marcador temporal en el mapa\nif(map&&window.google){const tempMarker=new window.google.maps.Marker({position:{lat:solicitud.lat,lng:solicitud.lng},map:map,title:'Nueva zona desde solicitud',icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:10,fillColor:'#ef4444',fillOpacity:0.8,strokeColor:'#ffffff',strokeWeight:2},temp:true});markersRef.current.temp=tempMarker;// Centrar el mapa en la ubicaci√≥n\nmap.setCenter({lat:solicitud.lat,lng:solicitud.lng});map.setZoom(16);}// Limpiar localStorage\nlocalStorage.removeItem('solicitudParaZona');// Mostrar mensaje\nalert('üìç Ubicaci√≥n cargada desde la solicitud aprobada. Complete los datos adicionales y guarde la zona.');}},[map]);// Cargar zonas y trabajadores desde Firebase\nuseEffect(()=>{// Escuchar zonas\nconst zonasRef=ref(database,'zonas_asignadas');const unsubZonas=onValue(zonasRef,snapshot=>{const data=snapshot.val();if(data){const zonasArray=Object.entries(data).map(_ref2=>{let[id,zona]=_ref2;return{id,...zona};});setZonas(zonasArray);}else{setZonas([]);}});// Escuchar trabajadores\nconst trabajadoresRef=ref(database,'trabajadores');const unsubTrabajadores=onValue(trabajadoresRef,snapshot=>{const data=snapshot.val();if(data){const trabajadoresArray=Object.entries(data).map(_ref3=>{let[id,trabajador]=_ref3;return{id,...trabajador};});setTrabajadores(trabajadoresArray);}else{setTrabajadores([]);}});return()=>{unsubZonas();unsubTrabajadores();};},[]);// Actualizar marcadores en el mapa\nuseEffect(()=>{if(!map||!window.google)return;// Limpiar marcadores anteriores\nObject.values(markersRef.current).forEach(marker=>marker.setMap(null));markersRef.current={};// Crear marcadores para cada zona\nzonas.forEach(zona=>{var _trabajadores$find;const marker=new window.google.maps.Marker({position:{lat:zona.lat,lng:zona.lng},map:map,title:zona.nombre,icon:{path:'M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z',fillColor:zona.estado==='completado'?'#22c55e':zona.estado==='en_progreso'?'#3b82f6':zona.prioridad==='alta'?'#ef4444':'#f59e0b',fillOpacity:1,strokeColor:'#ffffff',strokeWeight:2,scale:2,anchor:new window.google.maps.Point(12,24)}});// InfoWindow para cada marcador\nconst infoWindow=new window.google.maps.InfoWindow({content:`\n          <div style=\"padding: 10px;\">\n            <h3 style=\"margin: 0 0 10px 0;\">${zona.nombre}</h3>\n            <p style=\"margin: 5px 0;\"><strong>Direcci√≥n:</strong> ${zona.direccion}</p>\n            <p style=\"margin: 5px 0;\"><strong>Descripci√≥n:</strong> ${zona.descripcion}</p>\n            <p style=\"margin: 5px 0;\"><strong>Trabajador:</strong> ${zona.trabajadorAsignado?((_trabajadores$find=trabajadores.find(t=>t.id===zona.trabajadorAsignado))===null||_trabajadores$find===void 0?void 0:_trabajadores$find.nombre)||'Sin asignar':'Sin asignar'}</p>\n            <p style=\"margin: 5px 0;\"><strong>Estado:</strong> ${zona.estado}</p>\n            <p style=\"margin: 5px 0;\"><strong>Prioridad:</strong> ${zona.prioridad}</p>\n          </div>\n        `});marker.addListener('click',()=>{infoWindow.open(map,marker);setSelectedZona(zona);});markersRef.current[zona.id]=marker;});},[map,zonas,trabajadores]);// Activar modo creaci√≥n de zona\nconst startCreatingZona=()=>{if(!map)return;setIsCreatingZona(true);map.setOptions({draggableCursor:'crosshair'});// Escuchar click en el mapa\nmapClickListenerRef.current=map.addListener('click',event=>{const lat=event.latLng.lat();const lng=event.latLng.lng();// Obtener direcci√≥n aproximada usando Geocoding\nconst geocoder=new window.google.maps.Geocoder();geocoder.geocode({location:{lat,lng}},(results,status)=>{if(status==='OK'&&results[0]){setNewZona({...newZona,lat,lng,direccion:results[0].formatted_address});}else{setNewZona({...newZona,lat,lng,direccion:`${lat.toFixed(6)}, ${lng.toFixed(6)}`});}});// Crear marcador temporal\nObject.values(markersRef.current).forEach(marker=>{if(marker.temp)marker.setMap(null);});const tempMarker=new window.google.maps.Marker({position:{lat,lng},map:map,title:'Nueva zona',icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:10,fillColor:'#ef4444',fillOpacity:0.8,strokeColor:'#ffffff',strokeWeight:2},temp:true});markersRef.current.temp=tempMarker;setShowZonaForm(true);cancelCreatingZona();});};// Cancelar modo creaci√≥n\nconst cancelCreatingZona=()=>{setIsCreatingZona(false);if(map){map.setOptions({draggableCursor:null});if(mapClickListenerRef.current){window.google.maps.event.removeListener(mapClickListenerRef.current);mapClickListenerRef.current=null;}}};// Guardar nueva zona\nconst saveZona=async()=>{if(!newZona.nombre||!newZona.lat||!newZona.lng){alert('Por favor completa todos los campos requeridos');return;}try{const zonaData={...newZona,createdBy:currentUser.uid,createdAt:new Date().toISOString(),ultimaActualizacion:new Date().toISOString()};const zonasRef=ref(database,'zonas_asignadas');const newZonaRef=push(zonasRef);await set(newZonaRef,zonaData);// Si hay un trabajador asignado, notificarle\nif(newZona.trabajadorAsignado){const notificacionData={tipo:'nueva_zona',mensaje:`Se te ha asignado una nueva zona: ${newZona.nombre}`,zonaId:newZonaRef.key,trabajadorId:newZona.trabajadorAsignado,timestamp:new Date().toISOString(),leido:false};const notifRef=ref(database,'notificaciones');await push(notifRef,notificacionData);}// Limpiar formulario\nsetNewZona({nombre:'',descripcion:'',direccion:'',lat:null,lng:null,trabajadorAsignado:'',prioridad:'normal',fechaLimite:'',estado:'pendiente'});// Limpiar marcador temporal\nif(markersRef.current.temp){markersRef.current.temp.setMap(null);delete markersRef.current.temp;}setShowZonaForm(false);alert('‚úÖ Zona creada exitosamente');}catch(error){console.error('Error al crear zona:',error);alert('‚ùå Error al crear la zona');}};// Eliminar zona\nconst deleteZona=async zonaId=>{if(window.confirm('¬øEst√°s seguro de eliminar esta zona?')){try{await remove(ref(database,`zonas_asignadas/${zonaId}`));alert('‚úÖ Zona eliminada');}catch(error){console.error('Error al eliminar zona:',error);alert('‚ùå Error al eliminar la zona');}}};// Actualizar estado de zona\nconst updateZonaStatus=async(zonaId,newStatus)=>{try{// Obtener la zona para verificar si tiene solicitudId\nconst zona=zonas.find(z=>z.id===zonaId);// Actualizar estado de la zona\nawait update(ref(database,`zonas_asignadas/${zonaId}`),{estado:newStatus,ultimaActualizacion:new Date().toISOString()});// Si la zona se complet√≥ y tiene una solicitud asociada, actualizar la solicitud\nif(newStatus==='completado'&&zona&&zona.solicitudId){await update(ref(database,`solicitudes_maquinaria/${zona.solicitudId}`),{estado:'completada',fechaCompletado:new Date().toISOString(),completadoPor:currentUser.uid,observaciones:`Trabajo completado desde la zona: ${zona.nombre}`});// Crear notificaci√≥n para la junta de vecinos\nconst notificacionRef=ref(database,'notificaciones');await push(notificacionRef,{tipo:'trabajo_completado',mensaje:`El trabajo \"${zona.nombre}\" ha sido completado`,destinatario:zona.solicitanteId||'junta_vecinos',timestamp:new Date().toISOString(),leido:false});}}catch(error){console.error('Error al actualizar estado:',error);}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',height:'100vh',position:'relative',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',top:0,left:0,right:0,background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',zIndex:1003,boxShadow:'0 2px 10px rgba(0,0,0,0.2)',padding:isMobile?'10px':'12px 20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:'0 0 auto'},children:/*#__PURE__*/_jsx(\"h1\",{style:{margin:0,fontSize:isMobile?'16px':'20px',fontWeight:'600'},children:\"\\uD83D\\uDDFA\\uFE0F Gesti\\xF3n de Zonas\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[onViewChange&&/*#__PURE__*/_jsxs(_Fragment,{children:[currentUser&&currentUser.role==='superadmin'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewChange('admin'),style:{padding:isMobile?'6px 10px':'6px 12px',background:currentView==='admin'?'rgba(255,255,255,0.25)':'rgba(255,255,255,0.1)',color:'white',border:'1px solid rgba(255,255,255,0.3)',borderRadius:'5px',cursor:'pointer',fontSize:isMobile?'11px':'13px',fontWeight:currentView==='admin'?'600':'400',whiteSpace:'nowrap'},children:\"\\uD83D\\uDD10 Panel Admin\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewChange('dashboard'),style:{padding:isMobile?'6px 10px':'6px 12px',background:currentView==='dashboard'?'rgba(255,255,255,0.25)':'rgba(255,255,255,0.1)',color:'white',border:'1px solid rgba(255,255,255,0.3)',borderRadius:'5px',cursor:'pointer',fontSize:isMobile?'11px':'13px',fontWeight:currentView==='dashboard'?'600':'400',whiteSpace:'nowrap'},children:\"\\uD83D\\uDCCA Dashboard GPS\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewChange('zones'),style:{padding:isMobile?'6px 10px':'6px 12px',background:currentView==='zones'?'rgba(255,255,255,0.25)':'rgba(255,255,255,0.1)',color:'white',border:'1px solid rgba(255,255,255,0.3)',borderRadius:'5px',cursor:'pointer',fontSize:isMobile?'11px':'13px',fontWeight:currentView==='zones'?'600':'400',whiteSpace:'nowrap'},children:\"\\uD83D\\uDDFA\\uFE0F Gesti\\xF3n Zonas\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewChange('fleet'),style:{padding:isMobile?'6px 10px':'6px 12px',background:currentView==='fleet'?'rgba(255,255,255,0.25)':'rgba(255,255,255,0.1)',color:'white',border:'1px solid rgba(255,255,255,0.3)',borderRadius:'5px',cursor:'pointer',fontSize:isMobile?'11px':'13px',fontWeight:currentView==='fleet'?'600':'400',whiteSpace:'nowrap'},children:\"\\uD83D\\uDE9B Panel Flota\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onLogout,style:{padding:isMobile?'6px 10px':'6px 14px',background:'#ef4444',color:'white',border:'none',borderRadius:'5px',cursor:'pointer',fontSize:isMobile?'12px':'13px',fontWeight:'600',boxShadow:'0 2px 4px rgba(0,0,0,0.2)',whiteSpace:'nowrap'},children:[\"\\uD83D\\uDEAA \",isMobile?'Salir':'Cerrar Sesi√≥n']})]})]}),isMobile&&onViewChange&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'8px',display:'flex',gap:'8px'},children:[currentUser&&currentUser.role==='superadmin'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewChange('admin'),style:{flex:1,padding:'6px',background:currentView==='admin'?'rgba(255,255,255,0.3)':'rgba(255,255,255,0.1)',color:'white',border:'1px solid rgba(255,255,255,0.3)',borderRadius:'4px',fontSize:'11px'},children:\"\\uD83D\\uDD10 Admin\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewChange('dashboard'),style:{flex:1,padding:'6px',background:currentView==='dashboard'?'rgba(255,255,255,0.3)':'rgba(255,255,255,0.1)',color:'white',border:'1px solid rgba(255,255,255,0.3)',borderRadius:'4px',fontSize:'11px'},children:\"\\uD83D\\uDCCA Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewChange('zones'),style:{flex:1,padding:'6px',background:currentView==='zones'?'rgba(255,255,255,0.3)':'rgba(255,255,255,0.1)',color:'white',border:'1px solid rgba(255,255,255,0.3)',borderRadius:'4px',fontSize:'11px'},children:\"\\uD83D\\uDDFA\\uFE0F Zonas\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flex:1,marginTop:isMobile&&onViewChange?currentUser&&currentUser.role==='superadmin'?'90px':'85px':'60px',position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:isMobile?'100%':'400px',background:'white',borderRight:'1px solid #e5e7eb',overflowY:'auto',display:'flex',flexDirection:'column',position:isMobile?'absolute':'relative',height:'100%',zIndex:isMobile?1002:1001},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',borderBottom:'1px solid #e5e7eb',background:'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:'0 0 10px 0',fontSize:'18px'},children:\"\\uD83D\\uDCCD Crear y Administrar Zonas\"}),/*#__PURE__*/_jsx(\"button\",{onClick:startCreatingZona,disabled:isCreatingZona,style:{width:'100%',padding:'10px',background:isCreatingZona?'#9ca3af':'white',color:isCreatingZona?'white':'#22c55e',border:'none',borderRadius:'6px',fontSize:'14px',fontWeight:'500',cursor:isCreatingZona?'not-allowed':'pointer'},children:isCreatingZona?'üìç Haz clic en el mapa...':'‚ûï Crear Nueva Zona'})]}),showZonaForm&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',background:'#f0f9ff',borderBottom:'2px solid #3b82f6'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 15px 0',color:'#1e40af'},children:\"Nueva Zona de Trabajo\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'4px',fontSize:'13px',fontWeight:'500'},children:\"Nombre de la zona *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newZona.nombre,onChange:e=>setNewZona({...newZona,nombre:e.target.value}),style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'14px'},placeholder:\"Ej: Reparaci\\xF3n Calle Principal\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'4px',fontSize:'13px',fontWeight:'500'},children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newZona.descripcion,onChange:e=>setNewZona({...newZona,descripcion:e.target.value}),style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'14px',minHeight:'60px'},placeholder:\"Detalles del trabajo a realizar...\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'4px',fontSize:'13px',fontWeight:'500'},children:\"Direcci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newZona.direccion,onChange:e=>setNewZona({...newZona,direccion:e.target.value}),style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'4px',fontSize:'13px',fontWeight:'500'},children:\"Asignar a trabajador\"}),/*#__PURE__*/_jsxs(\"select\",{value:newZona.trabajadorAsignado,onChange:e=>setNewZona({...newZona,trabajadorAsignado:e.target.value}),style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Sin asignar --\"}),trabajadores.map(trabajador=>/*#__PURE__*/_jsx(\"option\",{value:trabajador.id,children:trabajador.nombre||trabajador.email},trabajador.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'12px',marginBottom:'12px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'4px',fontSize:'13px',fontWeight:'500'},children:\"Prioridad\"}),/*#__PURE__*/_jsxs(\"select\",{value:newZona.prioridad,onChange:e=>setNewZona({...newZona,prioridad:e.target.value}),style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"baja\",children:\"\\uD83D\\uDFE2 Baja\"}),/*#__PURE__*/_jsx(\"option\",{value:\"normal\",children:\"\\uD83D\\uDFE1 Normal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"alta\",children:\"\\uD83D\\uDD34 Alta\"}),/*#__PURE__*/_jsx(\"option\",{value:\"urgente\",children:\"\\uD83D\\uDEA8 Urgente\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'4px',fontSize:'13px',fontWeight:'500'},children:\"Fecha l\\xEDmite\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:newZona.fechaLimite,onChange:e=>setNewZona({...newZona,fechaLimite:e.target.value}),style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'14px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',background:'#e0e7ff',borderRadius:'4px',marginBottom:'12px',fontSize:'12px'},children:[\"\\uD83D\\uDCCD \",/*#__PURE__*/_jsx(\"strong\",{children:\"Ubicaci\\xF3n:\"}),\" \",(_newZona$lat=newZona.lat)===null||_newZona$lat===void 0?void 0:_newZona$lat.toFixed(6),\", \",(_newZona$lng=newZona.lng)===null||_newZona$lng===void 0?void 0:_newZona$lng.toFixed(6)]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveZona,style:{flex:1,padding:'10px',background:'#22c55e',color:'white',border:'none',borderRadius:'6px',fontSize:'14px',fontWeight:'500',cursor:'pointer'},children:\"\\u2705 Guardar Zona\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowZonaForm(false);if(markersRef.current.temp){markersRef.current.temp.setMap(null);delete markersRef.current.temp;}},style:{flex:1,padding:'10px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',fontSize:'14px',fontWeight:'500',cursor:'pointer'},children:\"\\u274C Cancelar\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,padding:'20px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0 0 15px 0',fontSize:'16px',color:'#1f2937'},children:[\"\\uD83D\\uDCCB Zonas Activas (\",zonas.length,\")\"]}),zonas.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'40px 20px',color:'#6b7280'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"No hay zonas creadas\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'12px',marginTop:'8px'},children:\"Haz clic en \\\"Crear Nueva Zona\\\" para comenzar\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'12px'},children:zonas.map(zona=>{const trabajador=trabajadores.find(t=>t.id===zona.trabajadorAsignado);return/*#__PURE__*/_jsx(\"div\",{style:{padding:'12px',border:'1px solid #e5e7eb',borderRadius:'8px',background:(selectedZona===null||selectedZona===void 0?void 0:selectedZona.id)===zona.id?'#f0f9ff':'white',cursor:'pointer'},onClick:()=>{setSelectedZona(zona);if(map&&markersRef.current[zona.id]){map.panTo({lat:zona.lat,lng:zona.lng});map.setZoom(16);}},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'start'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 4px 0',fontSize:'14px',fontWeight:'600'},children:zona.nombre}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0 0 4px 0',fontSize:'12px',color:'#6b7280'},children:[\"\\uD83D\\uDCCD \",zona.direccion]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0 0 4px 0',fontSize:'12px',color:'#6b7280'},children:[\"\\uD83D\\uDC77 \",trabajador?trabajador.nombre:'Sin asignar']}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'6px',marginTop:'6px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{padding:'2px 6px',borderRadius:'4px',fontSize:'11px',background:zona.estado==='completado'?'#dcfce7':zona.estado==='en_progreso'?'#dbeafe':'#fef3c7',color:zona.estado==='completado'?'#166534':zona.estado==='en_progreso'?'#1e40af':'#92400e'},children:zona.estado==='completado'?'‚úÖ Completado':zona.estado==='en_progreso'?'üîß En progreso':'‚è≥ Pendiente'}),/*#__PURE__*/_jsx(\"span\",{style:{padding:'2px 6px',borderRadius:'4px',fontSize:'11px',background:zona.prioridad==='urgente'?'#fee2e2':zona.prioridad==='alta'?'#fee2e2':zona.prioridad==='normal'?'#fef3c7':'#dcfce7',color:zona.prioridad==='urgente'?'#991b1b':zona.prioridad==='alta'?'#991b1b':zona.prioridad==='normal'?'#92400e':'#166534'},children:zona.prioridad==='urgente'?'üö® Urgente':zona.prioridad==='alta'?'üî¥ Alta':zona.prioridad==='normal'?'üü° Normal':'üü¢ Baja'})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'4px'},children:[zona.estado!=='completado'&&/*#__PURE__*/_jsxs(\"select\",{value:zona.estado,onChange:e=>{e.stopPropagation();updateZonaStatus(zona.id,e.target.value);},onClick:e=>e.stopPropagation(),style:{padding:'4px',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'11px',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"pendiente\",children:\"\\u23F3 Pendiente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"en_progreso\",children:\"\\uD83D\\uDD27 En progreso\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completado\",children:\"\\u2705 Completado\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();deleteZona(zona.id);},style:{padding:'4px 8px',background:'#ef4444',color:'white',border:'none',borderRadius:'4px',fontSize:'11px',cursor:'pointer'},children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]})},zona.id);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{ref:mapRef,style:{width:'100%',height:'100%'}}),!mapLoaded&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'50px',height:'50px',border:'4px solid #f3f3f3',borderTop:'4px solid #667eea',borderRadius:'50%',animation:'spin 1s linear infinite'}}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'10px',color:'#666'},children:\"Cargando mapa...\"})]}),isCreatingZona&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'20px',left:'50%',transform:'translateX(-50%)',background:'white',padding:'12px 20px',borderRadius:'8px',boxShadow:'0 4px 20px rgba(0,0,0,0.15)',display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'14px',fontWeight:'500'},children:\"\\uD83D\\uDCCD Haz clic en el mapa para seleccionar la ubicaci\\xF3n\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelCreatingZona,style:{padding:'6px 12px',background:'#6b7280',color:'white',border:'none',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:\"Cancelar\"})]})]})]}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `})]});};export default ZonesManagement;","map":{"version":3,"names":["React","useState","useEffect","useRef","database","ref","push","set","update","remove","onValue","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ZonesManagement","_ref","_newZona$lat","_newZona$lng","currentUser","onLogout","onViewChange","currentView","mapRef","map","setMap","zonas","setZonas","trabajadores","setTrabajadores","selectedZona","setSelectedZona","isCreatingZona","setIsCreatingZona","showZonaForm","setShowZonaForm","mapLoaded","setMapLoaded","isMobile","setIsMobile","newZona","setNewZona","nombre","descripcion","direccion","lat","lng","trabajadorAsignado","prioridad","fechaLimite","estado","markersRef","mapClickListenerRef","API_KEY","checkMobile","window","innerWidth","addEventListener","removeEventListener","loadGoogleMaps","Promise","resolve","google","maps","existingScript","document","querySelector","script","createElement","src","async","defer","onload","head","appendChild","initMap","current","mapInstance","Map","center","zoom","mapTypeId","solicitudData","localStorage","getItem","solicitud","JSON","parse","tempMarker","Marker","position","title","icon","path","SymbolPath","CIRCLE","scale","fillColor","fillOpacity","strokeColor","strokeWeight","temp","setCenter","setZoom","removeItem","alert","zonasRef","unsubZonas","snapshot","data","val","zonasArray","Object","entries","_ref2","id","zona","trabajadoresRef","unsubTrabajadores","trabajadoresArray","_ref3","trabajador","values","forEach","marker","_trabajadores$find","anchor","Point","infoWindow","InfoWindow","content","find","t","addListener","open","startCreatingZona","setOptions","draggableCursor","event","latLng","geocoder","Geocoder","geocode","location","results","status","formatted_address","toFixed","cancelCreatingZona","removeListener","saveZona","zonaData","createdBy","uid","createdAt","Date","toISOString","ultimaActualizacion","newZonaRef","notificacionData","tipo","mensaje","zonaId","key","trabajadorId","timestamp","leido","notifRef","error","console","deleteZona","confirm","updateZonaStatus","newStatus","z","solicitudId","fechaCompletado","completadoPor","observaciones","notificacionRef","destinatario","solicitanteId","style","display","height","flexDirection","children","top","left","right","background","color","zIndex","boxShadow","padding","justifyContent","alignItems","width","flex","margin","fontSize","fontWeight","gap","role","onClick","border","borderRadius","cursor","whiteSpace","marginTop","borderRight","overflowY","borderBottom","disabled","marginBottom","type","value","onChange","e","target","placeholder","minHeight","email","gridTemplateColumns","length","textAlign","panTo","stopPropagation","transform","borderTop","animation"],"sources":["C:/Users/Izan/Desktop/AppReact/mapa-quillon/src/components/ZonesManagement.js"],"sourcesContent":["// src/components/ZonesManagement.js\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { database } from '../config/firebase';\r\nimport { ref, push, set, update, remove, onValue } from 'firebase/database';\r\n\r\nconst ZonesManagement = ({ currentUser, onLogout, onViewChange, currentView = 'zones' }) => {\r\n  const mapRef = useRef(null);\r\n  const [map, setMap] = useState(null);\r\n  const [zonas, setZonas] = useState([]);\r\n  const [trabajadores, setTrabajadores] = useState([]);\r\n  const [selectedZona, setSelectedZona] = useState(null);\r\n  const [isCreatingZona, setIsCreatingZona] = useState(false);\r\n  const [showZonaForm, setShowZonaForm] = useState(false);\r\n  const [mapLoaded, setMapLoaded] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  \r\n  // Form states\r\n  const [newZona, setNewZona] = useState({\r\n    nombre: '',\r\n    descripcion: '',\r\n    direccion: '',\r\n    lat: null,\r\n    lng: null,\r\n    trabajadorAsignado: '',\r\n    prioridad: 'normal',\r\n    fechaLimite: '',\r\n    estado: 'pendiente'\r\n  });\r\n\r\n  const markersRef = useRef({});\r\n  const mapClickListenerRef = useRef(null);\r\n  const API_KEY = 'AIzaSyA7DrdL36n5cx-RNzuXGAQggFeGCheHDbY';\r\n\r\n  // Detectar si es m√≥vil\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth <= 768);\r\n    };\r\n    \r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    \r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  // Cargar Google Maps\r\n  useEffect(() => {\r\n    const loadGoogleMaps = () => {\r\n      return new Promise((resolve) => {\r\n        if (window.google && window.google.maps) {\r\n          resolve(window.google.maps);\r\n          return;\r\n        }\r\n\r\n        const existingScript = document.querySelector('script[src*=\"maps.googleapis.com\"]');\r\n        if (existingScript) {\r\n          existingScript.addEventListener('load', () => {\r\n            resolve(window.google.maps);\r\n          });\r\n          return;\r\n        }\r\n\r\n        const script = document.createElement('script');\r\n        script.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=places,geometry&v=weekly`;\r\n        script.async = true;\r\n        script.defer = true;\r\n        script.onload = () => resolve(window.google.maps);\r\n        document.head.appendChild(script);\r\n      });\r\n    };\r\n\r\n    const initMap = async () => {\r\n      const maps = await loadGoogleMaps();\r\n      \r\n      if (!mapRef.current) return;\r\n\r\n      const mapInstance = new maps.Map(mapRef.current, {\r\n        center: { lat: -36.7333, lng: -72.4667 },\r\n        zoom: 13,\r\n        mapTypeId: 'roadmap'\r\n      });\r\n\r\n      setMap(mapInstance);\r\n      setMapLoaded(true);\r\n    };\r\n\r\n    initMap();\r\n  }, []);\r\n  // Verificar si hay datos de solicitud pendiente\r\nuseEffect(() => {\r\n  const solicitudData = localStorage.getItem('solicitudParaZona');\r\n  if (solicitudData) {\r\n    const solicitud = JSON.parse(solicitudData);\r\n    \r\n    // Establecer los datos del formulario\r\n    setNewZona({\r\n      nombre: solicitud.nombre,\r\n      descripcion: solicitud.descripcion,\r\n      direccion: solicitud.direccion,\r\n      lat: solicitud.lat,\r\n      lng: solicitud.lng,\r\n      trabajadorAsignado: '',\r\n      prioridad: solicitud.prioridad || 'normal',\r\n      fechaLimite: solicitud.fechaLimite || '',\r\n      estado: 'pendiente'\r\n    });\r\n    \r\n    // Mostrar el formulario\r\n    setShowZonaForm(true);\r\n    \r\n    // Crear marcador temporal en el mapa\r\n    if (map && window.google) {\r\n      const tempMarker = new window.google.maps.Marker({\r\n        position: { lat: solicitud.lat, lng: solicitud.lng },\r\n        map: map,\r\n        title: 'Nueva zona desde solicitud',\r\n        icon: {\r\n          path: window.google.maps.SymbolPath.CIRCLE,\r\n          scale: 10,\r\n          fillColor: '#ef4444',\r\n          fillOpacity: 0.8,\r\n          strokeColor: '#ffffff',\r\n          strokeWeight: 2\r\n        },\r\n        temp: true\r\n      });\r\n      \r\n      markersRef.current.temp = tempMarker;\r\n      \r\n      // Centrar el mapa en la ubicaci√≥n\r\n      map.setCenter({ lat: solicitud.lat, lng: solicitud.lng });\r\n      map.setZoom(16);\r\n    }\r\n    \r\n    // Limpiar localStorage\r\n    localStorage.removeItem('solicitudParaZona');\r\n    \r\n    // Mostrar mensaje\r\n    alert('üìç Ubicaci√≥n cargada desde la solicitud aprobada. Complete los datos adicionales y guarde la zona.');\r\n  }\r\n}, [map]);\r\n\r\n  // Cargar zonas y trabajadores desde Firebase\r\n  useEffect(() => {\r\n    // Escuchar zonas\r\n    const zonasRef = ref(database, 'zonas_asignadas');\r\n    const unsubZonas = onValue(zonasRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const zonasArray = Object.entries(data).map(([id, zona]) => ({\r\n          id,\r\n          ...zona\r\n        }));\r\n        setZonas(zonasArray);\r\n      } else {\r\n        setZonas([]);\r\n      }\r\n    });\r\n\r\n    // Escuchar trabajadores\r\n    const trabajadoresRef = ref(database, 'trabajadores');\r\n    const unsubTrabajadores = onValue(trabajadoresRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const trabajadoresArray = Object.entries(data).map(([id, trabajador]) => ({\r\n          id,\r\n          ...trabajador\r\n        }));\r\n        setTrabajadores(trabajadoresArray);\r\n      } else {\r\n        setTrabajadores([]);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      unsubZonas();\r\n      unsubTrabajadores();\r\n    };\r\n  }, []);\r\n\r\n  // Actualizar marcadores en el mapa\r\n  useEffect(() => {\r\n    if (!map || !window.google) return;\r\n\r\n    // Limpiar marcadores anteriores\r\n    Object.values(markersRef.current).forEach(marker => marker.setMap(null));\r\n    markersRef.current = {};\r\n\r\n    // Crear marcadores para cada zona\r\n    zonas.forEach(zona => {\r\n      const marker = new window.google.maps.Marker({\r\n        position: { lat: zona.lat, lng: zona.lng },\r\n        map: map,\r\n        title: zona.nombre,\r\n        icon: {\r\n          path: 'M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z',\r\n          fillColor: zona.estado === 'completado' ? '#22c55e' : \r\n                     zona.estado === 'en_progreso' ? '#3b82f6' : \r\n                     zona.prioridad === 'alta' ? '#ef4444' : '#f59e0b',\r\n          fillOpacity: 1,\r\n          strokeColor: '#ffffff',\r\n          strokeWeight: 2,\r\n          scale: 2,\r\n          anchor: new window.google.maps.Point(12, 24)\r\n        }\r\n      });\r\n\r\n      // InfoWindow para cada marcador\r\n      const infoWindow = new window.google.maps.InfoWindow({\r\n        content: `\r\n          <div style=\"padding: 10px;\">\r\n            <h3 style=\"margin: 0 0 10px 0;\">${zona.nombre}</h3>\r\n            <p style=\"margin: 5px 0;\"><strong>Direcci√≥n:</strong> ${zona.direccion}</p>\r\n            <p style=\"margin: 5px 0;\"><strong>Descripci√≥n:</strong> ${zona.descripcion}</p>\r\n            <p style=\"margin: 5px 0;\"><strong>Trabajador:</strong> ${\r\n              zona.trabajadorAsignado ? \r\n              trabajadores.find(t => t.id === zona.trabajadorAsignado)?.nombre || 'Sin asignar' : \r\n              'Sin asignar'\r\n            }</p>\r\n            <p style=\"margin: 5px 0;\"><strong>Estado:</strong> ${zona.estado}</p>\r\n            <p style=\"margin: 5px 0;\"><strong>Prioridad:</strong> ${zona.prioridad}</p>\r\n          </div>\r\n        `\r\n      });\r\n\r\n      marker.addListener('click', () => {\r\n        infoWindow.open(map, marker);\r\n        setSelectedZona(zona);\r\n      });\r\n\r\n      markersRef.current[zona.id] = marker;\r\n    });\r\n  }, [map, zonas, trabajadores]);\r\n\r\n  // Activar modo creaci√≥n de zona\r\n  const startCreatingZona = () => {\r\n    if (!map) return;\r\n    \r\n    setIsCreatingZona(true);\r\n    map.setOptions({ draggableCursor: 'crosshair' });\r\n    \r\n    // Escuchar click en el mapa\r\n    mapClickListenerRef.current = map.addListener('click', (event) => {\r\n      const lat = event.latLng.lat();\r\n      const lng = event.latLng.lng();\r\n      \r\n      // Obtener direcci√≥n aproximada usando Geocoding\r\n      const geocoder = new window.google.maps.Geocoder();\r\n      geocoder.geocode({ location: { lat, lng } }, (results, status) => {\r\n        if (status === 'OK' && results[0]) {\r\n          setNewZona({\r\n            ...newZona,\r\n            lat,\r\n            lng,\r\n            direccion: results[0].formatted_address\r\n          });\r\n        } else {\r\n          setNewZona({\r\n            ...newZona,\r\n            lat,\r\n            lng,\r\n            direccion: `${lat.toFixed(6)}, ${lng.toFixed(6)}`\r\n          });\r\n        }\r\n      });\r\n      \r\n      // Crear marcador temporal\r\n      Object.values(markersRef.current).forEach(marker => {\r\n        if (marker.temp) marker.setMap(null);\r\n      });\r\n      \r\n      const tempMarker = new window.google.maps.Marker({\r\n        position: { lat, lng },\r\n        map: map,\r\n        title: 'Nueva zona',\r\n        icon: {\r\n          path: window.google.maps.SymbolPath.CIRCLE,\r\n          scale: 10,\r\n          fillColor: '#ef4444',\r\n          fillOpacity: 0.8,\r\n          strokeColor: '#ffffff',\r\n          strokeWeight: 2\r\n        },\r\n        temp: true\r\n      });\r\n      \r\n      markersRef.current.temp = tempMarker;\r\n      setShowZonaForm(true);\r\n      cancelCreatingZona();\r\n    });\r\n  };\r\n\r\n  // Cancelar modo creaci√≥n\r\n  const cancelCreatingZona = () => {\r\n    setIsCreatingZona(false);\r\n    if (map) {\r\n      map.setOptions({ draggableCursor: null });\r\n      if (mapClickListenerRef.current) {\r\n        window.google.maps.event.removeListener(mapClickListenerRef.current);\r\n        mapClickListenerRef.current = null;\r\n      }\r\n    }\r\n  };\r\n\r\n  // Guardar nueva zona\r\n  const saveZona = async () => {\r\n    if (!newZona.nombre || !newZona.lat || !newZona.lng) {\r\n      alert('Por favor completa todos los campos requeridos');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const zonaData = {\r\n        ...newZona,\r\n        createdBy: currentUser.uid,\r\n        createdAt: new Date().toISOString(),\r\n        ultimaActualizacion: new Date().toISOString()\r\n      };\r\n\r\n      const zonasRef = ref(database, 'zonas_asignadas');\r\n      const newZonaRef = push(zonasRef);\r\n      await set(newZonaRef, zonaData);\r\n\r\n      // Si hay un trabajador asignado, notificarle\r\n      if (newZona.trabajadorAsignado) {\r\n        const notificacionData = {\r\n          tipo: 'nueva_zona',\r\n          mensaje: `Se te ha asignado una nueva zona: ${newZona.nombre}`,\r\n          zonaId: newZonaRef.key,\r\n          trabajadorId: newZona.trabajadorAsignado,\r\n          timestamp: new Date().toISOString(),\r\n          leido: false\r\n        };\r\n        \r\n        const notifRef = ref(database, 'notificaciones');\r\n        await push(notifRef, notificacionData);\r\n      }\r\n\r\n      // Limpiar formulario\r\n      setNewZona({\r\n        nombre: '',\r\n        descripcion: '',\r\n        direccion: '',\r\n        lat: null,\r\n        lng: null,\r\n        trabajadorAsignado: '',\r\n        prioridad: 'normal',\r\n        fechaLimite: '',\r\n        estado: 'pendiente'\r\n      });\r\n      \r\n      // Limpiar marcador temporal\r\n      if (markersRef.current.temp) {\r\n        markersRef.current.temp.setMap(null);\r\n        delete markersRef.current.temp;\r\n      }\r\n      \r\n      setShowZonaForm(false);\r\n      alert('‚úÖ Zona creada exitosamente');\r\n    } catch (error) {\r\n      console.error('Error al crear zona:', error);\r\n      alert('‚ùå Error al crear la zona');\r\n    }\r\n  };\r\n\r\n  // Eliminar zona\r\n  const deleteZona = async (zonaId) => {\r\n    if (window.confirm('¬øEst√°s seguro de eliminar esta zona?')) {\r\n      try {\r\n        await remove(ref(database, `zonas_asignadas/${zonaId}`));\r\n        alert('‚úÖ Zona eliminada');\r\n      } catch (error) {\r\n        console.error('Error al eliminar zona:', error);\r\n        alert('‚ùå Error al eliminar la zona');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Actualizar estado de zona\r\n  const updateZonaStatus = async (zonaId, newStatus) => {\r\n  try {\r\n    // Obtener la zona para verificar si tiene solicitudId\r\n    const zona = zonas.find(z => z.id === zonaId);\r\n    \r\n    // Actualizar estado de la zona\r\n    await update(ref(database, `zonas_asignadas/${zonaId}`), {\r\n      estado: newStatus,\r\n      ultimaActualizacion: new Date().toISOString()\r\n    });\r\n    \r\n    // Si la zona se complet√≥ y tiene una solicitud asociada, actualizar la solicitud\r\n    if (newStatus === 'completado' && zona && zona.solicitudId) {\r\n      await update(ref(database, `solicitudes_maquinaria/${zona.solicitudId}`), {\r\n        estado: 'completada',\r\n        fechaCompletado: new Date().toISOString(),\r\n        completadoPor: currentUser.uid,\r\n        observaciones: `Trabajo completado desde la zona: ${zona.nombre}`\r\n      });\r\n      \r\n      // Crear notificaci√≥n para la junta de vecinos\r\n      const notificacionRef = ref(database, 'notificaciones');\r\n      await push(notificacionRef, {\r\n        tipo: 'trabajo_completado',\r\n        mensaje: `El trabajo \"${zona.nombre}\" ha sido completado`,\r\n        destinatario: zona.solicitanteId || 'junta_vecinos',\r\n        timestamp: new Date().toISOString(),\r\n        leido: false\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.error('Error al actualizar estado:', error);\r\n  }\r\n};\r\n\r\n  return (\r\n    <div style={{ display: 'flex', height: '100vh', position: 'relative', flexDirection: 'column' }}>\r\n      {/* Header con navegaci√≥n */}\r\n      <div style={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n        color: 'white',\r\n        zIndex: 1003,\r\n        boxShadow: '0 2px 10px rgba(0,0,0,0.2)',\r\n        padding: isMobile ? '10px' : '12px 20px'\r\n      }}>\r\n        <div style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n          width: '100%'\r\n        }}>\r\n          {/* Izquierda - T√≠tulo */}\r\n          <div style={{ flex: '0 0 auto' }}>\r\n            <h1 style={{ \r\n              margin: 0, \r\n              fontSize: isMobile ? '16px' : '20px', \r\n              fontWeight: '600'\r\n            }}>\r\n              üó∫Ô∏è Gesti√≥n de Zonas\r\n            </h1>\r\n          </div>\r\n\r\n          {/* Derecha - Botones de navegaci√≥n */}\r\n          <div style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '10px'\r\n          }}>\r\n            {/* Botones de navegaci√≥n */}\r\n            {onViewChange && (\r\n              <>\r\n                {/* Bot√≥n Panel Admin solo para superadmin */}\r\n                {currentUser && currentUser.role === 'superadmin' && (\r\n                  <button\r\n                    onClick={() => onViewChange('admin')}\r\n                    style={{\r\n                      padding: isMobile ? '6px 10px' : '6px 12px',\r\n                      background: currentView === 'admin' ? 'rgba(255,255,255,0.25)' : 'rgba(255,255,255,0.1)',\r\n                      color: 'white',\r\n                      border: '1px solid rgba(255,255,255,0.3)',\r\n                      borderRadius: '5px',\r\n                      cursor: 'pointer',\r\n                      fontSize: isMobile ? '11px' : '13px',\r\n                      fontWeight: currentView === 'admin' ? '600' : '400',\r\n                      whiteSpace: 'nowrap'\r\n                    }}\r\n                  >\r\n                    üîê Panel Admin\r\n                  </button>\r\n                )}\r\n                <button\r\n                  onClick={() => onViewChange('dashboard')}\r\n                  style={{\r\n                    padding: isMobile ? '6px 10px' : '6px 12px',\r\n                    background: currentView === 'dashboard' ? 'rgba(255,255,255,0.25)' : 'rgba(255,255,255,0.1)',\r\n                    color: 'white',\r\n                    border: '1px solid rgba(255,255,255,0.3)',\r\n                    borderRadius: '5px',\r\n                    cursor: 'pointer',\r\n                    fontSize: isMobile ? '11px' : '13px',\r\n                    fontWeight: currentView === 'dashboard' ? '600' : '400',\r\n                    whiteSpace: 'nowrap'\r\n                  }}\r\n                >\r\n                  üìä Dashboard GPS\r\n                </button>\r\n                <button\r\n                  onClick={() => onViewChange('zones')}\r\n                  style={{\r\n                    padding: isMobile ? '6px 10px' : '6px 12px',\r\n                    background: currentView === 'zones' ? 'rgba(255,255,255,0.25)' : 'rgba(255,255,255,0.1)',\r\n                    color: 'white',\r\n                    border: '1px solid rgba(255,255,255,0.3)',\r\n                    borderRadius: '5px',\r\n                    cursor: 'pointer',\r\n                    fontSize: isMobile ? '11px' : '13px',\r\n                    fontWeight: currentView === 'zones' ? '600' : '400',\r\n                    whiteSpace: 'nowrap'\r\n                  }}\r\n                >\r\n                  üó∫Ô∏è Gesti√≥n Zonas\r\n                </button>\r\n                \r\n<button\r\n  onClick={() => onViewChange('fleet')}\r\n  style={{\r\n    padding: isMobile ? '6px 10px' : '6px 12px',\r\n    background: currentView === 'fleet' ? 'rgba(255,255,255,0.25)' : 'rgba(255,255,255,0.1)',\r\n    color: 'white',\r\n    border: '1px solid rgba(255,255,255,0.3)',\r\n    borderRadius: '5px',\r\n    cursor: 'pointer',\r\n    fontSize: isMobile ? '11px' : '13px',\r\n    fontWeight: currentView === 'fleet' ? '600' : '400',\r\n    whiteSpace: 'nowrap'\r\n  }}\r\n>\r\n  üöõ Panel Flota\r\n</button>\r\n              </>\r\n            )}\r\n\r\n            {/* Bot√≥n Cerrar Sesi√≥n */}\r\n            <button\r\n              onClick={onLogout}\r\n              style={{\r\n                padding: isMobile ? '6px 10px' : '6px 14px',\r\n                background: '#ef4444',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '5px',\r\n                cursor: 'pointer',\r\n                fontSize: isMobile ? '12px' : '13px',\r\n                fontWeight: '600',\r\n                boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\r\n                whiteSpace: 'nowrap'\r\n              }}\r\n            >\r\n              üö™ {isMobile ? 'Salir' : 'Cerrar Sesi√≥n'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Botones de navegaci√≥n m√≥vil - Segunda l√≠nea */}\r\n        {isMobile && onViewChange && (\r\n          <div style={{\r\n            marginTop: '8px',\r\n            display: 'flex',\r\n            gap: '8px'\r\n          }}>\r\n            {currentUser && currentUser.role === 'superadmin' && (\r\n              <button\r\n                onClick={() => onViewChange('admin')}\r\n                style={{\r\n                  flex: 1,\r\n                  padding: '6px',\r\n                  background: currentView === 'admin' ? 'rgba(255,255,255,0.3)' : 'rgba(255,255,255,0.1)',\r\n                  color: 'white',\r\n                  border: '1px solid rgba(255,255,255,0.3)',\r\n                  borderRadius: '4px',\r\n                  fontSize: '11px'\r\n                }}\r\n              >\r\n                üîê Admin\r\n              </button>\r\n            )}\r\n            <button\r\n              onClick={() => onViewChange('dashboard')}\r\n              style={{\r\n                flex: 1,\r\n                padding: '6px',\r\n                background: currentView === 'dashboard' ? 'rgba(255,255,255,0.3)' : 'rgba(255,255,255,0.1)',\r\n                color: 'white',\r\n                border: '1px solid rgba(255,255,255,0.3)',\r\n                borderRadius: '4px',\r\n                fontSize: '11px'\r\n              }}\r\n            >\r\n              üìä Dashboard\r\n            </button>\r\n            <button\r\n              onClick={() => onViewChange('zones')}\r\n              style={{\r\n                flex: 1,\r\n                padding: '6px',\r\n                background: currentView === 'zones' ? 'rgba(255,255,255,0.3)' : 'rgba(255,255,255,0.1)',\r\n                color: 'white',\r\n                border: '1px solid rgba(255,255,255,0.3)',\r\n                borderRadius: '4px',\r\n                fontSize: '11px'\r\n              }}\r\n            >\r\n              üó∫Ô∏è Zonas\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Contenido principal con margen superior para el header */}\r\n      <div style={{ \r\n        display: 'flex', \r\n        flex: 1, \r\n        marginTop: isMobile && onViewChange ? \r\n                   (currentUser && currentUser.role === 'superadmin' ? '90px' : '85px') : \r\n                   '60px',\r\n        position: 'relative'\r\n      }}>\r\n        {/* Panel lateral */}\r\n        <div style={{\r\n          width: isMobile ? '100%' : '400px',\r\n          background: 'white',\r\n          borderRight: '1px solid #e5e7eb',\r\n          overflowY: 'auto',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          position: isMobile ? 'absolute' : 'relative',\r\n          height: '100%',\r\n          zIndex: isMobile ? 1002 : 1001\r\n        }}>\r\n          {/* Header del panel */}\r\n          <div style={{\r\n            padding: '20px',\r\n            borderBottom: '1px solid #e5e7eb',\r\n            background: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n            color: 'white'\r\n          }}>\r\n            <h2 style={{ margin: '0 0 10px 0', fontSize: '18px' }}>\r\n              üìç Crear y Administrar Zonas\r\n            </h2>\r\n            <button\r\n              onClick={startCreatingZona}\r\n              disabled={isCreatingZona}\r\n              style={{\r\n                width: '100%',\r\n                padding: '10px',\r\n                background: isCreatingZona ? '#9ca3af' : 'white',\r\n                color: isCreatingZona ? 'white' : '#22c55e',\r\n                border: 'none',\r\n                borderRadius: '6px',\r\n                fontSize: '14px',\r\n                fontWeight: '500',\r\n                cursor: isCreatingZona ? 'not-allowed' : 'pointer'\r\n              }}\r\n            >\r\n              {isCreatingZona ? 'üìç Haz clic en el mapa...' : '‚ûï Crear Nueva Zona'}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Formulario de nueva zona */}\r\n          {showZonaForm && (\r\n            <div style={{\r\n              padding: '20px',\r\n              background: '#f0f9ff',\r\n              borderBottom: '2px solid #3b82f6'\r\n            }}>\r\n              <h3 style={{ margin: '0 0 15px 0', color: '#1e40af' }}>\r\n                Nueva Zona de Trabajo\r\n              </h3>\r\n              \r\n              <div style={{ marginBottom: '12px' }}>\r\n                <label style={{ display: 'block', marginBottom: '4px', fontSize: '13px', fontWeight: '500' }}>\r\n                  Nombre de la zona *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newZona.nombre}\r\n                  onChange={(e) => setNewZona({ ...newZona, nombre: e.target.value })}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '8px',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '4px',\r\n                    fontSize: '14px'\r\n                  }}\r\n                  placeholder=\"Ej: Reparaci√≥n Calle Principal\"\r\n                />\r\n              </div>\r\n\r\n              <div style={{ marginBottom: '12px' }}>\r\n                <label style={{ display: 'block', marginBottom: '4px', fontSize: '13px', fontWeight: '500' }}>\r\n                  Descripci√≥n\r\n                </label>\r\n                <textarea\r\n                  value={newZona.descripcion}\r\n                  onChange={(e) => setNewZona({ ...newZona, descripcion: e.target.value })}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '8px',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '4px',\r\n                    fontSize: '14px',\r\n                    minHeight: '60px'\r\n                  }}\r\n                  placeholder=\"Detalles del trabajo a realizar...\"\r\n                />\r\n              </div>\r\n\r\n              <div style={{ marginBottom: '12px' }}>\r\n                <label style={{ display: 'block', marginBottom: '4px', fontSize: '13px', fontWeight: '500' }}>\r\n                  Direcci√≥n\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newZona.direccion}\r\n                  onChange={(e) => setNewZona({ ...newZona, direccion: e.target.value })}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '8px',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '4px',\r\n                    fontSize: '14px'\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div style={{ marginBottom: '12px' }}>\r\n                <label style={{ display: 'block', marginBottom: '4px', fontSize: '13px', fontWeight: '500' }}>\r\n                  Asignar a trabajador\r\n                </label>\r\n                <select\r\n                  value={newZona.trabajadorAsignado}\r\n                  onChange={(e) => setNewZona({ ...newZona, trabajadorAsignado: e.target.value })}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '8px',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '4px',\r\n                    fontSize: '14px'\r\n                  }}\r\n                >\r\n                  <option value=\"\">-- Sin asignar --</option>\r\n                  {trabajadores.map(trabajador => (\r\n                    <option key={trabajador.id} value={trabajador.id}>\r\n                      {trabajador.nombre || trabajador.email}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px', marginBottom: '12px' }}>\r\n                <div>\r\n                  <label style={{ display: 'block', marginBottom: '4px', fontSize: '13px', fontWeight: '500' }}>\r\n                    Prioridad\r\n                  </label>\r\n                  <select\r\n                    value={newZona.prioridad}\r\n                    onChange={(e) => setNewZona({ ...newZona, prioridad: e.target.value })}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '8px',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '4px',\r\n                      fontSize: '14px'\r\n                    }}\r\n                  >\r\n                    <option value=\"baja\">üü¢ Baja</option>\r\n                    <option value=\"normal\">üü° Normal</option>\r\n                    <option value=\"alta\">üî¥ Alta</option>\r\n                    <option value=\"urgente\">üö® Urgente</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label style={{ display: 'block', marginBottom: '4px', fontSize: '13px', fontWeight: '500' }}>\r\n                    Fecha l√≠mite\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={newZona.fechaLimite}\r\n                    onChange={(e) => setNewZona({ ...newZona, fechaLimite: e.target.value })}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '8px',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '4px',\r\n                      fontSize: '14px'\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div style={{ \r\n                padding: '8px', \r\n                background: '#e0e7ff', \r\n                borderRadius: '4px',\r\n                marginBottom: '12px',\r\n                fontSize: '12px'\r\n              }}>\r\n                üìç <strong>Ubicaci√≥n:</strong> {newZona.lat?.toFixed(6)}, {newZona.lng?.toFixed(6)}\r\n              </div>\r\n\r\n              <div style={{ display: 'flex', gap: '8px' }}>\r\n                <button\r\n                  onClick={saveZona}\r\n                  style={{\r\n                    flex: 1,\r\n                    padding: '10px',\r\n                    background: '#22c55e',\r\n                    color: 'white',\r\n                    border: 'none',\r\n                    borderRadius: '6px',\r\n                    fontSize: '14px',\r\n                    fontWeight: '500',\r\n                    cursor: 'pointer'\r\n                  }}\r\n                >\r\n                  ‚úÖ Guardar Zona\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowZonaForm(false);\r\n                    if (markersRef.current.temp) {\r\n                      markersRef.current.temp.setMap(null);\r\n                      delete markersRef.current.temp;\r\n                    }\r\n                  }}\r\n                  style={{\r\n                    flex: 1,\r\n                    padding: '10px',\r\n                    background: '#ef4444',\r\n                    color: 'white',\r\n                    border: 'none',\r\n                    borderRadius: '6px',\r\n                    fontSize: '14px',\r\n                    fontWeight: '500',\r\n                    cursor: 'pointer'\r\n                  }}\r\n                >\r\n                  ‚ùå Cancelar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Lista de zonas */}\r\n          <div style={{ flex: 1, padding: '20px' }}>\r\n            <h3 style={{ margin: '0 0 15px 0', fontSize: '16px', color: '#1f2937' }}>\r\n              üìã Zonas Activas ({zonas.length})\r\n            </h3>\r\n            \r\n            {zonas.length === 0 ? (\r\n              <div style={{\r\n                textAlign: 'center',\r\n                padding: '40px 20px',\r\n                color: '#6b7280'\r\n              }}>\r\n                <p>No hay zonas creadas</p>\r\n                <p style={{ fontSize: '12px', marginTop: '8px' }}>\r\n                  Haz clic en \"Crear Nueva Zona\" para comenzar\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\r\n                {zonas.map(zona => {\r\n                  const trabajador = trabajadores.find(t => t.id === zona.trabajadorAsignado);\r\n                  return (\r\n                    <div\r\n                      key={zona.id}\r\n                      style={{\r\n                        padding: '12px',\r\n                        border: '1px solid #e5e7eb',\r\n                        borderRadius: '8px',\r\n                        background: selectedZona?.id === zona.id ? '#f0f9ff' : 'white',\r\n                        cursor: 'pointer'\r\n                      }}\r\n                      onClick={() => {\r\n                        setSelectedZona(zona);\r\n                        if (map && markersRef.current[zona.id]) {\r\n                          map.panTo({ lat: zona.lat, lng: zona.lng });\r\n                          map.setZoom(16);\r\n                        }\r\n                      }}\r\n                    >\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start' }}>\r\n                        <div style={{ flex: 1 }}>\r\n                          <h4 style={{ margin: '0 0 4px 0', fontSize: '14px', fontWeight: '600' }}>\r\n                            {zona.nombre}\r\n                          </h4>\r\n                          <p style={{ margin: '0 0 4px 0', fontSize: '12px', color: '#6b7280' }}>\r\n                            üìç {zona.direccion}\r\n                          </p>\r\n                          <p style={{ margin: '0 0 4px 0', fontSize: '12px', color: '#6b7280' }}>\r\n                            üë∑ {trabajador ? trabajador.nombre : 'Sin asignar'}\r\n                          </p>\r\n                          <div style={{ display: 'flex', gap: '6px', marginTop: '6px' }}>\r\n                            <span style={{\r\n                              padding: '2px 6px',\r\n                              borderRadius: '4px',\r\n                              fontSize: '11px',\r\n                              background: zona.estado === 'completado' ? '#dcfce7' :\r\n                                        zona.estado === 'en_progreso' ? '#dbeafe' :\r\n                                        '#fef3c7',\r\n                              color: zona.estado === 'completado' ? '#166534' :\r\n                                     zona.estado === 'en_progreso' ? '#1e40af' :\r\n                                     '#92400e'\r\n                            }}>\r\n                              {zona.estado === 'completado' ? '‚úÖ Completado' :\r\n                               zona.estado === 'en_progreso' ? 'üîß En progreso' :\r\n                               '‚è≥ Pendiente'}\r\n                            </span>\r\n                            <span style={{\r\n                              padding: '2px 6px',\r\n                              borderRadius: '4px',\r\n                              fontSize: '11px',\r\n                              background: zona.prioridad === 'urgente' ? '#fee2e2' :\r\n                                        zona.prioridad === 'alta' ? '#fee2e2' :\r\n                                        zona.prioridad === 'normal' ? '#fef3c7' :\r\n                                        '#dcfce7',\r\n                              color: zona.prioridad === 'urgente' ? '#991b1b' :\r\n                                     zona.prioridad === 'alta' ? '#991b1b' :\r\n                                     zona.prioridad === 'normal' ? '#92400e' :\r\n                                     '#166534'\r\n                            }}>\r\n                              {zona.prioridad === 'urgente' ? 'üö® Urgente' :\r\n                               zona.prioridad === 'alta' ? 'üî¥ Alta' :\r\n                               zona.prioridad === 'normal' ? 'üü° Normal' :\r\n                               'üü¢ Baja'}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                        <div style={{ display: 'flex', gap: '4px' }}>\r\n  {zona.estado !== 'completado' && (\r\n    <select\r\n      value={zona.estado}\r\n      onChange={(e) => {\r\n        e.stopPropagation();\r\n        updateZonaStatus(zona.id, e.target.value);\r\n      }}\r\n      onClick={(e) => e.stopPropagation()}\r\n      style={{\r\n        padding: '4px',\r\n        border: '1px solid #d1d5db',\r\n        borderRadius: '4px',\r\n        fontSize: '11px',\r\n        cursor: 'pointer'\r\n      }}\r\n    >\r\n      <option value=\"pendiente\">‚è≥ Pendiente</option>\r\n      <option value=\"en_progreso\">üîß En progreso</option>\r\n      <option value=\"completado\">‚úÖ Completado</option>\r\n    </select>\r\n  )}\r\n  <button\r\n    onClick={(e) => {\r\n      e.stopPropagation();\r\n      deleteZona(zona.id);\r\n    }}\r\n    style={{\r\n      padding: '4px 8px',\r\n      background: '#ef4444',\r\n      color: 'white',\r\n      border: 'none',\r\n      borderRadius: '4px',\r\n      fontSize: '11px',\r\n      cursor: 'pointer'\r\n    }}\r\n  >\r\n    üóëÔ∏è\r\n  </button>\r\n</div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mapa */}\r\n        <div style={{ flex: 1, position: 'relative' }}>\r\n          <div ref={mapRef} style={{ width: '100%', height: '100%' }} />\r\n          \r\n          {!mapLoaded && (\r\n            <div style={{\r\n              position: 'absolute',\r\n              top: '50%',\r\n              left: '50%',\r\n              transform: 'translate(-50%, -50%)',\r\n              textAlign: 'center'\r\n            }}>\r\n              <div style={{\r\n                width: '50px',\r\n                height: '50px',\r\n                border: '4px solid #f3f3f3',\r\n                borderTop: '4px solid #667eea',\r\n                borderRadius: '50%',\r\n                animation: 'spin 1s linear infinite'\r\n              }}></div>\r\n              <p style={{ marginTop: '10px', color: '#666' }}>Cargando mapa...</p>\r\n            </div>\r\n          )}\r\n\r\n          {isCreatingZona && (\r\n            <div style={{\r\n              position: 'absolute',\r\n              top: '20px',\r\n              left: '50%',\r\n              transform: 'translateX(-50%)',\r\n              background: 'white',\r\n              padding: '12px 20px',\r\n              borderRadius: '8px',\r\n              boxShadow: '0 4px 20px rgba(0,0,0,0.15)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '10px'\r\n            }}>\r\n              <span style={{ fontSize: '14px', fontWeight: '500' }}>\r\n                üìç Haz clic en el mapa para seleccionar la ubicaci√≥n\r\n              </span>\r\n              <button\r\n                onClick={cancelCreatingZona}\r\n                style={{\r\n                  padding: '6px 12px',\r\n                  background: '#6b7280',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '4px',\r\n                  fontSize: '12px',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                Cancelar\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ZonesManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}