{"ast":null,"code":"// src/components/MapaQuillonFirebase.js\nimport React,{useEffect,useRef,useState}from'react';import{vehiculosService,zonasService,trabajadoresService,reportesService}from'../services/firebaseservices';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const MapaQuillonFirebase=_ref=>{let{currentUser,onLogout,onViewChange,currentView='dashboard'}=_ref;// Estados principales\nconst mapRef=useRef(null);const[map,setMap]=useState(null);const[vehiculos,setVehiculos]=useState([]);const[zonas,setZonas]=useState([]);const[trabajadores,setTrabajadores]=useState([]);const[zonasAsignadas,setZonasAsignadas]=useState([]);const showZonas=true;const[stats,setStats]=useState({vehiculos:{total:0,activos:0,enMantenimiento:0,enUso:0},zonas:{total:0,activas:0,completadas:0,pendientes:0},trabajadores:{total:0,enRuta:0,trabajando:0,disponibles:0}});// Estados UI\nconst[selectedItem,setSelectedItem]=useState(null);const[filterType,setFilterType]=useState('all');const[showSidebar,setShowSidebar]=useState(true);const[showLegend,setShowLegend]=useState(true);const[mapLoaded,setMapLoaded]=useState(false);const[isMobile,setIsMobile]=useState(false);const[activeTab,setActiveTab]=useState('vehiculos');const[showMobilePanel,setShowMobilePanel]=useState(false);const[centerOnUser,setCenterOnUser]=useState(false);const[searchTerm,setSearchTerm]=useState('');const[hoveredItem,setHoveredItem]=useState(null);const[showMobileFilters,setShowMobileFilters]=useState(false);// NUEVO ESTADO PARA FILTROS MÓVILES\n// Referencias para marcadores\nconst markersRef=useRef({vehiculos:{},zonas:{},zonasAsignadas:{},trabajadores:{}});const infoWindowRef=useRef(null);const API_KEY='AIzaSyA7DrdL36n5cx-RNzuXGAQggFeGCheHDbY';// Detectar si es móvil\nuseEffect(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<=768);if(window.innerWidth<=768){setShowSidebar(false);}};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);// Cargar Google Maps\nuseEffect(()=>{const loadGoogleMaps=()=>{return new Promise((resolve,reject)=>{if(window.google&&window.google.maps){resolve(window.google.maps);return;}const existingScript=document.querySelector('script[src*=\"maps.googleapis.com\"]');if(existingScript){existingScript.addEventListener('load',()=>{resolve(window.google.maps);});return;}const script=document.createElement('script');script.src=`https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=places,geometry&v=weekly`;script.async=true;script.defer=true;script.onload=()=>resolve(window.google.maps);script.onerror=reject;document.head.appendChild(script);});};const initMap=async()=>{try{const maps=await loadGoogleMaps();if(!mapRef.current)return;const mapInstance=new maps.Map(mapRef.current,{center:{lat:-36.7333,lng:-72.4667},zoom:13,mapTypeId:'roadmap',zoomControl:!isMobile,mapTypeControl:false,scaleControl:false,streetViewControl:false,rotateControl:false,fullscreenControl:true,gestureHandling:isMobile?'greedy':'auto',styles:[{featureType:\"poi.business\",stylers:[{visibility:\"off\"}]},{featureType:\"transit\",elementType:\"labels.icon\",stylers:[{visibility:\"off\"}]}]});setMap(mapInstance);infoWindowRef.current=new maps.InfoWindow();const locationButton=document.createElement('button');locationButton.innerHTML=`\n         <div style=\"\n           background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n           border-radius: 50%;\n           width: 44px;\n           height: 44px;\n           display: flex;\n           align-items: center;\n           justify-content: center;\n           box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\n           cursor: pointer;\n           transition: all 0.3s ease;\n         \">\n           <span style=\"font-size: 22px;\">📍</span>\n         </div>\n       `;locationButton.style.cssText='border: none; background: none; padding: 0; margin: 10px;';locationButton.title='Mi ubicación';mapInstance.controls[maps.ControlPosition.RIGHT_BOTTOM].push(locationButton);locationButton.addEventListener('click',()=>{if(navigator.geolocation){navigator.geolocation.getCurrentPosition(position=>{const pos={lat:position.coords.latitude,lng:position.coords.longitude};mapInstance.setCenter(pos);mapInstance.setZoom(15);},()=>{console.log('Error al obtener ubicación');});}});setMapLoaded(true);}catch(err){console.error('Error al cargar el mapa:',err);}};setTimeout(()=>{if(vehiculos.length>0)updateMarkers('vehiculos',vehiculos);if(zonasAsignadas.length>0)updateMarkers('zonasAsignadas',zonasAsignadas);if(trabajadores.length>0)updateMarkers('trabajadores',trabajadores);},500);initMap();},[isMobile]);useEffect(()=>{const unsubVehiculos=vehiculosService.subscribeToVehiculos(data=>{setVehiculos(data);if(filterType==='all'||filterType==='vehiculos'){updateMarkers('vehiculos',data);}});const unsubZonasAsignadas=zonasService.subscribeToZonasAsignadas(data=>{setZonasAsignadas(data);if(filterType==='all'||filterType==='zonas'){updateMarkers('zonasAsignadas',data);}});const unsubTrabajadores=trabajadoresService.subscribeToTrabajadores(data=>{setTrabajadores(data);if(filterType==='all'||filterType==='trabajadores'){updateMarkers('trabajadores',data);}});reportesService.getRealtimeStats(statsData=>{setStats(statsData);});return()=>{unsubVehiculos();unsubZonasAsignadas();unsubTrabajadores();};},[filterType,map]);// Actualizar marcadores\nconst updateMarkers=(type,data)=>{if(!map||!window.google)return;if(type==='zonasAsignadas'&&!showZonas){Object.values(markersRef.current.zonasAsignadas).forEach(marker=>marker.setMap(null));markersRef.current.zonasAsignadas={};return;}Object.values(markersRef.current[type]).forEach(marker=>marker.setMap(null));markersRef.current[type]={};if(filterType!=='all'&&filterType!==type&&type!=='zonasAsignadas')return;data.forEach(item=>{let position,icon,title,content;switch(type){case'vehiculos':if(!item.lat||!item.lng)return;position={lat:item.lat,lng:item.lng};icon={url:item.tipo==='maquinaria'?'https://maps.google.com/mapfiles/kml/shapes/mechanic.png':'https://maps.google.com/mapfiles/kml/shapes/cabs.png',scaledSize:new window.google.maps.Size(36,36)};title=item.nombre;content=`\n           <div style=\"padding: 12px; min-width: 250px;\">\n             <h3 style=\"margin: 0 0 10px 0; color: #1e293b;\">\n               ${item.tipo==='maquinaria'?'🏗️':'🚗'} ${item.nombre}\n             </h3>\n             <p style=\"margin: 5px 0;\"><strong>Estado:</strong> ${item.estado}</p>\n             <p style=\"margin: 5px 0;\"><strong>Patente:</strong> ${item.patente||'N/A'}</p>\n             <p style=\"margin: 5px 0;\"><strong>Operador:</strong> ${item.operadorAsignado||'Sin asignar'}</p>\n           </div>\n         `;break;case'zonasAsignadas':if(!item.lat||!item.lng)return;position={lat:item.lat,lng:item.lng};icon={path:'M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z',fillColor:item.estado==='completado'?'#22c55e':item.estado==='en_progreso'?'#3b82f6':item.prioridad==='urgente'?'#ef4444':item.prioridad==='alta'?'#f97316':'#f59e0b',fillOpacity:0.9,strokeColor:'#ffffff',strokeWeight:2,scale:2,anchor:new window.google.maps.Point(12,24)};title=item.nombre;const trabajadorAsignado=trabajadores.find(t=>t.id===item.trabajadorAsignado);content=`\n           <div style=\"padding: 12px; min-width: 250px;\">\n             <h3 style=\"margin: 0 0 10px 0; color: #1e293b;\">\n               🏗️ ${item.nombre}\n             </h3>\n             <p style=\"margin: 5px 0;\"><strong>Estado:</strong> \n               ${item.estado==='completado'?'✅ Completado':item.estado==='en_progreso'?'🔧 En Progreso':'⏳ Pendiente'}\n             </p>\n             <p style=\"margin: 5px 0;\"><strong>Dirección:</strong> ${item.direccion||'Sin dirección'}</p>\n             <p style=\"margin: 5px 0;\"><strong>Prioridad:</strong> \n               ${item.prioridad==='urgente'?'🔴 Urgente':item.prioridad==='alta'?'🟠 Alta':item.prioridad==='normal'?'🟡 Normal':'🟢 Baja'}\n             </p>\n             <p style=\"margin: 5px 0;\"><strong>Trabajador:</strong> \n               ${trabajadorAsignado?trabajadorAsignado.nombre:'Sin asignar'}\n             </p>\n             ${item.descripcion?`<p style=\"margin: 5px 0;\"><strong>Descripción:</strong> ${item.descripcion}</p>`:''}\n           </div>\n         `;break;case'trabajadores':if(type==='trabajadores'){data.forEach(item=>{if(!item.ubicacion||typeof item.ubicacion.lat!=='number'||typeof item.ubicacion.lng!=='number'){return;}const position={lat:item.ubicacion.lat,lng:item.ubicacion.lng};if(markersRef.current[type][item.id]){markersRef.current[type][item.id].setPosition(position);return;}const icon={path:window.google.maps.SymbolPath.FORWARD_CLOSED_ARROW,scale:10,fillColor:item.estado==='trabajando'?'#22c55e':item.estado==='en_camino'?'#f59e0b':'#6b7280',fillOpacity:1,strokeColor:'#ffffff',strokeWeight:3,rotation:0};const marker=new window.google.maps.Marker({position,map,title:item.nombre,icon,animation:null});const content=`\n               <div style=\"padding: 12px; min-width: 250px;\">\n                 <h3 style=\"margin: 0 0 10px 0; color: #1e293b;\">👷 ${item.nombre}</h3>\n                 <p style=\"margin: 5px 0;\"><strong>Estado:</strong> ${item.estado}</p>\n                 <p style=\"margin: 5px 0;\"><strong>Zona:</strong> ${item.zonaDestino||'Sin asignar'}</p>\n                 <p style=\"margin: 5px 0;\"><strong>Última actualización:</strong> ${new Date(item.ubicacion.timestamp).toLocaleTimeString('es-CL')}</p>\n               </div>\n             `;marker.addListener('click',()=>{infoWindowRef.current.setContent(content);infoWindowRef.current.open(map,marker);setSelectedItem(item);});markersRef.current[type][item.id]=marker;});return;}}if(type!=='trabajadores'){const marker=new window.google.maps.Marker({position,map,title,icon,animation:window.google.maps.Animation.DROP});marker.addListener('click',()=>{infoWindowRef.current.setContent(content);infoWindowRef.current.open(map,marker);setSelectedItem(item);});markersRef.current[type][item.id]=marker;}});};// Centrar mapa en item seleccionado\nconst centerOnItem=(item,type)=>{if(!map||!item)return;let position;switch(type){case'vehiculos':case'zonas':case'zonasAsignadas':if(item.lat&&item.lng){position={lat:item.lat,lng:item.lng};}break;case'trabajadores':if(item.ubicacion&&item.ubicacion.lat&&item.ubicacion.lng){position={lat:item.ubicacion.lat,lng:item.ubicacion.lng};}break;}if(position){map.panTo(position);map.setZoom(16);const marker=markersRef.current[type][item.id];if(marker){window.google.maps.event.trigger(marker,'click');}}};const handleFilterChange=newFilter=>{setFilterType(newFilter);['vehiculos','zonas','zonasAsignadas','trabajadores'].forEach(type=>{Object.values(markersRef.current[type]).forEach(marker=>marker.setMap(null));markersRef.current[type]={};});if(newFilter==='all'){updateMarkers('vehiculos',vehiculos);updateMarkers('zonasAsignadas',zonasAsignadas);updateMarkers('trabajadores',trabajadores);}else if(newFilter==='vehiculos'){updateMarkers('vehiculos',vehiculos);}else if(newFilter==='zonas'){updateMarkers('zonasAsignadas',zonasAsignadas);}else if(newFilter==='trabajadores'){updateMarkers('trabajadores',trabajadores);}// En móvil, ocultar filtros después de seleccionar\nif(isMobile){setShowMobileFilters(false);}};// Filtrar items por búsqueda\nconst filterBySearch=items=>{if(!searchTerm)return items;return items.filter(item=>{var _item$nombre,_item$patente,_item$direccion,_item$zonaDestino;const searchLower=searchTerm.toLowerCase();return((_item$nombre=item.nombre)===null||_item$nombre===void 0?void 0:_item$nombre.toLowerCase().includes(searchLower))||((_item$patente=item.patente)===null||_item$patente===void 0?void 0:_item$patente.toLowerCase().includes(searchLower))||((_item$direccion=item.direccion)===null||_item$direccion===void 0?void 0:_item$direccion.toLowerCase().includes(searchLower))||((_item$zonaDestino=item.zonaDestino)===null||_item$zonaDestino===void 0?void 0:_item$zonaDestino.toLowerCase().includes(searchLower));});};const styles={container:{width:'100%',height:'100vh',display:'flex',flexDirection:'column',background:'#f8f9fa'},header:{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',padding:isMobile?'10px':'16px 24px',boxShadow:'0 4px 20px rgba(0,0,0,0.15)',zIndex:1000,backdropFilter:'blur(10px)'},headerContent:{display:'flex',justifyContent:'space-between',alignItems:'center',flexWrap:isMobile?'wrap':'nowrap',gap:'10px'},headerLeft:{display:'flex',alignItems:'center',gap:'8px'},title:{margin:0,fontSize:isMobile?'18px':'24px',fontWeight:'700',display:'flex',alignItems:'center',gap:'10px',letterSpacing:'-0.5px'},navigationButtons:{display:'flex',gap:'10px',alignItems:'center',flexWrap:'wrap'},navButton:{padding:isMobile?'8px 12px':'10px 18px',background:'rgba(255,255,255,0.15)',backdropFilter:'blur(10px)',color:'white',border:'1px solid rgba(255,255,255,0.25)',borderRadius:'10px',cursor:'pointer',fontSize:isMobile?'12px':'14px',fontWeight:'500',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',display:'flex',alignItems:'center',gap:'6px'},logoutButton:{padding:isMobile?'8px 12px':'10px 18px',background:'rgba(239, 68, 68, 0.9)',backdropFilter:'blur(10px)',color:'white',border:'none',borderRadius:'10px',cursor:'pointer',fontSize:isMobile?'12px':'14px',fontWeight:'600',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)'},mainContent:{flex:1,display:'flex',position:'relative',overflow:'hidden'},sidebar:{width:showSidebar?isMobile?'100%':'380px':'0',background:'linear-gradient(180deg, #ffffff 0%, #f8f9fa 100%)',borderRight:showSidebar?'1px solid rgba(0,0,0,0.08)':'none',overflowY:'auto',overflowX:'hidden',display:'flex',flexDirection:'column',position:isMobile?'absolute':'relative',height:'100%',zIndex:isMobile?999:1,boxShadow:showSidebar?'4px 0 20px rgba(0,0,0,0.08)':'none',transition:'width 0.4s cubic-bezier(0.4, 0, 0.2, 1), border 0.4s ease'},sidebarContent:{width:'380px',opacity:showSidebar?1:0,transition:'opacity 0.3s ease',pointerEvents:showSidebar?'auto':'none'},sidebarHeader:{padding:isMobile?'16px':'20px',borderBottom:'1px solid rgba(0,0,0,0.06)',background:'linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%)'},searchBar:{width:'100%',padding:'12px 16px',border:'2px solid #e2e8f0',borderRadius:'12px',fontSize:'14px',outline:'none',transition:'all 0.3s ease',marginBottom:'16px',background:'white'},// NUEVO ESTILO PARA BOTÓN DE FILTROS MÓVILES\nmobileFilterToggle:{width:'100%',padding:'10px',background:'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',color:'white',border:'none',borderRadius:'10px',fontSize:'14px',fontWeight:'600',cursor:'pointer',marginBottom:'16px',display:'flex',alignItems:'center',justifyContent:'center',gap:'8px',transition:'all 0.3s ease'},// CONTENEDOR DE FILTROS MÓVILES\nmobileFiltersContainer:{overflow:'hidden',maxHeight:showMobileFilters?'200px':'0',transition:'max-height 0.3s ease-in-out',marginBottom:showMobileFilters?'16px':'0'},filterButtons:{display:'grid',gridTemplateColumns:'repeat(2, 1fr)',gap:'10px',marginBottom:'16px'},filterButton:{padding:isMobile?'10px':'12px',borderRadius:'12px',border:'2px solid #e2e8f0',background:'white',cursor:'pointer',fontSize:isMobile?'13px':'14px',fontWeight:'500',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',textAlign:'center',display:'flex',alignItems:'center',justifyContent:'center',gap:'6px',color:'#64748b'},filterButtonActive:{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',borderColor:'transparent',transform:'scale(1.02)',boxShadow:'0 4px 12px rgba(102, 126, 234, 0.3)'},statsGrid:{display:'grid',gridTemplateColumns:'repeat(2, 1fr)',gap:'12px',marginTop:'16px'},statCard:{padding:'12px',background:'white',borderRadius:'14px',border:'1px solid rgba(0,0,0,0.06)',textAlign:'center',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',cursor:'pointer'},statNumber:{fontSize:'20px',fontWeight:'700',color:'#1e293b',marginBottom:'2px'},statLabel:{fontSize:'10px',color:'#64748b',textTransform:'uppercase',letterSpacing:'0.3px',fontWeight:'600'},tabs:{display:'flex',borderBottom:'2px solid #f1f5f9',background:'white',padding:'0 20px',gap:'8px',position:'sticky',top:0,zIndex:10},tab:{flex:1,padding:'14px 8px',background:'transparent',border:'none',borderBottom:'3px solid transparent',cursor:'pointer',fontSize:isMobile?'13px':'14px',color:'#64748b',fontWeight:'500',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',display:'flex',alignItems:'center',justifyContent:'center',gap:'6px',position:'relative'},tabActive:{color:'#667eea',borderBottomColor:'#667eea',fontWeight:'600',background:'linear-gradient(180deg, rgba(102, 126, 234, 0.05) 0%, transparent 100%)'},listContainer:{padding:'16px',flex:1,overflowY:'auto',overflowX:'hidden'},listItem:{padding:'14px',marginBottom:'10px',background:'white',border:'1px solid rgba(0,0,0,0.06)',borderRadius:'12px',cursor:'pointer',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',position:'relative',overflow:'hidden'},listItemHover:{transform:'translateY(-2px) scale(1.01)',boxShadow:'0 8px 24px rgba(0,0,0,0.1)',borderColor:'#667eea'},listItemHeader:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'8px',gap:'8px'},listItemTitle:{fontSize:'14px',fontWeight:'600',color:'#1e293b',display:'flex',alignItems:'center',gap:'6px',flex:1,minWidth:0,overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},listItemBadge:{padding:'3px 8px',borderRadius:'6px',fontSize:'10px',fontWeight:'600',textTransform:'uppercase',letterSpacing:'0.3px',flexShrink:0},listItemDetails:{fontSize:'12px',color:'#64748b',lineHeight:'1.5',display:'flex',flexDirection:'column',gap:'2px'},map:{flex:1,position:'relative'},toggleSidebarButton:{position:'fixed',left:showSidebar?'390px':'10px',top:'50%',transform:'translateY(-50%)',background:'white',border:'none',borderRadius:showSidebar?'0 12px 12px 0':'12px',padding:'16px 8px',boxShadow:'0 4px 12px rgba(0,0,0,0.1)',cursor:'pointer',zIndex:1002,transition:'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)',display:'flex',alignItems:'center',justifyContent:'center'},legend:{position:'absolute',bottom:isMobile?'60px':'20px',left:'20px',background:'white',borderRadius:'14px',padding:'16px',boxShadow:'0 4px 20px rgba(0,0,0,0.1)',zIndex:900,fontSize:isMobile?'12px':'13px',minWidth:'180px',backdropFilter:'blur(10px)',background:'rgba(255,255,255,0.95)',border:'1px solid rgba(0,0,0,0.06)',transition:'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)'},legendToggleButton:{position:'absolute',bottom:'20px',left:'20px',background:'white',borderRadius:'12px',padding:'10px 14px',boxShadow:'0 4px 12px rgba(0,0,0,0.1)',cursor:'pointer',zIndex:901,display:'flex',alignItems:'center',gap:'6px',fontSize:'13px',fontWeight:'500',color:'#64748b',border:'1px solid rgba(0,0,0,0.06)',transition:'all 0.3s ease'},legendTitle:{fontWeight:'700',marginBottom:'12px',color:'#1e293b',fontSize:'14px',display:'flex',justifyContent:'space-between',alignItems:'center'},legendItem:{display:'flex',alignItems:'center',gap:'10px',marginBottom:'8px',padding:'4px 0'},legendIcon:{width:'14px',height:'14px',borderRadius:'50%',flexShrink:0},mobileBottomNav:{position:'fixed',bottom:0,left:0,right:0,background:'white',borderTop:'1px solid rgba(0,0,0,0.08)',display:'flex',padding:'8px',gap:'8px',zIndex:1000,boxShadow:'0 -4px 20px rgba(0,0,0,0.08)'},mobileNavButton:{flex:1,padding:'10px',background:'#f8f9fa',border:'none',borderRadius:'10px',fontSize:'11px',cursor:'pointer',display:'flex',flexDirection:'column',alignItems:'center',gap:'4px',fontWeight:'500',transition:'all 0.3s ease',color:'#64748b'},emptyState:{textAlign:'center',padding:'40px 20px',color:'#64748b'},emptyIcon:{fontSize:'48px',marginBottom:'16px',opacity:0.5},loadingOverlay:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',textAlign:'center',zIndex:1000},spinner:{width:'50px',height:'50px',border:'4px solid #f3f4f6',borderTop:'4px solid #667eea',borderRadius:'50%',animation:'spin 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite'}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.header,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.headerContent,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.headerLeft,children:/*#__PURE__*/_jsxs(\"h1\",{style:styles.title,children:[\"\\uD83D\\uDCCA \",isMobile?'Dashboard':'Dashboard GPS']})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.navigationButtons,children:[!isMobile&&/*#__PURE__*/_jsx(_Fragment,{children:onViewChange&&/*#__PURE__*/_jsxs(_Fragment,{children:[(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='superadmin'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewChange('admin'),style:styles.navButton,onMouseEnter:e=>{e.currentTarget.style.background='rgba(255,255,255,0.25)';e.currentTarget.style.transform='translateY(-2px)';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(255,255,255,0.15)';e.currentTarget.style.transform='translateY(0)';},children:\"\\uD83D\\uDD10 Panel Admin\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewChange('zones'),style:styles.navButton,onMouseEnter:e=>{e.currentTarget.style.background='rgba(255,255,255,0.25)';e.currentTarget.style.transform='translateY(-2px)';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(255,255,255,0.15)';e.currentTarget.style.transform='translateY(0)';},children:\"\\uD83D\\uDDFA\\uFE0F Gesti\\xF3n Zonas\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewChange('fleet'),style:styles.navButton,onMouseEnter:e=>{e.currentTarget.style.background='rgba(255,255,255,0.25)';e.currentTarget.style.transform='translateY(-2px)';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(255,255,255,0.15)';e.currentTarget.style.transform='translateY(0)';},children:\"\\uD83D\\uDE9B Panel Flota\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:onLogout,style:styles.logoutButton,onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.05)';e.currentTarget.style.background='rgba(239, 68, 68, 1)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';e.currentTarget.style.background='rgba(239, 68, 68, 0.9)';},children:isMobile?'🚪':'🚪 Salir'})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.mainContent,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.sidebar,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.sidebarContent,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.sidebarHeader,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uD83D\\uDD0D Buscar...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),style:styles.searchBar,onFocus:e=>{e.target.style.borderColor='#667eea';e.target.style.boxShadow='0 0 0 3px rgba(102, 126, 234, 0.1)';},onBlur:e=>{e.target.style.borderColor='#e2e8f0';e.target.style.boxShadow='none';}}),isMobile&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowMobileFilters(!showMobileFilters),style:styles.mobileFilterToggle,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'16px'},children:\"\\uD83C\\uDFAF\"}),showMobileFilters?'Ocultar Filtros':'Mostrar Filtros',/*#__PURE__*/_jsx(\"span\",{style:{transform:showMobileFilters?'rotate(180deg)':'rotate(0)',transition:'transform 0.3s ease'},children:\"\\u25BC\"})]}),isMobile?/*#__PURE__*/_jsx(\"div\",{style:styles.mobileFiltersContainer,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.filterButtons,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFilterChange('all'),style:{...styles.filterButton,...(filterType==='all'?styles.filterButtonActive:{})},children:\"\\uD83C\\uDF10 Todo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFilterChange('vehiculos'),style:{...styles.filterButton,...(filterType==='vehiculos'?styles.filterButtonActive:{})},children:\"\\uD83D\\uDE9B Veh\\xEDculos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFilterChange('zonas'),style:{...styles.filterButton,...(filterType==='zonas'?styles.filterButtonActive:{})},children:\"\\uD83C\\uDFD7\\uFE0F Zonas\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFilterChange('trabajadores'),style:{...styles.filterButton,...(filterType==='trabajadores'?styles.filterButtonActive:{})},children:\"\\uD83D\\uDC77 Trabajadores\"})]})}):/*#__PURE__*/// FILTROS NORMALES PARA DESKTOP\n_jsxs(\"div\",{style:styles.filterButtons,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFilterChange('all'),style:{...styles.filterButton,...(filterType==='all'?styles.filterButtonActive:{})},children:\"\\uD83C\\uDF10 Todo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFilterChange('vehiculos'),style:{...styles.filterButton,...(filterType==='vehiculos'?styles.filterButtonActive:{})},children:\"\\uD83D\\uDE9B Veh\\xEDculos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFilterChange('zonas'),style:{...styles.filterButton,...(filterType==='zonas'?styles.filterButtonActive:{})},children:\"\\uD83C\\uDFD7\\uFE0F Zonas\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFilterChange('trabajadores'),style:{...styles.filterButton,...(filterType==='trabajadores'?styles.filterButtonActive:{})},children:\"\\uD83D\\uDC77 Trabajadores\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.statsGrid,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.statCard,onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 8px 24px rgba(0,0,0,0.1)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='none';},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.statNumber,children:stats.vehiculos.activos}),/*#__PURE__*/_jsx(\"div\",{style:styles.statLabel,children:\"Veh\\xEDculos Activos\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.statCard,onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 8px 24px rgba(0,0,0,0.1)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='none';},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.statNumber,children:stats.zonas.activas}),/*#__PURE__*/_jsx(\"div\",{style:styles.statLabel,children:\"Zonas Activas\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.statCard,onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 8px 24px rgba(0,0,0,0.1)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='none';},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.statNumber,children:stats.trabajadores.enRuta+stats.trabajadores.trabajando}),/*#__PURE__*/_jsx(\"div\",{style:styles.statLabel,children:\"Trabajando\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.statCard,onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 8px 24px rgba(0,0,0,0.1)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='none';},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.statNumber,children:stats.vehiculos.enMantenimiento}),/*#__PURE__*/_jsx(\"div\",{style:styles.statLabel,children:\"Mantenimiento\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.statCard,onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 8px 24px rgba(0,0,0,0.1)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='none';},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.statNumber,children:stats.zonas.completadas}),/*#__PURE__*/_jsx(\"div\",{style:styles.statLabel,children:\"Completadas\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.statCard,onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 8px 24px rgba(0,0,0,0.1)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='none';},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.statNumber,children:stats.trabajadores.disponibles}),/*#__PURE__*/_jsx(\"div\",{style:styles.statLabel,children:\"Disponibles\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.tabs,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('vehiculos'),style:{...styles.tab,...(activeTab==='vehiculos'?styles.tabActive:{})},children:\"\\uD83D\\uDE9B Veh\\xEDculos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('zonas'),style:{...styles.tab,...(activeTab==='zonas'?styles.tabActive:{})},children:\"\\uD83C\\uDFD7\\uFE0F Zonas\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('trabajadores'),style:{...styles.tab,...(activeTab==='trabajadores'?styles.tabActive:{})},children:\"\\uD83D\\uDC77 Trabajadores\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.listContainer,children:[activeTab==='vehiculos'&&(filterBySearch(vehiculos).length>0?filterBySearch(vehiculos).map(vehiculo=>/*#__PURE__*/_jsxs(\"div\",{style:{...styles.listItem,...(hoveredItem===vehiculo.id?styles.listItemHover:{})},onClick:()=>centerOnItem(vehiculo,'vehiculos'),onMouseEnter:()=>setHoveredItem(vehiculo.id),onMouseLeave:()=>setHoveredItem(null),children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.listItemHeader,children:[/*#__PURE__*/_jsxs(\"span\",{style:styles.listItemTitle,children:[vehiculo.tipo==='maquinaria'?'🏗️':'🚗',\" \",vehiculo.nombre]}),/*#__PURE__*/_jsx(\"span\",{style:{...styles.listItemBadge,background:vehiculo.estado==='disponible'?'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)':vehiculo.estado==='en_uso'?'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)':vehiculo.estado==='mantenimiento'?'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)':'linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)',color:vehiculo.estado==='disponible'?'#166534':vehiculo.estado==='en_uso'?'#1e40af':vehiculo.estado==='mantenimiento'?'#92400e':'#991b1b'},children:vehiculo.estado==='disponible'?'DISPONIBLE':vehiculo.estado==='en_uso'?'EN USO':vehiculo.estado==='mantenimiento'?'MANTENIM.':'FUERA'})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.listItemDetails,children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCCC Patente: \",vehiculo.patente||'N/A']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDC64 \",vehiculo.operadorAsignado||'Sin asignar']})]})]},vehiculo.id)):/*#__PURE__*/_jsxs(\"div\",{style:styles.emptyState,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.emptyIcon,children:\"\\uD83D\\uDE9B\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No se encontraron veh\\xEDculos\"})]})),activeTab==='zonas'&&(filterBySearch(zonasAsignadas).length>0?filterBySearch(zonasAsignadas).map(zona=>/*#__PURE__*/_jsxs(\"div\",{style:{...styles.listItem,...(hoveredItem===zona.id?styles.listItemHover:{})},onClick:()=>centerOnItem(zona,'zonasAsignadas'),onMouseEnter:()=>setHoveredItem(zona.id),onMouseLeave:()=>setHoveredItem(null),children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.listItemHeader,children:[/*#__PURE__*/_jsxs(\"span\",{style:styles.listItemTitle,children:[\"\\uD83C\\uDFD7\\uFE0F \",zona.nombre]}),/*#__PURE__*/_jsx(\"span\",{style:{...styles.listItemBadge,background:zona.estado==='completado'?'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)':zona.estado==='en_progreso'?'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)':'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',color:zona.estado==='completado'?'#166534':zona.estado==='en_progreso'?'#1e40af':'#92400e'},children:zona.estado==='completado'?'COMPLETADO':zona.estado==='en_progreso'?'EN PROGRESO':'PENDIENTE'})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.listItemDetails,children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCCD \",zona.direccion]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDC77 \",zona.trabajadorAsignado||'Sin asignar']})]})]},zona.id)):/*#__PURE__*/_jsxs(\"div\",{style:styles.emptyState,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.emptyIcon,children:\"\\uD83C\\uDFD7\\uFE0F\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No se encontraron zonas\"})]})),activeTab==='trabajadores'&&(()=>{const activeTrabajadores=filterBySearch(trabajadores).filter(t=>t.ubicacion&&new Date()-new Date(t.ubicacion.timestamp)<300000);return activeTrabajadores.length>0?activeTrabajadores.map(trabajador=>/*#__PURE__*/_jsxs(\"div\",{style:{...styles.listItem,...(hoveredItem===trabajador.id?styles.listItemHover:{})},onClick:()=>centerOnItem(trabajador,'trabajadores'),onMouseEnter:()=>setHoveredItem(trabajador.id),onMouseLeave:()=>setHoveredItem(null),children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.listItemHeader,children:[/*#__PURE__*/_jsxs(\"span\",{style:styles.listItemTitle,children:[\"\\uD83D\\uDC77 \",trabajador.nombre]}),/*#__PURE__*/_jsx(\"span\",{style:{...styles.listItemBadge,background:trabajador.estado==='trabajando'?'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)':trabajador.estado==='en_camino'?'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)':'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',color:trabajador.estado==='trabajando'?'#166534':trabajador.estado==='en_camino'?'#92400e':'#6b7280'},children:trabajador.estado==='trabajando'?'TRABAJANDO':trabajador.estado==='en_camino'?'EN CAMINO':'DISPONIBLE'})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.listItemDetails,children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCCD \",trabajador.zonaDestino||'Sin asignar']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDD50 \",new Date(trabajador.ubicacion.timestamp).toLocaleTimeString('es-CL')]})]})]},trabajador.id)):/*#__PURE__*/_jsxs(\"div\",{style:styles.emptyState,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.emptyIcon,children:\"\\uD83D\\uDC77\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No hay trabajadores activos\"})]});})()]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.map,children:[/*#__PURE__*/_jsx(\"div\",{ref:mapRef,style:{width:'100%',height:'100%'}}),!isMobile&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSidebar(!showSidebar),style:styles.toggleSidebarButton,onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-50%) scale(1.1)';e.currentTarget.style.boxShadow='0 8px 24px rgba(0,0,0,0.15)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(-50%) scale(1)';e.currentTarget.style.boxShadow='0 4px 12px rgba(0,0,0,0.1)';},children:/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'20px',transition:'transform 0.3s ease',display:'inline-block',transform:showSidebar?'rotate(0deg)':'rotate(180deg)'},children:\"\\u25C0\"})}),!isMobile&&/*#__PURE__*/_jsxs(_Fragment,{children:[!showLegend&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowLegend(true),style:styles.legendToggleButton,onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.05)';e.currentTarget.style.boxShadow='0 6px 20px rgba(0,0,0,0.12)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';e.currentTarget.style.boxShadow='0 4px 12px rgba(0,0,0,0.1)';},children:\"\\uD83D\\uDCCD Mostrar Leyenda\"}),showLegend&&/*#__PURE__*/_jsxs(\"div\",{style:styles.legend,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.legendTitle,children:[\"Leyenda\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowLegend(false),style:{background:'none',border:'none',cursor:'pointer',fontSize:'16px',color:'#64748b',padding:'0',transition:'transform 0.2s ease'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.1)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';},children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.legendItem,children:[/*#__PURE__*/_jsx(\"div\",{style:{...styles.legendIcon,background:'#22c55e'}}),/*#__PURE__*/_jsx(\"span\",{children:\"Activo/Completado\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.legendItem,children:[/*#__PURE__*/_jsx(\"div\",{style:{...styles.legendIcon,background:'#3b82f6'}}),/*#__PURE__*/_jsx(\"span\",{children:\"En Progreso\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.legendItem,children:[/*#__PURE__*/_jsx(\"div\",{style:{...styles.legendIcon,background:'#f59e0b'}}),/*#__PURE__*/_jsx(\"span\",{children:\"Pendiente/En Camino\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.legendItem,children:[/*#__PURE__*/_jsx(\"div\",{style:{...styles.legendIcon,background:'#6b7280'}}),/*#__PURE__*/_jsx(\"span\",{children:\"Inactivo\"})]}),showZonas&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:{borderTop:'1px solid #e5e7eb',marginTop:'8px',paddingTop:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',fontWeight:'600',color:'#64748b',marginBottom:'6px'},children:\"ZONAS DE TRABAJO\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.legendItem,children:[/*#__PURE__*/_jsx(\"div\",{style:{...styles.legendIcon,background:'#ef4444'}}),/*#__PURE__*/_jsx(\"span\",{children:\"Urgente\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.legendItem,children:[/*#__PURE__*/_jsx(\"div\",{style:{...styles.legendIcon,background:'#f97316'}}),/*#__PURE__*/_jsx(\"span\",{children:\"Alta Prioridad\"})]})]})})]})]}),!mapLoaded&&/*#__PURE__*/_jsxs(\"div\",{style:styles.loadingOverlay,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.spinner}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'16px',color:'#64748b',fontSize:'14px'},children:\"Cargando mapa...\"})]})]})]}),isMobile&&onViewChange&&/*#__PURE__*/_jsxs(\"div\",{style:styles.mobileBottomNav,children:[(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='superadmin'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onViewChange('admin'),style:styles.mobileNavButton,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px'},children:\"\\uD83D\\uDD10\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Admin\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onViewChange('dashboard'),style:{...styles.mobileNavButton,background:currentView==='dashboard'?'linear-gradient(135deg, #667eea 0%, #764ba2 100%)':'#f8f9fa',color:currentView==='dashboard'?'white':'#64748b'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px'},children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Dashboard\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onViewChange('zones'),style:styles.mobileNavButton,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px'},children:\"\\uD83D\\uDDFA\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Zonas\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onViewChange('fleet'),style:styles.mobileNavButton,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px'},children:\"\\uD83D\\uDE9B\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Flota\"})]})]}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:`\n       @keyframes spin {\n         0% { transform: rotate(0deg); }\n         100% { transform: rotate(360deg); }\n       }\n       \n       @keyframes slideIn {\n         from {\n           opacity: 0;\n           transform: translateX(-20px);\n         }\n         to {\n           opacity: 1;\n           transform: translateX(0);\n         }\n       }\n       \n       ::-webkit-scrollbar {\n         width: 6px;\n       }\n       \n       ::-webkit-scrollbar-track {\n         background: #f1f5f9;\n         border-radius: 3px;\n       }\n       \n       ::-webkit-scrollbar-thumb {\n         background: linear-gradient(180deg, #cbd5e1 0%, #94a3b8 100%);\n         border-radius: 3px;\n       }\n       \n       ::-webkit-scrollbar-thumb:hover {\n         background: linear-gradient(180deg, #94a3b8 0%, #64748b 100%);\n       }\n     `})]});};export default MapaQuillonFirebase;","map":{"version":3,"names":["React","useEffect","useRef","useState","vehiculosService","zonasService","trabajadoresService","reportesService","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","MapaQuillonFirebase","_ref","currentUser","onLogout","onViewChange","currentView","mapRef","map","setMap","vehiculos","setVehiculos","zonas","setZonas","trabajadores","setTrabajadores","zonasAsignadas","setZonasAsignadas","showZonas","stats","setStats","total","activos","enMantenimiento","enUso","activas","completadas","pendientes","enRuta","trabajando","disponibles","selectedItem","setSelectedItem","filterType","setFilterType","showSidebar","setShowSidebar","showLegend","setShowLegend","mapLoaded","setMapLoaded","isMobile","setIsMobile","activeTab","setActiveTab","showMobilePanel","setShowMobilePanel","centerOnUser","setCenterOnUser","searchTerm","setSearchTerm","hoveredItem","setHoveredItem","showMobileFilters","setShowMobileFilters","markersRef","infoWindowRef","API_KEY","checkMobile","window","innerWidth","addEventListener","removeEventListener","loadGoogleMaps","Promise","resolve","reject","google","maps","existingScript","document","querySelector","script","createElement","src","async","defer","onload","onerror","head","appendChild","initMap","current","mapInstance","Map","center","lat","lng","zoom","mapTypeId","zoomControl","mapTypeControl","scaleControl","streetViewControl","rotateControl","fullscreenControl","gestureHandling","styles","featureType","stylers","visibility","elementType","InfoWindow","locationButton","innerHTML","style","cssText","title","controls","ControlPosition","RIGHT_BOTTOM","push","navigator","geolocation","getCurrentPosition","position","pos","coords","latitude","longitude","setCenter","setZoom","console","log","err","error","setTimeout","length","updateMarkers","unsubVehiculos","subscribeToVehiculos","data","unsubZonasAsignadas","subscribeToZonasAsignadas","unsubTrabajadores","subscribeToTrabajadores","getRealtimeStats","statsData","type","Object","values","forEach","marker","item","icon","content","url","tipo","scaledSize","Size","nombre","estado","patente","operadorAsignado","path","fillColor","prioridad","fillOpacity","strokeColor","strokeWeight","scale","anchor","Point","trabajadorAsignado","find","t","id","direccion","descripcion","ubicacion","setPosition","SymbolPath","FORWARD_CLOSED_ARROW","rotation","Marker","animation","zonaDestino","Date","timestamp","toLocaleTimeString","addListener","setContent","open","Animation","DROP","centerOnItem","panTo","event","trigger","handleFilterChange","newFilter","filterBySearch","items","filter","_item$nombre","_item$patente","_item$direccion","_item$zonaDestino","searchLower","toLowerCase","includes","container","width","height","display","flexDirection","background","header","color","padding","boxShadow","zIndex","backdropFilter","headerContent","justifyContent","alignItems","flexWrap","gap","headerLeft","margin","fontSize","fontWeight","letterSpacing","navigationButtons","navButton","border","borderRadius","cursor","transition","logoutButton","mainContent","flex","overflow","sidebar","borderRight","overflowY","overflowX","sidebarContent","opacity","pointerEvents","sidebarHeader","borderBottom","searchBar","outline","marginBottom","mobileFilterToggle","mobileFiltersContainer","maxHeight","filterButtons","gridTemplateColumns","filterButton","textAlign","filterButtonActive","borderColor","transform","statsGrid","marginTop","statCard","statNumber","statLabel","textTransform","tabs","top","tab","tabActive","borderBottomColor","listContainer","listItem","listItemHover","listItemHeader","listItemTitle","minWidth","textOverflow","whiteSpace","listItemBadge","flexShrink","listItemDetails","lineHeight","toggleSidebarButton","left","legend","bottom","legendToggleButton","legendTitle","legendItem","legendIcon","mobileBottomNav","right","borderTop","mobileNavButton","emptyState","emptyIcon","loadingOverlay","spinner","children","role","onClick","onMouseEnter","e","currentTarget","onMouseLeave","placeholder","value","onChange","target","onFocus","onBlur","vehiculo","zona","activeTrabajadores","trabajador","ref","paddingTop"],"sources":["C:/Users/Izan/Desktop/AppReact/mapa-quillon/src/components/MapaQuillonFirebase.js"],"sourcesContent":["// src/components/MapaQuillonFirebase.js\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { vehiculosService, zonasService, trabajadoresService, reportesService } from '../services/firebaseservices';\r\n\r\nconst MapaQuillonFirebase = ({ currentUser, onLogout, onViewChange, currentView = 'dashboard' }) => {\r\n // Estados principales\r\n const mapRef = useRef(null);\r\n const [map, setMap] = useState(null);\r\n const [vehiculos, setVehiculos] = useState([]);\r\n const [zonas, setZonas] = useState([]);\r\n const [trabajadores, setTrabajadores] = useState([]);\r\n const [zonasAsignadas, setZonasAsignadas] = useState([]);\r\n const showZonas = true;\r\n \r\n const [stats, setStats] = useState({\r\n   vehiculos: { total: 0, activos: 0, enMantenimiento: 0, enUso: 0 },\r\n   zonas: { total: 0, activas: 0, completadas: 0, pendientes: 0 },\r\n   trabajadores: { total: 0, enRuta: 0, trabajando: 0, disponibles: 0 }\r\n });\r\n \r\n // Estados UI\r\n const [selectedItem, setSelectedItem] = useState(null);\r\n const [filterType, setFilterType] = useState('all');\r\n const [showSidebar, setShowSidebar] = useState(true);\r\n const [showLegend, setShowLegend] = useState(true);\r\n const [mapLoaded, setMapLoaded] = useState(false);\r\n const [isMobile, setIsMobile] = useState(false);\r\n const [activeTab, setActiveTab] = useState('vehiculos');\r\n const [showMobilePanel, setShowMobilePanel] = useState(false);\r\n const [centerOnUser, setCenterOnUser] = useState(false);\r\n const [searchTerm, setSearchTerm] = useState('');\r\n const [hoveredItem, setHoveredItem] = useState(null);\r\n const [showMobileFilters, setShowMobileFilters] = useState(false); // NUEVO ESTADO PARA FILTROS MÓVILES\r\n \r\n // Referencias para marcadores\r\n const markersRef = useRef({\r\n   vehiculos: {},\r\n   zonas: {},\r\n   zonasAsignadas: {},\r\n   trabajadores: {}\r\n });\r\n \r\n const infoWindowRef = useRef(null);\r\n const API_KEY = 'AIzaSyA7DrdL36n5cx-RNzuXGAQggFeGCheHDbY';\r\n\r\n // Detectar si es móvil\r\n useEffect(() => {\r\n   const checkMobile = () => {\r\n     setIsMobile(window.innerWidth <= 768);\r\n     if (window.innerWidth <= 768) {\r\n       setShowSidebar(false);\r\n     }\r\n   };\r\n   \r\n   checkMobile();\r\n   window.addEventListener('resize', checkMobile);\r\n   \r\n   return () => window.removeEventListener('resize', checkMobile);\r\n }, []);\r\n\r\n // Cargar Google Maps\r\n useEffect(() => {\r\n   const loadGoogleMaps = () => {\r\n     return new Promise((resolve, reject) => {\r\n       if (window.google && window.google.maps) {\r\n         resolve(window.google.maps);\r\n         return;\r\n       }\r\n\r\n       const existingScript = document.querySelector('script[src*=\"maps.googleapis.com\"]');\r\n       if (existingScript) {\r\n         existingScript.addEventListener('load', () => {\r\n           resolve(window.google.maps);\r\n         });\r\n         return;\r\n       }\r\n\r\n       const script = document.createElement('script');\r\n       script.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=places,geometry&v=weekly`;\r\n       script.async = true;\r\n       script.defer = true;\r\n       script.onload = () => resolve(window.google.maps);\r\n       script.onerror = reject;\r\n       document.head.appendChild(script);\r\n     });\r\n   };\r\n\r\n   const initMap = async () => {\r\n     try {\r\n       const maps = await loadGoogleMaps();\r\n       \r\n       if (!mapRef.current) return;\r\n\r\n       const mapInstance = new maps.Map(mapRef.current, {\r\n         center: { lat: -36.7333, lng: -72.4667 },\r\n         zoom: 13,\r\n         mapTypeId: 'roadmap',\r\n         zoomControl: !isMobile,\r\n         mapTypeControl: false,\r\n         scaleControl: false,\r\n         streetViewControl: false,\r\n         rotateControl: false,\r\n         fullscreenControl: true,\r\n         gestureHandling: isMobile ? 'greedy' : 'auto',\r\n         styles: [\r\n           {\r\n             featureType: \"poi.business\",\r\n             stylers: [{ visibility: \"off\" }]\r\n           },\r\n           {\r\n             featureType: \"transit\",\r\n             elementType: \"labels.icon\",\r\n             stylers: [{ visibility: \"off\" }]\r\n           }\r\n         ]\r\n       });\r\n\r\n       setMap(mapInstance);\r\n       \r\n       infoWindowRef.current = new maps.InfoWindow();\r\n       \r\n       const locationButton = document.createElement('button');\r\n       locationButton.innerHTML = `\r\n         <div style=\"\r\n           background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n           border-radius: 50%;\r\n           width: 44px;\r\n           height: 44px;\r\n           display: flex;\r\n           align-items: center;\r\n           justify-content: center;\r\n           box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\r\n           cursor: pointer;\r\n           transition: all 0.3s ease;\r\n         \">\r\n           <span style=\"font-size: 22px;\">📍</span>\r\n         </div>\r\n       `;\r\n       locationButton.style.cssText = 'border: none; background: none; padding: 0; margin: 10px;';\r\n       locationButton.title = 'Mi ubicación';\r\n       \r\n       mapInstance.controls[maps.ControlPosition.RIGHT_BOTTOM].push(locationButton);\r\n       \r\n       locationButton.addEventListener('click', () => {\r\n         if (navigator.geolocation) {\r\n           navigator.geolocation.getCurrentPosition(\r\n             (position) => {\r\n               const pos = {\r\n                 lat: position.coords.latitude,\r\n                 lng: position.coords.longitude\r\n               };\r\n               mapInstance.setCenter(pos);\r\n               mapInstance.setZoom(15);\r\n             },\r\n             () => {\r\n               console.log('Error al obtener ubicación');\r\n             }\r\n           );\r\n         }\r\n       });\r\n       \r\n       setMapLoaded(true);\r\n     } catch (err) {\r\n       console.error('Error al cargar el mapa:', err);\r\n     }\r\n   };\r\n   \r\n   setTimeout(() => {\r\n     if (vehiculos.length > 0) updateMarkers('vehiculos', vehiculos);\r\n     if (zonasAsignadas.length > 0) updateMarkers('zonasAsignadas', zonasAsignadas);\r\n     if (trabajadores.length > 0) updateMarkers('trabajadores', trabajadores);\r\n   }, 500);\r\n\r\n   initMap();\r\n }, [isMobile]);\r\n\r\n useEffect(() => {\r\n   const unsubVehiculos = vehiculosService.subscribeToVehiculos((data) => {\r\n     setVehiculos(data);\r\n     if (filterType === 'all' || filterType === 'vehiculos') {\r\n       updateMarkers('vehiculos', data);\r\n     }\r\n   });\r\n\r\n   const unsubZonasAsignadas = zonasService.subscribeToZonasAsignadas((data) => {\r\n     setZonasAsignadas(data);\r\n     if (filterType === 'all' || filterType === 'zonas') {\r\n       updateMarkers('zonasAsignadas', data);\r\n     }\r\n   });\r\n\r\n   const unsubTrabajadores = trabajadoresService.subscribeToTrabajadores((data) => {\r\n     setTrabajadores(data);\r\n     if (filterType === 'all' || filterType === 'trabajadores') {\r\n       updateMarkers('trabajadores', data);\r\n     }\r\n   });\r\n\r\n   reportesService.getRealtimeStats((statsData) => {\r\n     setStats(statsData);\r\n   });\r\n\r\n   return () => {\r\n     unsubVehiculos();\r\n     unsubZonasAsignadas();\r\n     unsubTrabajadores();\r\n   };\r\n }, [filterType, map]);\r\n\r\n // Actualizar marcadores\r\n const updateMarkers = (type, data) => {\r\n   if (!map || !window.google) return;\r\n\r\n   if (type === 'zonasAsignadas' && !showZonas) {\r\n     Object.values(markersRef.current.zonasAsignadas).forEach(marker => marker.setMap(null));\r\n     markersRef.current.zonasAsignadas = {};\r\n     return;\r\n   }\r\n\r\n   Object.values(markersRef.current[type]).forEach(marker => marker.setMap(null));\r\n   markersRef.current[type] = {};\r\n\r\n   if (filterType !== 'all' && filterType !== type && type !== 'zonasAsignadas') return;\r\n\r\n   data.forEach(item => {\r\n     let position, icon, title, content;\r\n\r\n     switch (type) {\r\n       case 'vehiculos':\r\n         if (!item.lat || !item.lng) return;\r\n         position = { lat: item.lat, lng: item.lng };\r\n         icon = {\r\n           url: item.tipo === 'maquinaria' ? \r\n             'https://maps.google.com/mapfiles/kml/shapes/mechanic.png' :\r\n             'https://maps.google.com/mapfiles/kml/shapes/cabs.png',\r\n           scaledSize: new window.google.maps.Size(36, 36)\r\n         };\r\n         title = item.nombre;\r\n         content = `\r\n           <div style=\"padding: 12px; min-width: 250px;\">\r\n             <h3 style=\"margin: 0 0 10px 0; color: #1e293b;\">\r\n               ${item.tipo === 'maquinaria' ? '🏗️' : '🚗'} ${item.nombre}\r\n             </h3>\r\n             <p style=\"margin: 5px 0;\"><strong>Estado:</strong> ${item.estado}</p>\r\n             <p style=\"margin: 5px 0;\"><strong>Patente:</strong> ${item.patente || 'N/A'}</p>\r\n             <p style=\"margin: 5px 0;\"><strong>Operador:</strong> ${item.operadorAsignado || 'Sin asignar'}</p>\r\n           </div>\r\n         `;\r\n         break;\r\n\r\n       case 'zonasAsignadas':\r\n         if (!item.lat || !item.lng) return;\r\n         position = { lat: item.lat, lng: item.lng };\r\n         \r\n         icon = {\r\n           path: 'M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z',\r\n           fillColor: item.estado === 'completado' ? '#22c55e' : \r\n                     item.estado === 'en_progreso' ? '#3b82f6' : \r\n                     item.prioridad === 'urgente' ? '#ef4444' :\r\n                     item.prioridad === 'alta' ? '#f97316' : '#f59e0b',\r\n           fillOpacity: 0.9,\r\n           strokeColor: '#ffffff',\r\n           strokeWeight: 2,\r\n           scale: 2,\r\n           anchor: new window.google.maps.Point(12, 24)\r\n         };\r\n         \r\n         title = item.nombre;\r\n         const trabajadorAsignado = trabajadores.find(t => t.id === item.trabajadorAsignado);\r\n         \r\n         content = `\r\n           <div style=\"padding: 12px; min-width: 250px;\">\r\n             <h3 style=\"margin: 0 0 10px 0; color: #1e293b;\">\r\n               🏗️ ${item.nombre}\r\n             </h3>\r\n             <p style=\"margin: 5px 0;\"><strong>Estado:</strong> \r\n               ${item.estado === 'completado' ? '✅ Completado' :\r\n                 item.estado === 'en_progreso' ? '🔧 En Progreso' : '⏳ Pendiente'}\r\n             </p>\r\n             <p style=\"margin: 5px 0;\"><strong>Dirección:</strong> ${item.direccion || 'Sin dirección'}</p>\r\n             <p style=\"margin: 5px 0;\"><strong>Prioridad:</strong> \r\n               ${item.prioridad === 'urgente' ? '🔴 Urgente' :\r\n                 item.prioridad === 'alta' ? '🟠 Alta' :\r\n                 item.prioridad === 'normal' ? '🟡 Normal' : '🟢 Baja'}\r\n             </p>\r\n             <p style=\"margin: 5px 0;\"><strong>Trabajador:</strong> \r\n               ${trabajadorAsignado ? trabajadorAsignado.nombre : 'Sin asignar'}\r\n             </p>\r\n             ${item.descripcion ? `<p style=\"margin: 5px 0;\"><strong>Descripción:</strong> ${item.descripcion}</p>` : ''}\r\n           </div>\r\n         `;\r\n         break;\r\n\r\n       case 'trabajadores':\r\n         if (type === 'trabajadores') {\r\n           data.forEach(item => {\r\n             if (!item.ubicacion || typeof item.ubicacion.lat !== 'number' || typeof item.ubicacion.lng !== 'number') {\r\n               return;\r\n             }\r\n\r\n             const position = { lat: item.ubicacion.lat, lng: item.ubicacion.lng };\r\n             \r\n             if (markersRef.current[type][item.id]) {\r\n               markersRef.current[type][item.id].setPosition(position);\r\n               return;\r\n             }\r\n\r\n             const icon = {\r\n               path: window.google.maps.SymbolPath.FORWARD_CLOSED_ARROW,\r\n               scale: 10,\r\n               fillColor: item.estado === 'trabajando' ? '#22c55e' :\r\n                          item.estado === 'en_camino' ? '#f59e0b' : '#6b7280',\r\n               fillOpacity: 1,\r\n               strokeColor: '#ffffff',\r\n               strokeWeight: 3,\r\n               rotation: 0\r\n             };\r\n\r\n             const marker = new window.google.maps.Marker({\r\n               position,\r\n               map,\r\n               title: item.nombre,\r\n               icon,\r\n               animation: null\r\n             });\r\n\r\n             const content = `\r\n               <div style=\"padding: 12px; min-width: 250px;\">\r\n                 <h3 style=\"margin: 0 0 10px 0; color: #1e293b;\">👷 ${item.nombre}</h3>\r\n                 <p style=\"margin: 5px 0;\"><strong>Estado:</strong> ${item.estado}</p>\r\n                 <p style=\"margin: 5px 0;\"><strong>Zona:</strong> ${item.zonaDestino || 'Sin asignar'}</p>\r\n                 <p style=\"margin: 5px 0;\"><strong>Última actualización:</strong> ${new Date(item.ubicacion.timestamp).toLocaleTimeString('es-CL')}</p>\r\n               </div>\r\n             `;\r\n\r\n             marker.addListener('click', () => {\r\n               infoWindowRef.current.setContent(content);\r\n               infoWindowRef.current.open(map, marker);\r\n               setSelectedItem(item);\r\n             });\r\n\r\n             markersRef.current[type][item.id] = marker;\r\n           });\r\n           return;\r\n         }\r\n     }\r\n\r\n     if (type !== 'trabajadores') {\r\n       const marker = new window.google.maps.Marker({\r\n         position,\r\n         map,\r\n         title,\r\n         icon,\r\n         animation: window.google.maps.Animation.DROP\r\n       });\r\n\r\n       marker.addListener('click', () => {\r\n         infoWindowRef.current.setContent(content);\r\n         infoWindowRef.current.open(map, marker);\r\n         setSelectedItem(item);\r\n       });\r\n\r\n       markersRef.current[type][item.id] = marker;\r\n     }\r\n   });\r\n };\r\n\r\n // Centrar mapa en item seleccionado\r\n const centerOnItem = (item, type) => {\r\n   if (!map || !item) return;\r\n\r\n   let position;\r\n   switch (type) {\r\n     case 'vehiculos':\r\n     case 'zonas':\r\n     case 'zonasAsignadas':\r\n       if (item.lat && item.lng) {\r\n         position = { lat: item.lat, lng: item.lng };\r\n       }\r\n       break;\r\n     case 'trabajadores':\r\n       if (item.ubicacion && item.ubicacion.lat && item.ubicacion.lng) {\r\n         position = { lat: item.ubicacion.lat, lng: item.ubicacion.lng };\r\n       }\r\n       break;\r\n   }\r\n\r\n   if (position) {\r\n     map.panTo(position);\r\n     map.setZoom(16);\r\n     \r\n     const marker = markersRef.current[type][item.id];\r\n     if (marker) {\r\n       window.google.maps.event.trigger(marker, 'click');\r\n     }\r\n   }\r\n };\r\n\r\n const handleFilterChange = (newFilter) => {\r\n   setFilterType(newFilter);\r\n   \r\n   ['vehiculos', 'zonas', 'zonasAsignadas', 'trabajadores'].forEach(type => {\r\n     Object.values(markersRef.current[type]).forEach(marker => marker.setMap(null));\r\n     markersRef.current[type] = {};\r\n   });\r\n\r\n   if (newFilter === 'all') {\r\n     updateMarkers('vehiculos', vehiculos);\r\n     updateMarkers('zonasAsignadas', zonasAsignadas);\r\n     updateMarkers('trabajadores', trabajadores);\r\n   } else if (newFilter === 'vehiculos') {\r\n     updateMarkers('vehiculos', vehiculos);\r\n   } else if (newFilter === 'zonas') {\r\n     updateMarkers('zonasAsignadas', zonasAsignadas);\r\n   } else if (newFilter === 'trabajadores') {\r\n     updateMarkers('trabajadores', trabajadores);\r\n   }\r\n   \r\n   // En móvil, ocultar filtros después de seleccionar\r\n   if (isMobile) {\r\n     setShowMobileFilters(false);\r\n   }\r\n };\r\n\r\n // Filtrar items por búsqueda\r\n const filterBySearch = (items) => {\r\n   if (!searchTerm) return items;\r\n   return items.filter(item => {\r\n     const searchLower = searchTerm.toLowerCase();\r\n     return (\r\n       item.nombre?.toLowerCase().includes(searchLower) ||\r\n       item.patente?.toLowerCase().includes(searchLower) ||\r\n       item.direccion?.toLowerCase().includes(searchLower) ||\r\n       item.zonaDestino?.toLowerCase().includes(searchLower)\r\n     );\r\n   });\r\n };\r\n\r\n const styles = {\r\n   container: {\r\n     width: '100%',\r\n     height: '100vh',\r\n     display: 'flex',\r\n     flexDirection: 'column',\r\n     background: '#f8f9fa'\r\n   },\r\n   header: {\r\n     background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n     color: 'white',\r\n     padding: isMobile ? '10px' : '16px 24px',\r\n     boxShadow: '0 4px 20px rgba(0,0,0,0.15)',\r\n     zIndex: 1000,\r\n     backdropFilter: 'blur(10px)'\r\n   },\r\n   headerContent: {\r\n     display: 'flex',\r\n     justifyContent: 'space-between',\r\n     alignItems: 'center',\r\n     flexWrap: isMobile ? 'wrap' : 'nowrap',\r\n     gap: '10px'\r\n   },\r\n   headerLeft: {\r\n     display: 'flex',\r\n     alignItems: 'center',\r\n     gap: '8px'\r\n   },\r\n   title: {\r\n     margin: 0,\r\n     fontSize: isMobile ? '18px' : '24px',\r\n     fontWeight: '700',\r\n     display: 'flex',\r\n     alignItems: 'center',\r\n     gap: '10px',\r\n     letterSpacing: '-0.5px'\r\n   },\r\n   navigationButtons: {\r\n     display: 'flex',\r\n     gap: '10px',\r\n     alignItems: 'center',\r\n     flexWrap: 'wrap'\r\n   },\r\n   navButton: {\r\n     padding: isMobile ? '8px 12px' : '10px 18px',\r\n     background: 'rgba(255,255,255,0.15)',\r\n     backdropFilter: 'blur(10px)',\r\n     color: 'white',\r\n     border: '1px solid rgba(255,255,255,0.25)',\r\n     borderRadius: '10px',\r\n     cursor: 'pointer',\r\n     fontSize: isMobile ? '12px' : '14px',\r\n     fontWeight: '500',\r\n     transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n     display: 'flex',\r\n     alignItems: 'center',\r\n     gap: '6px'\r\n   },\r\n   logoutButton: {\r\n     padding: isMobile ? '8px 12px' : '10px 18px',\r\n     background: 'rgba(239, 68, 68, 0.9)',\r\n     backdropFilter: 'blur(10px)',\r\n     color: 'white',\r\n     border: 'none',\r\n     borderRadius: '10px',\r\n     cursor: 'pointer',\r\n     fontSize: isMobile ? '12px' : '14px',\r\n     fontWeight: '600',\r\n     transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)'\r\n   },\r\n   mainContent: {\r\n     flex: 1,\r\n     display: 'flex',\r\n     position: 'relative',\r\n     overflow: 'hidden'\r\n   },\r\n   sidebar: {\r\n     width: showSidebar ? (isMobile ? '100%' : '380px') : '0',\r\n     background: 'linear-gradient(180deg, #ffffff 0%, #f8f9fa 100%)',\r\n     borderRight: showSidebar ? '1px solid rgba(0,0,0,0.08)' : 'none',\r\n     overflowY: 'auto',\r\n     overflowX: 'hidden',\r\n     display: 'flex',\r\n     flexDirection: 'column',\r\n     position: isMobile ? 'absolute' : 'relative',\r\n     height: '100%',\r\n     zIndex: isMobile ? 999 : 1,\r\n     boxShadow: showSidebar ? '4px 0 20px rgba(0,0,0,0.08)' : 'none',\r\n     transition: 'width 0.4s cubic-bezier(0.4, 0, 0.2, 1), border 0.4s ease'\r\n   },\r\n   sidebarContent: {\r\n     width: '380px',\r\n     opacity: showSidebar ? 1 : 0,\r\n     transition: 'opacity 0.3s ease',\r\n     pointerEvents: showSidebar ? 'auto' : 'none'\r\n   },\r\n   sidebarHeader: {\r\n     padding: isMobile ? '16px' : '20px',\r\n     borderBottom: '1px solid rgba(0,0,0,0.06)',\r\n     background: 'linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%)'\r\n   },\r\n   searchBar: {\r\n     width: '100%',\r\n     padding: '12px 16px',\r\n     border: '2px solid #e2e8f0',\r\n     borderRadius: '12px',\r\n     fontSize: '14px',\r\n     outline: 'none',\r\n     transition: 'all 0.3s ease',\r\n     marginBottom: '16px',\r\n     background: 'white'\r\n   },\r\n   // NUEVO ESTILO PARA BOTÓN DE FILTROS MÓVILES\r\n   mobileFilterToggle: {\r\n     width: '100%',\r\n     padding: '10px',\r\n     background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\r\n     color: 'white',\r\n     border: 'none',\r\n     borderRadius: '10px',\r\n     fontSize: '14px',\r\n     fontWeight: '600',\r\n     cursor: 'pointer',\r\n     marginBottom: '16px',\r\n     display: 'flex',\r\n     alignItems: 'center',\r\n     justifyContent: 'center',\r\n     gap: '8px',\r\n     transition: 'all 0.3s ease'\r\n   },\r\n   // CONTENEDOR DE FILTROS MÓVILES\r\n   mobileFiltersContainer: {\r\n     overflow: 'hidden',\r\n     maxHeight: showMobileFilters ? '200px' : '0',\r\n     transition: 'max-height 0.3s ease-in-out',\r\n     marginBottom: showMobileFilters ? '16px' : '0'\r\n   },\r\n   filterButtons: {\r\n     display: 'grid',\r\n     gridTemplateColumns: 'repeat(2, 1fr)',\r\n     gap: '10px',\r\n     marginBottom: '16px'\r\n   },\r\n   filterButton: {\r\n     padding: isMobile ? '10px' : '12px',\r\n     borderRadius: '12px',\r\n     border: '2px solid #e2e8f0',\r\n     background: 'white',\r\n     cursor: 'pointer',\r\n     fontSize: isMobile ? '13px' : '14px',\r\n     fontWeight: '500',\r\n     transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n     textAlign: 'center',\r\n     display: 'flex',\r\n     alignItems: 'center',\r\n     justifyContent: 'center',\r\n     gap: '6px',\r\n     color: '#64748b'\r\n   },\r\n   filterButtonActive: {\r\n     background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n     color: 'white',\r\n     borderColor: 'transparent',\r\n     transform: 'scale(1.02)',\r\n     boxShadow: '0 4px 12px rgba(102, 126, 234, 0.3)'\r\n   },\r\n   statsGrid: {\r\n     display: 'grid',\r\n     gridTemplateColumns: 'repeat(2, 1fr)',\r\n     gap: '12px',\r\n     marginTop: '16px'\r\n   },\r\n   statCard: {\r\n     padding: '12px',\r\n     background: 'white',\r\n     borderRadius: '14px',\r\n     border: '1px solid rgba(0,0,0,0.06)',\r\n     textAlign: 'center',\r\n     transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n     cursor: 'pointer'\r\n   },\r\n   statNumber: {\r\n     fontSize: '20px',\r\n     fontWeight: '700',\r\n     color: '#1e293b',\r\n     marginBottom: '2px'\r\n   },\r\n   statLabel: {\r\n     fontSize: '10px',\r\n     color: '#64748b',\r\n     textTransform: 'uppercase',\r\n     letterSpacing: '0.3px',\r\n     fontWeight: '600'\r\n   },\r\n   tabs: {\r\n     display: 'flex',\r\n     borderBottom: '2px solid #f1f5f9',\r\n     background: 'white',\r\n     padding: '0 20px',\r\n     gap: '8px',\r\n     position: 'sticky',\r\n     top: 0,\r\n     zIndex: 10\r\n   },\r\n   tab: {\r\n     flex: 1,\r\n     padding: '14px 8px',\r\n     background: 'transparent',\r\n     border: 'none',\r\n     borderBottom: '3px solid transparent',\r\n     cursor: 'pointer',\r\n     fontSize: isMobile ? '13px' : '14px',\r\n     color: '#64748b',\r\n     fontWeight: '500',\r\n     transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n     display: 'flex',\r\n     alignItems: 'center',\r\n     justifyContent: 'center',\r\n     gap: '6px',\r\n     position: 'relative'\r\n   },\r\n   tabActive: {\r\n     color: '#667eea',\r\n     borderBottomColor: '#667eea',\r\n     fontWeight: '600',\r\n     background: 'linear-gradient(180deg, rgba(102, 126, 234, 0.05) 0%, transparent 100%)'\r\n   },\r\n   listContainer: {\r\n     padding: '16px',\r\n     flex: 1,\r\n     overflowY: 'auto',\r\n     overflowX: 'hidden'\r\n   },\r\n   listItem: {\r\n     padding: '14px',\r\n     marginBottom: '10px',\r\n     background: 'white',\r\n     border: '1px solid rgba(0,0,0,0.06)',\r\n     borderRadius: '12px',\r\n     cursor: 'pointer',\r\n     transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n     position: 'relative',\r\n     overflow: 'hidden'\r\n   },\r\n   listItemHover: {\r\n     transform: 'translateY(-2px) scale(1.01)',\r\n     boxShadow: '0 8px 24px rgba(0,0,0,0.1)',\r\n     borderColor: '#667eea'\r\n   },\r\n   listItemHeader: {\r\n     display: 'flex',\r\n     justifyContent: 'space-between',\r\n     alignItems: 'center',\r\n     marginBottom: '8px',\r\n     gap: '8px'\r\n   },\r\n   listItemTitle: {\r\n     fontSize: '14px',\r\n     fontWeight: '600',\r\n     color: '#1e293b',\r\n     display: 'flex',\r\n     alignItems: 'center',\r\n     gap: '6px',\r\n     flex: 1,\r\n     minWidth: 0,\r\n     overflow: 'hidden',\r\n     textOverflow: 'ellipsis',\r\n     whiteSpace: 'nowrap'\r\n   },\r\n   listItemBadge: {\r\n     padding: '3px 8px',\r\n     borderRadius: '6px',\r\n     fontSize: '10px',\r\n     fontWeight: '600',\r\n     textTransform: 'uppercase',\r\n     letterSpacing: '0.3px',\r\n     flexShrink: 0\r\n   },\r\n   listItemDetails: {\r\n     fontSize: '12px',\r\n     color: '#64748b',\r\n     lineHeight: '1.5',\r\n     display: 'flex',\r\n     flexDirection: 'column',\r\n     gap: '2px'\r\n   },\r\n   map: {\r\n     flex: 1,\r\n     position: 'relative'\r\n   },\r\n   toggleSidebarButton: {\r\n     position: 'fixed',\r\n     left: showSidebar ? '390px' : '10px',\r\n     top: '50%',\r\n     transform: 'translateY(-50%)',\r\n     background: 'white',\r\n     border: 'none',\r\n     borderRadius: showSidebar ? '0 12px 12px 0' : '12px',\r\n     padding: '16px 8px',\r\n     boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\r\n     cursor: 'pointer',\r\n     zIndex: 1002,\r\n     transition: 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)',\r\n     display: 'flex',\r\n     alignItems: 'center',\r\n     justifyContent: 'center'\r\n   },\r\n   legend: {\r\n     position: 'absolute',\r\n     bottom: isMobile ? '60px' : '20px',\r\n     left: '20px',\r\n     background: 'white',\r\n     borderRadius: '14px',\r\n     padding: '16px',\r\n     boxShadow: '0 4px 20px rgba(0,0,0,0.1)',\r\n     zIndex: 900,\r\n     fontSize: isMobile ? '12px' : '13px',\r\n     minWidth: '180px',\r\n     backdropFilter: 'blur(10px)',\r\n     background: 'rgba(255,255,255,0.95)',\r\n     border: '1px solid rgba(0,0,0,0.06)',\r\n     transition: 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)'\r\n   },\r\n   legendToggleButton: {\r\n     position: 'absolute',\r\n     bottom: '20px',\r\n     left: '20px',\r\n     background: 'white',\r\n     borderRadius: '12px',\r\n     padding: '10px 14px',\r\n     boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\r\n     cursor: 'pointer',\r\n     zIndex: 901,\r\n     display: 'flex',\r\n     alignItems: 'center',\r\n     gap: '6px',\r\n     fontSize: '13px',\r\n     fontWeight: '500',\r\n     color: '#64748b',\r\n     border: '1px solid rgba(0,0,0,0.06)',\r\n     transition: 'all 0.3s ease'\r\n   },\r\n   legendTitle: {\r\n     fontWeight: '700',\r\n     marginBottom: '12px',\r\n     color: '#1e293b',\r\n     fontSize: '14px',\r\n     display: 'flex',\r\n     justifyContent: 'space-between',\r\n     alignItems: 'center'\r\n   },\r\n   legendItem: {\r\n     display: 'flex',\r\n     alignItems: 'center',\r\n     gap: '10px',\r\n     marginBottom: '8px',\r\n     padding: '4px 0'\r\n   },\r\n   legendIcon: {\r\n     width: '14px',\r\n     height: '14px',\r\n     borderRadius: '50%',\r\n     flexShrink: 0\r\n   },\r\n   mobileBottomNav: {\r\n     position: 'fixed',\r\n     bottom: 0,\r\n     left: 0,\r\n     right: 0,\r\n     background: 'white',\r\n     borderTop: '1px solid rgba(0,0,0,0.08)',\r\n     display: 'flex',\r\n     padding: '8px',\r\n     gap: '8px',\r\n     zIndex: 1000,\r\n     boxShadow: '0 -4px 20px rgba(0,0,0,0.08)'\r\n   },\r\n   mobileNavButton: {\r\n     flex: 1,\r\n     padding: '10px',\r\n     background: '#f8f9fa',\r\n     border: 'none',\r\n     borderRadius: '10px',\r\n     fontSize: '11px',\r\n     cursor: 'pointer',\r\n     display: 'flex',\r\n     flexDirection: 'column',\r\n     alignItems: 'center',\r\n     gap: '4px',\r\n     fontWeight: '500',\r\n     transition: 'all 0.3s ease',\r\n     color: '#64748b'\r\n   },\r\n   emptyState: {\r\n     textAlign: 'center',\r\n     padding: '40px 20px',\r\n     color: '#64748b'\r\n   },\r\n   emptyIcon: {\r\n     fontSize: '48px',\r\n     marginBottom: '16px',\r\n     opacity: 0.5\r\n   },\r\n   loadingOverlay: {\r\n     position: 'absolute',\r\n     top: '50%',\r\n     left: '50%',\r\n     transform: 'translate(-50%, -50%)',\r\n     textAlign: 'center',\r\n     zIndex: 1000\r\n   },\r\n   spinner: {\r\n     width: '50px',\r\n     height: '50px',\r\n     border: '4px solid #f3f4f6',\r\n     borderTop: '4px solid #667eea',\r\n     borderRadius: '50%',\r\n     animation: 'spin 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite'\r\n   }\r\n };\r\n\r\n return (\r\n   <div style={styles.container}>\r\n     {/* Header */}\r\n     <div style={styles.header}>\r\n       <div style={styles.headerContent}>\r\n         <div style={styles.headerLeft}>\r\n           <h1 style={styles.title}>\r\n             📊 {isMobile ? 'Dashboard' : 'Dashboard GPS'}\r\n           </h1>\r\n         </div>\r\n         \r\n         <div style={styles.navigationButtons}>\r\n           {!isMobile && (\r\n             <>\r\n               {onViewChange && (\r\n                 <>\r\n                   {currentUser?.role === 'superadmin' && (\r\n                     <button\r\n                       onClick={() => onViewChange('admin')}\r\n                       style={styles.navButton}\r\n                       onMouseEnter={(e) => {\r\n                         e.currentTarget.style.background = 'rgba(255,255,255,0.25)';\r\n                         e.currentTarget.style.transform = 'translateY(-2px)';\r\n                       }}\r\n                       onMouseLeave={(e) => {\r\n                         e.currentTarget.style.background = 'rgba(255,255,255,0.15)';\r\n                         e.currentTarget.style.transform = 'translateY(0)';\r\n                       }}\r\n                     >\r\n                       🔐 Panel Admin\r\n                     </button>\r\n                   )}\r\n                   <button\r\n                     onClick={() => onViewChange('zones')}\r\n                     style={styles.navButton}\r\n                     onMouseEnter={(e) => {\r\n                       e.currentTarget.style.background = 'rgba(255,255,255,0.25)';\r\n                       e.currentTarget.style.transform = 'translateY(-2px)';\r\n                     }}\r\n                     onMouseLeave={(e) => {\r\n                       e.currentTarget.style.background = 'rgba(255,255,255,0.15)';\r\n                       e.currentTarget.style.transform = 'translateY(0)';\r\n                     }}\r\n                   >\r\n                     🗺️ Gestión Zonas\r\n                   </button>\r\n                   <button\r\n                     onClick={() => onViewChange('fleet')}\r\n                     style={styles.navButton}\r\n                     onMouseEnter={(e) => {\r\n                       e.currentTarget.style.background = 'rgba(255,255,255,0.25)';\r\n                       e.currentTarget.style.transform = 'translateY(-2px)';\r\n                     }}\r\n                     onMouseLeave={(e) => {\r\n                       e.currentTarget.style.background = 'rgba(255,255,255,0.15)';\r\n                       e.currentTarget.style.transform = 'translateY(0)';\r\n                     }}\r\n                   >\r\n                     🚛 Panel Flota\r\n                   </button>\r\n                 </>\r\n               )}\r\n             </>\r\n           )}\r\n           <button \r\n             onClick={onLogout} \r\n             style={styles.logoutButton}\r\n             onMouseEnter={(e) => {\r\n               e.currentTarget.style.transform = 'scale(1.05)';\r\n               e.currentTarget.style.background = 'rgba(239, 68, 68, 1)';\r\n             }}\r\n             onMouseLeave={(e) => {\r\n               e.currentTarget.style.transform = 'scale(1)';\r\n               e.currentTarget.style.background = 'rgba(239, 68, 68, 0.9)';\r\n             }}\r\n           >\r\n             {isMobile ? '🚪' : '🚪 Salir'}\r\n           </button>\r\n         </div>\r\n       </div>\r\n     </div>\r\n\r\n     {/* Contenido principal */}\r\n     <div style={styles.mainContent}>\r\n       {/* Sidebar mejorado */}\r\n       <div style={styles.sidebar}>\r\n         <div style={styles.sidebarContent}>\r\n           <div style={styles.sidebarHeader}>\r\n             {/* Barra de búsqueda */}\r\n             <input\r\n               type=\"text\"\r\n               placeholder=\"🔍 Buscar...\"\r\n               value={searchTerm}\r\n               onChange={(e) => setSearchTerm(e.target.value)}\r\n               style={styles.searchBar}\r\n               onFocus={(e) => {\r\n                 e.target.style.borderColor = '#667eea';\r\n                 e.target.style.boxShadow = '0 0 0 3px rgba(102, 126, 234, 0.1)';\r\n               }}\r\n               onBlur={(e) => {\r\n                 e.target.style.borderColor = '#e2e8f0';\r\n                 e.target.style.boxShadow = 'none';\r\n               }}\r\n             />\r\n\r\n             {/* BOTÓN PARA MOSTRAR/OCULTAR FILTROS EN MÓVIL */}\r\n             {isMobile && (\r\n               <button\r\n                 onClick={() => setShowMobileFilters(!showMobileFilters)}\r\n                 style={styles.mobileFilterToggle}\r\n               >\r\n                 <span style={{ fontSize: '16px' }}>🎯</span>\r\n                 {showMobileFilters ? 'Ocultar Filtros' : 'Mostrar Filtros'}\r\n                 <span style={{ \r\n                   transform: showMobileFilters ? 'rotate(180deg)' : 'rotate(0)', \r\n                   transition: 'transform 0.3s ease' \r\n                 }}>\r\n                   ▼\r\n                 </span>\r\n               </button>\r\n             )}\r\n\r\n             {/* CONTENEDOR DE FILTROS PARA MÓVIL */}\r\n             {isMobile ? (\r\n               <div style={styles.mobileFiltersContainer}>\r\n                 <div style={styles.filterButtons}>\r\n                   <button\r\n                     onClick={() => handleFilterChange('all')}\r\n                     style={{\r\n                       ...styles.filterButton,\r\n                       ...(filterType === 'all' ? styles.filterButtonActive : {})\r\n                     }}\r\n                   >\r\n                     🌐 Todo\r\n                   </button>\r\n                   <button\r\n                     onClick={() => handleFilterChange('vehiculos')}\r\n                     style={{\r\n                       ...styles.filterButton,\r\n                       ...(filterType === 'vehiculos' ? styles.filterButtonActive : {})\r\n                     }}\r\n                   >\r\n                     🚛 Vehículos\r\n                   </button>\r\n                   <button\r\n                     onClick={() => handleFilterChange('zonas')}\r\n                     style={{\r\n                       ...styles.filterButton,\r\n                       ...(filterType === 'zonas' ? styles.filterButtonActive : {})\r\n                     }}\r\n                   >\r\n                     🏗️ Zonas\r\n                   </button>\r\n                   <button\r\n                     onClick={() => handleFilterChange('trabajadores')}\r\n                     style={{\r\n                       ...styles.filterButton,\r\n                       ...(filterType === 'trabajadores' ? styles.filterButtonActive : {})\r\n                     }}\r\n                   >\r\n                     👷 Trabajadores\r\n                   </button>\r\n                 </div>\r\n               </div>\r\n             ) : (\r\n               // FILTROS NORMALES PARA DESKTOP\r\n               <div style={styles.filterButtons}>\r\n                 <button\r\n                   onClick={() => handleFilterChange('all')}\r\n                   style={{\r\n                     ...styles.filterButton,\r\n                     ...(filterType === 'all' ? styles.filterButtonActive : {})\r\n                   }}\r\n                 >\r\n                   🌐 Todo\r\n                 </button>\r\n                 <button\r\n                   onClick={() => handleFilterChange('vehiculos')}\r\n                   style={{\r\n                     ...styles.filterButton,\r\n                     ...(filterType === 'vehiculos' ? styles.filterButtonActive : {})\r\n                   }}\r\n                 >\r\n                   🚛 Vehículos\r\n                 </button>\r\n                 <button\r\n                   onClick={() => handleFilterChange('zonas')}\r\n                   style={{\r\n                     ...styles.filterButton,\r\n                     ...(filterType === 'zonas' ? styles.filterButtonActive : {})\r\n                   }}\r\n                 >\r\n                   🏗️ Zonas\r\n                 </button>\r\n                 <button\r\n                   onClick={() => handleFilterChange('trabajadores')}\r\n                   style={{\r\n                     ...styles.filterButton,\r\n                     ...(filterType === 'trabajadores' ? styles.filterButtonActive : {})\r\n                   }}\r\n                 >\r\n                   👷 Trabajadores\r\n                 </button>\r\n               </div>\r\n             )}\r\n\r\n             {/* Estadísticas mejoradas */}\r\n             <div style={styles.statsGrid}>\r\n               <div \r\n                 style={styles.statCard}\r\n                 onMouseEnter={(e) => {\r\n                   e.currentTarget.style.transform = 'translateY(-2px)';\r\n                   e.currentTarget.style.boxShadow = '0 8px 24px rgba(0,0,0,0.1)';\r\n                 }}\r\n                 onMouseLeave={(e) => {\r\n                   e.currentTarget.style.transform = 'translateY(0)';\r\n                   e.currentTarget.style.boxShadow = 'none';\r\n                 }}\r\n               >\r\n                 <div style={styles.statNumber}>{stats.vehiculos.activos}</div>\r\n                 <div style={styles.statLabel}>Vehículos Activos</div>\r\n               </div>\r\n               <div \r\n                 style={styles.statCard}\r\n                 onMouseEnter={(e) => {\r\n                   e.currentTarget.style.transform = 'translateY(-2px)';\r\n                   e.currentTarget.style.boxShadow = '0 8px 24px rgba(0,0,0,0.1)';\r\n                 }}\r\n                 onMouseLeave={(e) => {\r\n                   e.currentTarget.style.transform = 'translateY(0)';\r\n                   e.currentTarget.style.boxShadow = 'none';\r\n                 }}\r\n               >\r\n                 <div style={styles.statNumber}>{stats.zonas.activas}</div>\r\n                 <div style={styles.statLabel}>Zonas Activas</div>\r\n               </div>\r\n               <div \r\n                 style={styles.statCard}\r\n                 onMouseEnter={(e) => {\r\n                   e.currentTarget.style.transform = 'translateY(-2px)';\r\n                   e.currentTarget.style.boxShadow = '0 8px 24px rgba(0,0,0,0.1)';\r\n                 }}\r\n                 onMouseLeave={(e) => {\r\n                   e.currentTarget.style.transform = 'translateY(0)';\r\n                   e.currentTarget.style.boxShadow = 'none';\r\n                 }}\r\n               >\r\n                 <div style={styles.statNumber}>{stats.trabajadores.enRuta + stats.trabajadores.trabajando}</div>\r\n                 <div style={styles.statLabel}>Trabajando</div>\r\n               </div>\r\n               <div \r\n                 style={styles.statCard}\r\n                 onMouseEnter={(e) => {\r\n                   e.currentTarget.style.transform = 'translateY(-2px)';\r\n                   e.currentTarget.style.boxShadow = '0 8px 24px rgba(0,0,0,0.1)';\r\n                 }}\r\n                 onMouseLeave={(e) => {\r\n                   e.currentTarget.style.transform = 'translateY(0)';\r\n                   e.currentTarget.style.boxShadow = 'none';\r\n                 }}\r\n               >\r\n                 <div style={styles.statNumber}>{stats.vehiculos.enMantenimiento}</div>\r\n                 <div style={styles.statLabel}>Mantenimiento</div>\r\n               </div>\r\n               <div \r\n                 style={styles.statCard}\r\n                 onMouseEnter={(e) => {\r\n                   e.currentTarget.style.transform = 'translateY(-2px)';\r\n                   e.currentTarget.style.boxShadow = '0 8px 24px rgba(0,0,0,0.1)';\r\n                 }}\r\n                 onMouseLeave={(e) => {\r\n                   e.currentTarget.style.transform = 'translateY(0)';\r\n                   e.currentTarget.style.boxShadow = 'none';\r\n                 }}\r\n               >\r\n                 <div style={styles.statNumber}>{stats.zonas.completadas}</div>\r\n                 <div style={styles.statLabel}>Completadas</div>\r\n               </div>\r\n               <div \r\n                 style={styles.statCard}\r\n                 onMouseEnter={(e) => {\r\n                   e.currentTarget.style.transform = 'translateY(-2px)';\r\n                   e.currentTarget.style.boxShadow = '0 8px 24px rgba(0,0,0,0.1)';\r\n                 }}\r\n                 onMouseLeave={(e) => {\r\n                   e.currentTarget.style.transform = 'translateY(0)';\r\n                   e.currentTarget.style.boxShadow = 'none';\r\n                 }}\r\n               >\r\n                 <div style={styles.statNumber}>{stats.trabajadores.disponibles}</div>\r\n                 <div style={styles.statLabel}>Disponibles</div>\r\n               </div>\r\n             </div>\r\n           </div>\r\n\r\n           {/* Tabs mejorados */}\r\n           <div style={styles.tabs}>\r\n             <button\r\n               onClick={() => setActiveTab('vehiculos')}\r\n               style={{\r\n                 ...styles.tab,\r\n                 ...(activeTab === 'vehiculos' ? styles.tabActive : {})\r\n               }}\r\n             >\r\n               🚛 Vehículos\r\n             </button>\r\n             <button\r\n               onClick={() => setActiveTab('zonas')}\r\n               style={{\r\n                 ...styles.tab,\r\n                 ...(activeTab === 'zonas' ? styles.tabActive : {})\r\n               }}\r\n             >\r\n               🏗️ Zonas\r\n             </button>\r\n             <button\r\n               onClick={() => setActiveTab('trabajadores')}\r\n               style={{\r\n                 ...styles.tab,\r\n                 ...(activeTab === 'trabajadores' ? styles.tabActive : {})\r\n               }}\r\n             >\r\n               👷 Trabajadores\r\n             </button>\r\n           </div>\r\n\r\n           {/* Lista de items mejorada */}\r\n           <div style={styles.listContainer}>\r\n             {activeTab === 'vehiculos' && (\r\n               filterBySearch(vehiculos).length > 0 ? (\r\n                 filterBySearch(vehiculos).map(vehiculo => (\r\n                   <div\r\n                     key={vehiculo.id}\r\n                     style={{\r\n                       ...styles.listItem,\r\n                       ...(hoveredItem === vehiculo.id ? styles.listItemHover : {})\r\n                     }}\r\n                     onClick={() => centerOnItem(vehiculo, 'vehiculos')}\r\n                     onMouseEnter={() => setHoveredItem(vehiculo.id)}\r\n                     onMouseLeave={() => setHoveredItem(null)}\r\n                   >\r\n                     <div style={styles.listItemHeader}>\r\n                       <span style={styles.listItemTitle}>\r\n                         {vehiculo.tipo === 'maquinaria' ? '🏗️' : '🚗'} {vehiculo.nombre}\r\n                       </span>\r\n                       <span style={{\r\n                         ...styles.listItemBadge,\r\n                         background: vehiculo.estado === 'disponible' ? \r\n                           'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)' :\r\n                           vehiculo.estado === 'en_uso' ? \r\n                           'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)' :\r\n                           vehiculo.estado === 'mantenimiento' ? \r\n                           'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)' : \r\n                           'linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)',\r\n                         color: vehiculo.estado === 'disponible' ? '#166534' :\r\n                                vehiculo.estado === 'en_uso' ? '#1e40af' :\r\n                                vehiculo.estado === 'mantenimiento' ? '#92400e' : '#991b1b'\r\n                       }}>\r\n                         {vehiculo.estado === 'disponible' ? 'DISPONIBLE' :\r\n                          vehiculo.estado === 'en_uso' ? 'EN USO' :\r\n                          vehiculo.estado === 'mantenimiento' ? 'MANTENIM.' : 'FUERA'}\r\n                       </span>\r\n                     </div>\r\n                     <div style={styles.listItemDetails}>\r\n                       <div>📌 Patente: {vehiculo.patente || 'N/A'}</div>\r\n                       <div>👤 {vehiculo.operadorAsignado || 'Sin asignar'}</div>\r\n                     </div>\r\n                   </div>\r\n                 ))\r\n               ) : (\r\n                 <div style={styles.emptyState}>\r\n                   <div style={styles.emptyIcon}>🚛</div>\r\n                   <p>No se encontraron vehículos</p>\r\n                 </div>\r\n               )\r\n             )}\r\n\r\n             {activeTab === 'zonas' && (\r\n               filterBySearch(zonasAsignadas).length > 0 ? (\r\n                 filterBySearch(zonasAsignadas).map(zona => (\r\n                   <div\r\n                     key={zona.id}\r\n                     style={{\r\n                       ...styles.listItem,\r\n                       ...(hoveredItem === zona.id ? styles.listItemHover : {})\r\n                     }}\r\n                     onClick={() => centerOnItem(zona, 'zonasAsignadas')}\r\n                     onMouseEnter={() => setHoveredItem(zona.id)}\r\n                     onMouseLeave={() => setHoveredItem(null)}\r\n                   >\r\n                     <div style={styles.listItemHeader}>\r\n                       <span style={styles.listItemTitle}>\r\n                         🏗️ {zona.nombre}\r\n                       </span>\r\n                       <span style={{\r\n                         ...styles.listItemBadge,\r\n                         background: zona.estado === 'completado' ? \r\n                           'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)' :\r\n                           zona.estado === 'en_progreso' ? \r\n                           'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)' : \r\n                           'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\r\n                         color: zona.estado === 'completado' ? '#166534' :\r\n                                zona.estado === 'en_progreso' ? '#1e40af' : '#92400e'\r\n                       }}>\r\n                         {zona.estado === 'completado' ? 'COMPLETADO' :\r\n                          zona.estado === 'en_progreso' ? 'EN PROGRESO' : 'PENDIENTE'}\r\n                       </span>\r\n                     </div>\r\n                     <div style={styles.listItemDetails}>\r\n                       <div>📍 {zona.direccion}</div>\r\n                       <div>👷 {zona.trabajadorAsignado || 'Sin asignar'}</div>\r\n                     </div>\r\n                   </div>\r\n                 ))\r\n               ) : (\r\n                 <div style={styles.emptyState}>\r\n                   <div style={styles.emptyIcon}>🏗️</div>\r\n                   <p>No se encontraron zonas</p>\r\n                 </div>\r\n               )\r\n             )}\r\n\r\n             {activeTab === 'trabajadores' && (\r\n               (() => {\r\n                 const activeTrabajadores = filterBySearch(trabajadores).filter(t => \r\n                   t.ubicacion && (new Date() - new Date(t.ubicacion.timestamp)) < 300000\r\n                 );\r\n                 \r\n                 return activeTrabajadores.length > 0 ? (\r\n                   activeTrabajadores.map(trabajador => (\r\n                     <div\r\n                       key={trabajador.id}\r\n                       style={{\r\n                         ...styles.listItem,\r\n                         ...(hoveredItem === trabajador.id ? styles.listItemHover : {})\r\n                       }}\r\n                       onClick={() => centerOnItem(trabajador, 'trabajadores')}\r\n                       onMouseEnter={() => setHoveredItem(trabajador.id)}\r\n                       onMouseLeave={() => setHoveredItem(null)}\r\n                     >\r\n                       <div style={styles.listItemHeader}>\r\n                         <span style={styles.listItemTitle}>\r\n                           👷 {trabajador.nombre}\r\n                         </span>\r\n                         <span style={{\r\n                           ...styles.listItemBadge,\r\n                           background: trabajador.estado === 'trabajando' ? \r\n                             'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)' :\r\n                             trabajador.estado === 'en_camino' ? \r\n                             'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)' : \r\n                             'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',\r\n                           color: trabajador.estado === 'trabajando' ? '#166534' :\r\n                                  trabajador.estado === 'en_camino' ? '#92400e' : '#6b7280'\r\n                         }}>\r\n                           {trabajador.estado === 'trabajando' ? 'TRABAJANDO' :\r\n                            trabajador.estado === 'en_camino' ? 'EN CAMINO' : 'DISPONIBLE'}\r\n                         </span>\r\n                       </div>\r\n                       <div style={styles.listItemDetails}>\r\n                         <div>📍 {trabajador.zonaDestino || 'Sin asignar'}</div>\r\n                         <div>🕐 {new Date(trabajador.ubicacion.timestamp).toLocaleTimeString('es-CL')}</div>\r\n                       </div>\r\n                     </div>\r\n                   ))\r\n                 ) : (\r\n                   <div style={styles.emptyState}>\r\n                     <div style={styles.emptyIcon}>👷</div>\r\n                     <p>No hay trabajadores activos</p>\r\n                   </div>\r\n                 );\r\n               })()\r\n             )}\r\n           </div>\r\n         </div>\r\n       </div>\r\n\r\n       {/* Mapa */}\r\n       <div style={styles.map}>\r\n         <div ref={mapRef} style={{ width: '100%', height: '100%' }} />\r\n         \r\n         {/* Botón toggle sidebar mejorado */}\r\n         {!isMobile && (\r\n           <button\r\n             onClick={() => setShowSidebar(!showSidebar)}\r\n             style={styles.toggleSidebarButton}\r\n             onMouseEnter={(e) => {\r\n               e.currentTarget.style.transform = 'translateY(-50%) scale(1.1)';\r\n               e.currentTarget.style.boxShadow = '0 8px 24px rgba(0,0,0,0.15)';\r\n             }}\r\n             onMouseLeave={(e) => {\r\n               e.currentTarget.style.transform = 'translateY(-50%) scale(1)';\r\n               e.currentTarget.style.boxShadow = '0 4px 12px rgba(0,0,0,0.1)';\r\n             }}\r\n           >\r\n             <span style={{ \r\n               fontSize: '20px',\r\n               transition: 'transform 0.3s ease',\r\n               display: 'inline-block',\r\n               transform: showSidebar ? 'rotate(0deg)' : 'rotate(180deg)'\r\n             }}>\r\n               ◀\r\n             </span>\r\n           </button>\r\n         )}\r\n\r\n         {/* Leyenda mejorada con botón para mostrar/ocultar */}\r\n         {!isMobile && (\r\n           <>\r\n             {!showLegend && (\r\n               <button\r\n                 onClick={() => setShowLegend(true)}\r\n                 style={styles.legendToggleButton}\r\n                 onMouseEnter={(e) => {\r\n                   e.currentTarget.style.transform = 'scale(1.05)';\r\n                   e.currentTarget.style.boxShadow = '0 6px 20px rgba(0,0,0,0.12)';\r\n                 }}\r\n                 onMouseLeave={(e) => {\r\n                   e.currentTarget.style.transform = 'scale(1)';\r\n                   e.currentTarget.style.boxShadow = '0 4px 12px rgba(0,0,0,0.1)';\r\n                 }}\r\n               >\r\n                 📍 Mostrar Leyenda\r\n               </button>\r\n             )}\r\n             \r\n             {showLegend && (\r\n               <div style={styles.legend}>\r\n                 <div style={styles.legendTitle}>\r\n                   Leyenda\r\n                   <button\r\n                     onClick={() => setShowLegend(false)}\r\n                     style={{\r\n                       background: 'none',\r\n                       border: 'none',\r\n                       cursor: 'pointer',\r\n                       fontSize: '16px',\r\n                       color: '#64748b',\r\n                       padding: '0',\r\n                       transition: 'transform 0.2s ease'\r\n                     }}\r\n                     onMouseEnter={(e) => {\r\n                       e.currentTarget.style.transform = 'scale(1.1)';\r\n                     }}\r\n                     onMouseLeave={(e) => {\r\n                       e.currentTarget.style.transform = 'scale(1)';\r\n                     }}\r\n                   >\r\n                     ✕\r\n                   </button>\r\n                 </div>\r\n                 <div style={styles.legendItem}>\r\n                   <div style={{ ...styles.legendIcon, background: '#22c55e' }} />\r\n                   <span>Activo/Completado</span>\r\n                 </div>\r\n                 <div style={styles.legendItem}>\r\n                   <div style={{ ...styles.legendIcon, background: '#3b82f6' }} />\r\n                   <span>En Progreso</span>\r\n                 </div>\r\n                 <div style={styles.legendItem}>\r\n                   <div style={{ ...styles.legendIcon, background: '#f59e0b' }} />\r\n                   <span>Pendiente/En Camino</span>\r\n                 </div>\r\n                 <div style={styles.legendItem}>\r\n                   <div style={{ ...styles.legendIcon, background: '#6b7280' }} />\r\n                   <span>Inactivo</span>\r\n                 </div>\r\n                 {showZonas && (\r\n                   <>\r\n                     <div style={{ borderTop: '1px solid #e5e7eb', marginTop: '8px', paddingTop: '8px' }}>\r\n                       <div style={{ fontSize: '11px', fontWeight: '600', color: '#64748b', marginBottom: '6px' }}>\r\n                         ZONAS DE TRABAJO\r\n                       </div>\r\n                       <div style={styles.legendItem}>\r\n                         <div style={{ ...styles.legendIcon, background: '#ef4444' }} />\r\n                         <span>Urgente</span>\r\n                       </div>\r\n                       <div style={styles.legendItem}>\r\n                         <div style={{ ...styles.legendIcon, background: '#f97316' }} />\r\n                         <span>Alta Prioridad</span>\r\n                       </div>\r\n                     </div>\r\n                   </>\r\n                 )}\r\n               </div>\r\n             )}\r\n           </>\r\n         )}\r\n\r\n         {/* Loading mejorado */}\r\n         {!mapLoaded && (\r\n           <div style={styles.loadingOverlay}>\r\n             <div style={styles.spinner}></div>\r\n             <p style={{ marginTop: '16px', color: '#64748b', fontSize: '14px' }}>\r\n               Cargando mapa...\r\n             </p>\r\n           </div>\r\n         )}\r\n       </div>\r\n     </div>\r\n\r\n     {/* Navegación inferior móvil */}\r\n     {isMobile && onViewChange && (\r\n       <div style={styles.mobileBottomNav}>\r\n         {currentUser?.role === 'superadmin' && (\r\n           <button\r\n             onClick={() => onViewChange('admin')}\r\n             style={styles.mobileNavButton}\r\n           >\r\n             <span style={{ fontSize: '18px' }}>🔐</span>\r\n             <span>Admin</span>\r\n           </button>\r\n         )}\r\n         <button\r\n           onClick={() => onViewChange('dashboard')}\r\n           style={{\r\n             ...styles.mobileNavButton,\r\n             background: currentView === 'dashboard' ? \r\n               'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' : '#f8f9fa',\r\n             color: currentView === 'dashboard' ? 'white' : '#64748b'\r\n           }}\r\n         >\r\n           <span style={{ fontSize: '18px' }}>📊</span>\r\n           <span>Dashboard</span>\r\n         </button>\r\n         <button\r\n           onClick={() => onViewChange('zones')}\r\n           style={styles.mobileNavButton}\r\n         >\r\n           <span style={{ fontSize: '18px' }}>🗺️</span>\r\n           <span>Zonas</span>\r\n         </button>\r\n         <button\r\n           onClick={() => onViewChange('fleet')}\r\n           style={styles.mobileNavButton}\r\n         >\r\n           <span style={{ fontSize: '18px' }}>🚛</span>\r\n           <span>Flota</span>\r\n         </button>\r\n       </div>\r\n     )}\r\n\r\n     <style jsx>{`\r\n       @keyframes spin {\r\n         0% { transform: rotate(0deg); }\r\n         100% { transform: rotate(360deg); }\r\n       }\r\n       \r\n       @keyframes slideIn {\r\n         from {\r\n           opacity: 0;\r\n           transform: translateX(-20px);\r\n         }\r\n         to {\r\n           opacity: 1;\r\n           transform: translateX(0);\r\n         }\r\n       }\r\n       \r\n       ::-webkit-scrollbar {\r\n         width: 6px;\r\n       }\r\n       \r\n       ::-webkit-scrollbar-track {\r\n         background: #f1f5f9;\r\n         border-radius: 3px;\r\n       }\r\n       \r\n       ::-webkit-scrollbar-thumb {\r\n         background: linear-gradient(180deg, #cbd5e1 0%, #94a3b8 100%);\r\n         border-radius: 3px;\r\n       }\r\n       \r\n       ::-webkit-scrollbar-thumb:hover {\r\n         background: linear-gradient(180deg, #94a3b8 0%, #64748b 100%);\r\n       }\r\n     `}</style>\r\n   </div>\r\n );\r\n};\r\n\r\nexport default MapaQuillonFirebase;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}