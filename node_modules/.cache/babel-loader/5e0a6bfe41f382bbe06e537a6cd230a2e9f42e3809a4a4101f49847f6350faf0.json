{"ast":null,"code":"// src/components/VehicleMaintenanceModule.js\nimport React,{useState,useEffect,useCallback}from'react';import{pdfExportService}from'../services/pdfExportService';import{database,storage,auth}from'../config/firebase';import{ref as databaseRef,push,update,onValue,off,set as databaseSet}from'firebase/database';import{ref as storageRef,uploadBytes,getDownloadURL,deleteObject}from'firebase/storage';import{cloudinaryConfig}from'../config/cloudinary';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const VehicleMaintenanceModule=_ref=>{let{vehiculos,currentUser,isMobile}=_ref;// Estados principales\nconst[searchPatente,setSearchPatente]=useState('');const[searchFechaDesde,setSearchFechaDesde]=useState('');const[searchFechaHasta,setSearchFechaHasta]=useState('');const[filteredHistory,setFilteredHistory]=useState([]);const[selectedVehicle,setSelectedVehicle]=useState(null);const[maintenanceHistory,setMaintenanceHistory]=useState([]);const[showMaintenanceForm,setShowMaintenanceForm]=useState(false);const[loading,setLoading]=useState(false);const[message,setMessage]=useState({type:'',text:''});const[uploadingPhotos,setUploadingPhotos]=useState(false);const[uploadProgress,setUploadProgress]=useState(0);// Estado del formulario de mantenimiento\nconst[maintenanceForm,setMaintenanceForm]=useState({fecha:new Date().toISOString().split('T')[0],hora:new Date().toTimeString().slice(0,5),tipoMantenimiento:'preventivo',kilometraje:'',horasUso:'',// Checklist de inspecci√≥n\ngata:'no_aplica',gataObservaciones:'',chalecoReflectante:'no_aplica',chalecoObservaciones:'',llaveRepuesto:'no_aplica',llaveObservaciones:'',cinturon:'no_aplica',cinturonObservaciones:'',parabrisas:'bueno',parabrisasObservaciones:'',lucesFreno:'bueno',lucesObservaciones:'',lucesDelanteras:'bueno',lucesDObservaciones:'',// Mantenimiento realizado\ncambioAceite:false,filtroAire:false,filtroAceite:false,filtroCombustible:false,revisionFrenos:false,revisionNeumaticos:false,revisionSuspension:false,revisionDireccion:false,revisionBateria:false,revisionLuces:false,nivelLiquidos:false,// Observaciones generales\nobservacionesGenerales:'',proximoMantenimientoKm:'',proximoMantenimientoFecha:'',// Informaci√≥n del responsable\nrealizadoPor:currentUser.name||currentUser.email,tallerResponsable:'',costoMantenimiento:0,// Fotos del mantenimiento\nfotos:[]});useEffect(()=>{let filtered=[...maintenanceHistory];// Filtro por patente\nif(searchPatente){filtered=filtered.filter(m=>{var _m$vehiculoNombre,_selectedVehicle$pate;return((_m$vehiculoNombre=m.vehiculoNombre)===null||_m$vehiculoNombre===void 0?void 0:_m$vehiculoNombre.toLowerCase().includes(searchPatente.toLowerCase()))||(selectedVehicle===null||selectedVehicle===void 0?void 0:(_selectedVehicle$pate=selectedVehicle.patente)===null||_selectedVehicle$pate===void 0?void 0:_selectedVehicle$pate.toLowerCase().includes(searchPatente.toLowerCase()));});}// Filtro por fecha desde\nif(searchFechaDesde){filtered=filtered.filter(m=>new Date(m.fecha)>=new Date(searchFechaDesde));}// Filtro por fecha hasta\nif(searchFechaHasta){filtered=filtered.filter(m=>new Date(m.fecha)<=new Date(searchFechaHasta));}setFilteredHistory(filtered);},[maintenanceHistory,searchPatente,searchFechaDesde,searchFechaHasta]);// Cargar historial de mantenimiento cuando se selecciona un veh√≠culo\nuseEffect(()=>{if(selectedVehicle){loadMaintenanceHistory(selectedVehicle.id);}},[selectedVehicle]);// Funci√≥n para cargar historial\nconst loadMaintenanceHistory=vehicleId=>{const historyRef=databaseRef(database,`mantenimientos/${vehicleId}`);const unsubscribe=onValue(historyRef,snapshot=>{const data=snapshot.val();if(data){const historyArray=Object.entries(data).map(_ref2=>{let[id,maintenance]=_ref2;return{id,...maintenance};}).sort((a,b)=>new Date(b.fecha)-new Date(a.fecha));setMaintenanceHistory(historyArray);}else{setMaintenanceHistory([]);}});return()=>off(historyRef);};// Funci√≥n para subir fotos a Cloudinary\nconst handlePhotoUpload=async files=>{if(!files||files.length===0)return;setUploadingPhotos(true);const uploadedPhotos=[];try{for(let i=0;i<files.length;i++){const file=files[i];// Validar tipo de archivo\nif(!file.type.startsWith('image/')){setMessage({type:'error',text:`El archivo ${file.name} no es una imagen v√°lida`});continue;}// Validar tama√±o\nif(file.size>10*1024*1024){setMessage({type:'error',text:`El archivo ${file.name} excede el l√≠mite de 10MB`});continue;}const formData=new FormData();formData.append('file',file);formData.append('upload_preset','vehiculos_docs');const vehicleId=selectedVehicle.id;const timestamp=Date.now();const cleanFileName=file.name.split('.')[0].replace(/[^a-zA-Z0-9_-]/g,'_');formData.append('folder',`municipalidad/mantenimientos/${vehicleId}/${timestamp}`);formData.append('public_id',`${timestamp}_${cleanFileName}`);setUploadProgress(Math.round((i+1)/files.length*100));const response=await fetch(`https://api.cloudinary.com/v1_1/${cloudinaryConfig.cloudName}/image/upload`,{method:'POST',body:formData});const data=await response.json();uploadedPhotos.push({url:data.secure_url,publicId:data.public_id,nombre:file.name,fecha:new Date().toISOString(),tama√±o:file.size});}// Actualizar el estado con las fotos subidas\nsetMaintenanceForm(prev=>({...prev,fotos:[...prev.fotos,...uploadedPhotos]}));setMessage({type:'success',text:`‚úÖ ${uploadedPhotos.length} foto(s) subidas exitosamente`});}catch(error){console.error('Error al subir fotos:',error);setMessage({type:'error',text:'‚ùå Error al subir las fotos'});}finally{setUploadingPhotos(false);setUploadProgress(0);}};// Funci√≥n para eliminar foto\nconst handleDeletePhoto=index=>{setMaintenanceForm(prev=>({...prev,fotos:prev.fotos.filter((_,i)=>i!==index)}));};// Funci√≥n para guardar mantenimiento\nconst handleSaveMaintenance=async e=>{e.preventDefault();setLoading(true);try{// Combinar fecha y hora\nconst fechaHoraCompleta=`${maintenanceForm.fecha}T${maintenanceForm.hora}:00`;const maintenanceData={...maintenanceForm,fechaCompleta:fechaHoraCompleta,// Agregar fecha y hora combinadas\nvehiculoId:selectedVehicle.id,vehiculoNombre:selectedVehicle.nombre,vehiculoPatente:selectedVehicle.patente,// AGREGAR PATENTE\nfechaRegistro:new Date().toISOString(),registradoPor:currentUser.uid,registradoPorNombre:currentUser.name||currentUser.email};// Guardar en la base de datos\nconst maintenanceRef=databaseRef(database,`mantenimientos/${selectedVehicle.id}`);const newMaintenanceRef=push(maintenanceRef);await databaseSet(newMaintenanceRef,maintenanceData);// Actualizar el veh√≠culo con la informaci√≥n del √∫ltimo mantenimiento\nconst vehicleRef=databaseRef(database,`vehiculos/${selectedVehicle.id}`);await update(vehicleRef,{ultimoMantenimiento:maintenanceForm.fecha,kilometrajeUltimoMantenimiento:maintenanceForm.kilometraje||selectedVehicle.kilometraje,proximoMantenimiento:maintenanceForm.proximoMantenimientoFecha,kilometrajeProximoMantenimiento:maintenanceForm.proximoMantenimientoKm,ultimaActualizacion:new Date().toISOString()});setMessage({type:'success',text:'‚úÖ Mantenimiento registrado exitosamente'});// Resetear formulario\nresetForm();setShowMaintenanceForm(false);}catch(error){console.error('Error al guardar mantenimiento:',error);setMessage({type:'error',text:'‚ùå Error al guardar el mantenimiento'});}finally{setLoading(false);}};// Funci√≥n para resetear el formulario\nconst resetForm=()=>{setMaintenanceForm({fecha:new Date().toISOString().split('T')[0],hora:new Date().toTimeString().slice(0,5),tipoMantenimiento:'preventivo',kilometraje:'',horasUso:'',gata:'no_aplica',gataObservaciones:'',chalecoReflectante:'no_aplica',chalecoObservaciones:'',llaveRepuesto:'no_aplica',llaveObservaciones:'',cinturon:'no_aplica',cinturonObservaciones:'',parabrisas:'bueno',parabrisasObservaciones:'',lucesFreno:'bueno',lucesObservaciones:'',lucesDelanteras:'bueno',lucesDObservaciones:'',cambioAceite:false,filtroAire:false,filtroAceite:false,filtroCombustible:false,revisionFrenos:false,revisionNeumaticos:false,revisionSuspension:false,revisionDireccion:false,revisionBateria:false,revisionLuces:false,nivelLiquidos:false,observacionesGenerales:'',proximoMantenimientoKm:'',proximoMantenimientoFecha:'',realizadoPor:currentUser.name||currentUser.email,tallerResponsable:'',costoMantenimiento:0,fotos:[]});};// Funci√≥n para exportar historial a PDF\n// Luego modifica la funci√≥n handleExportPDF:\nconst handleExportPDF=()=>{if(!selectedVehicle){setMessage({type:'error',text:'No hay veh√≠culo seleccionado'});return;}if(maintenanceHistory.length===0){setMessage({type:'warning',text:'No hay historial de mantenimiento para exportar'});return;}try{pdfExportService.exportMaintenanceHistory(selectedVehicle,maintenanceHistory,currentUser);setMessage({type:'success',text:'PDF generado exitosamente'});}catch(error){console.error('Error al generar PDF:',error);setMessage({type:'error',text:'Error al generar el PDF'});}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:isMobile?'15px':'30px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'30px',display:'flex',justifyContent:'space-between',alignItems:'center',flexWrap:'wrap',gap:'15px'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:0,color:'#1e293b',fontSize:isMobile?'24px':'28px',fontWeight:'600'},children:\"\\uD83D\\uDD27 M\\xF3dulo de Mantenimiento Vehicular\"}),selectedVehicle&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedVehicle(null),style:{padding:'10px 20px',background:'#6b7280',color:'white',border:'none',borderRadius:'8px',fontSize:'14px',cursor:'pointer'},children:\"\\u2190 Volver a lista\"})]}),message.text&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'12px',borderRadius:'8px',marginBottom:'20px',background:message.type==='success'?'#dcfce7':message.type==='error'?'#fee2e2':'#dbeafe',border:`1px solid ${message.type==='success'?'#86efac':message.type==='error'?'#fecaca':'#93c5fd'}`,color:message.type==='success'?'#166534':message.type==='error'?'#991b1b':'#1e40af'},children:message.text}),!selectedVehicle?/*#__PURE__*/// Lista de veh√≠culos\n_jsx(VehicleSelectionGrid,{vehiculos:vehiculos,onSelectVehicle:setSelectedVehicle,isMobile:isMobile}):/*#__PURE__*/// Vista de mantenimiento del veh√≠culo seleccionado\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(VehicleInfoCard,{vehicle:selectedVehicle,isMobile:isMobile}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',marginBottom:'20px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMaintenanceForm(!showMaintenanceForm),style:{padding:'12px 24px',background:'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',fontWeight:'500',cursor:'pointer',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'},children:showMaintenanceForm?'‚úñ Cancelar':'‚ûï Registrar Mantenimiento'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportPDF,style:{padding:'12px 24px',background:'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',fontWeight:'500',cursor:'pointer',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'},children:\"\\uD83D\\uDCC4 Exportar Historial PDF\"})]}),showMaintenanceForm&&/*#__PURE__*/_jsx(MaintenanceForm,{form:maintenanceForm,setForm:setMaintenanceForm,onSubmit:handleSaveMaintenance,onPhotoUpload:handlePhotoUpload,onDeletePhoto:handleDeletePhoto,uploadingPhotos:uploadingPhotos,uploadProgress:uploadProgress,loading:loading,isMobile:isMobile,vehicle:selectedVehicle,currentUser:currentUser// AGREGAR ESTA L√çNEA\n}),/*#__PURE__*/_jsx(MaintenanceHistory,{history:maintenanceHistory,isMobile:isMobile})]})]});};// Componente para selecci√≥n de veh√≠culo\nconst VehicleSelectionGrid=_ref3=>{let{vehiculos,onSelectVehicle,isMobile}=_ref3;const getMaintenanceStatus=vehicle=>{if(!vehicle.proximoMantenimiento)return'sin_programar';const hoy=new Date();const proximaFecha=new Date(vehicle.proximoMantenimiento);const diasRestantes=Math.ceil((proximaFecha-hoy)/(1000*60*60*24));if(diasRestantes<0)return'vencido';if(diasRestantes<=7)return'urgente';if(diasRestantes<=30)return'proximo';return'ok';};return/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fill, minmax(${isMobile?'100%':'300px'}, 1fr))`,gap:'20px'},children:vehiculos.map(vehicle=>{const status=getMaintenanceStatus(vehicle);return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>onSelectVehicle(vehicle),style:{background:'white',borderRadius:'12px',padding:'20px',boxShadow:'0 2px 8px rgba(0,0,0,0.05)',cursor:'pointer',transition:'all 0.3s',border:'2px solid',borderColor:status==='vencido'?'#ef4444':status==='urgente'?'#f59e0b':status==='proximo'?'#3b82f6':'#e5e7eb'},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 4px 12px rgba(0,0,0,0.1)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 2px 8px rgba(0,0,0,0.05)';},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'start',marginBottom:'12px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:0,fontSize:'18px',color:'#1f2937'},children:[\"\\uD83D\\uDE9B \",vehicle.nombre]}),status==='vencido'&&/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',background:'#fee2e2',color:'#991b1b',borderRadius:'4px',fontSize:'12px',fontWeight:'600'},children:\"\\u26A0\\uFE0F VENCIDO\"}),status==='urgente'&&/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',background:'#fef3c7',color:'#92400e',borderRadius:'4px',fontSize:'12px',fontWeight:'600'},children:\"\\u23F0 URGENTE\"}),status==='proximo'&&/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',background:'#dbeafe',color:'#1e40af',borderRadius:'4px',fontSize:'12px',fontWeight:'600'},children:\"\\uD83D\\uDCC5 PR\\xD3XIMO\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px',color:'#6b7280',lineHeight:'1.6'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCCD \",vehicle.marca,\" \",vehicle.modelo]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDD22 Patente: \",vehicle.patente]}),vehicle.kilometraje&&/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCCF \",vehicle.kilometraje.toLocaleString(),\" km\"]}),vehicle.ultimoMantenimiento&&/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDD27 \\xDAltimo: \",new Date(vehicle.ultimoMantenimiento).toLocaleDateString('es-CL')]}),vehicle.proximoMantenimiento&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'8px',padding:'8px',background:'#f9fafb',borderRadius:'4px',fontSize:'13px'},children:[\"\\uD83D\\uDCC6 Pr\\xF3ximo: \",new Date(vehicle.proximoMantenimiento).toLocaleDateString('es-CL'),vehicle.kilometrajeProximoMantenimiento&&/*#__PURE__*/_jsxs(\"span\",{children:[\" o \",vehicle.kilometrajeProximoMantenimiento.toLocaleString(),\" km\"]})]})]})]},vehicle.id);})});};// Componente de informaci√≥n del veh√≠culo\nconst VehicleInfoCard=_ref4=>{var _vehicle$kilometraje;let{vehicle,isMobile}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'20px',marginBottom:'20px',boxShadow:'0 2px 8px rgba(0,0,0,0.05)'},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{margin:'0 0 15px 0',fontSize:'20px',color:'#1f2937'},children:[\"\\uD83D\\uDE9B \",vehicle.nombre]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(auto-fit, minmax(200px, 1fr))',gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#6b7280',fontSize:'13px'},children:\"Marca/Modelo\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'15px',fontWeight:'500'},children:[vehicle.marca,\" \",vehicle.modelo]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#6b7280',fontSize:'13px'},children:\"Patente\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',fontWeight:'500'},children:vehicle.patente})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#6b7280',fontSize:'13px'},children:\"Kilometraje Actual\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'15px',fontWeight:'500'},children:[((_vehicle$kilometraje=vehicle.kilometraje)===null||_vehicle$kilometraje===void 0?void 0:_vehicle$kilometraje.toLocaleString())||0,\" km\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#6b7280',fontSize:'13px'},children:\"Estado\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',fontWeight:'500'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',borderRadius:'4px',fontSize:'12px',background:vehicle.estado==='disponible'?'#dcfce7':vehicle.estado==='en_uso'?'#dbeafe':vehicle.estado==='mantenimiento'?'#fef3c7':'#fee2e2',color:vehicle.estado==='disponible'?'#15803d':vehicle.estado==='en_uso'?'#1e40af':vehicle.estado==='mantenimiento'?'#92400e':'#991b1b'},children:vehicle.estado==='disponible'?'‚úÖ Disponible':vehicle.estado==='en_uso'?'üîß En Uso':vehicle.estado==='mantenimiento'?'üîß Mantenimiento':'‚ùå Fuera Servicio'})})]})]})]});};// Componente del formulario de mantenimiento\nconst MaintenanceForm=_ref5=>{let{form,setForm,onSubmit,onPhotoUpload,onDeletePhoto,uploadingPhotos,uploadProgress,loading,isMobile,vehicle,currentUser// AGREGAR ESTE PROP\n}=_ref5;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,style:{background:'white',borderRadius:'12px',padding:'30px',marginBottom:'30px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 25px 0',fontSize:'20px',color:'#1f2937'},children:\"\\uD83D\\uDCDD Registrar Nuevo Mantenimiento\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'25px',paddingBottom:'20px',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 15px 0',fontSize:'16px',color:'#374151'},children:\"\\uD83D\\uDCCB Informaci\\xF3n General\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(auto-fit, minmax(250px, 1fr))',gap:'15px'},children:[\"// En MaintenanceForm, despu\\xE9s del campo de fecha agregar:\",/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px',fontWeight:'500',color:'#374151'},children:\"Hora del Mantenimiento *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",required:true,value:form.hora,onChange:e=>setForm({...form,hora:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px',fontWeight:'500',color:'#374151'},children:\"Fecha del Mantenimiento *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",required:true,value:form.fecha,onChange:e=>setForm({...form,fecha:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px',fontWeight:'500',color:'#374151'},children:\"Tipo de Mantenimiento *\"}),/*#__PURE__*/_jsxs(\"select\",{required:true,value:form.tipoMantenimiento,onChange:e=>setForm({...form,tipoMantenimiento:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"preventivo\",children:\"Preventivo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"correctivo\",children:\"Correctivo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"emergencia\",children:\"Emergencia\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inspeccion\",children:\"Inspecci\\xF3n\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px',fontWeight:'500',color:'#374151'},children:\"Kilometraje Actual\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:form.kilometraje,onChange:e=>setForm({...form,kilometraje:e.target.value}),placeholder:vehicle.kilometraje||'0',style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px',fontWeight:'500',color:'#374151'},children:\"Realizado Por *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:form.realizadoPor,onChange:e=>setForm({...form,realizadoPor:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px',fontWeight:'500',color:'#374151'},children:\"Taller/Lugar\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:form.tallerResponsable,onChange:e=>setForm({...form,tallerResponsable:e.target.value}),placeholder:\"Nombre del taller o lugar\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px',fontWeight:'500',color:'#374151'},children:\"Costo (CLP)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:form.costoMantenimiento,onChange:e=>setForm({...form,costoMantenimiento:e.target.value}),placeholder:\"0\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'25px',paddingBottom:'20px',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 15px 0',fontSize:'16px',color:'#374151'},children:\"\\uD83D\\uDD0D Inspecci\\xF3n de Elementos de Seguridad\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'15px'},children:[/*#__PURE__*/_jsx(InspectionItem,{label:\"\\uD83D\\uDD27 Gata\",value:form.gata,onChange:value=>setForm({...form,gata:value}),observations:form.gataObservaciones,onObservationsChange:value=>setForm({...form,gataObservaciones:value})}),/*#__PURE__*/_jsx(InspectionItem,{label:\"\\uD83E\\uDDBA Chaleco Reflectante\",value:form.chalecoReflectante,onChange:value=>setForm({...form,chalecoReflectante:value}),observations:form.chalecoObservaciones,onObservationsChange:value=>setForm({...form,chalecoObservaciones:value})}),/*#__PURE__*/_jsx(InspectionItem,{label:\"\\uD83D\\uDD11 Llave de Repuesto\",value:form.llaveRepuesto,onChange:value=>setForm({...form,llaveRepuesto:value}),observations:form.llaveObservaciones,onObservationsChange:value=>setForm({...form,llaveObservaciones:value})}),/*#__PURE__*/_jsx(InspectionItem,{label:\"\\uD83D\\uDD12 Cintur\\xF3n de Seguridad\",value:form.cinturon,onChange:value=>setForm({...form,cinturon:value}),observations:form.cinturonObservaciones,onObservationsChange:value=>setForm({...form,cinturonObservaciones:value})}),/*#__PURE__*/_jsx(InspectionItem,{label:\"\\uD83E\\uDE9F Estado del Parabrisas\",value:form.parabrisas,onChange:value=>setForm({...form,parabrisas:value}),observations:form.parabrisasObservaciones,onObservationsChange:value=>setForm({...form,parabrisasObservaciones:value}),noAplica:false}),/*#__PURE__*/_jsx(InspectionItem,{label:\"\\uD83D\\uDD34 Luces de Freno\",value:form.lucesFreno,onChange:value=>setForm({...form,lucesFreno:value}),observations:form.lucesObservaciones,onObservationsChange:value=>setForm({...form,lucesObservaciones:value}),noAplica:false}),/*#__PURE__*/_jsx(InspectionItem,{label:\"\\uD83D\\uDCA1 Luces Delanteras\",value:form.lucesDelanteras,onChange:value=>setForm({...form,lucesDelanteras:value}),observations:form.lucesDObservaciones,onObservationsChange:value=>setForm({...form,lucesDObservaciones:value}),noAplica:false})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'25px',paddingBottom:'20px',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 15px 0',fontSize:'16px',color:'#374151'},children:\"\\u2705 Trabajos Realizados\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(auto-fit, minmax(250px, 1fr))',gap:'10px'},children:[{key:'cambioAceite',label:'üõ¢Ô∏è Cambio de Aceite'},{key:'filtroAire',label:'üí® Filtro de Aire'},{key:'filtroAceite',label:'üîß Filtro de Aceite'},{key:'filtroCombustible',label:'‚õΩ Filtro de Combustible'},{key:'revisionFrenos',label:'üõë Revisi√≥n de Frenos'},{key:'revisionNeumaticos',label:'üõû Revisi√≥n de Neum√°ticos'},{key:'revisionSuspension',label:'üî© Revisi√≥n de Suspensi√≥n'},{key:'revisionDireccion',label:'üéØ Revisi√≥n de Direcci√≥n'},{key:'revisionBateria',label:'üîã Revisi√≥n de Bater√≠a'},{key:'revisionLuces',label:'üí° Revisi√≥n de Luces'},{key:'nivelLiquidos',label:'üíß Nivel de L√≠quidos'}].map(item=>/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'8px',padding:'8px',background:form[item.key]?'#dcfce7':'#f9fafb',borderRadius:'6px',cursor:'pointer',transition:'all 0.2s'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:form[item.key],onChange:e=>setForm({...form,[item.key]:e.target.checked}),style:{width:'18px',height:'18px',cursor:'pointer'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'14px',color:'#374151'},children:item.label})]},item.key))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'25px',paddingBottom:'20px',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 15px 0',fontSize:'16px',color:'#374151'},children:\"\\uD83D\\uDCDD Observaciones y Pr\\xF3ximo Mantenimiento\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px',fontWeight:'500',color:'#374151'},children:\"Observaciones Generales\"}),/*#__PURE__*/_jsx(\"textarea\",{value:form.observacionesGenerales,onChange:e=>setForm({...form,observacionesGenerales:e.target.value}),placeholder:\"Detalle cualquier observaci\\xF3n adicional...\",rows:4,style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px',resize:'none'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'1fr 1fr',gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px',fontWeight:'500',color:'#374151'},children:\"Pr\\xF3ximo Mantenimiento (Fecha)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.proximoMantenimientoFecha,onChange:e=>setForm({...form,proximoMantenimientoFecha:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px',fontWeight:'500',color:'#374151'},children:\"Pr\\xF3ximo Mantenimiento (Kilometraje)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:form.proximoMantenimientoKm,onChange:e=>setForm({...form,proximoMantenimientoKm:e.target.value}),placeholder:\"Ej: 15000\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'25px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 15px 0',fontSize:'16px',color:'#374151'},children:\"\\uD83D\\uDCF7 Fotos del Mantenimiento\"}),form.fotos&&form.fotos.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(150px, 1fr))',gap:'10px',marginBottom:'15px'},children:form.fotos.map((foto,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',background:'#f9fafb',borderRadius:'8px',padding:'10px',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"img\",{src:foto.url,alt:`Foto ${index+1}`,style:{width:'100%',height:'120px',objectFit:'cover',borderRadius:'4px',marginBottom:'8px'}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>onDeletePhoto(index),style:{position:'absolute',top:'5px',right:'5px',padding:'4px 8px',background:'#ef4444',color:'white',border:'none',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:\"\\u2715\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#6b7280',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:foto.nombre})]},index))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"maintenance-photos\",multiple:true,accept:\"image/*\",onChange:e=>onPhotoUpload(e.target.files),style:{display:'none'},disabled:uploadingPhotos}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"maintenance-photos\",style:{display:'inline-block',padding:'10px 20px',background:uploadingPhotos?'#9ca3af':'#3b82f6',color:'white',borderRadius:'6px',cursor:uploadingPhotos?'not-allowed':'pointer',fontSize:'14px',fontWeight:'500'},children:uploadingPhotos?`‚è≥ Subiendo... ${uploadProgress}%`:'üì§ Agregar Fotos'})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{padding:'12px 24px',background:loading?'#9ca3af':'#22c55e',color:'white',border:'none',borderRadius:'6px',fontSize:'16px',fontWeight:'500',cursor:loading?'not-allowed':'pointer'},children:loading?'‚è≥ Guardando...':'‚úÖ Guardar Mantenimiento'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{// Resetear el formulario directamente aqu√≠\nsetForm({fecha:new Date().toISOString().split('T')[0],tipoMantenimiento:'preventivo',kilometraje:'',horasUso:'',gata:'no_aplica',gataObservaciones:'',chalecoReflectante:'no_aplica',chalecoObservaciones:'',llaveRepuesto:'no_aplica',llaveObservaciones:'',cinturon:'no_aplica',cinturonObservaciones:'',parabrisas:'bueno',parabrisasObservaciones:'',lucesFreno:'bueno',lucesObservaciones:'',lucesDelanteras:'bueno',lucesDObservaciones:'',cambioAceite:false,filtroAire:false,filtroAceite:false,filtroCombustible:false,revisionFrenos:false,revisionNeumaticos:false,revisionSuspension:false,revisionDireccion:false,revisionBateria:false,revisionLuces:false,nivelLiquidos:false,observacionesGenerales:'',proximoMantenimientoKm:'',proximoMantenimientoFecha:'',realizadoPor:currentUser.name||currentUser.email,tallerResponsable:'',costoMantenimiento:0,fotos:[]});},style:{padding:'12px 24px',background:'#6b7280',color:'white',border:'none',borderRadius:'6px',fontSize:'16px',fontWeight:'500',cursor:'pointer'},children:\"Limpiar Formulario\"})]})]});};// Componente para items de inspecci√≥n\nconst InspectionItem=_ref6=>{let{label,value,onChange,observations,onObservationsChange,noAplica=true}=_ref6;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',background:'#f9fafb',borderRadius:'8px',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:observations?'10px':'0'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'14px',fontWeight:'500',color:'#374151'},children:label}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'5px',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:label,value:\"bueno\",checked:value==='bueno',onChange:()=>onChange('bueno')}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'13px'},children:\"\\u2705 Bueno\"})]}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'5px',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:label,value:\"requiere_atencion\",checked:value==='requiere_atencion',onChange:()=>onChange('requiere_atencion')}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'13px'},children:\"\\u26A0\\uFE0F Requiere Atenci\\xF3n\"})]}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'5px',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:label,value:\"malo\",checked:value==='malo',onChange:()=>onChange('malo')}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'13px'},children:\"\\u274C Malo\"})]}),noAplica&&/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'5px',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:label,value:\"no_aplica\",checked:value==='no_aplica',onChange:()=>onChange('no_aplica')}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'13px'},children:\"N/A\"})]})]})]}),(value==='requiere_atencion'||value==='malo')&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:observations,onChange:e=>onObservationsChange(e.target.value),placeholder:\"Especifique el problema...\",style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'13px'}})]});};// Agregar este componente de filtros antes del historial\n{selectedVehicle&&maintenanceHistory.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'20px',marginBottom:'20px',boxShadow:'0 2px 8px rgba(0,0,0,0.05)'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 15px 0',fontSize:'18px',color:'#1f2937'},children:\"\\uD83D\\uDD0D Filtros de B\\xFAsqueda\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(4, 1fr)',gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'13px',color:'#6b7280'},children:\"Buscar por Patente\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Ej: XX-XX-99\",value:searchPatente,onChange:e=>setSearchPatente(e.target.value),style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'13px',color:'#6b7280'},children:\"Fecha Desde\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:searchFechaDesde,onChange:e=>setSearchFechaDesde(e.target.value),style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'13px',color:'#6b7280'},children:\"Fecha Hasta\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:searchFechaHasta,onChange:e=>setSearchFechaHasta(e.target.value),style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'flex-end'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSearchPatente('');setSearchFechaDesde('');setSearchFechaHasta('');},style:{width:'100%',padding:'8px',background:'#6b7280',color:'white',border:'none',borderRadius:'6px',fontSize:'14px',cursor:'pointer'},children:\"Limpiar Filtros\"})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px',padding:'10px',background:'#f9fafb',borderRadius:'6px',fontSize:'13px',color:'#6b7280'},children:[\"Mostrando \",filteredHistory.length,\" de \",maintenanceHistory.length,\" registros\"]})]});}{/* Modificar el componente MaintenanceHistory para usar filteredHistory */}/*#__PURE__*/_jsx(MaintenanceHistory,{history:filteredHistory// Cambiar de maintenanceHistory a filteredHistory\n,isMobile:isMobile});// Componente para el historial\nconst MaintenanceHistory=_ref7=>{let{history,isMobile}=_ref7;if(history.length===0){return/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'40px',textAlign:'center',color:'#6b7280'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'10px'},children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'16px'},children:\"No hay mantenimientos registrados\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px'},children:\"Registra el primer mantenimiento usando el formulario\"})]});}return/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',borderBottom:'1px solid #e5e7eb'},children:/*#__PURE__*/_jsxs(\"h3\",{style:{margin:0,fontSize:'20px',color:'#1f2937'},children:[\"\\uD83D\\uDCDA Historial de Mantenimientos (\",history.length,\")\"]})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px'},children:history.map((maintenance,index)=>/*#__PURE__*/_jsx(MaintenanceCard,{maintenance:maintenance,isLast:index===history.length-1,isMobile:isMobile},maintenance.id))})]});};// Componente para cada tarjeta de mantenimiento\nconst MaintenanceCard=_ref8=>{let{maintenance,isLast,isMobile}=_ref8;const[expanded,setExpanded]=useState(false);return/*#__PURE__*/_jsxs(\"div\",{style:{paddingBottom:isLast?'0':'20px',marginBottom:isLast?'0':'20px',borderBottom:isLast?'none':'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>setExpanded(!expanded),style:{cursor:'pointer',padding:'15px',background:'#f9fafb',borderRadius:'8px',transition:'all 0.2s'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'start'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px',marginBottom:'8px'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'16px',fontWeight:'600',color:'#1f2937'},children:[new Date(maintenance.fecha).toLocaleDateString('es-CL'),maintenance.hora&&/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:'10px',fontSize:'14px',color:'#6b7280'},children:[maintenance.hora,\" hrs\"]})]}),/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',background:maintenance.tipoMantenimiento==='preventivo'?'#dcfce7':maintenance.tipoMantenimiento==='correctivo'?'#fef3c7':'#fee2e2',color:maintenance.tipoMantenimiento==='preventivo'?'#15803d':maintenance.tipoMantenimiento==='correctivo'?'#92400e':'#991b1b',borderRadius:'4px',fontSize:'12px',fontWeight:'500'},children:maintenance.tipoMantenimiento.toUpperCase()})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px',color:'#6b7280'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDC64 \",maintenance.realizadoPor]}),maintenance.kilometraje&&/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCCF \",maintenance.kilometraje.toLocaleString(),\" km\"]}),maintenance.costoMantenimiento>0&&/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCB0 $\",maintenance.costoMantenimiento.toLocaleString()]})]})]}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'20px',transform:expanded?'rotate(180deg)':'rotate(0)',transition:'transform 0.2s'},children:\"\\u25BC\"})]})}),expanded&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px',padding:'15px',background:'white',borderRadius:'8px',border:'1px solid #e5e7eb'},children:[(()=>{const trabajos=[{key:'cambioAceite',label:'üõ¢Ô∏è Cambio de Aceite'},{key:'filtroAire',label:'üí® Filtro de Aire'},{key:'filtroAceite',label:'üîß Filtro de Aceite'},{key:'filtroCombustible',label:'‚õΩ Filtro de Combustible'},{key:'revisionFrenos',label:'üõë Revisi√≥n de Frenos'},{key:'revisionNeumaticos',label:'üõû Revisi√≥n de Neum√°ticos'},{key:'revisionSuspension',label:'üî© Revisi√≥n de Suspensi√≥n'},{key:'revisionDireccion',label:'üéØ Revisi√≥n de Direcci√≥n'},{key:'revisionBateria',label:'üîã Revisi√≥n de Bater√≠a'},{key:'revisionLuces',label:'üí° Revisi√≥n de Luces'},{key:'nivelLiquidos',label:'üíß Nivel de L√≠quidos'}].filter(t=>maintenance[t.key]);if(trabajos.length>0){return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:'0 0 10px 0',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"Trabajos Realizados:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'8px'},children:trabajos.map(trabajo=>/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',background:'#dcfce7',color:'#15803d',borderRadius:'4px',fontSize:'12px'},children:trabajo.label},trabajo.key))})]});}return null;})(),(()=>{const inspecciones=[{key:'gata',label:'üîß Gata',value:maintenance.gata,obs:maintenance.gataObservaciones},{key:'chalecoReflectante',label:'ü¶∫ Chaleco',value:maintenance.chalecoReflectante,obs:maintenance.chalecoObservaciones},{key:'llaveRepuesto',label:'üîë Llave Repuesto',value:maintenance.llaveRepuesto,obs:maintenance.llaveObservaciones},{key:'cinturon',label:'üîí Cintur√≥n',value:maintenance.cinturon,obs:maintenance.cinturonObservaciones},{key:'parabrisas',label:'ü™ü Parabrisas',value:maintenance.parabrisas,obs:maintenance.parabrisasObservaciones},{key:'lucesFreno',label:'üî¥ Luces Freno',value:maintenance.lucesFreno,obs:maintenance.lucesObservaciones},{key:'lucesDelanteras',label:'üí° Luces Delanteras',value:maintenance.lucesDelanteras,obs:maintenance.lucesDObservaciones}].filter(i=>i.value&&i.value!=='no_aplica');if(inspecciones.length>0){return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:'0 0 10px 0',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"Inspecci\\xF3n de Seguridad:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(auto-fit, minmax(200px, 1fr))',gap:'8px'},children:inspecciones.map(insp=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'6px 10px',background:insp.value==='bueno'?'#dcfce7':insp.value==='requiere_atencion'?'#fef3c7':'#fee2e2',borderRadius:'4px',fontSize:'12px'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'500'},children:[insp.label,\":\"]}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'5px'},children:insp.value==='bueno'?'‚úÖ':insp.value==='requiere_atencion'?'‚ö†Ô∏è':'‚ùå'}),insp.obs&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#6b7280',marginTop:'2px'},children:insp.obs})]},insp.key))})]});}return null;})(),maintenance.observacionesGenerales&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:'0 0 10px 0',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"Observaciones:\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'13px',color:'#6b7280',lineHeight:'1.5'},children:maintenance.observacionesGenerales})]}),maintenance.fotos&&maintenance.fotos.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{style:{margin:'0 0 10px 0',fontSize:'14px',fontWeight:'600',color:'#374151'},children:[\"\\uD83D\\uDCF7 Fotos (\",maintenance.fotos.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(100px, 1fr))',gap:'8px'},children:maintenance.fotos.map((foto,index)=>/*#__PURE__*/_jsx(\"a\",{href:foto.url,target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{src:foto.url,alt:`Foto ${index+1}`,style:{width:'100%',height:'80px',objectFit:'cover',borderRadius:'4px',border:'1px solid #e5e7eb'}})},index))})]}),(maintenance.proximoMantenimientoFecha||maintenance.proximoMantenimientoKm)&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px',padding:'10px',background:'#f0f9ff',borderRadius:'6px',fontSize:'13px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCC5 Pr\\xF3ximo Mantenimiento:\"}),maintenance.proximoMantenimientoFecha&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'10px'},children:new Date(maintenance.proximoMantenimientoFecha).toLocaleDateString('es-CL')}),maintenance.proximoMantenimientoKm&&/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:'10px'},children:[\"o \",maintenance.proximoMantenimientoKm.toLocaleString(),\" km\"]})]})]})]});};export default VehicleMaintenanceModule;","map":{"version":3,"names":["React","useState","useEffect","useCallback","pdfExportService","database","storage","auth","ref","databaseRef","push","update","onValue","off","set","databaseSet","storageRef","uploadBytes","getDownloadURL","deleteObject","cloudinaryConfig","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VehicleMaintenanceModule","_ref","vehiculos","currentUser","isMobile","searchPatente","setSearchPatente","searchFechaDesde","setSearchFechaDesde","searchFechaHasta","setSearchFechaHasta","filteredHistory","setFilteredHistory","selectedVehicle","setSelectedVehicle","maintenanceHistory","setMaintenanceHistory","showMaintenanceForm","setShowMaintenanceForm","loading","setLoading","message","setMessage","type","text","uploadingPhotos","setUploadingPhotos","uploadProgress","setUploadProgress","maintenanceForm","setMaintenanceForm","fecha","Date","toISOString","split","hora","toTimeString","slice","tipoMantenimiento","kilometraje","horasUso","gata","gataObservaciones","chalecoReflectante","chalecoObservaciones","llaveRepuesto","llaveObservaciones","cinturon","cinturonObservaciones","parabrisas","parabrisasObservaciones","lucesFreno","lucesObservaciones","lucesDelanteras","lucesDObservaciones","cambioAceite","filtroAire","filtroAceite","filtroCombustible","revisionFrenos","revisionNeumaticos","revisionSuspension","revisionDireccion","revisionBateria","revisionLuces","nivelLiquidos","observacionesGenerales","proximoMantenimientoKm","proximoMantenimientoFecha","realizadoPor","name","email","tallerResponsable","costoMantenimiento","fotos","filtered","filter","m","_m$vehiculoNombre","_selectedVehicle$pate","vehiculoNombre","toLowerCase","includes","patente","loadMaintenanceHistory","id","vehicleId","historyRef","unsubscribe","snapshot","data","val","historyArray","Object","entries","map","_ref2","maintenance","sort","a","b","handlePhotoUpload","files","length","uploadedPhotos","i","file","startsWith","size","formData","FormData","append","timestamp","now","cleanFileName","replace","Math","round","response","fetch","cloudName","method","body","json","url","secure_url","publicId","public_id","nombre","tama√±o","prev","error","console","handleDeletePhoto","index","_","handleSaveMaintenance","e","preventDefault","fechaHoraCompleta","maintenanceData","fechaCompleta","vehiculoId","vehiculoPatente","fechaRegistro","registradoPor","uid","registradoPorNombre","maintenanceRef","newMaintenanceRef","vehicleRef","ultimoMantenimiento","kilometrajeUltimoMantenimiento","proximoMantenimiento","kilometrajeProximoMantenimiento","ultimaActualizacion","resetForm","handleExportPDF","exportMaintenanceHistory","style","padding","children","marginBottom","display","justifyContent","alignItems","flexWrap","gap","margin","color","fontSize","fontWeight","onClick","background","border","borderRadius","cursor","VehicleSelectionGrid","onSelectVehicle","VehicleInfoCard","vehicle","boxShadow","MaintenanceForm","form","setForm","onSubmit","onPhotoUpload","onDeletePhoto","MaintenanceHistory","history","_ref3","getMaintenanceStatus","hoy","proximaFecha","diasRestantes","ceil","gridTemplateColumns","status","transition","borderColor","onMouseEnter","currentTarget","transform","onMouseLeave","lineHeight","marca","modelo","toLocaleString","toLocaleDateString","marginTop","_ref4","_vehicle$kilometraje","estado","_ref5","paddingBottom","borderBottom","required","value","onChange","target","width","placeholder","InspectionItem","label","observations","onObservationsChange","noAplica","key","item","checked","height","rows","resize","foto","position","src","alt","objectFit","top","right","overflow","textOverflow","whiteSpace","multiple","accept","disabled","htmlFor","_ref6","_ref7","textAlign","MaintenanceCard","isLast","_ref8","expanded","setExpanded","marginLeft","toUpperCase","trabajos","t","trabajo","inspecciones","obs","insp","href","rel"],"sources":["C:/Users/Izan/Desktop/AppReact/mapa-quillon/src/components/VehicleMaintenanceModule.js"],"sourcesContent":["// src/components/VehicleMaintenanceModule.js\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { pdfExportService } from '../services/pdfExportService';\r\nimport {\r\n    database,\r\n    storage,\r\n    auth\r\n} from '../config/firebase';\r\nimport {\r\n    ref as databaseRef,\r\n    push,\r\n    update,\r\n    onValue,\r\n    off,\r\n    set as databaseSet\r\n} from 'firebase/database';\r\nimport {\r\n    ref as storageRef,\r\n    uploadBytes,\r\n    getDownloadURL,\r\n    deleteObject\r\n} from 'firebase/storage';\r\nimport { cloudinaryConfig } from '../config/cloudinary';\r\n\r\nconst VehicleMaintenanceModule = ({\r\n    vehiculos,\r\n    currentUser,\r\n    isMobile\r\n}) => {\r\n    // Estados principales\r\n    const [searchPatente, setSearchPatente] = useState('');\r\n    const [searchFechaDesde, setSearchFechaDesde] = useState('');\r\n    const [searchFechaHasta, setSearchFechaHasta] = useState('');\r\n    const [filteredHistory, setFilteredHistory] = useState([]);\r\n    const [selectedVehicle, setSelectedVehicle] = useState(null);\r\n    const [maintenanceHistory, setMaintenanceHistory] = useState([]);\r\n    const [showMaintenanceForm, setShowMaintenanceForm] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [message, setMessage] = useState({ type: '', text: '' });\r\n    const [uploadingPhotos, setUploadingPhotos] = useState(false);\r\n    const [uploadProgress, setUploadProgress] = useState(0);\r\n\r\n    // Estado del formulario de mantenimiento\r\n    const [maintenanceForm, setMaintenanceForm] = useState({\r\n        fecha: new Date().toISOString().split('T')[0],\r\n        hora: new Date().toTimeString().slice(0, 5),\r\n        tipoMantenimiento: 'preventivo',\r\n        kilometraje: '',\r\n        horasUso: '',\r\n\r\n        // Checklist de inspecci√≥n\r\n        gata: 'no_aplica',\r\n        gataObservaciones: '',\r\n\r\n        chalecoReflectante: 'no_aplica',\r\n        chalecoObservaciones: '',\r\n\r\n        llaveRepuesto: 'no_aplica',\r\n        llaveObservaciones: '',\r\n\r\n        cinturon: 'no_aplica',\r\n        cinturonObservaciones: '',\r\n\r\n        parabrisas: 'bueno',\r\n        parabrisasObservaciones: '',\r\n\r\n        lucesFreno: 'bueno',\r\n        lucesObservaciones: '',\r\n\r\n        lucesDelanteras: 'bueno',\r\n        lucesDObservaciones: '',\r\n\r\n        // Mantenimiento realizado\r\n        cambioAceite: false,\r\n        filtroAire: false,\r\n        filtroAceite: false,\r\n        filtroCombustible: false,\r\n        revisionFrenos: false,\r\n        revisionNeumaticos: false,\r\n        revisionSuspension: false,\r\n        revisionDireccion: false,\r\n        revisionBateria: false,\r\n        revisionLuces: false,\r\n        nivelLiquidos: false,\r\n\r\n        // Observaciones generales\r\n        observacionesGenerales: '',\r\n        proximoMantenimientoKm: '',\r\n        proximoMantenimientoFecha: '',\r\n\r\n        // Informaci√≥n del responsable\r\n        realizadoPor: currentUser.name || currentUser.email,\r\n        tallerResponsable: '',\r\n        costoMantenimiento: 0,\r\n\r\n        // Fotos del mantenimiento\r\n        fotos: []\r\n    });\r\n    useEffect(() => {\r\n        let filtered = [...maintenanceHistory];\r\n\r\n        // Filtro por patente\r\n        if (searchPatente) {\r\n            filtered = filtered.filter(m =>\r\n                m.vehiculoNombre?.toLowerCase().includes(searchPatente.toLowerCase()) ||\r\n                selectedVehicle?.patente?.toLowerCase().includes(searchPatente.toLowerCase())\r\n            );\r\n        }\r\n\r\n        // Filtro por fecha desde\r\n        if (searchFechaDesde) {\r\n            filtered = filtered.filter(m =>\r\n                new Date(m.fecha) >= new Date(searchFechaDesde)\r\n            );\r\n        }\r\n\r\n        // Filtro por fecha hasta\r\n        if (searchFechaHasta) {\r\n            filtered = filtered.filter(m =>\r\n                new Date(m.fecha) <= new Date(searchFechaHasta)\r\n            );\r\n        }\r\n\r\n        setFilteredHistory(filtered);\r\n    }, [maintenanceHistory, searchPatente, searchFechaDesde, searchFechaHasta]);\r\n\r\n\r\n    // Cargar historial de mantenimiento cuando se selecciona un veh√≠culo\r\n    useEffect(() => {\r\n        if (selectedVehicle) {\r\n            loadMaintenanceHistory(selectedVehicle.id);\r\n        }\r\n    }, [selectedVehicle]);\r\n\r\n    // Funci√≥n para cargar historial\r\n    const loadMaintenanceHistory = (vehicleId) => {\r\n        const historyRef = databaseRef(database, `mantenimientos/${vehicleId}`);\r\n\r\n        const unsubscribe = onValue(historyRef, (snapshot) => {\r\n            const data = snapshot.val();\r\n            if (data) {\r\n                const historyArray = Object.entries(data)\r\n                    .map(([id, maintenance]) => ({\r\n                        id,\r\n                        ...maintenance\r\n                    }))\r\n                    .sort((a, b) => new Date(b.fecha) - new Date(a.fecha));\r\n                setMaintenanceHistory(historyArray);\r\n            } else {\r\n                setMaintenanceHistory([]);\r\n            }\r\n        });\r\n\r\n        return () => off(historyRef);\r\n    };\r\n\r\n    // Funci√≥n para subir fotos a Cloudinary\r\n    const handlePhotoUpload = async (files) => {\r\n        if (!files || files.length === 0) return;\r\n\r\n        setUploadingPhotos(true);\r\n        const uploadedPhotos = [];\r\n\r\n        try {\r\n            for (let i = 0; i < files.length; i++) {\r\n                const file = files[i];\r\n\r\n                // Validar tipo de archivo\r\n                if (!file.type.startsWith('image/')) {\r\n                    setMessage({\r\n                        type: 'error',\r\n                        text: `El archivo ${file.name} no es una imagen v√°lida`\r\n                    });\r\n                    continue;\r\n                }\r\n\r\n                // Validar tama√±o\r\n                if (file.size > 10 * 1024 * 1024) {\r\n                    setMessage({\r\n                        type: 'error',\r\n                        text: `El archivo ${file.name} excede el l√≠mite de 10MB`\r\n                    });\r\n                    continue;\r\n                }\r\n\r\n                const formData = new FormData();\r\n                formData.append('file', file);\r\n                formData.append('upload_preset', 'vehiculos_docs');\r\n\r\n                const vehicleId = selectedVehicle.id;\r\n                const timestamp = Date.now();\r\n                const cleanFileName = file.name.split('.')[0].replace(/[^a-zA-Z0-9_-]/g, '_');\r\n\r\n                formData.append('folder', `municipalidad/mantenimientos/${vehicleId}/${timestamp}`);\r\n                formData.append('public_id', `${timestamp}_${cleanFileName}`);\r\n\r\n                setUploadProgress(Math.round(((i + 1) / files.length) * 100));\r\n\r\n                const response = await fetch(\r\n                    `https://api.cloudinary.com/v1_1/${cloudinaryConfig.cloudName}/image/upload`,\r\n                    {\r\n                        method: 'POST',\r\n                        body: formData\r\n                    }\r\n                );\r\n\r\n                const data = await response.json();\r\n\r\n                uploadedPhotos.push({\r\n                    url: data.secure_url,\r\n                    publicId: data.public_id,\r\n                    nombre: file.name,\r\n                    fecha: new Date().toISOString(),\r\n                    tama√±o: file.size\r\n                });\r\n            }\r\n\r\n            // Actualizar el estado con las fotos subidas\r\n            setMaintenanceForm(prev => ({\r\n                ...prev,\r\n                fotos: [...prev.fotos, ...uploadedPhotos]\r\n            }));\r\n\r\n            setMessage({\r\n                type: 'success',\r\n                text: `‚úÖ ${uploadedPhotos.length} foto(s) subidas exitosamente`\r\n            });\r\n\r\n        } catch (error) {\r\n            console.error('Error al subir fotos:', error);\r\n            setMessage({\r\n                type: 'error',\r\n                text: '‚ùå Error al subir las fotos'\r\n            });\r\n        } finally {\r\n            setUploadingPhotos(false);\r\n            setUploadProgress(0);\r\n        }\r\n    };\r\n\r\n    // Funci√≥n para eliminar foto\r\n    const handleDeletePhoto = (index) => {\r\n        setMaintenanceForm(prev => ({\r\n            ...prev,\r\n            fotos: prev.fotos.filter((_, i) => i !== index)\r\n        }));\r\n    };\r\n\r\n    // Funci√≥n para guardar mantenimiento\r\n    const handleSaveMaintenance = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        try {\r\n            // Combinar fecha y hora\r\n            const fechaHoraCompleta = `${maintenanceForm.fecha}T${maintenanceForm.hora}:00`;\r\n\r\n            const maintenanceData = {\r\n                ...maintenanceForm,\r\n                fechaCompleta: fechaHoraCompleta, // Agregar fecha y hora combinadas\r\n                vehiculoId: selectedVehicle.id,\r\n                vehiculoNombre: selectedVehicle.nombre,\r\n                vehiculoPatente: selectedVehicle.patente, // AGREGAR PATENTE\r\n                fechaRegistro: new Date().toISOString(),\r\n                registradoPor: currentUser.uid,\r\n                registradoPorNombre: currentUser.name || currentUser.email\r\n            };\r\n            // Guardar en la base de datos\r\n            const maintenanceRef = databaseRef(database, `mantenimientos/${selectedVehicle.id}`);\r\n            const newMaintenanceRef = push(maintenanceRef);\r\n            await databaseSet(newMaintenanceRef, maintenanceData);\r\n\r\n            // Actualizar el veh√≠culo con la informaci√≥n del √∫ltimo mantenimiento\r\n            const vehicleRef = databaseRef(database, `vehiculos/${selectedVehicle.id}`);\r\n            await update(vehicleRef, {\r\n                ultimoMantenimiento: maintenanceForm.fecha,\r\n                kilometrajeUltimoMantenimiento: maintenanceForm.kilometraje || selectedVehicle.kilometraje,\r\n                proximoMantenimiento: maintenanceForm.proximoMantenimientoFecha,\r\n                kilometrajeProximoMantenimiento: maintenanceForm.proximoMantenimientoKm,\r\n                ultimaActualizacion: new Date().toISOString()\r\n            });\r\n\r\n            setMessage({\r\n                type: 'success',\r\n                text: '‚úÖ Mantenimiento registrado exitosamente'\r\n            });\r\n\r\n            // Resetear formulario\r\n            resetForm();\r\n            setShowMaintenanceForm(false);\r\n\r\n        } catch (error) {\r\n            console.error('Error al guardar mantenimiento:', error);\r\n            setMessage({\r\n                type: 'error',\r\n                text: '‚ùå Error al guardar el mantenimiento'\r\n            });\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Funci√≥n para resetear el formulario\r\n    const resetForm = () => {\r\n        setMaintenanceForm({\r\n            fecha: new Date().toISOString().split('T')[0],\r\n            hora: new Date().toTimeString().slice(0, 5),\r\n            tipoMantenimiento: 'preventivo',\r\n            kilometraje: '',\r\n            horasUso: '',\r\n            gata: 'no_aplica',\r\n            gataObservaciones: '',\r\n            chalecoReflectante: 'no_aplica',\r\n            chalecoObservaciones: '',\r\n            llaveRepuesto: 'no_aplica',\r\n            llaveObservaciones: '',\r\n            cinturon: 'no_aplica',\r\n            cinturonObservaciones: '',\r\n            parabrisas: 'bueno',\r\n            parabrisasObservaciones: '',\r\n            lucesFreno: 'bueno',\r\n            lucesObservaciones: '',\r\n            lucesDelanteras: 'bueno',\r\n            lucesDObservaciones: '',\r\n            cambioAceite: false,\r\n            filtroAire: false,\r\n            filtroAceite: false,\r\n            filtroCombustible: false,\r\n            revisionFrenos: false,\r\n            revisionNeumaticos: false,\r\n            revisionSuspension: false,\r\n            revisionDireccion: false,\r\n            revisionBateria: false,\r\n            revisionLuces: false,\r\n            nivelLiquidos: false,\r\n            observacionesGenerales: '',\r\n            proximoMantenimientoKm: '',\r\n            proximoMantenimientoFecha: '',\r\n            realizadoPor: currentUser.name || currentUser.email,\r\n            tallerResponsable: '',\r\n            costoMantenimiento: 0,\r\n            fotos: []\r\n        });\r\n    };\r\n\r\n    // Funci√≥n para exportar historial a PDF\r\n    // Luego modifica la funci√≥n handleExportPDF:\r\n    const handleExportPDF = () => {\r\n        if (!selectedVehicle) {\r\n            setMessage({\r\n                type: 'error',\r\n                text: 'No hay veh√≠culo seleccionado'\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (maintenanceHistory.length === 0) {\r\n            setMessage({\r\n                type: 'warning',\r\n                text: 'No hay historial de mantenimiento para exportar'\r\n            });\r\n            return;\r\n        }\r\n\r\n        try {\r\n            pdfExportService.exportMaintenanceHistory(\r\n                selectedVehicle,\r\n                maintenanceHistory,\r\n                currentUser\r\n            );\r\n\r\n            setMessage({\r\n                type: 'success',\r\n                text: 'PDF generado exitosamente'\r\n            });\r\n        } catch (error) {\r\n            console.error('Error al generar PDF:', error);\r\n            setMessage({\r\n                type: 'error',\r\n                text: 'Error al generar el PDF'\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: isMobile ? '15px' : '30px' }}>\r\n            {/* Header */}\r\n            <div style={{\r\n                marginBottom: '30px',\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center',\r\n                flexWrap: 'wrap',\r\n                gap: '15px'\r\n            }}>\r\n                <h1 style={{\r\n                    margin: 0,\r\n                    color: '#1e293b',\r\n                    fontSize: isMobile ? '24px' : '28px',\r\n                    fontWeight: '600'\r\n                }}>\r\n                    üîß M√≥dulo de Mantenimiento Vehicular\r\n                </h1>\r\n\r\n                {selectedVehicle && (\r\n                    <button\r\n                        onClick={() => setSelectedVehicle(null)}\r\n                        style={{\r\n                            padding: '10px 20px',\r\n                            background: '#6b7280',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '8px',\r\n                            fontSize: '14px',\r\n                            cursor: 'pointer'\r\n                        }}\r\n                    >\r\n                        ‚Üê Volver a lista\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            {/* Mensajes */}\r\n            {message.text && (\r\n                <div style={{\r\n                    padding: '12px',\r\n                    borderRadius: '8px',\r\n                    marginBottom: '20px',\r\n                    background: message.type === 'success' ? '#dcfce7' :\r\n                        message.type === 'error' ? '#fee2e2' : '#dbeafe',\r\n                    border: `1px solid ${message.type === 'success' ? '#86efac' :\r\n                        message.type === 'error' ? '#fecaca' : '#93c5fd'\r\n                        }`,\r\n                    color: message.type === 'success' ? '#166534' :\r\n                        message.type === 'error' ? '#991b1b' : '#1e40af'\r\n                }}>\r\n                    {message.text}\r\n                </div>\r\n            )}\r\n\r\n            {!selectedVehicle ? (\r\n                // Lista de veh√≠culos\r\n                <VehicleSelectionGrid\r\n                    vehiculos={vehiculos}\r\n                    onSelectVehicle={setSelectedVehicle}\r\n                    isMobile={isMobile}\r\n                />\r\n            ) : (\r\n                // Vista de mantenimiento del veh√≠culo seleccionado\r\n                <>\r\n                    {/* Informaci√≥n del veh√≠culo */}\r\n                    <VehicleInfoCard\r\n                        vehicle={selectedVehicle}\r\n                        isMobile={isMobile}\r\n                    />\r\n\r\n                    {/* Botones de acci√≥n */}\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        gap: '10px',\r\n                        marginBottom: '20px',\r\n                        flexWrap: 'wrap'\r\n                    }}>\r\n                        <button\r\n                            onClick={() => setShowMaintenanceForm(!showMaintenanceForm)}\r\n                            style={{\r\n                                padding: '12px 24px',\r\n                                background: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n                                color: 'white',\r\n                                border: 'none',\r\n                                borderRadius: '8px',\r\n                                fontSize: '16px',\r\n                                fontWeight: '500',\r\n                                cursor: 'pointer',\r\n                                boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                            }}\r\n                        >\r\n                            {showMaintenanceForm ? '‚úñ Cancelar' : '‚ûï Registrar Mantenimiento'}\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={handleExportPDF}\r\n                            style={{\r\n                                padding: '12px 24px',\r\n                                background: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\r\n                                color: 'white',\r\n                                border: 'none',\r\n                                borderRadius: '8px',\r\n                                fontSize: '16px',\r\n                                fontWeight: '500',\r\n                                cursor: 'pointer',\r\n                                boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                            }}\r\n                        >\r\n                            üìÑ Exportar Historial PDF\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Formulario de mantenimiento */}\r\n                    {showMaintenanceForm && (\r\n                        <MaintenanceForm\r\n                            form={maintenanceForm}\r\n                            setForm={setMaintenanceForm}\r\n                            onSubmit={handleSaveMaintenance}\r\n                            onPhotoUpload={handlePhotoUpload}\r\n                            onDeletePhoto={handleDeletePhoto}\r\n                            uploadingPhotos={uploadingPhotos}\r\n                            uploadProgress={uploadProgress}\r\n                            loading={loading}\r\n                            isMobile={isMobile}\r\n                            vehicle={selectedVehicle}\r\n                            currentUser={currentUser}  // AGREGAR ESTA L√çNEA\r\n\r\n                        />\r\n                    )}\r\n\r\n                    {/* Historial de mantenimientos */}\r\n                    <MaintenanceHistory\r\n                        history={maintenanceHistory}\r\n                        isMobile={isMobile}\r\n                    />\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n// Componente para selecci√≥n de veh√≠culo\r\nconst VehicleSelectionGrid = ({ vehiculos, onSelectVehicle, isMobile }) => {\r\n    const getMaintenanceStatus = (vehicle) => {\r\n        if (!vehicle.proximoMantenimiento) return 'sin_programar';\r\n\r\n        const hoy = new Date();\r\n        const proximaFecha = new Date(vehicle.proximoMantenimiento);\r\n        const diasRestantes = Math.ceil((proximaFecha - hoy) / (1000 * 60 * 60 * 24));\r\n\r\n        if (diasRestantes < 0) return 'vencido';\r\n        if (diasRestantes <= 7) return 'urgente';\r\n        if (diasRestantes <= 30) return 'proximo';\r\n        return 'ok';\r\n    };\r\n\r\n    return (\r\n        <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: `repeat(auto-fill, minmax(${isMobile ? '100%' : '300px'}, 1fr))`,\r\n            gap: '20px'\r\n        }}>\r\n            {vehiculos.map(vehicle => {\r\n                const status = getMaintenanceStatus(vehicle);\r\n\r\n                return (\r\n                    <div\r\n                        key={vehicle.id}\r\n                        onClick={() => onSelectVehicle(vehicle)}\r\n                        style={{\r\n                            background: 'white',\r\n                            borderRadius: '12px',\r\n                            padding: '20px',\r\n                            boxShadow: '0 2px 8px rgba(0,0,0,0.05)',\r\n                            cursor: 'pointer',\r\n                            transition: 'all 0.3s',\r\n                            border: '2px solid',\r\n                            borderColor: status === 'vencido' ? '#ef4444' :\r\n                                status === 'urgente' ? '#f59e0b' :\r\n                                    status === 'proximo' ? '#3b82f6' : '#e5e7eb'\r\n                        }}\r\n                        onMouseEnter={(e) => {\r\n                            e.currentTarget.style.transform = 'translateY(-2px)';\r\n                            e.currentTarget.style.boxShadow = '0 4px 12px rgba(0,0,0,0.1)';\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                            e.currentTarget.style.transform = 'translateY(0)';\r\n                            e.currentTarget.style.boxShadow = '0 2px 8px rgba(0,0,0,0.05)';\r\n                        }}\r\n                    >\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            justifyContent: 'space-between',\r\n                            alignItems: 'start',\r\n                            marginBottom: '12px'\r\n                        }}>\r\n                            <h3 style={{\r\n                                margin: 0,\r\n                                fontSize: '18px',\r\n                                color: '#1f2937'\r\n                            }}>\r\n                                üöõ {vehicle.nombre}\r\n                            </h3>\r\n\r\n                            {status === 'vencido' && (\r\n                                <span style={{\r\n                                    padding: '4px 8px',\r\n                                    background: '#fee2e2',\r\n                                    color: '#991b1b',\r\n                                    borderRadius: '4px',\r\n                                    fontSize: '12px',\r\n                                    fontWeight: '600'\r\n                                }}>\r\n                                    ‚ö†Ô∏è VENCIDO\r\n                                </span>\r\n                            )}\r\n                            {status === 'urgente' && (\r\n                                <span style={{\r\n                                    padding: '4px 8px',\r\n                                    background: '#fef3c7',\r\n                                    color: '#92400e',\r\n                                    borderRadius: '4px',\r\n                                    fontSize: '12px',\r\n                                    fontWeight: '600'\r\n                                }}>\r\n                                    ‚è∞ URGENTE\r\n                                </span>\r\n                            )}\r\n                            {status === 'proximo' && (\r\n                                <span style={{\r\n                                    padding: '4px 8px',\r\n                                    background: '#dbeafe',\r\n                                    color: '#1e40af',\r\n                                    borderRadius: '4px',\r\n                                    fontSize: '12px',\r\n                                    fontWeight: '600'\r\n                                }}>\r\n                                    üìÖ PR√ìXIMO\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div style={{\r\n                            fontSize: '14px',\r\n                            color: '#6b7280',\r\n                            lineHeight: '1.6'\r\n                        }}>\r\n                            <div>üìç {vehicle.marca} {vehicle.modelo}</div>\r\n                            <div>üî¢ Patente: {vehicle.patente}</div>\r\n                            {vehicle.kilometraje && (\r\n                                <div>üìè {vehicle.kilometraje.toLocaleString()} km</div>\r\n                            )}\r\n                            {vehicle.ultimoMantenimiento && (\r\n                                <div>\r\n                                    üîß √öltimo: {new Date(vehicle.ultimoMantenimiento).toLocaleDateString('es-CL')}\r\n                                </div>\r\n                            )}\r\n                            {vehicle.proximoMantenimiento && (\r\n                                <div style={{\r\n                                    marginTop: '8px',\r\n                                    padding: '8px',\r\n                                    background: '#f9fafb',\r\n                                    borderRadius: '4px',\r\n                                    fontSize: '13px'\r\n                                }}>\r\n                                    üìÜ Pr√≥ximo: {new Date(vehicle.proximoMantenimiento).toLocaleDateString('es-CL')}\r\n                                    {vehicle.kilometrajeProximoMantenimiento && (\r\n                                        <span> o {vehicle.kilometrajeProximoMantenimiento.toLocaleString()} km</span>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n\r\n// Componente de informaci√≥n del veh√≠culo\r\nconst VehicleInfoCard = ({ vehicle, isMobile }) => (\r\n    <div style={{\r\n        background: 'white',\r\n        borderRadius: '12px',\r\n        padding: '20px',\r\n        marginBottom: '20px',\r\n        boxShadow: '0 2px 8px rgba(0,0,0,0.05)'\r\n    }}>\r\n        <h2 style={{\r\n            margin: '0 0 15px 0',\r\n            fontSize: '20px',\r\n            color: '#1f2937'\r\n        }}>\r\n            üöõ {vehicle.nombre}\r\n        </h2>\r\n\r\n        <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(200px, 1fr))',\r\n            gap: '15px'\r\n        }}>\r\n            <div>\r\n                <span style={{ color: '#6b7280', fontSize: '13px' }}>Marca/Modelo</span>\r\n                <div style={{ fontSize: '15px', fontWeight: '500' }}>\r\n                    {vehicle.marca} {vehicle.modelo}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <span style={{ color: '#6b7280', fontSize: '13px' }}>Patente</span>\r\n                <div style={{ fontSize: '15px', fontWeight: '500' }}>\r\n                    {vehicle.patente}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <span style={{ color: '#6b7280', fontSize: '13px' }}>Kilometraje Actual</span>\r\n                <div style={{ fontSize: '15px', fontWeight: '500' }}>\r\n                    {vehicle.kilometraje?.toLocaleString() || 0} km\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <span style={{ color: '#6b7280', fontSize: '13px' }}>Estado</span>\r\n                <div style={{ fontSize: '15px', fontWeight: '500' }}>\r\n                    <span style={{\r\n                        padding: '4px 8px',\r\n                        borderRadius: '4px',\r\n                        fontSize: '12px',\r\n                        background: vehicle.estado === 'disponible' ? '#dcfce7' :\r\n                            vehicle.estado === 'en_uso' ? '#dbeafe' :\r\n                                vehicle.estado === 'mantenimiento' ? '#fef3c7' : '#fee2e2',\r\n                        color: vehicle.estado === 'disponible' ? '#15803d' :\r\n                            vehicle.estado === 'en_uso' ? '#1e40af' :\r\n                                vehicle.estado === 'mantenimiento' ? '#92400e' : '#991b1b'\r\n                    }}>\r\n                        {vehicle.estado === 'disponible' ? '‚úÖ Disponible' :\r\n                            vehicle.estado === 'en_uso' ? 'üîß En Uso' :\r\n                                vehicle.estado === 'mantenimiento' ? 'üîß Mantenimiento' : '‚ùå Fuera Servicio'}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\n// Componente del formulario de mantenimiento\r\nconst MaintenanceForm = ({\r\n    form,\r\n    setForm,\r\n    onSubmit,\r\n    onPhotoUpload,\r\n    onDeletePhoto,\r\n    uploadingPhotos,\r\n    uploadProgress,\r\n    loading,\r\n    isMobile,\r\n    vehicle,\r\n    currentUser  // AGREGAR ESTE PROP\r\n\r\n}) => {\r\n    return (\r\n        <form onSubmit={onSubmit} style={{\r\n            background: 'white',\r\n            borderRadius: '12px',\r\n            padding: '30px',\r\n            marginBottom: '30px',\r\n            boxShadow: '0 4px 20px rgba(0,0,0,0.08)'\r\n        }}>\r\n            <h3 style={{\r\n                margin: '0 0 25px 0',\r\n                fontSize: '20px',\r\n                color: '#1f2937'\r\n            }}>\r\n                üìù Registrar Nuevo Mantenimiento\r\n            </h3>\r\n\r\n            {/* Informaci√≥n b√°sica */}\r\n            <div style={{\r\n                marginBottom: '25px',\r\n                paddingBottom: '20px',\r\n                borderBottom: '1px solid #e5e7eb'\r\n            }}>\r\n                <h4 style={{\r\n                    margin: '0 0 15px 0',\r\n                    fontSize: '16px',\r\n                    color: '#374151'\r\n                }}>\r\n                    üìã Informaci√≥n General\r\n                </h4>\r\n\r\n                <div style={{\r\n                    display: 'grid',\r\n                    gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(250px, 1fr))',\r\n                    gap: '15px'\r\n                }}>\r\n                    // En MaintenanceForm, despu√©s del campo de fecha agregar:\r\n                    <div>\r\n                        <label style={{\r\n                            display: 'block',\r\n                            marginBottom: '6px',\r\n                            fontSize: '14px',\r\n                            fontWeight: '500',\r\n                            color: '#374151'\r\n                        }}>\r\n                            Hora del Mantenimiento *\r\n                        </label>\r\n                        <input\r\n                            type=\"time\"\r\n                            required\r\n                            value={form.hora}\r\n                            onChange={(e) => setForm({ ...form, hora: e.target.value })}\r\n                            style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label style={{\r\n                            display: 'block',\r\n                            marginBottom: '6px',\r\n                            fontSize: '14px',\r\n                            fontWeight: '500',\r\n                            color: '#374151'\r\n                        }}>\r\n                            Fecha del Mantenimiento *\r\n                        </label>\r\n                        <input\r\n                            type=\"date\"\r\n                            required\r\n                            value={form.fecha}\r\n                            onChange={(e) => setForm({ ...form, fecha: e.target.value })}\r\n                            style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                            }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label style={{\r\n                            display: 'block',\r\n                            marginBottom: '6px',\r\n                            fontSize: '14px',\r\n                            fontWeight: '500',\r\n                            color: '#374151'\r\n                        }}>\r\n                            Tipo de Mantenimiento *\r\n                        </label>\r\n                        <select\r\n                            required\r\n                            value={form.tipoMantenimiento}\r\n                            onChange={(e) => setForm({ ...form, tipoMantenimiento: e.target.value })}\r\n                            style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                            }}\r\n                        >\r\n                            <option value=\"preventivo\">Preventivo</option>\r\n                            <option value=\"correctivo\">Correctivo</option>\r\n                            <option value=\"emergencia\">Emergencia</option>\r\n                            <option value=\"inspeccion\">Inspecci√≥n</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label style={{\r\n                            display: 'block',\r\n                            marginBottom: '6px',\r\n                            fontSize: '14px',\r\n                            fontWeight: '500',\r\n                            color: '#374151'\r\n                        }}>\r\n                            Kilometraje Actual\r\n                        </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            value={form.kilometraje}\r\n                            onChange={(e) => setForm({ ...form, kilometraje: e.target.value })}\r\n                            placeholder={vehicle.kilometraje || '0'}\r\n                            style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                            }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label style={{\r\n                            display: 'block',\r\n                            marginBottom: '6px',\r\n                            fontSize: '14px',\r\n                            fontWeight: '500',\r\n                            color: '#374151'\r\n                        }}>\r\n                            Realizado Por *\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            required\r\n                            value={form.realizadoPor}\r\n                            onChange={(e) => setForm({ ...form, realizadoPor: e.target.value })}\r\n                            style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                            }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label style={{\r\n                            display: 'block',\r\n                            marginBottom: '6px',\r\n                            fontSize: '14px',\r\n                            fontWeight: '500',\r\n                            color: '#374151'\r\n                        }}>\r\n                            Taller/Lugar\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={form.tallerResponsable}\r\n                            onChange={(e) => setForm({ ...form, tallerResponsable: e.target.value })}\r\n                            placeholder=\"Nombre del taller o lugar\"\r\n                            style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                            }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label style={{\r\n                            display: 'block',\r\n                            marginBottom: '6px',\r\n                            fontSize: '14px',\r\n                            fontWeight: '500',\r\n                            color: '#374151'\r\n                        }}>\r\n                            Costo (CLP)\r\n                        </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            value={form.costoMantenimiento}\r\n                            onChange={(e) => setForm({ ...form, costoMantenimiento: e.target.value })}\r\n                            placeholder=\"0\"\r\n                            style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Checklist de inspecci√≥n de seguridad */}\r\n            <div style={{\r\n                marginBottom: '25px',\r\n                paddingBottom: '20px',\r\n                borderBottom: '1px solid #e5e7eb'\r\n            }}>\r\n                <h4 style={{\r\n                    margin: '0 0 15px 0',\r\n                    fontSize: '16px',\r\n                    color: '#374151'\r\n                }}>\r\n                    üîç Inspecci√≥n de Elementos de Seguridad\r\n                </h4>\r\n\r\n                <div style={{\r\n                    display: 'grid',\r\n                    gap: '15px'\r\n                }}>\r\n                    {/* Gata */}\r\n                    <InspectionItem\r\n                        label=\"üîß Gata\"\r\n                        value={form.gata}\r\n                        onChange={(value) => setForm({ ...form, gata: value })}\r\n                        observations={form.gataObservaciones}\r\n                        onObservationsChange={(value) => setForm({ ...form, gataObservaciones: value })}\r\n                    />\r\n\r\n                    {/* Chaleco Reflectante */}\r\n                    <InspectionItem\r\n                        label=\"ü¶∫ Chaleco Reflectante\"\r\n                        value={form.chalecoReflectante}\r\n                        onChange={(value) => setForm({ ...form, chalecoReflectante: value })}\r\n                        observations={form.chalecoObservaciones}\r\n                        onObservationsChange={(value) => setForm({ ...form, chalecoObservaciones: value })}\r\n                    />\r\n\r\n                    {/* Llave de Repuesto */}\r\n                    <InspectionItem\r\n                        label=\"üîë Llave de Repuesto\"\r\n                        value={form.llaveRepuesto}\r\n                        onChange={(value) => setForm({ ...form, llaveRepuesto: value })}\r\n                        observations={form.llaveObservaciones}\r\n                        onObservationsChange={(value) => setForm({ ...form, llaveObservaciones: value })}\r\n                    />\r\n\r\n                    {/* Cintur√≥n de Seguridad */}\r\n                    <InspectionItem\r\n                        label=\"üîí Cintur√≥n de Seguridad\"\r\n                        value={form.cinturon}\r\n                        onChange={(value) => setForm({ ...form, cinturon: value })}\r\n                        observations={form.cinturonObservaciones}\r\n                        onObservationsChange={(value) => setForm({ ...form, cinturonObservaciones: value })}\r\n                    />\r\n\r\n                    {/* Parabrisas */}\r\n                    <InspectionItem\r\n                        label=\"ü™ü Estado del Parabrisas\"\r\n                        value={form.parabrisas}\r\n                        onChange={(value) => setForm({ ...form, parabrisas: value })}\r\n                        observations={form.parabrisasObservaciones}\r\n                        onObservationsChange={(value) => setForm({ ...form, parabrisasObservaciones: value })}\r\n                        noAplica={false}\r\n                    />\r\n\r\n                    {/* Luces de Freno */}\r\n                    <InspectionItem\r\n                        label=\"üî¥ Luces de Freno\"\r\n                        value={form.lucesFreno}\r\n                        onChange={(value) => setForm({ ...form, lucesFreno: value })}\r\n                        observations={form.lucesObservaciones}\r\n                        onObservationsChange={(value) => setForm({ ...form, lucesObservaciones: value })}\r\n                        noAplica={false}\r\n                    />\r\n\r\n                    {/* Luces Delanteras */}\r\n                    <InspectionItem\r\n                        label=\"üí° Luces Delanteras\"\r\n                        value={form.lucesDelanteras}\r\n                        onChange={(value) => setForm({ ...form, lucesDelanteras: value })}\r\n                        observations={form.lucesDObservaciones}\r\n                        onObservationsChange={(value) => setForm({ ...form, lucesDObservaciones: value })}\r\n                        noAplica={false}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Trabajos realizados */}\r\n            <div style={{\r\n                marginBottom: '25px',\r\n                paddingBottom: '20px',\r\n                borderBottom: '1px solid #e5e7eb'\r\n            }}>\r\n                <h4 style={{\r\n                    margin: '0 0 15px 0',\r\n                    fontSize: '16px',\r\n                    color: '#374151'\r\n                }}>\r\n                    ‚úÖ Trabajos Realizados\r\n                </h4>\r\n\r\n                <div style={{\r\n                    display: 'grid',\r\n                    gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(250px, 1fr))',\r\n                    gap: '10px'\r\n                }}>\r\n                    {[\r\n                        { key: 'cambioAceite', label: 'üõ¢Ô∏è Cambio de Aceite' },\r\n                        { key: 'filtroAire', label: 'üí® Filtro de Aire' },\r\n                        { key: 'filtroAceite', label: 'üîß Filtro de Aceite' },\r\n                        { key: 'filtroCombustible', label: '‚õΩ Filtro de Combustible' },\r\n                        { key: 'revisionFrenos', label: 'üõë Revisi√≥n de Frenos' },\r\n                        { key: 'revisionNeumaticos', label: 'üõû Revisi√≥n de Neum√°ticos' },\r\n                        { key: 'revisionSuspension', label: 'üî© Revisi√≥n de Suspensi√≥n' },\r\n                        { key: 'revisionDireccion', label: 'üéØ Revisi√≥n de Direcci√≥n' },\r\n                        { key: 'revisionBateria', label: 'üîã Revisi√≥n de Bater√≠a' },\r\n                        { key: 'revisionLuces', label: 'üí° Revisi√≥n de Luces' },\r\n                        { key: 'nivelLiquidos', label: 'üíß Nivel de L√≠quidos' }\r\n                    ].map(item => (\r\n                        <label key={item.key} style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            gap: '8px',\r\n                            padding: '8px',\r\n                            background: form[item.key] ? '#dcfce7' : '#f9fafb',\r\n                            borderRadius: '6px',\r\n                            cursor: 'pointer',\r\n                            transition: 'all 0.2s'\r\n                        }}>\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={form[item.key]}\r\n                                onChange={(e) => setForm({ ...form, [item.key]: e.target.checked })}\r\n                                style={{\r\n                                    width: '18px',\r\n                                    height: '18px',\r\n                                    cursor: 'pointer'\r\n                                }}\r\n                            />\r\n                            <span style={{\r\n                                fontSize: '14px',\r\n                                color: '#374151'\r\n                            }}>\r\n                                {item.label}\r\n                            </span>\r\n                        </label>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Observaciones generales */}\r\n            <div style={{\r\n                marginBottom: '25px',\r\n                paddingBottom: '20px',\r\n                borderBottom: '1px solid #e5e7eb'\r\n            }}>\r\n                <h4 style={{\r\n                    margin: '0 0 15px 0',\r\n                    fontSize: '16px',\r\n                    color: '#374151'\r\n                }}>\r\n                    üìù Observaciones y Pr√≥ximo Mantenimiento\r\n                </h4>\r\n\r\n                <div style={{ marginBottom: '15px' }}>\r\n                    <label style={{\r\n                        display: 'block',\r\n                        marginBottom: '6px',\r\n                        fontSize: '14px',\r\n                        fontWeight: '500',\r\n                        color: '#374151'\r\n                    }}>\r\n                        Observaciones Generales\r\n                    </label>\r\n                    <textarea\r\n                        value={form.observacionesGenerales}\r\n                        onChange={(e) => setForm({ ...form, observacionesGenerales: e.target.value })}\r\n                        placeholder=\"Detalle cualquier observaci√≥n adicional...\"\r\n                        rows={4}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '10px',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '6px',\r\n                            fontSize: '14px',\r\n                            resize: 'none'\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <div style={{\r\n                    display: 'grid',\r\n                    gridTemplateColumns: isMobile ? '1fr' : '1fr 1fr',\r\n                    gap: '15px'\r\n                }}>\r\n                    <div>\r\n                        <label style={{\r\n                            display: 'block',\r\n                            marginBottom: '6px',\r\n                            fontSize: '14px',\r\n                            fontWeight: '500',\r\n                            color: '#374151'\r\n                        }}>\r\n                            Pr√≥ximo Mantenimiento (Fecha)\r\n                        </label>\r\n                        <input\r\n                            type=\"date\"\r\n                            value={form.proximoMantenimientoFecha}\r\n                            onChange={(e) => setForm({ ...form, proximoMantenimientoFecha: e.target.value })}\r\n                            style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                            }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label style={{\r\n                            display: 'block',\r\n                            marginBottom: '6px',\r\n                            fontSize: '14px',\r\n                            fontWeight: '500',\r\n                            color: '#374151'\r\n                        }}>\r\n                            Pr√≥ximo Mantenimiento (Kilometraje)\r\n                        </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            value={form.proximoMantenimientoKm}\r\n                            onChange={(e) => setForm({ ...form, proximoMantenimientoKm: e.target.value })}\r\n                            placeholder=\"Ej: 15000\"\r\n                            style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Secci√≥n de fotos */}\r\n            <div style={{ marginBottom: '25px' }}>\r\n                <h4 style={{\r\n                    margin: '0 0 15px 0',\r\n                    fontSize: '16px',\r\n                    color: '#374151'\r\n                }}>\r\n                    üì∑ Fotos del Mantenimiento\r\n                </h4>\r\n\r\n                {/* Fotos existentes */}\r\n                {form.fotos && form.fotos.length > 0 && (\r\n                    <div style={{\r\n                        display: 'grid',\r\n                        gridTemplateColumns: 'repeat(auto-fill, minmax(150px, 1fr))',\r\n                        gap: '10px',\r\n                        marginBottom: '15px'\r\n                    }}>\r\n                        {form.fotos.map((foto, index) => (\r\n                            <div key={index} style={{\r\n                                position: 'relative',\r\n                                background: '#f9fafb',\r\n                                borderRadius: '8px',\r\n                                padding: '10px',\r\n                                border: '1px solid #e5e7eb'\r\n                            }}>\r\n                                <img\r\n                                    src={foto.url}\r\n                                    alt={`Foto ${index + 1}`}\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        height: '120px',\r\n                                        objectFit: 'cover',\r\n                                        borderRadius: '4px',\r\n                                        marginBottom: '8px'\r\n                                    }}\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => onDeletePhoto(index)}\r\n                                    style={{\r\n                                        position: 'absolute',\r\n                                        top: '5px',\r\n                                        right: '5px',\r\n                                        padding: '4px 8px',\r\n                                        background: '#ef4444',\r\n                                        color: 'white',\r\n                                        border: 'none',\r\n                                        borderRadius: '4px',\r\n                                        fontSize: '12px',\r\n                                        cursor: 'pointer'\r\n                                    }}\r\n                                >\r\n                                    ‚úï\r\n                                </button>\r\n                                <div style={{\r\n                                    fontSize: '11px',\r\n                                    color: '#6b7280',\r\n                                    overflow: 'hidden',\r\n                                    textOverflow: 'ellipsis',\r\n                                    whiteSpace: 'nowrap'\r\n                                }}>\r\n                                    {foto.nombre}\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Bot√≥n de carga de fotos */}\r\n                <div>\r\n                    <input\r\n                        type=\"file\"\r\n                        id=\"maintenance-photos\"\r\n                        multiple\r\n                        accept=\"image/*\"\r\n                        onChange={(e) => onPhotoUpload(e.target.files)}\r\n                        style={{ display: 'none' }}\r\n                        disabled={uploadingPhotos}\r\n                    />\r\n                    <label\r\n                        htmlFor=\"maintenance-photos\"\r\n                        style={{\r\n                            display: 'inline-block',\r\n                            padding: '10px 20px',\r\n                            background: uploadingPhotos ? '#9ca3af' : '#3b82f6',\r\n                            color: 'white',\r\n                            borderRadius: '6px',\r\n                            cursor: uploadingPhotos ? 'not-allowed' : 'pointer',\r\n                            fontSize: '14px',\r\n                            fontWeight: '500'\r\n                        }}\r\n                    >\r\n                        {uploadingPhotos ? `‚è≥ Subiendo... ${uploadProgress}%` : 'üì§ Agregar Fotos'}\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Botones de acci√≥n */}\r\n            <div style={{ display: 'flex', gap: '10px' }}>\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={loading}\r\n                    style={{\r\n                        padding: '12px 24px',\r\n                        background: loading ? '#9ca3af' : '#22c55e',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '6px',\r\n                        fontSize: '16px',\r\n                        fontWeight: '500',\r\n                        cursor: loading ? 'not-allowed' : 'pointer'\r\n                    }}\r\n                >\r\n                    {loading ? '‚è≥ Guardando...' : '‚úÖ Guardar Mantenimiento'}\r\n                </button>\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                        // Resetear el formulario directamente aqu√≠\r\n                        setForm({\r\n                            fecha: new Date().toISOString().split('T')[0],\r\n                            tipoMantenimiento: 'preventivo',\r\n                            kilometraje: '',\r\n                            horasUso: '',\r\n                            gata: 'no_aplica',\r\n                            gataObservaciones: '',\r\n                            chalecoReflectante: 'no_aplica',\r\n                            chalecoObservaciones: '',\r\n                            llaveRepuesto: 'no_aplica',\r\n                            llaveObservaciones: '',\r\n                            cinturon: 'no_aplica',\r\n                            cinturonObservaciones: '',\r\n                            parabrisas: 'bueno',\r\n                            parabrisasObservaciones: '',\r\n                            lucesFreno: 'bueno',\r\n                            lucesObservaciones: '',\r\n                            lucesDelanteras: 'bueno',\r\n                            lucesDObservaciones: '',\r\n                            cambioAceite: false,\r\n                            filtroAire: false,\r\n                            filtroAceite: false,\r\n                            filtroCombustible: false,\r\n                            revisionFrenos: false,\r\n                            revisionNeumaticos: false,\r\n                            revisionSuspension: false,\r\n                            revisionDireccion: false,\r\n                            revisionBateria: false,\r\n                            revisionLuces: false,\r\n                            nivelLiquidos: false,\r\n                            observacionesGenerales: '',\r\n                            proximoMantenimientoKm: '',\r\n                            proximoMantenimientoFecha: '',\r\n                            realizadoPor: currentUser.name || currentUser.email,\r\n                            tallerResponsable: '',\r\n                            costoMantenimiento: 0,\r\n                            fotos: []\r\n                        });\r\n                    }}\r\n                    style={{\r\n                        padding: '12px 24px',\r\n                        background: '#6b7280',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '6px',\r\n                        fontSize: '16px',\r\n                        fontWeight: '500',\r\n                        cursor: 'pointer'\r\n                    }}\r\n                >\r\n                    Limpiar Formulario\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\n// Componente para items de inspecci√≥n\r\nconst InspectionItem = ({\r\n    label,\r\n    value,\r\n    onChange,\r\n    observations,\r\n    onObservationsChange,\r\n    noAplica = true\r\n}) => {\r\n    return (\r\n        <div style={{\r\n            padding: '15px',\r\n            background: '#f9fafb',\r\n            borderRadius: '8px',\r\n            border: '1px solid #e5e7eb'\r\n        }}>\r\n            <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'space-between',\r\n                marginBottom: observations ? '10px' : '0'\r\n            }}>\r\n                <span style={{\r\n                    fontSize: '14px',\r\n                    fontWeight: '500',\r\n                    color: '#374151'\r\n                }}>\r\n                    {label}\r\n                </span>\r\n\r\n                <div style={{ display: 'flex', gap: '10px' }}>\r\n                    <label style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '5px',\r\n                        cursor: 'pointer'\r\n                    }}>\r\n                        <input\r\n                            type=\"radio\"\r\n                            name={label}\r\n                            value=\"bueno\"\r\n                            checked={value === 'bueno'}\r\n                            onChange={() => onChange('bueno')}\r\n                        />\r\n                        <span style={{ fontSize: '13px' }}>‚úÖ Bueno</span>\r\n                    </label>\r\n\r\n                    <label style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '5px',\r\n                        cursor: 'pointer'\r\n                    }}>\r\n                        <input\r\n                            type=\"radio\"\r\n                            name={label}\r\n                            value=\"requiere_atencion\"\r\n                            checked={value === 'requiere_atencion'}\r\n                            onChange={() => onChange('requiere_atencion')}\r\n                        />\r\n                        <span style={{ fontSize: '13px' }}>‚ö†Ô∏è Requiere Atenci√≥n</span>\r\n                    </label>\r\n\r\n                    <label style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '5px',\r\n                        cursor: 'pointer'\r\n                    }}>\r\n                        <input\r\n                            type=\"radio\"\r\n                            name={label}\r\n                            value=\"malo\"\r\n                            checked={value === 'malo'}\r\n                            onChange={() => onChange('malo')}\r\n                        />\r\n                        <span style={{ fontSize: '13px' }}>‚ùå Malo</span>\r\n                    </label>\r\n\r\n                    {noAplica && (\r\n                        <label style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            gap: '5px',\r\n                            cursor: 'pointer'\r\n                        }}>\r\n                            <input\r\n                                type=\"radio\"\r\n                                name={label}\r\n                                value=\"no_aplica\"\r\n                                checked={value === 'no_aplica'}\r\n                                onChange={() => onChange('no_aplica')}\r\n                            />\r\n                            <span style={{ fontSize: '13px' }}>N/A</span>\r\n                        </label>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {(value === 'requiere_atencion' || value === 'malo') && (\r\n                <input\r\n                    type=\"text\"\r\n                    value={observations}\r\n                    onChange={(e) => onObservationsChange(e.target.value)}\r\n                    placeholder=\"Especifique el problema...\"\r\n                    style={{\r\n                        width: '100%',\r\n                        padding: '8px',\r\n                        border: '1px solid #d1d5db',\r\n                        borderRadius: '4px',\r\n                        fontSize: '13px'\r\n                    }}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n// Agregar este componente de filtros antes del historial\r\n{\r\n    selectedVehicle && maintenanceHistory.length > 0 && (\r\n        <div style={{\r\n            background: 'white',\r\n            borderRadius: '12px',\r\n            padding: '20px',\r\n            marginBottom: '20px',\r\n            boxShadow: '0 2px 8px rgba(0,0,0,0.05)'\r\n        }}>\r\n            <h3 style={{\r\n                margin: '0 0 15px 0',\r\n                fontSize: '18px',\r\n                color: '#1f2937'\r\n            }}>\r\n                üîç Filtros de B√∫squeda\r\n            </h3>\r\n\r\n            <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: isMobile ? '1fr' : 'repeat(4, 1fr)',\r\n                gap: '15px'\r\n            }}>\r\n                <div>\r\n                    <label style={{\r\n                        display: 'block',\r\n                        marginBottom: '6px',\r\n                        fontSize: '13px',\r\n                        color: '#6b7280'\r\n                    }}>\r\n                        Buscar por Patente\r\n                    </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Ej: XX-XX-99\"\r\n                        value={searchPatente}\r\n                        onChange={(e) => setSearchPatente(e.target.value)}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '8px',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '6px',\r\n                            fontSize: '14px'\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <label style={{\r\n                        display: 'block',\r\n                        marginBottom: '6px',\r\n                        fontSize: '13px',\r\n                        color: '#6b7280'\r\n                    }}>\r\n                        Fecha Desde\r\n                    </label>\r\n                    <input\r\n                        type=\"date\"\r\n                        value={searchFechaDesde}\r\n                        onChange={(e) => setSearchFechaDesde(e.target.value)}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '8px',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '6px',\r\n                            fontSize: '14px'\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <label style={{\r\n                        display: 'block',\r\n                        marginBottom: '6px',\r\n                        fontSize: '13px',\r\n                        color: '#6b7280'\r\n                    }}>\r\n                        Fecha Hasta\r\n                    </label>\r\n                    <input\r\n                        type=\"date\"\r\n                        value={searchFechaHasta}\r\n                        onChange={(e) => setSearchFechaHasta(e.target.value)}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '8px',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '6px',\r\n                            fontSize: '14px'\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <div style={{\r\n                    display: 'flex',\r\n                    alignItems: 'flex-end'\r\n                }}>\r\n                    <button\r\n                        onClick={() => {\r\n                            setSearchPatente('');\r\n                            setSearchFechaDesde('');\r\n                            setSearchFechaHasta('');\r\n                        }}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '8px',\r\n                            background: '#6b7280',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '6px',\r\n                            fontSize: '14px',\r\n                            cursor: 'pointer'\r\n                        }}\r\n                    >\r\n                        Limpiar Filtros\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Mostrar resultados */}\r\n            <div style={{\r\n                marginTop: '15px',\r\n                padding: '10px',\r\n                background: '#f9fafb',\r\n                borderRadius: '6px',\r\n                fontSize: '13px',\r\n                color: '#6b7280'\r\n            }}>\r\n                Mostrando {filteredHistory.length} de {maintenanceHistory.length} registros\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n{/* Modificar el componente MaintenanceHistory para usar filteredHistory */ }\r\n<MaintenanceHistory\r\n    history={filteredHistory} // Cambiar de maintenanceHistory a filteredHistory\r\n    isMobile={isMobile}\r\n/>\r\n\r\n// Componente para el historial\r\nconst MaintenanceHistory = ({ history, isMobile }) => {\r\n    if (history.length === 0) {\r\n        return (\r\n            <div style={{\r\n                background: 'white',\r\n                borderRadius: '12px',\r\n                padding: '40px',\r\n                textAlign: 'center',\r\n                color: '#6b7280'\r\n            }}>\r\n                <div style={{ fontSize: '48px', marginBottom: '10px' }}>üìã</div>\r\n                <p style={{ fontSize: '16px' }}>No hay mantenimientos registrados</p>\r\n                <p style={{ fontSize: '14px' }}>Registra el primer mantenimiento usando el formulario</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div style={{\r\n            background: 'white',\r\n            borderRadius: '12px',\r\n            boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n            overflow: 'hidden'\r\n        }}>\r\n            <div style={{\r\n                padding: '20px',\r\n                borderBottom: '1px solid #e5e7eb'\r\n            }}>\r\n                <h3 style={{\r\n                    margin: 0,\r\n                    fontSize: '20px',\r\n                    color: '#1f2937'\r\n                }}>\r\n                    üìö Historial de Mantenimientos ({history.length})\r\n                </h3>\r\n            </div>\r\n\r\n            <div style={{ padding: '20px' }}>\r\n                {history.map((maintenance, index) => (\r\n                    <MaintenanceCard\r\n                        key={maintenance.id}\r\n                        maintenance={maintenance}\r\n                        isLast={index === history.length - 1}\r\n                        isMobile={isMobile}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Componente para cada tarjeta de mantenimiento\r\nconst MaintenanceCard = ({ maintenance, isLast, isMobile }) => {\r\n    const [expanded, setExpanded] = useState(false);\r\n\r\n    return (\r\n        <div style={{\r\n            paddingBottom: isLast ? '0' : '20px',\r\n            marginBottom: isLast ? '0' : '20px',\r\n            borderBottom: isLast ? 'none' : '1px solid #e5e7eb'\r\n        }}>\r\n            <div\r\n                onClick={() => setExpanded(!expanded)}\r\n                style={{\r\n                    cursor: 'pointer',\r\n                    padding: '15px',\r\n                    background: '#f9fafb',\r\n                    borderRadius: '8px',\r\n                    transition: 'all 0.2s'\r\n                }}\r\n            >\r\n                <div style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'start'\r\n                }}>\r\n                    <div>\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            gap: '10px',\r\n                            marginBottom: '8px'\r\n                        }}>\r\n                            <span style={{\r\n                                fontSize: '16px',\r\n                                fontWeight: '600',\r\n                                color: '#1f2937'\r\n                            }}>\r\n                                {new Date(maintenance.fecha).toLocaleDateString('es-CL')}\r\n                                {maintenance.hora && (\r\n                                    <span style={{ marginLeft: '10px', fontSize: '14px', color: '#6b7280' }}>\r\n                                        {maintenance.hora} hrs\r\n                                    </span>\r\n                                )}\r\n                            </span>\r\n                            <span style={{\r\n                                padding: '4px 8px',\r\n                                background: maintenance.tipoMantenimiento === 'preventivo' ? '#dcfce7' :\r\n                                    maintenance.tipoMantenimiento === 'correctivo' ? '#fef3c7' : '#fee2e2',\r\n                                color: maintenance.tipoMantenimiento === 'preventivo' ? '#15803d' :\r\n                                    maintenance.tipoMantenimiento === 'correctivo' ? '#92400e' : '#991b1b',\r\n                                borderRadius: '4px',\r\n                                fontSize: '12px',\r\n                                fontWeight: '500'\r\n                            }}>\r\n                                {maintenance.tipoMantenimiento.toUpperCase()}\r\n                            </span>\r\n                        </div>\r\n\r\n                        <div style={{\r\n                            fontSize: '14px',\r\n                            color: '#6b7280'\r\n                        }}>\r\n                            <div>üë§ {maintenance.realizadoPor}</div>\r\n                            {maintenance.kilometraje && (\r\n                                <div>üìè {maintenance.kilometraje.toLocaleString()} km</div>\r\n                            )}\r\n                            {maintenance.costoMantenimiento > 0 && (\r\n                                <div>üí∞ ${maintenance.costoMantenimiento.toLocaleString()}</div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <span style={{\r\n                        fontSize: '20px',\r\n                        transform: expanded ? 'rotate(180deg)' : 'rotate(0)',\r\n                        transition: 'transform 0.2s'\r\n                    }}>\r\n                        ‚ñº\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n            {expanded && (\r\n                <div style={{\r\n                    marginTop: '15px',\r\n                    padding: '15px',\r\n                    background: 'white',\r\n                    borderRadius: '8px',\r\n                    border: '1px solid #e5e7eb'\r\n                }}>\r\n                    {/* Trabajos realizados */}\r\n                    {(() => {\r\n                        const trabajos = [\r\n                            { key: 'cambioAceite', label: 'üõ¢Ô∏è Cambio de Aceite' },\r\n                            { key: 'filtroAire', label: 'üí® Filtro de Aire' },\r\n                            { key: 'filtroAceite', label: 'üîß Filtro de Aceite' },\r\n                            { key: 'filtroCombustible', label: '‚õΩ Filtro de Combustible' },\r\n                            { key: 'revisionFrenos', label: 'üõë Revisi√≥n de Frenos' },\r\n                            { key: 'revisionNeumaticos', label: 'üõû Revisi√≥n de Neum√°ticos' },\r\n                            { key: 'revisionSuspension', label: 'üî© Revisi√≥n de Suspensi√≥n' },\r\n                            { key: 'revisionDireccion', label: 'üéØ Revisi√≥n de Direcci√≥n' },\r\n                            { key: 'revisionBateria', label: 'üîã Revisi√≥n de Bater√≠a' },\r\n                            { key: 'revisionLuces', label: 'üí° Revisi√≥n de Luces' },\r\n                            { key: 'nivelLiquidos', label: 'üíß Nivel de L√≠quidos' }\r\n                        ].filter(t => maintenance[t.key]);\r\n\r\n                        if (trabajos.length > 0) {\r\n                            return (\r\n                                <div style={{ marginBottom: '15px' }}>\r\n                                    <h5 style={{\r\n                                        margin: '0 0 10px 0',\r\n                                        fontSize: '14px',\r\n                                        fontWeight: '600',\r\n                                        color: '#374151'\r\n                                    }}>\r\n                                        Trabajos Realizados:\r\n                                    </h5>\r\n                                    <div style={{\r\n                                        display: 'flex',\r\n                                        flexWrap: 'wrap',\r\n                                        gap: '8px'\r\n                                    }}>\r\n                                        {trabajos.map(trabajo => (\r\n                                            <span key={trabajo.key} style={{\r\n                                                padding: '4px 8px',\r\n                                                background: '#dcfce7',\r\n                                                color: '#15803d',\r\n                                                borderRadius: '4px',\r\n                                                fontSize: '12px'\r\n                                            }}>\r\n                                                {trabajo.label}\r\n                                            </span>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        }\r\n                        return null;\r\n                    })()}\r\n\r\n                    {/* Inspecciones */}\r\n                    {(() => {\r\n                        const inspecciones = [\r\n                            { key: 'gata', label: 'üîß Gata', value: maintenance.gata, obs: maintenance.gataObservaciones },\r\n                            { key: 'chalecoReflectante', label: 'ü¶∫ Chaleco', value: maintenance.chalecoReflectante, obs: maintenance.chalecoObservaciones },\r\n                            { key: 'llaveRepuesto', label: 'üîë Llave Repuesto', value: maintenance.llaveRepuesto, obs: maintenance.llaveObservaciones },\r\n                            { key: 'cinturon', label: 'üîí Cintur√≥n', value: maintenance.cinturon, obs: maintenance.cinturonObservaciones },\r\n                            { key: 'parabrisas', label: 'ü™ü Parabrisas', value: maintenance.parabrisas, obs: maintenance.parabrisasObservaciones },\r\n                            { key: 'lucesFreno', label: 'üî¥ Luces Freno', value: maintenance.lucesFreno, obs: maintenance.lucesObservaciones },\r\n                            { key: 'lucesDelanteras', label: 'üí° Luces Delanteras', value: maintenance.lucesDelanteras, obs: maintenance.lucesDObservaciones }\r\n                        ].filter(i => i.value && i.value !== 'no_aplica');\r\n\r\n                        if (inspecciones.length > 0) {\r\n                            return (\r\n                                <div style={{ marginBottom: '15px' }}>\r\n                                    <h5 style={{\r\n                                        margin: '0 0 10px 0',\r\n                                        fontSize: '14px',\r\n                                        fontWeight: '600',\r\n                                        color: '#374151'\r\n                                    }}>\r\n                                        Inspecci√≥n de Seguridad:\r\n                                    </h5>\r\n                                    <div style={{\r\n                                        display: 'grid',\r\n                                        gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(200px, 1fr))',\r\n                                        gap: '8px'\r\n                                    }}>\r\n                                        {inspecciones.map(insp => (\r\n                                            <div key={insp.key} style={{\r\n                                                padding: '6px 10px',\r\n                                                background: insp.value === 'bueno' ? '#dcfce7' :\r\n                                                    insp.value === 'requiere_atencion' ? '#fef3c7' : '#fee2e2',\r\n                                                borderRadius: '4px',\r\n                                                fontSize: '12px'\r\n                                            }}>\r\n                                                <span style={{ fontWeight: '500' }}>{insp.label}:</span>\r\n                                                <span style={{ marginLeft: '5px' }}>\r\n                                                    {insp.value === 'bueno' ? '‚úÖ' :\r\n                                                        insp.value === 'requiere_atencion' ? '‚ö†Ô∏è' : '‚ùå'}\r\n                                                </span>\r\n                                                {insp.obs && (\r\n                                                    <div style={{\r\n                                                        fontSize: '11px',\r\n                                                        color: '#6b7280',\r\n                                                        marginTop: '2px'\r\n                                                    }}>\r\n                                                        {insp.obs}\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        }\r\n                        return null;\r\n                    })()}\r\n\r\n                    {/* Observaciones */}\r\n                    {maintenance.observacionesGenerales && (\r\n                        <div style={{ marginBottom: '15px' }}>\r\n                            <h5 style={{\r\n                                margin: '0 0 10px 0',\r\n                                fontSize: '14px',\r\n                                fontWeight: '600',\r\n                                color: '#374151'\r\n                            }}>\r\n                                Observaciones:\r\n                            </h5>\r\n                            <p style={{\r\n                                margin: 0,\r\n                                fontSize: '13px',\r\n                                color: '#6b7280',\r\n                                lineHeight: '1.5'\r\n                            }}>\r\n                                {maintenance.observacionesGenerales}\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Fotos */}\r\n                    {maintenance.fotos && maintenance.fotos.length > 0 && (\r\n                        <div>\r\n                            <h5 style={{\r\n                                margin: '0 0 10px 0',\r\n                                fontSize: '14px',\r\n                                fontWeight: '600',\r\n                                color: '#374151'\r\n                            }}>\r\n                                üì∑ Fotos ({maintenance.fotos.length})\r\n                            </h5>\r\n                            <div style={{\r\n                                display: 'grid',\r\n                                gridTemplateColumns: 'repeat(auto-fill, minmax(100px, 1fr))',\r\n                                gap: '8px'\r\n                            }}>\r\n                                {maintenance.fotos.map((foto, index) => (\r\n                                    <a\r\n                                        key={index}\r\n                                        href={foto.url}\r\n                                        target=\"_blank\"\r\n                                        rel=\"noopener noreferrer\"\r\n                                    >\r\n                                        <img\r\n                                            src={foto.url}\r\n                                            alt={`Foto ${index + 1}`}\r\n                                            style={{\r\n                                                width: '100%',\r\n                                                height: '80px',\r\n                                                objectFit: 'cover',\r\n                                                borderRadius: '4px',\r\n                                                border: '1px solid #e5e7eb'\r\n                                            }}\r\n                                        />\r\n                                    </a>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Pr√≥ximo mantenimiento */}\r\n                    {(maintenance.proximoMantenimientoFecha || maintenance.proximoMantenimientoKm) && (\r\n                        <div style={{\r\n                            marginTop: '15px',\r\n                            padding: '10px',\r\n                            background: '#f0f9ff',\r\n                            borderRadius: '6px',\r\n                            fontSize: '13px'\r\n                        }}>\r\n                            <strong>üìÖ Pr√≥ximo Mantenimiento:</strong>\r\n                            {maintenance.proximoMantenimientoFecha && (\r\n                                <span style={{ marginLeft: '10px' }}>\r\n                                    {new Date(maintenance.proximoMantenimientoFecha).toLocaleDateString('es-CL')}\r\n                                </span>\r\n                            )}\r\n                            {maintenance.proximoMantenimientoKm && (\r\n                                <span style={{ marginLeft: '10px' }}>\r\n                                    o {maintenance.proximoMantenimientoKm.toLocaleString()} km\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VehicleMaintenanceModule;"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,OAASC,gBAAgB,KAAQ,8BAA8B,CAC/D,OACIC,QAAQ,CACRC,OAAO,CACPC,IAAI,KACD,oBAAoB,CAC3B,OACIC,GAAG,GAAI,CAAAC,WAAW,CAClBC,IAAI,CACJC,MAAM,CACNC,OAAO,CACPC,GAAG,CACHC,GAAG,GAAI,CAAAC,WAAW,KACf,mBAAmB,CAC1B,OACIP,GAAG,GAAI,CAAAQ,UAAU,CACjBC,WAAW,CACXC,cAAc,CACdC,YAAY,KACT,kBAAkB,CACzB,OAASC,gBAAgB,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAExD,KAAM,CAAAC,wBAAwB,CAAGC,IAAA,EAI3B,IAJ4B,CAC9BC,SAAS,CACTC,WAAW,CACXC,QACJ,CAAC,CAAAH,IAAA,CACG;AACA,KAAM,CAACI,aAAa,CAAEC,gBAAgB,CAAC,CAAGhC,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACiC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGlC,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACmC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGpC,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACqC,eAAe,CAAEC,kBAAkB,CAAC,CAAGtC,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACuC,eAAe,CAAEC,kBAAkB,CAAC,CAAGxC,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACyC,kBAAkB,CAAEC,qBAAqB,CAAC,CAAG1C,QAAQ,CAAC,EAAE,CAAC,CAChE,KAAM,CAAC2C,mBAAmB,CAAEC,sBAAsB,CAAC,CAAG5C,QAAQ,CAAC,KAAK,CAAC,CACrE,KAAM,CAAC6C,OAAO,CAAEC,UAAU,CAAC,CAAG9C,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC+C,OAAO,CAAEC,UAAU,CAAC,CAAGhD,QAAQ,CAAC,CAAEiD,IAAI,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAG,CAAC,CAAC,CAC9D,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGpD,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACqD,cAAc,CAAEC,iBAAiB,CAAC,CAAGtD,QAAQ,CAAC,CAAC,CAAC,CAEvD;AACA,KAAM,CAACuD,eAAe,CAAEC,kBAAkB,CAAC,CAAGxD,QAAQ,CAAC,CACnDyD,KAAK,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC7CC,IAAI,CAAE,GAAI,CAAAH,IAAI,CAAC,CAAC,CAACI,YAAY,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAC3CC,iBAAiB,CAAE,YAAY,CAC/BC,WAAW,CAAE,EAAE,CACfC,QAAQ,CAAE,EAAE,CAEZ;AACAC,IAAI,CAAE,WAAW,CACjBC,iBAAiB,CAAE,EAAE,CAErBC,kBAAkB,CAAE,WAAW,CAC/BC,oBAAoB,CAAE,EAAE,CAExBC,aAAa,CAAE,WAAW,CAC1BC,kBAAkB,CAAE,EAAE,CAEtBC,QAAQ,CAAE,WAAW,CACrBC,qBAAqB,CAAE,EAAE,CAEzBC,UAAU,CAAE,OAAO,CACnBC,uBAAuB,CAAE,EAAE,CAE3BC,UAAU,CAAE,OAAO,CACnBC,kBAAkB,CAAE,EAAE,CAEtBC,eAAe,CAAE,OAAO,CACxBC,mBAAmB,CAAE,EAAE,CAEvB;AACAC,YAAY,CAAE,KAAK,CACnBC,UAAU,CAAE,KAAK,CACjBC,YAAY,CAAE,KAAK,CACnBC,iBAAiB,CAAE,KAAK,CACxBC,cAAc,CAAE,KAAK,CACrBC,kBAAkB,CAAE,KAAK,CACzBC,kBAAkB,CAAE,KAAK,CACzBC,iBAAiB,CAAE,KAAK,CACxBC,eAAe,CAAE,KAAK,CACtBC,aAAa,CAAE,KAAK,CACpBC,aAAa,CAAE,KAAK,CAEpB;AACAC,sBAAsB,CAAE,EAAE,CAC1BC,sBAAsB,CAAE,EAAE,CAC1BC,yBAAyB,CAAE,EAAE,CAE7B;AACAC,YAAY,CAAElE,WAAW,CAACmE,IAAI,EAAInE,WAAW,CAACoE,KAAK,CACnDC,iBAAiB,CAAE,EAAE,CACrBC,kBAAkB,CAAE,CAAC,CAErB;AACAC,KAAK,CAAE,EACX,CAAC,CAAC,CACFnG,SAAS,CAAC,IAAM,CACZ,GAAI,CAAAoG,QAAQ,CAAG,CAAC,GAAG5D,kBAAkB,CAAC,CAEtC;AACA,GAAIV,aAAa,CAAE,CACfsE,QAAQ,CAAGA,QAAQ,CAACC,MAAM,CAACC,CAAC,OAAAC,iBAAA,CAAAC,qBAAA,OACxB,EAAAD,iBAAA,CAAAD,CAAC,CAACG,cAAc,UAAAF,iBAAA,iBAAhBA,iBAAA,CAAkBG,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC7E,aAAa,CAAC4E,WAAW,CAAC,CAAC,CAAC,IACrEpE,eAAe,SAAfA,eAAe,kBAAAkE,qBAAA,CAAflE,eAAe,CAAEsE,OAAO,UAAAJ,qBAAA,iBAAxBA,qBAAA,CAA0BE,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC7E,aAAa,CAAC4E,WAAW,CAAC,CAAC,CAAC,GACjF,CAAC,CACL,CAEA;AACA,GAAI1E,gBAAgB,CAAE,CAClBoE,QAAQ,CAAGA,QAAQ,CAACC,MAAM,CAACC,CAAC,EACxB,GAAI,CAAA7C,IAAI,CAAC6C,CAAC,CAAC9C,KAAK,CAAC,EAAI,GAAI,CAAAC,IAAI,CAACzB,gBAAgB,CAClD,CAAC,CACL,CAEA;AACA,GAAIE,gBAAgB,CAAE,CAClBkE,QAAQ,CAAGA,QAAQ,CAACC,MAAM,CAACC,CAAC,EACxB,GAAI,CAAA7C,IAAI,CAAC6C,CAAC,CAAC9C,KAAK,CAAC,EAAI,GAAI,CAAAC,IAAI,CAACvB,gBAAgB,CAClD,CAAC,CACL,CAEAG,kBAAkB,CAAC+D,QAAQ,CAAC,CAChC,CAAC,CAAE,CAAC5D,kBAAkB,CAAEV,aAAa,CAAEE,gBAAgB,CAAEE,gBAAgB,CAAC,CAAC,CAG3E;AACAlC,SAAS,CAAC,IAAM,CACZ,GAAIsC,eAAe,CAAE,CACjBuE,sBAAsB,CAACvE,eAAe,CAACwE,EAAE,CAAC,CAC9C,CACJ,CAAC,CAAE,CAACxE,eAAe,CAAC,CAAC,CAErB;AACA,KAAM,CAAAuE,sBAAsB,CAAIE,SAAS,EAAK,CAC1C,KAAM,CAAAC,UAAU,CAAGzG,WAAW,CAACJ,QAAQ,CAAE,kBAAkB4G,SAAS,EAAE,CAAC,CAEvE,KAAM,CAAAE,WAAW,CAAGvG,OAAO,CAACsG,UAAU,CAAGE,QAAQ,EAAK,CAClD,KAAM,CAAAC,IAAI,CAAGD,QAAQ,CAACE,GAAG,CAAC,CAAC,CAC3B,GAAID,IAAI,CAAE,CACN,KAAM,CAAAE,YAAY,CAAGC,MAAM,CAACC,OAAO,CAACJ,IAAI,CAAC,CACpCK,GAAG,CAACC,KAAA,MAAC,CAACX,EAAE,CAAEY,WAAW,CAAC,CAAAD,KAAA,OAAM,CACzBX,EAAE,CACF,GAAGY,WACP,CAAC,EAAC,CAAC,CACFC,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,GAAI,CAAApE,IAAI,CAACoE,CAAC,CAACrE,KAAK,CAAC,CAAG,GAAI,CAAAC,IAAI,CAACmE,CAAC,CAACpE,KAAK,CAAC,CAAC,CAC1Df,qBAAqB,CAAC4E,YAAY,CAAC,CACvC,CAAC,IAAM,CACH5E,qBAAqB,CAAC,EAAE,CAAC,CAC7B,CACJ,CAAC,CAAC,CAEF,MAAO,IAAM9B,GAAG,CAACqG,UAAU,CAAC,CAChC,CAAC,CAED;AACA,KAAM,CAAAc,iBAAiB,CAAG,KAAO,CAAAC,KAAK,EAAK,CACvC,GAAI,CAACA,KAAK,EAAIA,KAAK,CAACC,MAAM,GAAK,CAAC,CAAE,OAElC7E,kBAAkB,CAAC,IAAI,CAAC,CACxB,KAAM,CAAA8E,cAAc,CAAG,EAAE,CAEzB,GAAI,CACA,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGH,KAAK,CAACC,MAAM,CAAEE,CAAC,EAAE,CAAE,CACnC,KAAM,CAAAC,IAAI,CAAGJ,KAAK,CAACG,CAAC,CAAC,CAErB;AACA,GAAI,CAACC,IAAI,CAACnF,IAAI,CAACoF,UAAU,CAAC,QAAQ,CAAC,CAAE,CACjCrF,UAAU,CAAC,CACPC,IAAI,CAAE,OAAO,CACbC,IAAI,CAAE,cAAckF,IAAI,CAACpC,IAAI,0BACjC,CAAC,CAAC,CACF,SACJ,CAEA;AACA,GAAIoC,IAAI,CAACE,IAAI,CAAG,EAAE,CAAG,IAAI,CAAG,IAAI,CAAE,CAC9BtF,UAAU,CAAC,CACPC,IAAI,CAAE,OAAO,CACbC,IAAI,CAAE,cAAckF,IAAI,CAACpC,IAAI,2BACjC,CAAC,CAAC,CACF,SACJ,CAEA,KAAM,CAAAuC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEL,IAAI,CAAC,CAC7BG,QAAQ,CAACE,MAAM,CAAC,eAAe,CAAE,gBAAgB,CAAC,CAElD,KAAM,CAAAzB,SAAS,CAAGzE,eAAe,CAACwE,EAAE,CACpC,KAAM,CAAA2B,SAAS,CAAGhF,IAAI,CAACiF,GAAG,CAAC,CAAC,CAC5B,KAAM,CAAAC,aAAa,CAAGR,IAAI,CAACpC,IAAI,CAACpC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACiF,OAAO,CAAC,iBAAiB,CAAE,GAAG,CAAC,CAE7EN,QAAQ,CAACE,MAAM,CAAC,QAAQ,CAAE,gCAAgCzB,SAAS,IAAI0B,SAAS,EAAE,CAAC,CACnFH,QAAQ,CAACE,MAAM,CAAC,WAAW,CAAE,GAAGC,SAAS,IAAIE,aAAa,EAAE,CAAC,CAE7DtF,iBAAiB,CAACwF,IAAI,CAACC,KAAK,CAAE,CAACZ,CAAC,CAAG,CAAC,EAAIH,KAAK,CAACC,MAAM,CAAI,GAAG,CAAC,CAAC,CAE7D,KAAM,CAAAe,QAAQ,CAAG,KAAM,CAAAC,KAAK,CACxB,mCAAmC9H,gBAAgB,CAAC+H,SAAS,eAAe,CAC5E,CACIC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEb,QACV,CACJ,CAAC,CAED,KAAM,CAAAnB,IAAI,CAAG,KAAM,CAAA4B,QAAQ,CAACK,IAAI,CAAC,CAAC,CAElCnB,cAAc,CAACzH,IAAI,CAAC,CAChB6I,GAAG,CAAElC,IAAI,CAACmC,UAAU,CACpBC,QAAQ,CAAEpC,IAAI,CAACqC,SAAS,CACxBC,MAAM,CAAEtB,IAAI,CAACpC,IAAI,CACjBvC,KAAK,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAC/BgG,MAAM,CAAEvB,IAAI,CAACE,IACjB,CAAC,CAAC,CACN,CAEA;AACA9E,kBAAkB,CAACoG,IAAI,GAAK,CACxB,GAAGA,IAAI,CACPxD,KAAK,CAAE,CAAC,GAAGwD,IAAI,CAACxD,KAAK,CAAE,GAAG8B,cAAc,CAC5C,CAAC,CAAC,CAAC,CAEHlF,UAAU,CAAC,CACPC,IAAI,CAAE,SAAS,CACfC,IAAI,CAAE,KAAKgF,cAAc,CAACD,MAAM,+BACpC,CAAC,CAAC,CAEN,CAAE,MAAO4B,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C7G,UAAU,CAAC,CACPC,IAAI,CAAE,OAAO,CACbC,IAAI,CAAE,4BACV,CAAC,CAAC,CACN,CAAC,OAAS,CACNE,kBAAkB,CAAC,KAAK,CAAC,CACzBE,iBAAiB,CAAC,CAAC,CAAC,CACxB,CACJ,CAAC,CAED;AACA,KAAM,CAAAyG,iBAAiB,CAAIC,KAAK,EAAK,CACjCxG,kBAAkB,CAACoG,IAAI,GAAK,CACxB,GAAGA,IAAI,CACPxD,KAAK,CAAEwD,IAAI,CAACxD,KAAK,CAACE,MAAM,CAAC,CAAC2D,CAAC,CAAE9B,CAAC,GAAKA,CAAC,GAAK6B,KAAK,CAClD,CAAC,CAAC,CAAC,CACP,CAAC,CAED;AACA,KAAM,CAAAE,qBAAqB,CAAG,KAAO,CAAAC,CAAC,EAAK,CACvCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBtH,UAAU,CAAC,IAAI,CAAC,CAEhB,GAAI,CACA;AACA,KAAM,CAAAuH,iBAAiB,CAAG,GAAG9G,eAAe,CAACE,KAAK,IAAIF,eAAe,CAACM,IAAI,KAAK,CAE/E,KAAM,CAAAyG,eAAe,CAAG,CACpB,GAAG/G,eAAe,CAClBgH,aAAa,CAAEF,iBAAiB,CAAE;AAClCG,UAAU,CAAEjI,eAAe,CAACwE,EAAE,CAC9BL,cAAc,CAAEnE,eAAe,CAACmH,MAAM,CACtCe,eAAe,CAAElI,eAAe,CAACsE,OAAO,CAAE;AAC1C6D,aAAa,CAAE,GAAI,CAAAhH,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACvCgH,aAAa,CAAE9I,WAAW,CAAC+I,GAAG,CAC9BC,mBAAmB,CAAEhJ,WAAW,CAACmE,IAAI,EAAInE,WAAW,CAACoE,KACzD,CAAC,CACD;AACA,KAAM,CAAA6E,cAAc,CAAGtK,WAAW,CAACJ,QAAQ,CAAE,kBAAkBmC,eAAe,CAACwE,EAAE,EAAE,CAAC,CACpF,KAAM,CAAAgE,iBAAiB,CAAGtK,IAAI,CAACqK,cAAc,CAAC,CAC9C,KAAM,CAAAhK,WAAW,CAACiK,iBAAiB,CAAET,eAAe,CAAC,CAErD;AACA,KAAM,CAAAU,UAAU,CAAGxK,WAAW,CAACJ,QAAQ,CAAE,aAAamC,eAAe,CAACwE,EAAE,EAAE,CAAC,CAC3E,KAAM,CAAArG,MAAM,CAACsK,UAAU,CAAE,CACrBC,mBAAmB,CAAE1H,eAAe,CAACE,KAAK,CAC1CyH,8BAA8B,CAAE3H,eAAe,CAACU,WAAW,EAAI1B,eAAe,CAAC0B,WAAW,CAC1FkH,oBAAoB,CAAE5H,eAAe,CAACuC,yBAAyB,CAC/DsF,+BAA+B,CAAE7H,eAAe,CAACsC,sBAAsB,CACvEwF,mBAAmB,CAAE,GAAI,CAAA3H,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAChD,CAAC,CAAC,CAEFX,UAAU,CAAC,CACPC,IAAI,CAAE,SAAS,CACfC,IAAI,CAAE,yCACV,CAAC,CAAC,CAEF;AACAoI,SAAS,CAAC,CAAC,CACX1I,sBAAsB,CAAC,KAAK,CAAC,CAEjC,CAAE,MAAOiH,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACvD7G,UAAU,CAAC,CACPC,IAAI,CAAE,OAAO,CACbC,IAAI,CAAE,qCACV,CAAC,CAAC,CACN,CAAC,OAAS,CACNJ,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAED;AACA,KAAM,CAAAwI,SAAS,CAAGA,CAAA,GAAM,CACpB9H,kBAAkB,CAAC,CACfC,KAAK,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC7CC,IAAI,CAAE,GAAI,CAAAH,IAAI,CAAC,CAAC,CAACI,YAAY,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAC3CC,iBAAiB,CAAE,YAAY,CAC/BC,WAAW,CAAE,EAAE,CACfC,QAAQ,CAAE,EAAE,CACZC,IAAI,CAAE,WAAW,CACjBC,iBAAiB,CAAE,EAAE,CACrBC,kBAAkB,CAAE,WAAW,CAC/BC,oBAAoB,CAAE,EAAE,CACxBC,aAAa,CAAE,WAAW,CAC1BC,kBAAkB,CAAE,EAAE,CACtBC,QAAQ,CAAE,WAAW,CACrBC,qBAAqB,CAAE,EAAE,CACzBC,UAAU,CAAE,OAAO,CACnBC,uBAAuB,CAAE,EAAE,CAC3BC,UAAU,CAAE,OAAO,CACnBC,kBAAkB,CAAE,EAAE,CACtBC,eAAe,CAAE,OAAO,CACxBC,mBAAmB,CAAE,EAAE,CACvBC,YAAY,CAAE,KAAK,CACnBC,UAAU,CAAE,KAAK,CACjBC,YAAY,CAAE,KAAK,CACnBC,iBAAiB,CAAE,KAAK,CACxBC,cAAc,CAAE,KAAK,CACrBC,kBAAkB,CAAE,KAAK,CACzBC,kBAAkB,CAAE,KAAK,CACzBC,iBAAiB,CAAE,KAAK,CACxBC,eAAe,CAAE,KAAK,CACtBC,aAAa,CAAE,KAAK,CACpBC,aAAa,CAAE,KAAK,CACpBC,sBAAsB,CAAE,EAAE,CAC1BC,sBAAsB,CAAE,EAAE,CAC1BC,yBAAyB,CAAE,EAAE,CAC7BC,YAAY,CAAElE,WAAW,CAACmE,IAAI,EAAInE,WAAW,CAACoE,KAAK,CACnDC,iBAAiB,CAAE,EAAE,CACrBC,kBAAkB,CAAE,CAAC,CACrBC,KAAK,CAAE,EACX,CAAC,CAAC,CACN,CAAC,CAED;AACA;AACA,KAAM,CAAAmF,eAAe,CAAGA,CAAA,GAAM,CAC1B,GAAI,CAAChJ,eAAe,CAAE,CAClBS,UAAU,CAAC,CACPC,IAAI,CAAE,OAAO,CACbC,IAAI,CAAE,8BACV,CAAC,CAAC,CACF,OACJ,CAEA,GAAIT,kBAAkB,CAACwF,MAAM,GAAK,CAAC,CAAE,CACjCjF,UAAU,CAAC,CACPC,IAAI,CAAE,SAAS,CACfC,IAAI,CAAE,iDACV,CAAC,CAAC,CACF,OACJ,CAEA,GAAI,CACA/C,gBAAgB,CAACqL,wBAAwB,CACrCjJ,eAAe,CACfE,kBAAkB,CAClBZ,WACJ,CAAC,CAEDmB,UAAU,CAAC,CACPC,IAAI,CAAE,SAAS,CACfC,IAAI,CAAE,2BACV,CAAC,CAAC,CACN,CAAE,MAAO2G,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C7G,UAAU,CAAC,CACPC,IAAI,CAAE,OAAO,CACbC,IAAI,CAAE,yBACV,CAAC,CAAC,CACN,CACJ,CAAC,CAED,mBACI3B,KAAA,QAAKkK,KAAK,CAAE,CAAEC,OAAO,CAAE5J,QAAQ,CAAG,MAAM,CAAG,MAAO,CAAE,CAAA6J,QAAA,eAEhDpK,KAAA,QAAKkK,KAAK,CAAE,CACRG,YAAY,CAAE,MAAM,CACpBC,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,eAAe,CAC/BC,UAAU,CAAE,QAAQ,CACpBC,QAAQ,CAAE,MAAM,CAChBC,GAAG,CAAE,MACT,CAAE,CAAAN,QAAA,eACEtK,IAAA,OAAIoK,KAAK,CAAE,CACPS,MAAM,CAAE,CAAC,CACTC,KAAK,CAAE,SAAS,CAChBC,QAAQ,CAAEtK,QAAQ,CAAG,MAAM,CAAG,MAAM,CACpCuK,UAAU,CAAE,KAChB,CAAE,CAAAV,QAAA,CAAC,mDAEH,CAAI,CAAC,CAEJpJ,eAAe,eACZlB,IAAA,WACIiL,OAAO,CAAEA,CAAA,GAAM9J,kBAAkB,CAAC,IAAI,CAAE,CACxCiJ,KAAK,CAAE,CACHC,OAAO,CAAE,WAAW,CACpBa,UAAU,CAAE,SAAS,CACrBJ,KAAK,CAAE,OAAO,CACdK,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MAAM,CAChBM,MAAM,CAAE,SACZ,CAAE,CAAAf,QAAA,CACL,uBAED,CAAQ,CACX,EACA,CAAC,CAGL5I,OAAO,CAACG,IAAI,eACT7B,IAAA,QAAKoK,KAAK,CAAE,CACRC,OAAO,CAAE,MAAM,CACfe,YAAY,CAAE,KAAK,CACnBb,YAAY,CAAE,MAAM,CACpBW,UAAU,CAAExJ,OAAO,CAACE,IAAI,GAAK,SAAS,CAAG,SAAS,CAC9CF,OAAO,CAACE,IAAI,GAAK,OAAO,CAAG,SAAS,CAAG,SAAS,CACpDuJ,MAAM,CAAE,aAAazJ,OAAO,CAACE,IAAI,GAAK,SAAS,CAAG,SAAS,CACvDF,OAAO,CAACE,IAAI,GAAK,OAAO,CAAG,SAAS,CAAG,SAAS,EAC9C,CACNkJ,KAAK,CAAEpJ,OAAO,CAACE,IAAI,GAAK,SAAS,CAAG,SAAS,CACzCF,OAAO,CAACE,IAAI,GAAK,OAAO,CAAG,SAAS,CAAG,SAC/C,CAAE,CAAA0I,QAAA,CACG5I,OAAO,CAACG,IAAI,CACZ,CACR,CAEA,CAACX,eAAe,cACb;AACAlB,IAAA,CAACsL,oBAAoB,EACjB/K,SAAS,CAAEA,SAAU,CACrBgL,eAAe,CAAEpK,kBAAmB,CACpCV,QAAQ,CAAEA,QAAS,CACtB,CAAC,cAEF;AACAP,KAAA,CAAAE,SAAA,EAAAkK,QAAA,eAEItK,IAAA,CAACwL,eAAe,EACZC,OAAO,CAAEvK,eAAgB,CACzBT,QAAQ,CAAEA,QAAS,CACtB,CAAC,cAGFP,KAAA,QAAKkK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfI,GAAG,CAAE,MAAM,CACXL,YAAY,CAAE,MAAM,CACpBI,QAAQ,CAAE,MACd,CAAE,CAAAL,QAAA,eACEtK,IAAA,WACIiL,OAAO,CAAEA,CAAA,GAAM1J,sBAAsB,CAAC,CAACD,mBAAmB,CAAE,CAC5D8I,KAAK,CAAE,CACHC,OAAO,CAAE,WAAW,CACpBa,UAAU,CAAE,mDAAmD,CAC/DJ,KAAK,CAAE,OAAO,CACdK,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBK,MAAM,CAAE,SAAS,CACjBK,SAAS,CAAE,2BACf,CAAE,CAAApB,QAAA,CAEDhJ,mBAAmB,CAAG,YAAY,CAAG,2BAA2B,CAC7D,CAAC,cAETtB,IAAA,WACIiL,OAAO,CAAEf,eAAgB,CACzBE,KAAK,CAAE,CACHC,OAAO,CAAE,WAAW,CACpBa,UAAU,CAAE,mDAAmD,CAC/DJ,KAAK,CAAE,OAAO,CACdK,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBK,MAAM,CAAE,SAAS,CACjBK,SAAS,CAAE,2BACf,CAAE,CAAApB,QAAA,CACL,qCAED,CAAQ,CAAC,EACR,CAAC,CAGLhJ,mBAAmB,eAChBtB,IAAA,CAAC2L,eAAe,EACZC,IAAI,CAAE1J,eAAgB,CACtB2J,OAAO,CAAE1J,kBAAmB,CAC5B2J,QAAQ,CAAEjD,qBAAsB,CAChCkD,aAAa,CAAErF,iBAAkB,CACjCsF,aAAa,CAAEtD,iBAAkB,CACjC5G,eAAe,CAAEA,eAAgB,CACjCE,cAAc,CAAEA,cAAe,CAC/BR,OAAO,CAAEA,OAAQ,CACjBf,QAAQ,CAAEA,QAAS,CACnBgL,OAAO,CAAEvK,eAAgB,CACzBV,WAAW,CAAEA,WAAc;AAAA,CAE9B,CACJ,cAGDR,IAAA,CAACiM,kBAAkB,EACfC,OAAO,CAAE9K,kBAAmB,CAC5BX,QAAQ,CAAEA,QAAS,CACtB,CAAC,EACJ,CACL,EACA,CAAC,CAEd,CAAC,CAED;AACA,KAAM,CAAA6K,oBAAoB,CAAGa,KAAA,EAA8C,IAA7C,CAAE5L,SAAS,CAAEgL,eAAe,CAAE9K,QAAS,CAAC,CAAA0L,KAAA,CAClE,KAAM,CAAAC,oBAAoB,CAAIX,OAAO,EAAK,CACtC,GAAI,CAACA,OAAO,CAAC3B,oBAAoB,CAAE,MAAO,eAAe,CAEzD,KAAM,CAAAuC,GAAG,CAAG,GAAI,CAAAhK,IAAI,CAAC,CAAC,CACtB,KAAM,CAAAiK,YAAY,CAAG,GAAI,CAAAjK,IAAI,CAACoJ,OAAO,CAAC3B,oBAAoB,CAAC,CAC3D,KAAM,CAAAyC,aAAa,CAAG9E,IAAI,CAAC+E,IAAI,CAAC,CAACF,YAAY,CAAGD,GAAG,GAAK,IAAI,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAC,CAAC,CAE7E,GAAIE,aAAa,CAAG,CAAC,CAAE,MAAO,SAAS,CACvC,GAAIA,aAAa,EAAI,CAAC,CAAE,MAAO,SAAS,CACxC,GAAIA,aAAa,EAAI,EAAE,CAAE,MAAO,SAAS,CACzC,MAAO,IAAI,CACf,CAAC,CAED,mBACIvM,IAAA,QAAKoK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfiC,mBAAmB,CAAE,4BAA4BhM,QAAQ,CAAG,MAAM,CAAG,OAAO,SAAS,CACrFmK,GAAG,CAAE,MACT,CAAE,CAAAN,QAAA,CACG/J,SAAS,CAAC6F,GAAG,CAACqF,OAAO,EAAI,CACtB,KAAM,CAAAiB,MAAM,CAAGN,oBAAoB,CAACX,OAAO,CAAC,CAE5C,mBACIvL,KAAA,QAEI+K,OAAO,CAAEA,CAAA,GAAMM,eAAe,CAACE,OAAO,CAAE,CACxCrB,KAAK,CAAE,CACHc,UAAU,CAAE,OAAO,CACnBE,YAAY,CAAE,MAAM,CACpBf,OAAO,CAAE,MAAM,CACfqB,SAAS,CAAE,4BAA4B,CACvCL,MAAM,CAAE,SAAS,CACjBsB,UAAU,CAAE,UAAU,CACtBxB,MAAM,CAAE,WAAW,CACnByB,WAAW,CAAEF,MAAM,GAAK,SAAS,CAAG,SAAS,CACzCA,MAAM,GAAK,SAAS,CAAG,SAAS,CAC5BA,MAAM,GAAK,SAAS,CAAG,SAAS,CAAG,SAC/C,CAAE,CACFG,YAAY,CAAG/D,CAAC,EAAK,CACjBA,CAAC,CAACgE,aAAa,CAAC1C,KAAK,CAAC2C,SAAS,CAAG,kBAAkB,CACpDjE,CAAC,CAACgE,aAAa,CAAC1C,KAAK,CAACsB,SAAS,CAAG,4BAA4B,CAClE,CAAE,CACFsB,YAAY,CAAGlE,CAAC,EAAK,CACjBA,CAAC,CAACgE,aAAa,CAAC1C,KAAK,CAAC2C,SAAS,CAAG,eAAe,CACjDjE,CAAC,CAACgE,aAAa,CAAC1C,KAAK,CAACsB,SAAS,CAAG,4BAA4B,CAClE,CAAE,CAAApB,QAAA,eAEFpK,KAAA,QAAKkK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,eAAe,CAC/BC,UAAU,CAAE,OAAO,CACnBH,YAAY,CAAE,MAClB,CAAE,CAAAD,QAAA,eACEpK,KAAA,OAAIkK,KAAK,CAAE,CACPS,MAAM,CAAE,CAAC,CACTE,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,EAAC,eACI,CAACmB,OAAO,CAACpD,MAAM,EAClB,CAAC,CAEJqE,MAAM,GAAK,SAAS,eACjB1M,IAAA,SAAMoK,KAAK,CAAE,CACTC,OAAO,CAAE,SAAS,CAClBa,UAAU,CAAE,SAAS,CACrBJ,KAAK,CAAE,SAAS,CAChBM,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAChB,CAAE,CAAAV,QAAA,CAAC,sBAEH,CAAM,CACT,CACAoC,MAAM,GAAK,SAAS,eACjB1M,IAAA,SAAMoK,KAAK,CAAE,CACTC,OAAO,CAAE,SAAS,CAClBa,UAAU,CAAE,SAAS,CACrBJ,KAAK,CAAE,SAAS,CAChBM,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAChB,CAAE,CAAAV,QAAA,CAAC,gBAEH,CAAM,CACT,CACAoC,MAAM,GAAK,SAAS,eACjB1M,IAAA,SAAMoK,KAAK,CAAE,CACTC,OAAO,CAAE,SAAS,CAClBa,UAAU,CAAE,SAAS,CACrBJ,KAAK,CAAE,SAAS,CAChBM,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAChB,CAAE,CAAAV,QAAA,CAAC,yBAEH,CAAM,CACT,EACA,CAAC,cAENpK,KAAA,QAAKkK,KAAK,CAAE,CACRW,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SAAS,CAChBmC,UAAU,CAAE,KAChB,CAAE,CAAA3C,QAAA,eACEpK,KAAA,QAAAoK,QAAA,EAAK,eAAG,CAACmB,OAAO,CAACyB,KAAK,CAAC,GAAC,CAACzB,OAAO,CAAC0B,MAAM,EAAM,CAAC,cAC9CjN,KAAA,QAAAoK,QAAA,EAAK,wBAAY,CAACmB,OAAO,CAACjG,OAAO,EAAM,CAAC,CACvCiG,OAAO,CAAC7I,WAAW,eAChB1C,KAAA,QAAAoK,QAAA,EAAK,eAAG,CAACmB,OAAO,CAAC7I,WAAW,CAACwK,cAAc,CAAC,CAAC,CAAC,KAAG,EAAK,CACzD,CACA3B,OAAO,CAAC7B,mBAAmB,eACxB1J,KAAA,QAAAoK,QAAA,EAAK,0BACU,CAAC,GAAI,CAAAjI,IAAI,CAACoJ,OAAO,CAAC7B,mBAAmB,CAAC,CAACyD,kBAAkB,CAAC,OAAO,CAAC,EAC5E,CACR,CACA5B,OAAO,CAAC3B,oBAAoB,eACzB5J,KAAA,QAAKkK,KAAK,CAAE,CACRkD,SAAS,CAAE,KAAK,CAChBjD,OAAO,CAAE,KAAK,CACda,UAAU,CAAE,SAAS,CACrBE,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CAAAT,QAAA,EAAC,2BACa,CAAC,GAAI,CAAAjI,IAAI,CAACoJ,OAAO,CAAC3B,oBAAoB,CAAC,CAACuD,kBAAkB,CAAC,OAAO,CAAC,CAC9E5B,OAAO,CAAC1B,+BAA+B,eACpC7J,KAAA,SAAAoK,QAAA,EAAM,KAAG,CAACmB,OAAO,CAAC1B,+BAA+B,CAACqD,cAAc,CAAC,CAAC,CAAC,KAAG,EAAM,CAC/E,EACA,CACR,EACA,CAAC,GAxGD3B,OAAO,CAAC/F,EAyGZ,CAAC,CAEd,CAAC,CAAC,CACD,CAAC,CAEd,CAAC,CAED;AACA,KAAM,CAAA8F,eAAe,CAAG+B,KAAA,OAAAC,oBAAA,IAAC,CAAE/B,OAAO,CAAEhL,QAAS,CAAC,CAAA8M,KAAA,oBAC1CrN,KAAA,QAAKkK,KAAK,CAAE,CACRc,UAAU,CAAE,OAAO,CACnBE,YAAY,CAAE,MAAM,CACpBf,OAAO,CAAE,MAAM,CACfE,YAAY,CAAE,MAAM,CACpBmB,SAAS,CAAE,4BACf,CAAE,CAAApB,QAAA,eACEpK,KAAA,OAAIkK,KAAK,CAAE,CACPS,MAAM,CAAE,YAAY,CACpBE,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,EAAC,eACI,CAACmB,OAAO,CAACpD,MAAM,EAClB,CAAC,cAELnI,KAAA,QAAKkK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfiC,mBAAmB,CAAEhM,QAAQ,CAAG,KAAK,CAAG,sCAAsC,CAC9EmK,GAAG,CAAE,MACT,CAAE,CAAAN,QAAA,eACEpK,KAAA,QAAAoK,QAAA,eACItK,IAAA,SAAMoK,KAAK,CAAE,CAAEU,KAAK,CAAE,SAAS,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAT,QAAA,CAAC,cAAY,CAAM,CAAC,cACxEpK,KAAA,QAAKkK,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAM,CAAE,CAAAV,QAAA,EAC/CmB,OAAO,CAACyB,KAAK,CAAC,GAAC,CAACzB,OAAO,CAAC0B,MAAM,EAC9B,CAAC,EACL,CAAC,cACNjN,KAAA,QAAAoK,QAAA,eACItK,IAAA,SAAMoK,KAAK,CAAE,CAAEU,KAAK,CAAE,SAAS,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAT,QAAA,CAAC,SAAO,CAAM,CAAC,cACnEtK,IAAA,QAAKoK,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAM,CAAE,CAAAV,QAAA,CAC/CmB,OAAO,CAACjG,OAAO,CACf,CAAC,EACL,CAAC,cACNtF,KAAA,QAAAoK,QAAA,eACItK,IAAA,SAAMoK,KAAK,CAAE,CAAEU,KAAK,CAAE,SAAS,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAT,QAAA,CAAC,oBAAkB,CAAM,CAAC,cAC9EpK,KAAA,QAAKkK,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAM,CAAE,CAAAV,QAAA,EAC/C,EAAAkD,oBAAA,CAAA/B,OAAO,CAAC7I,WAAW,UAAA4K,oBAAA,iBAAnBA,oBAAA,CAAqBJ,cAAc,CAAC,CAAC,GAAI,CAAC,CAAC,KAChD,EAAK,CAAC,EACL,CAAC,cACNlN,KAAA,QAAAoK,QAAA,eACItK,IAAA,SAAMoK,KAAK,CAAE,CAAEU,KAAK,CAAE,SAAS,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAT,QAAA,CAAC,QAAM,CAAM,CAAC,cAClEtK,IAAA,QAAKoK,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAM,CAAE,CAAAV,QAAA,cAChDtK,IAAA,SAAMoK,KAAK,CAAE,CACTC,OAAO,CAAE,SAAS,CAClBe,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MAAM,CAChBG,UAAU,CAAEO,OAAO,CAACgC,MAAM,GAAK,YAAY,CAAG,SAAS,CACnDhC,OAAO,CAACgC,MAAM,GAAK,QAAQ,CAAG,SAAS,CACnChC,OAAO,CAACgC,MAAM,GAAK,eAAe,CAAG,SAAS,CAAG,SAAS,CAClE3C,KAAK,CAAEW,OAAO,CAACgC,MAAM,GAAK,YAAY,CAAG,SAAS,CAC9ChC,OAAO,CAACgC,MAAM,GAAK,QAAQ,CAAG,SAAS,CACnChC,OAAO,CAACgC,MAAM,GAAK,eAAe,CAAG,SAAS,CAAG,SAC7D,CAAE,CAAAnD,QAAA,CACGmB,OAAO,CAACgC,MAAM,GAAK,YAAY,CAAG,cAAc,CAC7ChC,OAAO,CAACgC,MAAM,GAAK,QAAQ,CAAG,WAAW,CACrChC,OAAO,CAACgC,MAAM,GAAK,eAAe,CAAG,kBAAkB,CAAG,kBAAkB,CAClF,CAAC,CACN,CAAC,EACL,CAAC,EACL,CAAC,EACL,CAAC,EACT,CAED;AACA,KAAM,CAAA9B,eAAe,CAAG+B,KAAA,EAalB,IAbmB,CACrB9B,IAAI,CACJC,OAAO,CACPC,QAAQ,CACRC,aAAa,CACbC,aAAa,CACblK,eAAe,CACfE,cAAc,CACdR,OAAO,CACPf,QAAQ,CACRgL,OAAO,CACPjL,WAAa;AAEjB,CAAC,CAAAkN,KAAA,CACG,mBACIxN,KAAA,SAAM4L,QAAQ,CAAEA,QAAS,CAAC1B,KAAK,CAAE,CAC7Bc,UAAU,CAAE,OAAO,CACnBE,YAAY,CAAE,MAAM,CACpBf,OAAO,CAAE,MAAM,CACfE,YAAY,CAAE,MAAM,CACpBmB,SAAS,CAAE,6BACf,CAAE,CAAApB,QAAA,eACEtK,IAAA,OAAIoK,KAAK,CAAE,CACPS,MAAM,CAAE,YAAY,CACpBE,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,4CAEH,CAAI,CAAC,cAGLpK,KAAA,QAAKkK,KAAK,CAAE,CACRG,YAAY,CAAE,MAAM,CACpBoD,aAAa,CAAE,MAAM,CACrBC,YAAY,CAAE,mBAClB,CAAE,CAAAtD,QAAA,eACEtK,IAAA,OAAIoK,KAAK,CAAE,CACPS,MAAM,CAAE,YAAY,CACpBE,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,qCAEH,CAAI,CAAC,cAELpK,KAAA,QAAKkK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfiC,mBAAmB,CAAEhM,QAAQ,CAAG,KAAK,CAAG,sCAAsC,CAC9EmK,GAAG,CAAE,MACT,CAAE,CAAAN,QAAA,EAAC,+DAEC,cAAApK,KAAA,QAAAoK,QAAA,eACItK,IAAA,UAAOoK,KAAK,CAAE,CACVI,OAAO,CAAE,OAAO,CAChBD,YAAY,CAAE,KAAK,CACnBQ,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,0BAEH,CAAO,CAAC,cACRtK,IAAA,UACI4B,IAAI,CAAC,MAAM,CACXiM,QAAQ,MACRC,KAAK,CAAElC,IAAI,CAACpJ,IAAK,CACjBuL,QAAQ,CAAGjF,CAAC,EAAK+C,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAEpJ,IAAI,CAAEsG,CAAC,CAACkF,MAAM,CAACF,KAAM,CAAC,CAAE,CAC5D1D,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,MAAM,CACfc,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CACL,CAAC,EACD,CAAC,cACN7K,KAAA,QAAAoK,QAAA,eACItK,IAAA,UAAOoK,KAAK,CAAE,CACVI,OAAO,CAAE,OAAO,CAChBD,YAAY,CAAE,KAAK,CACnBQ,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,2BAEH,CAAO,CAAC,cACRtK,IAAA,UACI4B,IAAI,CAAC,MAAM,CACXiM,QAAQ,MACRC,KAAK,CAAElC,IAAI,CAACxJ,KAAM,CAClB2L,QAAQ,CAAGjF,CAAC,EAAK+C,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAExJ,KAAK,CAAE0G,CAAC,CAACkF,MAAM,CAACF,KAAM,CAAC,CAAE,CAC7D1D,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,MAAM,CACfc,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CACL,CAAC,EACD,CAAC,cAEN7K,KAAA,QAAAoK,QAAA,eACItK,IAAA,UAAOoK,KAAK,CAAE,CACVI,OAAO,CAAE,OAAO,CAChBD,YAAY,CAAE,KAAK,CACnBQ,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,yBAEH,CAAO,CAAC,cACRpK,KAAA,WACI2N,QAAQ,MACRC,KAAK,CAAElC,IAAI,CAACjJ,iBAAkB,CAC9BoL,QAAQ,CAAGjF,CAAC,EAAK+C,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAEjJ,iBAAiB,CAAEmG,CAAC,CAACkF,MAAM,CAACF,KAAM,CAAC,CAAE,CACzE1D,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,MAAM,CACfc,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CAAAT,QAAA,eAEFtK,IAAA,WAAQ8N,KAAK,CAAC,YAAY,CAAAxD,QAAA,CAAC,YAAU,CAAQ,CAAC,cAC9CtK,IAAA,WAAQ8N,KAAK,CAAC,YAAY,CAAAxD,QAAA,CAAC,YAAU,CAAQ,CAAC,cAC9CtK,IAAA,WAAQ8N,KAAK,CAAC,YAAY,CAAAxD,QAAA,CAAC,YAAU,CAAQ,CAAC,cAC9CtK,IAAA,WAAQ8N,KAAK,CAAC,YAAY,CAAAxD,QAAA,CAAC,eAAU,CAAQ,CAAC,EAC1C,CAAC,EACR,CAAC,cAENpK,KAAA,QAAAoK,QAAA,eACItK,IAAA,UAAOoK,KAAK,CAAE,CACVI,OAAO,CAAE,OAAO,CAChBD,YAAY,CAAE,KAAK,CACnBQ,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,oBAEH,CAAO,CAAC,cACRtK,IAAA,UACI4B,IAAI,CAAC,QAAQ,CACbkM,KAAK,CAAElC,IAAI,CAAChJ,WAAY,CACxBmL,QAAQ,CAAGjF,CAAC,EAAK+C,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAEhJ,WAAW,CAAEkG,CAAC,CAACkF,MAAM,CAACF,KAAM,CAAC,CAAE,CACnEI,WAAW,CAAEzC,OAAO,CAAC7I,WAAW,EAAI,GAAI,CACxCwH,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,MAAM,CACfc,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CACL,CAAC,EACD,CAAC,cAEN7K,KAAA,QAAAoK,QAAA,eACItK,IAAA,UAAOoK,KAAK,CAAE,CACVI,OAAO,CAAE,OAAO,CAChBD,YAAY,CAAE,KAAK,CACnBQ,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,iBAEH,CAAO,CAAC,cACRtK,IAAA,UACI4B,IAAI,CAAC,MAAM,CACXiM,QAAQ,MACRC,KAAK,CAAElC,IAAI,CAAClH,YAAa,CACzBqJ,QAAQ,CAAGjF,CAAC,EAAK+C,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAElH,YAAY,CAAEoE,CAAC,CAACkF,MAAM,CAACF,KAAM,CAAC,CAAE,CACpE1D,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,MAAM,CACfc,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CACL,CAAC,EACD,CAAC,cAEN7K,KAAA,QAAAoK,QAAA,eACItK,IAAA,UAAOoK,KAAK,CAAE,CACVI,OAAO,CAAE,OAAO,CAChBD,YAAY,CAAE,KAAK,CACnBQ,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,cAEH,CAAO,CAAC,cACRtK,IAAA,UACI4B,IAAI,CAAC,MAAM,CACXkM,KAAK,CAAElC,IAAI,CAAC/G,iBAAkB,CAC9BkJ,QAAQ,CAAGjF,CAAC,EAAK+C,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAE/G,iBAAiB,CAAEiE,CAAC,CAACkF,MAAM,CAACF,KAAM,CAAC,CAAE,CACzEI,WAAW,CAAC,2BAA2B,CACvC9D,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,MAAM,CACfc,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CACL,CAAC,EACD,CAAC,cAEN7K,KAAA,QAAAoK,QAAA,eACItK,IAAA,UAAOoK,KAAK,CAAE,CACVI,OAAO,CAAE,OAAO,CAChBD,YAAY,CAAE,KAAK,CACnBQ,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,aAEH,CAAO,CAAC,cACRtK,IAAA,UACI4B,IAAI,CAAC,QAAQ,CACbkM,KAAK,CAAElC,IAAI,CAAC9G,kBAAmB,CAC/BiJ,QAAQ,CAAGjF,CAAC,EAAK+C,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAE9G,kBAAkB,CAAEgE,CAAC,CAACkF,MAAM,CAACF,KAAM,CAAC,CAAE,CAC1EI,WAAW,CAAC,GAAG,CACf9D,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,MAAM,CACfc,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CACL,CAAC,EACD,CAAC,EACL,CAAC,EACL,CAAC,cAGN7K,KAAA,QAAKkK,KAAK,CAAE,CACRG,YAAY,CAAE,MAAM,CACpBoD,aAAa,CAAE,MAAM,CACrBC,YAAY,CAAE,mBAClB,CAAE,CAAAtD,QAAA,eACEtK,IAAA,OAAIoK,KAAK,CAAE,CACPS,MAAM,CAAE,YAAY,CACpBE,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,sDAEH,CAAI,CAAC,cAELpK,KAAA,QAAKkK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfI,GAAG,CAAE,MACT,CAAE,CAAAN,QAAA,eAEEtK,IAAA,CAACmO,cAAc,EACXC,KAAK,CAAC,mBAAS,CACfN,KAAK,CAAElC,IAAI,CAAC9I,IAAK,CACjBiL,QAAQ,CAAGD,KAAK,EAAKjC,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAE9I,IAAI,CAAEgL,KAAM,CAAC,CAAE,CACvDO,YAAY,CAAEzC,IAAI,CAAC7I,iBAAkB,CACrCuL,oBAAoB,CAAGR,KAAK,EAAKjC,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAE7I,iBAAiB,CAAE+K,KAAM,CAAC,CAAE,CACnF,CAAC,cAGF9N,IAAA,CAACmO,cAAc,EACXC,KAAK,CAAC,kCAAwB,CAC9BN,KAAK,CAAElC,IAAI,CAAC5I,kBAAmB,CAC/B+K,QAAQ,CAAGD,KAAK,EAAKjC,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAE5I,kBAAkB,CAAE8K,KAAM,CAAC,CAAE,CACrEO,YAAY,CAAEzC,IAAI,CAAC3I,oBAAqB,CACxCqL,oBAAoB,CAAGR,KAAK,EAAKjC,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAE3I,oBAAoB,CAAE6K,KAAM,CAAC,CAAE,CACtF,CAAC,cAGF9N,IAAA,CAACmO,cAAc,EACXC,KAAK,CAAC,gCAAsB,CAC5BN,KAAK,CAAElC,IAAI,CAAC1I,aAAc,CAC1B6K,QAAQ,CAAGD,KAAK,EAAKjC,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAE1I,aAAa,CAAE4K,KAAM,CAAC,CAAE,CAChEO,YAAY,CAAEzC,IAAI,CAACzI,kBAAmB,CACtCmL,oBAAoB,CAAGR,KAAK,EAAKjC,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAEzI,kBAAkB,CAAE2K,KAAM,CAAC,CAAE,CACpF,CAAC,cAGF9N,IAAA,CAACmO,cAAc,EACXC,KAAK,CAAC,uCAA0B,CAChCN,KAAK,CAAElC,IAAI,CAACxI,QAAS,CACrB2K,QAAQ,CAAGD,KAAK,EAAKjC,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAExI,QAAQ,CAAE0K,KAAM,CAAC,CAAE,CAC3DO,YAAY,CAAEzC,IAAI,CAACvI,qBAAsB,CACzCiL,oBAAoB,CAAGR,KAAK,EAAKjC,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAEvI,qBAAqB,CAAEyK,KAAM,CAAC,CAAE,CACvF,CAAC,cAGF9N,IAAA,CAACmO,cAAc,EACXC,KAAK,CAAC,oCAA0B,CAChCN,KAAK,CAAElC,IAAI,CAACtI,UAAW,CACvByK,QAAQ,CAAGD,KAAK,EAAKjC,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAEtI,UAAU,CAAEwK,KAAM,CAAC,CAAE,CAC7DO,YAAY,CAAEzC,IAAI,CAACrI,uBAAwB,CAC3C+K,oBAAoB,CAAGR,KAAK,EAAKjC,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAErI,uBAAuB,CAAEuK,KAAM,CAAC,CAAE,CACtFS,QAAQ,CAAE,KAAM,CACnB,CAAC,cAGFvO,IAAA,CAACmO,cAAc,EACXC,KAAK,CAAC,6BAAmB,CACzBN,KAAK,CAAElC,IAAI,CAACpI,UAAW,CACvBuK,QAAQ,CAAGD,KAAK,EAAKjC,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAEpI,UAAU,CAAEsK,KAAM,CAAC,CAAE,CAC7DO,YAAY,CAAEzC,IAAI,CAACnI,kBAAmB,CACtC6K,oBAAoB,CAAGR,KAAK,EAAKjC,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAEnI,kBAAkB,CAAEqK,KAAM,CAAC,CAAE,CACjFS,QAAQ,CAAE,KAAM,CACnB,CAAC,cAGFvO,IAAA,CAACmO,cAAc,EACXC,KAAK,CAAC,+BAAqB,CAC3BN,KAAK,CAAElC,IAAI,CAAClI,eAAgB,CAC5BqK,QAAQ,CAAGD,KAAK,EAAKjC,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAElI,eAAe,CAAEoK,KAAM,CAAC,CAAE,CAClEO,YAAY,CAAEzC,IAAI,CAACjI,mBAAoB,CACvC2K,oBAAoB,CAAGR,KAAK,EAAKjC,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAEjI,mBAAmB,CAAEmK,KAAM,CAAC,CAAE,CAClFS,QAAQ,CAAE,KAAM,CACnB,CAAC,EACD,CAAC,EACL,CAAC,cAGNrO,KAAA,QAAKkK,KAAK,CAAE,CACRG,YAAY,CAAE,MAAM,CACpBoD,aAAa,CAAE,MAAM,CACrBC,YAAY,CAAE,mBAClB,CAAE,CAAAtD,QAAA,eACEtK,IAAA,OAAIoK,KAAK,CAAE,CACPS,MAAM,CAAE,YAAY,CACpBE,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,4BAEH,CAAI,CAAC,cAELtK,IAAA,QAAKoK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfiC,mBAAmB,CAAEhM,QAAQ,CAAG,KAAK,CAAG,sCAAsC,CAC9EmK,GAAG,CAAE,MACT,CAAE,CAAAN,QAAA,CACG,CACG,CAAEkE,GAAG,CAAE,cAAc,CAAEJ,KAAK,CAAE,sBAAuB,CAAC,CACtD,CAAEI,GAAG,CAAE,YAAY,CAAEJ,KAAK,CAAE,mBAAoB,CAAC,CACjD,CAAEI,GAAG,CAAE,cAAc,CAAEJ,KAAK,CAAE,qBAAsB,CAAC,CACrD,CAAEI,GAAG,CAAE,mBAAmB,CAAEJ,KAAK,CAAE,yBAA0B,CAAC,CAC9D,CAAEI,GAAG,CAAE,gBAAgB,CAAEJ,KAAK,CAAE,uBAAwB,CAAC,CACzD,CAAEI,GAAG,CAAE,oBAAoB,CAAEJ,KAAK,CAAE,2BAA4B,CAAC,CACjE,CAAEI,GAAG,CAAE,oBAAoB,CAAEJ,KAAK,CAAE,2BAA4B,CAAC,CACjE,CAAEI,GAAG,CAAE,mBAAmB,CAAEJ,KAAK,CAAE,0BAA2B,CAAC,CAC/D,CAAEI,GAAG,CAAE,iBAAiB,CAAEJ,KAAK,CAAE,wBAAyB,CAAC,CAC3D,CAAEI,GAAG,CAAE,eAAe,CAAEJ,KAAK,CAAE,sBAAuB,CAAC,CACvD,CAAEI,GAAG,CAAE,eAAe,CAAEJ,KAAK,CAAE,sBAAuB,CAAC,CAC1D,CAAChI,GAAG,CAACqI,IAAI,eACNvO,KAAA,UAAsBkK,KAAK,CAAE,CACzBI,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBE,GAAG,CAAE,KAAK,CACVP,OAAO,CAAE,KAAK,CACda,UAAU,CAAEU,IAAI,CAAC6C,IAAI,CAACD,GAAG,CAAC,CAAG,SAAS,CAAG,SAAS,CAClDpD,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAE,SAAS,CACjBsB,UAAU,CAAE,UAChB,CAAE,CAAArC,QAAA,eACEtK,IAAA,UACI4B,IAAI,CAAC,UAAU,CACf8M,OAAO,CAAE9C,IAAI,CAAC6C,IAAI,CAACD,GAAG,CAAE,CACxBT,QAAQ,CAAGjF,CAAC,EAAK+C,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAE,CAAC6C,IAAI,CAACD,GAAG,EAAG1F,CAAC,CAACkF,MAAM,CAACU,OAAQ,CAAC,CAAE,CACpEtE,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACbU,MAAM,CAAE,MAAM,CACdtD,MAAM,CAAE,SACZ,CAAE,CACL,CAAC,cACFrL,IAAA,SAAMoK,KAAK,CAAE,CACTW,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CACGmE,IAAI,CAACL,KAAK,CACT,CAAC,GAzBCK,IAAI,CAACD,GA0BV,CACV,CAAC,CACD,CAAC,EACL,CAAC,cAGNtO,KAAA,QAAKkK,KAAK,CAAE,CACRG,YAAY,CAAE,MAAM,CACpBoD,aAAa,CAAE,MAAM,CACrBC,YAAY,CAAE,mBAClB,CAAE,CAAAtD,QAAA,eACEtK,IAAA,OAAIoK,KAAK,CAAE,CACPS,MAAM,CAAE,YAAY,CACpBE,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,uDAEH,CAAI,CAAC,cAELpK,KAAA,QAAKkK,KAAK,CAAE,CAAEG,YAAY,CAAE,MAAO,CAAE,CAAAD,QAAA,eACjCtK,IAAA,UAAOoK,KAAK,CAAE,CACVI,OAAO,CAAE,OAAO,CAChBD,YAAY,CAAE,KAAK,CACnBQ,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,yBAEH,CAAO,CAAC,cACRtK,IAAA,aACI8N,KAAK,CAAElC,IAAI,CAACrH,sBAAuB,CACnCwJ,QAAQ,CAAGjF,CAAC,EAAK+C,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAErH,sBAAsB,CAAEuE,CAAC,CAACkF,MAAM,CAACF,KAAM,CAAC,CAAE,CAC9EI,WAAW,CAAC,+CAA4C,CACxDU,IAAI,CAAE,CAAE,CACRxE,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,MAAM,CACfc,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MAAM,CAChB8D,MAAM,CAAE,MACZ,CAAE,CACL,CAAC,EACD,CAAC,cAEN3O,KAAA,QAAKkK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfiC,mBAAmB,CAAEhM,QAAQ,CAAG,KAAK,CAAG,SAAS,CACjDmK,GAAG,CAAE,MACT,CAAE,CAAAN,QAAA,eACEpK,KAAA,QAAAoK,QAAA,eACItK,IAAA,UAAOoK,KAAK,CAAE,CACVI,OAAO,CAAE,OAAO,CAChBD,YAAY,CAAE,KAAK,CACnBQ,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,kCAEH,CAAO,CAAC,cACRtK,IAAA,UACI4B,IAAI,CAAC,MAAM,CACXkM,KAAK,CAAElC,IAAI,CAACnH,yBAA0B,CACtCsJ,QAAQ,CAAGjF,CAAC,EAAK+C,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAEnH,yBAAyB,CAAEqE,CAAC,CAACkF,MAAM,CAACF,KAAM,CAAC,CAAE,CACjF1D,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,MAAM,CACfc,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CACL,CAAC,EACD,CAAC,cAEN7K,KAAA,QAAAoK,QAAA,eACItK,IAAA,UAAOoK,KAAK,CAAE,CACVI,OAAO,CAAE,OAAO,CAChBD,YAAY,CAAE,KAAK,CACnBQ,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,wCAEH,CAAO,CAAC,cACRtK,IAAA,UACI4B,IAAI,CAAC,QAAQ,CACbkM,KAAK,CAAElC,IAAI,CAACpH,sBAAuB,CACnCuJ,QAAQ,CAAGjF,CAAC,EAAK+C,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAEpH,sBAAsB,CAAEsE,CAAC,CAACkF,MAAM,CAACF,KAAM,CAAC,CAAE,CAC9EI,WAAW,CAAC,WAAW,CACvB9D,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,MAAM,CACfc,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CACL,CAAC,EACD,CAAC,EACL,CAAC,EACL,CAAC,cAGN7K,KAAA,QAAKkK,KAAK,CAAE,CAAEG,YAAY,CAAE,MAAO,CAAE,CAAAD,QAAA,eACjCtK,IAAA,OAAIoK,KAAK,CAAE,CACPS,MAAM,CAAE,YAAY,CACpBE,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,sCAEH,CAAI,CAAC,CAGJsB,IAAI,CAAC7G,KAAK,EAAI6G,IAAI,CAAC7G,KAAK,CAAC6B,MAAM,CAAG,CAAC,eAChC5G,IAAA,QAAKoK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfiC,mBAAmB,CAAE,uCAAuC,CAC5D7B,GAAG,CAAE,MAAM,CACXL,YAAY,CAAE,MAClB,CAAE,CAAAD,QAAA,CACGsB,IAAI,CAAC7G,KAAK,CAACqB,GAAG,CAAC,CAAC0I,IAAI,CAAEnG,KAAK,gBACxBzI,KAAA,QAAiBkK,KAAK,CAAE,CACpB2E,QAAQ,CAAE,UAAU,CACpB7D,UAAU,CAAE,SAAS,CACrBE,YAAY,CAAE,KAAK,CACnBf,OAAO,CAAE,MAAM,CACfc,MAAM,CAAE,mBACZ,CAAE,CAAAb,QAAA,eACEtK,IAAA,QACIgP,GAAG,CAAEF,IAAI,CAAC7G,GAAI,CACdgH,GAAG,CAAE,QAAQtG,KAAK,CAAG,CAAC,EAAG,CACzByB,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACbU,MAAM,CAAE,OAAO,CACfO,SAAS,CAAE,OAAO,CAClB9D,YAAY,CAAE,KAAK,CACnBb,YAAY,CAAE,KAClB,CAAE,CACL,CAAC,cACFvK,IAAA,WACI4B,IAAI,CAAC,QAAQ,CACbqJ,OAAO,CAAEA,CAAA,GAAMe,aAAa,CAACrD,KAAK,CAAE,CACpCyB,KAAK,CAAE,CACH2E,QAAQ,CAAE,UAAU,CACpBI,GAAG,CAAE,KAAK,CACVC,KAAK,CAAE,KAAK,CACZ/E,OAAO,CAAE,SAAS,CAClBa,UAAU,CAAE,SAAS,CACrBJ,KAAK,CAAE,OAAO,CACdK,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MAAM,CAChBM,MAAM,CAAE,SACZ,CAAE,CAAAf,QAAA,CACL,QAED,CAAQ,CAAC,cACTtK,IAAA,QAAKoK,KAAK,CAAE,CACRW,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SAAS,CAChBuE,QAAQ,CAAE,QAAQ,CAClBC,YAAY,CAAE,UAAU,CACxBC,UAAU,CAAE,QAChB,CAAE,CAAAjF,QAAA,CACGwE,IAAI,CAACzG,MAAM,CACX,CAAC,GA5CAM,KA6CL,CACR,CAAC,CACD,CACR,cAGDzI,KAAA,QAAAoK,QAAA,eACItK,IAAA,UACI4B,IAAI,CAAC,MAAM,CACX8D,EAAE,CAAC,oBAAoB,CACvB8J,QAAQ,MACRC,MAAM,CAAC,SAAS,CAChB1B,QAAQ,CAAGjF,CAAC,EAAKiD,aAAa,CAACjD,CAAC,CAACkF,MAAM,CAACrH,KAAK,CAAE,CAC/CyD,KAAK,CAAE,CAAEI,OAAO,CAAE,MAAO,CAAE,CAC3BkF,QAAQ,CAAE5N,eAAgB,CAC7B,CAAC,cACF9B,IAAA,UACI2P,OAAO,CAAC,oBAAoB,CAC5BvF,KAAK,CAAE,CACHI,OAAO,CAAE,cAAc,CACvBH,OAAO,CAAE,WAAW,CACpBa,UAAU,CAAEpJ,eAAe,CAAG,SAAS,CAAG,SAAS,CACnDgJ,KAAK,CAAE,OAAO,CACdM,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAEvJ,eAAe,CAAG,aAAa,CAAG,SAAS,CACnDiJ,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAChB,CAAE,CAAAV,QAAA,CAEDxI,eAAe,CAAG,iBAAiBE,cAAc,GAAG,CAAG,kBAAkB,CACvE,CAAC,EACP,CAAC,EACL,CAAC,cAGN9B,KAAA,QAAKkK,KAAK,CAAE,CAAEI,OAAO,CAAE,MAAM,CAAEI,GAAG,CAAE,MAAO,CAAE,CAAAN,QAAA,eACzCtK,IAAA,WACI4B,IAAI,CAAC,QAAQ,CACb8N,QAAQ,CAAElO,OAAQ,CAClB4I,KAAK,CAAE,CACHC,OAAO,CAAE,WAAW,CACpBa,UAAU,CAAE1J,OAAO,CAAG,SAAS,CAAG,SAAS,CAC3CsJ,KAAK,CAAE,OAAO,CACdK,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBK,MAAM,CAAE7J,OAAO,CAAG,aAAa,CAAG,SACtC,CAAE,CAAA8I,QAAA,CAED9I,OAAO,CAAG,gBAAgB,CAAG,yBAAyB,CACnD,CAAC,cACTxB,IAAA,WACI4B,IAAI,CAAC,QAAQ,CACbqJ,OAAO,CAAEA,CAAA,GAAM,CACX;AACAY,OAAO,CAAC,CACJzJ,KAAK,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC7CI,iBAAiB,CAAE,YAAY,CAC/BC,WAAW,CAAE,EAAE,CACfC,QAAQ,CAAE,EAAE,CACZC,IAAI,CAAE,WAAW,CACjBC,iBAAiB,CAAE,EAAE,CACrBC,kBAAkB,CAAE,WAAW,CAC/BC,oBAAoB,CAAE,EAAE,CACxBC,aAAa,CAAE,WAAW,CAC1BC,kBAAkB,CAAE,EAAE,CACtBC,QAAQ,CAAE,WAAW,CACrBC,qBAAqB,CAAE,EAAE,CACzBC,UAAU,CAAE,OAAO,CACnBC,uBAAuB,CAAE,EAAE,CAC3BC,UAAU,CAAE,OAAO,CACnBC,kBAAkB,CAAE,EAAE,CACtBC,eAAe,CAAE,OAAO,CACxBC,mBAAmB,CAAE,EAAE,CACvBC,YAAY,CAAE,KAAK,CACnBC,UAAU,CAAE,KAAK,CACjBC,YAAY,CAAE,KAAK,CACnBC,iBAAiB,CAAE,KAAK,CACxBC,cAAc,CAAE,KAAK,CACrBC,kBAAkB,CAAE,KAAK,CACzBC,kBAAkB,CAAE,KAAK,CACzBC,iBAAiB,CAAE,KAAK,CACxBC,eAAe,CAAE,KAAK,CACtBC,aAAa,CAAE,KAAK,CACpBC,aAAa,CAAE,KAAK,CACpBC,sBAAsB,CAAE,EAAE,CAC1BC,sBAAsB,CAAE,EAAE,CAC1BC,yBAAyB,CAAE,EAAE,CAC7BC,YAAY,CAAElE,WAAW,CAACmE,IAAI,EAAInE,WAAW,CAACoE,KAAK,CACnDC,iBAAiB,CAAE,EAAE,CACrBC,kBAAkB,CAAE,CAAC,CACrBC,KAAK,CAAE,EACX,CAAC,CAAC,CACN,CAAE,CACFqF,KAAK,CAAE,CACHC,OAAO,CAAE,WAAW,CACpBa,UAAU,CAAE,SAAS,CACrBJ,KAAK,CAAE,OAAO,CACdK,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBK,MAAM,CAAE,SACZ,CAAE,CAAAf,QAAA,CACL,oBAED,CAAQ,CAAC,EACR,CAAC,EACJ,CAAC,CAEf,CAAC,CAED;AACA,KAAM,CAAA6D,cAAc,CAAGyB,KAAA,EAOjB,IAPkB,CACpBxB,KAAK,CACLN,KAAK,CACLC,QAAQ,CACRM,YAAY,CACZC,oBAAoB,CACpBC,QAAQ,CAAG,IACf,CAAC,CAAAqB,KAAA,CACG,mBACI1P,KAAA,QAAKkK,KAAK,CAAE,CACRC,OAAO,CAAE,MAAM,CACfa,UAAU,CAAE,SAAS,CACrBE,YAAY,CAAE,KAAK,CACnBD,MAAM,CAAE,mBACZ,CAAE,CAAAb,QAAA,eACEpK,KAAA,QAAKkK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBD,cAAc,CAAE,eAAe,CAC/BF,YAAY,CAAE8D,YAAY,CAAG,MAAM,CAAG,GAC1C,CAAE,CAAA/D,QAAA,eACEtK,IAAA,SAAMoK,KAAK,CAAE,CACTW,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CACG8D,KAAK,CACJ,CAAC,cAEPlO,KAAA,QAAKkK,KAAK,CAAE,CAAEI,OAAO,CAAE,MAAM,CAAEI,GAAG,CAAE,MAAO,CAAE,CAAAN,QAAA,eACzCpK,KAAA,UAAOkK,KAAK,CAAE,CACVI,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBE,GAAG,CAAE,KAAK,CACVS,MAAM,CAAE,SACZ,CAAE,CAAAf,QAAA,eACEtK,IAAA,UACI4B,IAAI,CAAC,OAAO,CACZ+C,IAAI,CAAEyJ,KAAM,CACZN,KAAK,CAAC,OAAO,CACbY,OAAO,CAAEZ,KAAK,GAAK,OAAQ,CAC3BC,QAAQ,CAAEA,CAAA,GAAMA,QAAQ,CAAC,OAAO,CAAE,CACrC,CAAC,cACF/N,IAAA,SAAMoK,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAO,CAAE,CAAAT,QAAA,CAAC,cAAO,CAAM,CAAC,EAC9C,CAAC,cAERpK,KAAA,UAAOkK,KAAK,CAAE,CACVI,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBE,GAAG,CAAE,KAAK,CACVS,MAAM,CAAE,SACZ,CAAE,CAAAf,QAAA,eACEtK,IAAA,UACI4B,IAAI,CAAC,OAAO,CACZ+C,IAAI,CAAEyJ,KAAM,CACZN,KAAK,CAAC,mBAAmB,CACzBY,OAAO,CAAEZ,KAAK,GAAK,mBAAoB,CACvCC,QAAQ,CAAEA,CAAA,GAAMA,QAAQ,CAAC,mBAAmB,CAAE,CACjD,CAAC,cACF/N,IAAA,SAAMoK,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAO,CAAE,CAAAT,QAAA,CAAC,mCAAoB,CAAM,CAAC,EAC3D,CAAC,cAERpK,KAAA,UAAOkK,KAAK,CAAE,CACVI,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBE,GAAG,CAAE,KAAK,CACVS,MAAM,CAAE,SACZ,CAAE,CAAAf,QAAA,eACEtK,IAAA,UACI4B,IAAI,CAAC,OAAO,CACZ+C,IAAI,CAAEyJ,KAAM,CACZN,KAAK,CAAC,MAAM,CACZY,OAAO,CAAEZ,KAAK,GAAK,MAAO,CAC1BC,QAAQ,CAAEA,CAAA,GAAMA,QAAQ,CAAC,MAAM,CAAE,CACpC,CAAC,cACF/N,IAAA,SAAMoK,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAO,CAAE,CAAAT,QAAA,CAAC,aAAM,CAAM,CAAC,EAC7C,CAAC,CAEPiE,QAAQ,eACLrO,KAAA,UAAOkK,KAAK,CAAE,CACVI,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBE,GAAG,CAAE,KAAK,CACVS,MAAM,CAAE,SACZ,CAAE,CAAAf,QAAA,eACEtK,IAAA,UACI4B,IAAI,CAAC,OAAO,CACZ+C,IAAI,CAAEyJ,KAAM,CACZN,KAAK,CAAC,WAAW,CACjBY,OAAO,CAAEZ,KAAK,GAAK,WAAY,CAC/BC,QAAQ,CAAEA,CAAA,GAAMA,QAAQ,CAAC,WAAW,CAAE,CACzC,CAAC,cACF/N,IAAA,SAAMoK,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAO,CAAE,CAAAT,QAAA,CAAC,KAAG,CAAM,CAAC,EAC1C,CACV,EACA,CAAC,EACL,CAAC,CAEL,CAACwD,KAAK,GAAK,mBAAmB,EAAIA,KAAK,GAAK,MAAM,gBAC/C9N,IAAA,UACI4B,IAAI,CAAC,MAAM,CACXkM,KAAK,CAAEO,YAAa,CACpBN,QAAQ,CAAGjF,CAAC,EAAKwF,oBAAoB,CAACxF,CAAC,CAACkF,MAAM,CAACF,KAAK,CAAE,CACtDI,WAAW,CAAC,4BAA4B,CACxC9D,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,KAAK,CACdc,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CACL,CACJ,EACA,CAAC,CAEd,CAAC,CACD;AACA,CACI7J,eAAe,EAAIE,kBAAkB,CAACwF,MAAM,CAAG,CAAC,eAC5C1G,KAAA,QAAKkK,KAAK,CAAE,CACRc,UAAU,CAAE,OAAO,CACnBE,YAAY,CAAE,MAAM,CACpBf,OAAO,CAAE,MAAM,CACfE,YAAY,CAAE,MAAM,CACpBmB,SAAS,CAAE,4BACf,CAAE,CAAApB,QAAA,eACEtK,IAAA,OAAIoK,KAAK,CAAE,CACPS,MAAM,CAAE,YAAY,CACpBE,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,qCAEH,CAAI,CAAC,cAELpK,KAAA,QAAKkK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfiC,mBAAmB,CAAEhM,QAAQ,CAAG,KAAK,CAAG,gBAAgB,CACxDmK,GAAG,CAAE,MACT,CAAE,CAAAN,QAAA,eACEpK,KAAA,QAAAoK,QAAA,eACItK,IAAA,UAAOoK,KAAK,CAAE,CACVI,OAAO,CAAE,OAAO,CAChBD,YAAY,CAAE,KAAK,CACnBQ,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,oBAEH,CAAO,CAAC,cACRtK,IAAA,UACI4B,IAAI,CAAC,MAAM,CACXsM,WAAW,CAAC,cAAc,CAC1BJ,KAAK,CAAEpN,aAAc,CACrBqN,QAAQ,CAAGjF,CAAC,EAAKnI,gBAAgB,CAACmI,CAAC,CAACkF,MAAM,CAACF,KAAK,CAAE,CAClD1D,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,KAAK,CACdc,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CACL,CAAC,EACD,CAAC,cAEN7K,KAAA,QAAAoK,QAAA,eACItK,IAAA,UAAOoK,KAAK,CAAE,CACVI,OAAO,CAAE,OAAO,CAChBD,YAAY,CAAE,KAAK,CACnBQ,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,aAEH,CAAO,CAAC,cACRtK,IAAA,UACI4B,IAAI,CAAC,MAAM,CACXkM,KAAK,CAAElN,gBAAiB,CACxBmN,QAAQ,CAAGjF,CAAC,EAAKjI,mBAAmB,CAACiI,CAAC,CAACkF,MAAM,CAACF,KAAK,CAAE,CACrD1D,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,KAAK,CACdc,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CACL,CAAC,EACD,CAAC,cAEN7K,KAAA,QAAAoK,QAAA,eACItK,IAAA,UAAOoK,KAAK,CAAE,CACVI,OAAO,CAAE,OAAO,CAChBD,YAAY,CAAE,KAAK,CACnBQ,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,aAEH,CAAO,CAAC,cACRtK,IAAA,UACI4B,IAAI,CAAC,MAAM,CACXkM,KAAK,CAAEhN,gBAAiB,CACxBiN,QAAQ,CAAGjF,CAAC,EAAK/H,mBAAmB,CAAC+H,CAAC,CAACkF,MAAM,CAACF,KAAK,CAAE,CACrD1D,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,KAAK,CACdc,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CACL,CAAC,EACD,CAAC,cAEN/K,IAAA,QAAKoK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,UAChB,CAAE,CAAAJ,QAAA,cACEtK,IAAA,WACIiL,OAAO,CAAEA,CAAA,GAAM,CACXtK,gBAAgB,CAAC,EAAE,CAAC,CACpBE,mBAAmB,CAAC,EAAE,CAAC,CACvBE,mBAAmB,CAAC,EAAE,CAAC,CAC3B,CAAE,CACFqJ,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACb5D,OAAO,CAAE,KAAK,CACda,UAAU,CAAE,SAAS,CACrBJ,KAAK,CAAE,OAAO,CACdK,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MAAM,CAChBM,MAAM,CAAE,SACZ,CAAE,CAAAf,QAAA,CACL,iBAED,CAAQ,CAAC,CACR,CAAC,EACL,CAAC,cAGNpK,KAAA,QAAKkK,KAAK,CAAE,CACRkD,SAAS,CAAE,MAAM,CACjBjD,OAAO,CAAE,MAAM,CACfa,UAAU,CAAE,SAAS,CACrBE,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,EAAC,YACW,CAACtJ,eAAe,CAAC4F,MAAM,CAAC,MAAI,CAACxF,kBAAkB,CAACwF,MAAM,CAAC,YACrE,EAAK,CAAC,EACL,CACR,CACL,CAEA,CAAC,2EACD,aAAA5G,IAAA,CAACiM,kBAAkB,EACfC,OAAO,CAAElL,eAAiB;AAAA,CAC1BP,QAAQ,CAAEA,QAAS,CACtB,CAAC,CAEF;AACA,KAAM,CAAAwL,kBAAkB,CAAG4D,KAAA,EAA2B,IAA1B,CAAE3D,OAAO,CAAEzL,QAAS,CAAC,CAAAoP,KAAA,CAC7C,GAAI3D,OAAO,CAACtF,MAAM,GAAK,CAAC,CAAE,CACtB,mBACI1G,KAAA,QAAKkK,KAAK,CAAE,CACRc,UAAU,CAAE,OAAO,CACnBE,YAAY,CAAE,MAAM,CACpBf,OAAO,CAAE,MAAM,CACfyF,SAAS,CAAE,QAAQ,CACnBhF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,eACEtK,IAAA,QAAKoK,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAM,CAAER,YAAY,CAAE,MAAO,CAAE,CAAAD,QAAA,CAAC,cAAE,CAAK,CAAC,cAChEtK,IAAA,MAAGoK,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAO,CAAE,CAAAT,QAAA,CAAC,mCAAiC,CAAG,CAAC,cACrEtK,IAAA,MAAGoK,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAO,CAAE,CAAAT,QAAA,CAAC,uDAAqD,CAAG,CAAC,EACxF,CAAC,CAEd,CAEA,mBACIpK,KAAA,QAAKkK,KAAK,CAAE,CACRc,UAAU,CAAE,OAAO,CACnBE,YAAY,CAAE,MAAM,CACpBM,SAAS,CAAE,6BAA6B,CACxC2D,QAAQ,CAAE,QACd,CAAE,CAAA/E,QAAA,eACEtK,IAAA,QAAKoK,KAAK,CAAE,CACRC,OAAO,CAAE,MAAM,CACfuD,YAAY,CAAE,mBAClB,CAAE,CAAAtD,QAAA,cACEpK,KAAA,OAAIkK,KAAK,CAAE,CACPS,MAAM,CAAE,CAAC,CACTE,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,EAAC,4CACiC,CAAC4B,OAAO,CAACtF,MAAM,CAAC,GACpD,EAAI,CAAC,CACJ,CAAC,cAEN5G,IAAA,QAAKoK,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAC,QAAA,CAC3B4B,OAAO,CAAC9F,GAAG,CAAC,CAACE,WAAW,CAAEqC,KAAK,gBAC5B3I,IAAA,CAAC+P,eAAe,EAEZzJ,WAAW,CAAEA,WAAY,CACzB0J,MAAM,CAAErH,KAAK,GAAKuD,OAAO,CAACtF,MAAM,CAAG,CAAE,CACrCnG,QAAQ,CAAEA,QAAS,EAHd6F,WAAW,CAACZ,EAIpB,CACJ,CAAC,CACD,CAAC,EACL,CAAC,CAEd,CAAC,CAED;AACA,KAAM,CAAAqK,eAAe,CAAGE,KAAA,EAAuC,IAAtC,CAAE3J,WAAW,CAAE0J,MAAM,CAAEvP,QAAS,CAAC,CAAAwP,KAAA,CACtD,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGxR,QAAQ,CAAC,KAAK,CAAC,CAE/C,mBACIuB,KAAA,QAAKkK,KAAK,CAAE,CACRuD,aAAa,CAAEqC,MAAM,CAAG,GAAG,CAAG,MAAM,CACpCzF,YAAY,CAAEyF,MAAM,CAAG,GAAG,CAAG,MAAM,CACnCpC,YAAY,CAAEoC,MAAM,CAAG,MAAM,CAAG,mBACpC,CAAE,CAAA1F,QAAA,eACEtK,IAAA,QACIiL,OAAO,CAAEA,CAAA,GAAMkF,WAAW,CAAC,CAACD,QAAQ,CAAE,CACtC9F,KAAK,CAAE,CACHiB,MAAM,CAAE,SAAS,CACjBhB,OAAO,CAAE,MAAM,CACfa,UAAU,CAAE,SAAS,CACrBE,YAAY,CAAE,KAAK,CACnBuB,UAAU,CAAE,UAChB,CAAE,CAAArC,QAAA,cAEFpK,KAAA,QAAKkK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,eAAe,CAC/BC,UAAU,CAAE,OAChB,CAAE,CAAAJ,QAAA,eACEpK,KAAA,QAAAoK,QAAA,eACIpK,KAAA,QAAKkK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBE,GAAG,CAAE,MAAM,CACXL,YAAY,CAAE,KAClB,CAAE,CAAAD,QAAA,eACEpK,KAAA,SAAMkK,KAAK,CAAE,CACTW,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,EACG,GAAI,CAAAjI,IAAI,CAACiE,WAAW,CAAClE,KAAK,CAAC,CAACiL,kBAAkB,CAAC,OAAO,CAAC,CACvD/G,WAAW,CAAC9D,IAAI,eACbtC,KAAA,SAAMkK,KAAK,CAAE,CAAEgG,UAAU,CAAE,MAAM,CAAErF,QAAQ,CAAE,MAAM,CAAED,KAAK,CAAE,SAAU,CAAE,CAAAR,QAAA,EACnEhE,WAAW,CAAC9D,IAAI,CAAC,MACtB,EAAM,CACT,EACC,CAAC,cACPxC,IAAA,SAAMoK,KAAK,CAAE,CACTC,OAAO,CAAE,SAAS,CAClBa,UAAU,CAAE5E,WAAW,CAAC3D,iBAAiB,GAAK,YAAY,CAAG,SAAS,CAClE2D,WAAW,CAAC3D,iBAAiB,GAAK,YAAY,CAAG,SAAS,CAAG,SAAS,CAC1EmI,KAAK,CAAExE,WAAW,CAAC3D,iBAAiB,GAAK,YAAY,CAAG,SAAS,CAC7D2D,WAAW,CAAC3D,iBAAiB,GAAK,YAAY,CAAG,SAAS,CAAG,SAAS,CAC1EyI,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAChB,CAAE,CAAAV,QAAA,CACGhE,WAAW,CAAC3D,iBAAiB,CAAC0N,WAAW,CAAC,CAAC,CAC1C,CAAC,EACN,CAAC,cAENnQ,KAAA,QAAKkK,KAAK,CAAE,CACRW,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,eACEpK,KAAA,QAAAoK,QAAA,EAAK,eAAG,CAAChE,WAAW,CAAC5B,YAAY,EAAM,CAAC,CACvC4B,WAAW,CAAC1D,WAAW,eACpB1C,KAAA,QAAAoK,QAAA,EAAK,eAAG,CAAChE,WAAW,CAAC1D,WAAW,CAACwK,cAAc,CAAC,CAAC,CAAC,KAAG,EAAK,CAC7D,CACA9G,WAAW,CAACxB,kBAAkB,CAAG,CAAC,eAC/B5E,KAAA,QAAAoK,QAAA,EAAK,gBAAI,CAAChE,WAAW,CAACxB,kBAAkB,CAACsI,cAAc,CAAC,CAAC,EAAM,CAClE,EACA,CAAC,EACL,CAAC,cAENpN,IAAA,SAAMoK,KAAK,CAAE,CACTW,QAAQ,CAAE,MAAM,CAChBgC,SAAS,CAAEmD,QAAQ,CAAG,gBAAgB,CAAG,WAAW,CACpDvD,UAAU,CAAE,gBAChB,CAAE,CAAArC,QAAA,CAAC,QAEH,CAAM,CAAC,EACN,CAAC,CACL,CAAC,CAEL4F,QAAQ,eACLhQ,KAAA,QAAKkK,KAAK,CAAE,CACRkD,SAAS,CAAE,MAAM,CACjBjD,OAAO,CAAE,MAAM,CACfa,UAAU,CAAE,OAAO,CACnBE,YAAY,CAAE,KAAK,CACnBD,MAAM,CAAE,mBACZ,CAAE,CAAAb,QAAA,EAEG,CAAC,IAAM,CACJ,KAAM,CAAAgG,QAAQ,CAAG,CACb,CAAE9B,GAAG,CAAE,cAAc,CAAEJ,KAAK,CAAE,sBAAuB,CAAC,CACtD,CAAEI,GAAG,CAAE,YAAY,CAAEJ,KAAK,CAAE,mBAAoB,CAAC,CACjD,CAAEI,GAAG,CAAE,cAAc,CAAEJ,KAAK,CAAE,qBAAsB,CAAC,CACrD,CAAEI,GAAG,CAAE,mBAAmB,CAAEJ,KAAK,CAAE,yBAA0B,CAAC,CAC9D,CAAEI,GAAG,CAAE,gBAAgB,CAAEJ,KAAK,CAAE,uBAAwB,CAAC,CACzD,CAAEI,GAAG,CAAE,oBAAoB,CAAEJ,KAAK,CAAE,2BAA4B,CAAC,CACjE,CAAEI,GAAG,CAAE,oBAAoB,CAAEJ,KAAK,CAAE,2BAA4B,CAAC,CACjE,CAAEI,GAAG,CAAE,mBAAmB,CAAEJ,KAAK,CAAE,0BAA2B,CAAC,CAC/D,CAAEI,GAAG,CAAE,iBAAiB,CAAEJ,KAAK,CAAE,wBAAyB,CAAC,CAC3D,CAAEI,GAAG,CAAE,eAAe,CAAEJ,KAAK,CAAE,sBAAuB,CAAC,CACvD,CAAEI,GAAG,CAAE,eAAe,CAAEJ,KAAK,CAAE,sBAAuB,CAAC,CAC1D,CAACnJ,MAAM,CAACsL,CAAC,EAAIjK,WAAW,CAACiK,CAAC,CAAC/B,GAAG,CAAC,CAAC,CAEjC,GAAI8B,QAAQ,CAAC1J,MAAM,CAAG,CAAC,CAAE,CACrB,mBACI1G,KAAA,QAAKkK,KAAK,CAAE,CAAEG,YAAY,CAAE,MAAO,CAAE,CAAAD,QAAA,eACjCtK,IAAA,OAAIoK,KAAK,CAAE,CACPS,MAAM,CAAE,YAAY,CACpBE,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,sBAEH,CAAI,CAAC,cACLtK,IAAA,QAAKoK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfG,QAAQ,CAAE,MAAM,CAChBC,GAAG,CAAE,KACT,CAAE,CAAAN,QAAA,CACGgG,QAAQ,CAAClK,GAAG,CAACoK,OAAO,eACjBxQ,IAAA,SAAwBoK,KAAK,CAAE,CAC3BC,OAAO,CAAE,SAAS,CAClBa,UAAU,CAAE,SAAS,CACrBJ,KAAK,CAAE,SAAS,CAChBM,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CAAAT,QAAA,CACGkG,OAAO,CAACpC,KAAK,EAPPoC,OAAO,CAAChC,GAQb,CACT,CAAC,CACD,CAAC,EACL,CAAC,CAEd,CACA,MAAO,KAAI,CACf,CAAC,EAAE,CAAC,CAGH,CAAC,IAAM,CACJ,KAAM,CAAAiC,YAAY,CAAG,CACjB,CAAEjC,GAAG,CAAE,MAAM,CAAEJ,KAAK,CAAE,SAAS,CAAEN,KAAK,CAAExH,WAAW,CAACxD,IAAI,CAAE4N,GAAG,CAAEpK,WAAW,CAACvD,iBAAkB,CAAC,CAC9F,CAAEyL,GAAG,CAAE,oBAAoB,CAAEJ,KAAK,CAAE,YAAY,CAAEN,KAAK,CAAExH,WAAW,CAACtD,kBAAkB,CAAE0N,GAAG,CAAEpK,WAAW,CAACrD,oBAAqB,CAAC,CAChI,CAAEuL,GAAG,CAAE,eAAe,CAAEJ,KAAK,CAAE,mBAAmB,CAAEN,KAAK,CAAExH,WAAW,CAACpD,aAAa,CAAEwN,GAAG,CAAEpK,WAAW,CAACnD,kBAAmB,CAAC,CAC3H,CAAEqL,GAAG,CAAE,UAAU,CAAEJ,KAAK,CAAE,aAAa,CAAEN,KAAK,CAAExH,WAAW,CAAClD,QAAQ,CAAEsN,GAAG,CAAEpK,WAAW,CAACjD,qBAAsB,CAAC,CAC9G,CAAEmL,GAAG,CAAE,YAAY,CAAEJ,KAAK,CAAE,eAAe,CAAEN,KAAK,CAAExH,WAAW,CAAChD,UAAU,CAAEoN,GAAG,CAAEpK,WAAW,CAAC/C,uBAAwB,CAAC,CACtH,CAAEiL,GAAG,CAAE,YAAY,CAAEJ,KAAK,CAAE,gBAAgB,CAAEN,KAAK,CAAExH,WAAW,CAAC9C,UAAU,CAAEkN,GAAG,CAAEpK,WAAW,CAAC7C,kBAAmB,CAAC,CAClH,CAAE+K,GAAG,CAAE,iBAAiB,CAAEJ,KAAK,CAAE,qBAAqB,CAAEN,KAAK,CAAExH,WAAW,CAAC5C,eAAe,CAAEgN,GAAG,CAAEpK,WAAW,CAAC3C,mBAAoB,CAAC,CACrI,CAACsB,MAAM,CAAC6B,CAAC,EAAIA,CAAC,CAACgH,KAAK,EAAIhH,CAAC,CAACgH,KAAK,GAAK,WAAW,CAAC,CAEjD,GAAI2C,YAAY,CAAC7J,MAAM,CAAG,CAAC,CAAE,CACzB,mBACI1G,KAAA,QAAKkK,KAAK,CAAE,CAAEG,YAAY,CAAE,MAAO,CAAE,CAAAD,QAAA,eACjCtK,IAAA,OAAIoK,KAAK,CAAE,CACPS,MAAM,CAAE,YAAY,CACpBE,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,6BAEH,CAAI,CAAC,cACLtK,IAAA,QAAKoK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfiC,mBAAmB,CAAEhM,QAAQ,CAAG,KAAK,CAAG,sCAAsC,CAC9EmK,GAAG,CAAE,KACT,CAAE,CAAAN,QAAA,CACGmG,YAAY,CAACrK,GAAG,CAACuK,IAAI,eAClBzQ,KAAA,QAAoBkK,KAAK,CAAE,CACvBC,OAAO,CAAE,UAAU,CACnBa,UAAU,CAAEyF,IAAI,CAAC7C,KAAK,GAAK,OAAO,CAAG,SAAS,CAC1C6C,IAAI,CAAC7C,KAAK,GAAK,mBAAmB,CAAG,SAAS,CAAG,SAAS,CAC9D1C,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CAAAT,QAAA,eACEpK,KAAA,SAAMkK,KAAK,CAAE,CAAEY,UAAU,CAAE,KAAM,CAAE,CAAAV,QAAA,EAAEqG,IAAI,CAACvC,KAAK,CAAC,GAAC,EAAM,CAAC,cACxDpO,IAAA,SAAMoK,KAAK,CAAE,CAAEgG,UAAU,CAAE,KAAM,CAAE,CAAA9F,QAAA,CAC9BqG,IAAI,CAAC7C,KAAK,GAAK,OAAO,CAAG,GAAG,CACzB6C,IAAI,CAAC7C,KAAK,GAAK,mBAAmB,CAAG,IAAI,CAAG,GAAG,CACjD,CAAC,CACN6C,IAAI,CAACD,GAAG,eACL1Q,IAAA,QAAKoK,KAAK,CAAE,CACRW,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SAAS,CAChBwC,SAAS,CAAE,KACf,CAAE,CAAAhD,QAAA,CACGqG,IAAI,CAACD,GAAG,CACR,CACR,GApBKC,IAAI,CAACnC,GAqBV,CACR,CAAC,CACD,CAAC,EACL,CAAC,CAEd,CACA,MAAO,KAAI,CACf,CAAC,EAAE,CAAC,CAGHlI,WAAW,CAAC/B,sBAAsB,eAC/BrE,KAAA,QAAKkK,KAAK,CAAE,CAAEG,YAAY,CAAE,MAAO,CAAE,CAAAD,QAAA,eACjCtK,IAAA,OAAIoK,KAAK,CAAE,CACPS,MAAM,CAAE,YAAY,CACpBE,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,CAAC,gBAEH,CAAI,CAAC,cACLtK,IAAA,MAAGoK,KAAK,CAAE,CACNS,MAAM,CAAE,CAAC,CACTE,QAAQ,CAAE,MAAM,CAChBD,KAAK,CAAE,SAAS,CAChBmC,UAAU,CAAE,KAChB,CAAE,CAAA3C,QAAA,CACGhE,WAAW,CAAC/B,sBAAsB,CACpC,CAAC,EACH,CACR,CAGA+B,WAAW,CAACvB,KAAK,EAAIuB,WAAW,CAACvB,KAAK,CAAC6B,MAAM,CAAG,CAAC,eAC9C1G,KAAA,QAAAoK,QAAA,eACIpK,KAAA,OAAIkK,KAAK,CAAE,CACPS,MAAM,CAAE,YAAY,CACpBE,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,SACX,CAAE,CAAAR,QAAA,EAAC,sBACW,CAAChE,WAAW,CAACvB,KAAK,CAAC6B,MAAM,CAAC,GACxC,EAAI,CAAC,cACL5G,IAAA,QAAKoK,KAAK,CAAE,CACRI,OAAO,CAAE,MAAM,CACfiC,mBAAmB,CAAE,uCAAuC,CAC5D7B,GAAG,CAAE,KACT,CAAE,CAAAN,QAAA,CACGhE,WAAW,CAACvB,KAAK,CAACqB,GAAG,CAAC,CAAC0I,IAAI,CAAEnG,KAAK,gBAC/B3I,IAAA,MAEI4Q,IAAI,CAAE9B,IAAI,CAAC7G,GAAI,CACf+F,MAAM,CAAC,QAAQ,CACf6C,GAAG,CAAC,qBAAqB,CAAAvG,QAAA,cAEzBtK,IAAA,QACIgP,GAAG,CAAEF,IAAI,CAAC7G,GAAI,CACdgH,GAAG,CAAE,QAAQtG,KAAK,CAAG,CAAC,EAAG,CACzByB,KAAK,CAAE,CACH6D,KAAK,CAAE,MAAM,CACbU,MAAM,CAAE,MAAM,CACdO,SAAS,CAAE,OAAO,CAClB9D,YAAY,CAAE,KAAK,CACnBD,MAAM,CAAE,mBACZ,CAAE,CACL,CAAC,EAfGxC,KAgBN,CACN,CAAC,CACD,CAAC,EACL,CACR,CAGA,CAACrC,WAAW,CAAC7B,yBAAyB,EAAI6B,WAAW,CAAC9B,sBAAsB,gBACzEtE,KAAA,QAAKkK,KAAK,CAAE,CACRkD,SAAS,CAAE,MAAM,CACjBjD,OAAO,CAAE,MAAM,CACfa,UAAU,CAAE,SAAS,CACrBE,YAAY,CAAE,KAAK,CACnBL,QAAQ,CAAE,MACd,CAAE,CAAAT,QAAA,eACEtK,IAAA,WAAAsK,QAAA,CAAQ,wCAAyB,CAAQ,CAAC,CACzChE,WAAW,CAAC7B,yBAAyB,eAClCzE,IAAA,SAAMoK,KAAK,CAAE,CAAEgG,UAAU,CAAE,MAAO,CAAE,CAAA9F,QAAA,CAC/B,GAAI,CAAAjI,IAAI,CAACiE,WAAW,CAAC7B,yBAAyB,CAAC,CAAC4I,kBAAkB,CAAC,OAAO,CAAC,CAC1E,CACT,CACA/G,WAAW,CAAC9B,sBAAsB,eAC/BtE,KAAA,SAAMkK,KAAK,CAAE,CAAEgG,UAAU,CAAE,MAAO,CAAE,CAAA9F,QAAA,EAAC,IAC/B,CAAChE,WAAW,CAAC9B,sBAAsB,CAAC4I,cAAc,CAAC,CAAC,CAAC,KAC3D,EAAM,CACT,EACA,CACR,EACA,CACR,EACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAA/M,wBAAwB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}