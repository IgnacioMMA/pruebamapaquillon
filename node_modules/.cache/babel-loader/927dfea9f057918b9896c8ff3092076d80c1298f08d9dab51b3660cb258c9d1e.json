{"ast":null,"code":"// src/components/ZonesManagement.js\nimport React,{useState,useEffect,useRef}from'react';import{database}from'../config/firebase';import{ref,push,set,update,remove,onValue}from'firebase/database';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const ZonesManagement=_ref=>{let{currentUser,onLogout,onViewChange,currentView='zones'}=_ref;const mapRef=useRef(null);const[map,setMap]=useState(null);const[zonas,setZonas]=useState([]);const[trabajadores,setTrabajadores]=useState([]);const[selectedZona,setSelectedZona]=useState(null);const[showCreateModal,setShowCreateModal]=useState(false);const[mapLoaded,setMapLoaded]=useState(false);const[isMobile,setIsMobile]=useState(false);const[showListPanel,setShowListPanel]=useState(false);const[filterStatus,setFilterStatus]=useState('all');const[showCompletedZones,setShowCompletedZones]=useState(false);const[tempMarkerPosition,setTempMarkerPosition]=useState(null);// Form states\nconst[newZona,setNewZona]=useState({nombre:'',descripcion:'',direccion:'',lat:null,lng:null,trabajadorAsignado:'',prioridad:'normal',fechaLimite:'',estado:'pendiente'});const markersRef=useRef({});const tempMarkerRef=useRef(null);const API_KEY='AIzaSyA7DrdL36n5cx-RNzuXGAQggFeGCheHDbY';// Detectar si es m√≥vil\nuseEffect(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<=768);};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);// Cargar Google Maps\nuseEffect(()=>{const loadGoogleMaps=()=>{return new Promise(resolve=>{if(window.google&&window.google.maps){resolve(window.google.maps);return;}const existingScript=document.querySelector('script[src*=\"maps.googleapis.com\"]');if(existingScript){existingScript.addEventListener('load',()=>{resolve(window.google.maps);});return;}const script=document.createElement('script');script.src=`https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=places,geometry&v=weekly`;script.async=true;script.defer=true;script.onload=()=>resolve(window.google.maps);document.head.appendChild(script);});};const initMap=async()=>{const maps=await loadGoogleMaps();if(!mapRef.current)return;const mapInstance=new maps.Map(mapRef.current,{center:{lat:-36.7333,lng:-72.4667},zoom:13,mapTypeId:'roadmap',zoomControl:!isMobile,mapTypeControl:false,streetViewControl:false,fullscreenControl:true,gestureHandling:isMobile?'greedy':'auto'});// Bot√≥n de crear zona en el mapa\nconst createButton=document.createElement('button');createButton.innerHTML=`\n        <div style=\"\n          background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);\n          color: white;\n          padding: 12px 20px;\n          border-radius: 25px;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);\n          font-weight: 600;\n          font-size: 14px;\n        \">\n          <span style=\"font-size: 18px;\">‚ûï</span>\n          <span>Nueva Zona</span>\n        </div>\n      `;createButton.style.cssText='border: none; background: none; cursor: pointer; margin: 10px;';createButton.title='Crear nueva zona';mapInstance.controls[maps.ControlPosition.TOP_CENTER].push(createButton);createButton.addEventListener('click',()=>{// Activar modo de selecci√≥n\nmapInstance.setOptions({draggableCursor:'crosshair'});// Mostrar instrucciones\nshowInstructions();});// Bot√≥n de mi ubicaci√≥n\nconst locationButton=document.createElement('button');locationButton.innerHTML=`\n        <div style=\"\n          background: white;\n          border-radius: 50%;\n          width: 40px;\n          height: 40px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          box-shadow: 0 2px 6px rgba(0,0,0,0.3);\n        \">\n          <span style=\"font-size: 20px;\">üìç</span>\n        </div>\n      `;locationButton.style.cssText='border: none; background: none; padding: 5px; margin: 10px; cursor: pointer;';locationButton.title='Mi ubicaci√≥n';mapInstance.controls[maps.ControlPosition.RIGHT_BOTTOM].push(locationButton);locationButton.addEventListener('click',()=>{if(navigator.geolocation){navigator.geolocation.getCurrentPosition(position=>{const pos={lat:position.coords.latitude,lng:position.coords.longitude};mapInstance.setCenter(pos);mapInstance.setZoom(15);});}});// Listener para clicks en el mapa (solo cuando se muestre instrucciones)\nmapInstance.addListener('click',event=>{if(document.getElementById('map-instructions')){handleMapClick(event.latLng.lat(),event.latLng.lng());}});setMap(mapInstance);setMapLoaded(true);};initMap();},[]);// Mostrar instrucciones\nconst showInstructions=()=>{if(!map)return;// Remover instrucciones anteriores si existen\nconst existingInstructions=document.getElementById('map-instructions');if(existingInstructions){existingInstructions.remove();}const instructionsDiv=document.createElement('div');instructionsDiv.id='map-instructions';instructionsDiv.style.cssText=`\n      position: absolute;\n      top: 70px;\n      left: 50%;\n      transform: translateX(-50%);\n      background: white;\n      padding: 15px 25px;\n      border-radius: 12px;\n      box-shadow: 0 4px 20px rgba(0,0,0,0.15);\n      z-index: 1000;\n      display: flex;\n      align-items: center;\n      gap: 15px;\n      max-width: 90%;\n    `;instructionsDiv.innerHTML=`\n      <span style=\"font-size: 16px; font-weight: 500; color: #374151;\">\n        üìç Haz clic en el mapa para seleccionar la ubicaci√≥n\n      </span>\n      <button style=\"\n        background: #ef4444;\n        color: white;\n        border: none;\n        padding: 6px 12px;\n        border-radius: 6px;\n        cursor: pointer;\n        font-size: 13px;\n      \" onclick=\"this.parentElement.remove(); document.body.style.cursor = 'default';\">\n        ‚úñ Cancelar\n      </button>\n    `;map.getDiv().appendChild(instructionsDiv);};// Manejar click en el mapa\nconst handleMapClick=(lat,lng)=>{if(!map)return;// Restaurar cursor\nmap.setOptions({draggableCursor:null});// Remover instrucciones\nconst instructions=document.getElementById('map-instructions');if(instructions){instructions.remove();}// Limpiar marcador temporal anterior\nif(tempMarkerRef.current){tempMarkerRef.current.setMap(null);}// Crear marcador temporal\ntempMarkerRef.current=new window.google.maps.Marker({position:{lat,lng},map:map,title:'Nueva zona',icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:'#ef4444',fillOpacity:0.8,strokeColor:'#ffffff',strokeWeight:3},draggable:true,animation:window.google.maps.Animation.DROP});// Actualizar posici√≥n cuando se arrastra\ntempMarkerRef.current.addListener('dragend',event=>{const newLat=event.latLng.lat();const newLng=event.latLng.lng();updateLocationInfo(newLat,newLng);});// Obtener direcci√≥n y actualizar form\nupdateLocationInfo(lat,lng);// Centrar mapa\nmap.panTo({lat,lng});map.setZoom(16);// Mostrar modal\nsetShowCreateModal(true);};// Actualizar informaci√≥n de ubicaci√≥n\nconst updateLocationInfo=(lat,lng)=>{setTempMarkerPosition({lat,lng});setNewZona(prev=>({...prev,lat,lng}));// Obtener direcci√≥n con Geocoding\nif(window.google){const geocoder=new window.google.maps.Geocoder();geocoder.geocode({location:{lat,lng}},(results,status)=>{if(status==='OK'&&results[0]){setNewZona(prev=>({...prev,direccion:results[0].formatted_address}));}else{setNewZona(prev=>({...prev,direccion:`${lat.toFixed(6)}, ${lng.toFixed(6)}`}));}});}};// Cargar zonas y trabajadores desde Firebase\nuseEffect(()=>{const zonasRef=ref(database,'zonas_asignadas');const unsubZonas=onValue(zonasRef,snapshot=>{const data=snapshot.val();if(data){const zonasArray=Object.entries(data).map(_ref2=>{let[id,zona]=_ref2;return{id,...zona};});setZonas(zonasArray);}else{setZonas([]);}});const trabajadoresRef=ref(database,'trabajadores');const unsubTrabajadores=onValue(trabajadoresRef,snapshot=>{const data=snapshot.val();if(data){const trabajadoresArray=Object.entries(data).map(_ref3=>{let[id,trabajador]=_ref3;return{id,...trabajador};});setTrabajadores(trabajadoresArray);}else{setTrabajadores([]);}});return()=>{unsubZonas();unsubTrabajadores();};},[]);// Actualizar marcadores en el mapa\nuseEffect(()=>{if(!map||!window.google)return;// Limpiar marcadores anteriores (excepto el temporal)\nObject.values(markersRef.current).forEach(marker=>{marker.setMap(null);});markersRef.current={};// Filtrar zonas seg√∫n el estado seleccionado\nconst zonasToShow=zonas.filter(zona=>{if(filterStatus==='all'){return!zona.estado||zona.estado!=='completado'||showCompletedZones;}if(filterStatus==='completado'){return zona.estado==='completado';}return zona.estado===filterStatus;});// Crear marcadores para cada zona\nzonasToShow.forEach(zona=>{const isCompleted=zona.estado==='completado';const opacity=isCompleted&&!showCompletedZones?0.5:1;const marker=new window.google.maps.Marker({position:{lat:zona.lat,lng:zona.lng},map:map,title:zona.nombre,opacity:opacity,icon:{path:'M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z',fillColor:zona.estado==='completado'?'#22c55e':zona.estado==='en_progreso'?'#3b82f6':zona.prioridad==='urgente'?'#ef4444':zona.prioridad==='alta'?'#f97316':'#f59e0b',fillOpacity:opacity,strokeColor:'#ffffff',strokeWeight:2,scale:2,anchor:new window.google.maps.Point(12,24)}});const infoWindow=new window.google.maps.InfoWindow({content:`\n          <div style=\"padding: 10px; min-width: 200px;\">\n            <h3 style=\"margin: 0 0 10px 0;\">${zona.nombre}</h3>\n            <p style=\"margin: 5px 0;\"><strong>Direcci√≥n:</strong> ${zona.direccion}</p>\n            <p style=\"margin: 5px 0;\"><strong>Estado:</strong> ${zona.estado||'pendiente'}</p>\n            <p style=\"margin: 5px 0;\"><strong>Prioridad:</strong> ${zona.prioridad||'normal'}</p>\n          </div>\n        `});marker.addListener('click',()=>{infoWindow.open(map,marker);setSelectedZona(zona);});markersRef.current[zona.id]=marker;});},[map,zonas,trabajadores,filterStatus,showCompletedZones]);// Guardar nueva zona\nconst saveZona=async()=>{if(!newZona.nombre||!newZona.lat||!newZona.lng){alert('Por favor completa el nombre y selecciona una ubicaci√≥n');return;}try{const zonaData={...newZona,createdBy:currentUser.uid,createdAt:new Date().toISOString(),ultimaActualizacion:new Date().toISOString()};const zonasRef=ref(database,'zonas_asignadas');const newZonaRef=push(zonasRef);await set(newZonaRef,zonaData);// Si hay un trabajador asignado, notificarle\nif(newZona.trabajadorAsignado){const notificacionData={tipo:'nueva_zona',mensaje:`Se te ha asignado una nueva zona: ${newZona.nombre}`,zonaId:newZonaRef.key,trabajadorId:newZona.trabajadorAsignado,timestamp:new Date().toISOString(),leido:false};const notifRef=ref(database,'notificaciones');await push(notifRef,notificacionData);}// Limpiar formulario y cerrar modal\nsetNewZona({nombre:'',descripcion:'',direccion:'',lat:null,lng:null,trabajadorAsignado:'',prioridad:'normal',fechaLimite:'',estado:'pendiente'});// Limpiar marcador temporal\nif(tempMarkerRef.current){tempMarkerRef.current.setMap(null);tempMarkerRef.current=null;}setShowCreateModal(false);alert('‚úÖ Zona creada exitosamente');}catch(error){console.error('Error al crear zona:',error);alert('‚ùå Error al crear la zona');}};// Eliminar zona\nconst deleteZona=async zonaId=>{if(window.confirm('¬øEst√°s seguro de eliminar esta zona?')){try{await remove(ref(database,`zonas_asignadas/${zonaId}`));alert('‚úÖ Zona eliminada');}catch(error){console.error('Error al eliminar zona:',error);alert('‚ùå Error al eliminar la zona');}}};// Actualizar estado de zona\nconst updateZonaStatus=async(zonaId,newStatus)=>{try{await update(ref(database,`zonas_asignadas/${zonaId}`),{estado:newStatus,ultimaActualizacion:new Date().toISOString()});}catch(error){console.error('Error al actualizar estado:',error);}};// Filtrar zonas para la lista\nconst getFilteredZonas=()=>{return zonas.filter(zona=>{if(filterStatus==='all'){return!showCompletedZones?zona.estado!=='completado':true;}return zona.estado===filterStatus;});};const filteredZonas=getFilteredZonas();const styles={container:{width:'100%',height:'100vh',position:'relative',display:'flex',flexDirection:'column'},header:{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',padding:isMobile?'10px':'12px 20px',boxShadow:'0 2px 10px rgba(0,0,0,0.2)',zIndex:1003},headerContent:{display:'flex',justifyContent:'space-between',alignItems:'center',gap:'10px',flexWrap:isMobile?'wrap':'nowrap'},title:{margin:0,fontSize:isMobile?'16px':'20px',fontWeight:'600',display:'flex',alignItems:'center',gap:'8px'},navigationButtons:{display:'flex',gap:'8px',alignItems:'center',flexWrap:'wrap'},navButton:{padding:isMobile?'6px 10px':'6px 12px',background:'rgba(255,255,255,0.1)',color:'white',border:'1px solid rgba(255,255,255,0.3)',borderRadius:'5px',cursor:'pointer',fontSize:isMobile?'11px':'13px',fontWeight:'400',whiteSpace:'nowrap'},logoutButton:{padding:isMobile?'6px 10px':'6px 14px',background:'#ef4444',color:'white',border:'none',borderRadius:'5px',cursor:'pointer',fontSize:isMobile?'12px':'13px',fontWeight:'600'},map:{flex:1,position:'relative'},floatingListButton:{position:'absolute',bottom:isMobile?'70px':'20px',left:'10px',background:'white',border:'none',borderRadius:'12px',padding:'12px 20px',boxShadow:'0 4px 12px rgba(0,0,0,0.15)',cursor:'pointer',zIndex:1000,display:'flex',alignItems:'center',gap:'8px',fontWeight:'600',fontSize:'14px'},filterBar:{position:'absolute',top:'10px',left:'10px',background:'white',borderRadius:'8px',padding:'8px',boxShadow:'0 2px 8px rgba(0,0,0,0.15)',zIndex:1000,display:'flex',gap:'6px',flexWrap:'wrap',maxWidth:isMobile?'calc(100% - 20px)':'400px'},filterButton:{padding:'6px 12px',background:'white',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'12px',cursor:'pointer',transition:'all 0.3s'},filterButtonActive:{background:'#667eea',color:'white',borderColor:'#667eea'},modal:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.5)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:2000,padding:'20px'},modalContent:{background:'white',borderRadius:'16px',maxWidth:isMobile?'100%':'500px',width:'100%',maxHeight:'80vh',overflow:'auto',boxShadow:'0 20px 60px rgba(0,0,0,0.3)'},modalHeader:{padding:'20px',borderBottom:'1px solid #e5e7eb',display:'flex',justifyContent:'space-between',alignItems:'center',background:'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',borderRadius:'16px 16px 0 0',color:'white'},modalBody:{padding:'20px'},formGroup:{marginBottom:'16px'},label:{display:'block',marginBottom:'6px',fontSize:'14px',fontWeight:'500',color:'#374151'},input:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'},textarea:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px',minHeight:'80px',resize:'vertical'},select:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px',background:'white'},gridTwoColumns:{display:'grid',gridTemplateColumns:isMobile?'1fr':'1fr 1fr',gap:'16px'},modalFooter:{padding:'20px',borderTop:'1px solid #e5e7eb',display:'flex',gap:'10px',justifyContent:'flex-end'},saveButton:{padding:'10px 20px',background:'#22c55e',color:'white',border:'none',borderRadius:'6px',fontSize:'14px',fontWeight:'600',cursor:'pointer'},cancelButton:{padding:'10px 20px',background:'#6b7280',color:'white',border:'none',borderRadius:'6px',fontSize:'14px',fontWeight:'600',cursor:'pointer'},listPanel:{position:'fixed',top:0,left:showListPanel?0:'-100%',width:isMobile?'100%':'400px',height:'100%',background:'white',boxShadow:'2px 0 20px rgba(0,0,0,0.1)',transition:'left 0.3s',zIndex:1999,display:'flex',flexDirection:'column'},listHeader:{padding:'20px',background:'#f9fafb',borderBottom:'1px solid #e5e7eb',display:'flex',justifyContent:'space-between',alignItems:'center'},listContent:{flex:1,overflowY:'auto',padding:'20px'},zonaCard:{padding:'12px',border:'1px solid #e5e7eb',borderRadius:'8px',marginBottom:'12px',cursor:'pointer',transition:'all 0.2s'},mobileBottomNav:{position:'fixed',bottom:0,left:0,right:0,background:'white',borderTop:'1px solid #e5e7eb',display:'flex',padding:'8px',gap:'8px',zIndex:1000},mobileNavButton:{flex:1,padding:'8px',background:'#f3f4f6',border:'none',borderRadius:'6px',fontSize:'11px',cursor:'pointer',display:'flex',flexDirection:'column',alignItems:'center',gap:'2px'}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.header,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.headerContent,children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.title,children:\"\\uD83D\\uDDFA\\uFE0F Gesti\\xF3n de Zonas\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.navigationButtons,children:[!isMobile&&onViewChange&&/*#__PURE__*/_jsxs(_Fragment,{children:[(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='superadmin'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewChange('admin'),style:styles.navButton,children:\"\\uD83D\\uDD10 Panel Admin\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewChange('dashboard'),style:styles.navButton,children:\"\\uD83D\\uDCCA Dashboard GPS\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewChange('fleet'),style:styles.navButton,children:\"\\uD83D\\uDE9B Panel Flota\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onLogout,style:styles.logoutButton,children:isMobile?'üö™':'üö™ Salir'})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.map,children:[/*#__PURE__*/_jsx(\"div\",{ref:mapRef,style:{width:'100%',height:'100%'}}),/*#__PURE__*/_jsxs(\"div\",{style:styles.filterBar,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilterStatus('all'),style:{...styles.filterButton,...(filterStatus==='all'?styles.filterButtonActive:{})},children:\"Todas\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilterStatus('pendiente'),style:{...styles.filterButton,...(filterStatus==='pendiente'?styles.filterButtonActive:{})},children:\"\\u23F3 Pendientes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilterStatus('en_progreso'),style:{...styles.filterButton,...(filterStatus==='en_progreso'?styles.filterButtonActive:{})},children:\"\\uD83D\\uDD27 En Progreso\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilterStatus('completado'),style:{...styles.filterButton,...(filterStatus==='completado'?styles.filterButtonActive:{})},children:\"\\u2705 Completadas\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowListPanel(true),style:styles.floatingListButton,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'16px'},children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Ver Lista (\",filteredZonas.length,\")\"]})]}),!mapLoaded&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'50px',height:'50px',border:'4px solid #f3f3f3',borderTop:'4px solid #667eea',borderRadius:'50%',animation:'spin 1s linear infinite'}}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'10px',color:'#666'},children:\"Cargando mapa...\"})]})]}),showCreateModal&&/*#__PURE__*/_jsx(\"div\",{style:styles.modal,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.modalContent,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.modalHeader,children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:'18px'},children:\"\\uD83D\\uDCCD Nueva Zona de Trabajo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowCreateModal(false);if(tempMarkerRef.current){tempMarkerRef.current.setMap(null);tempMarkerRef.current=null;}setNewZona({nombre:'',descripcion:'',direccion:'',lat:null,lng:null,trabajadorAsignado:'',prioridad:'normal',fechaLimite:'',estado:'pendiente'});},style:{background:'none',border:'none',color:'white',fontSize:'24px',cursor:'pointer'},children:\"\\u2716\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.modalBody,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Nombre de la zona *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newZona.nombre,onChange:e=>setNewZona({...newZona,nombre:e.target.value}),style:styles.input,placeholder:\"Ej: Reparaci\\xF3n Calle Principal\",autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newZona.descripcion,onChange:e=>setNewZona({...newZona,descripcion:e.target.value}),style:styles.textarea,placeholder:\"Detalles del trabajo a realizar...\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Direcci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newZona.direccion,onChange:e=>setNewZona({...newZona,direccion:e.target.value}),style:styles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Asignar a trabajador\"}),/*#__PURE__*/_jsxs(\"select\",{value:newZona.trabajadorAsignado,onChange:e=>setNewZona({...newZona,trabajadorAsignado:e.target.value}),style:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Sin asignar --\"}),trabajadores.map(trabajador=>/*#__PURE__*/_jsx(\"option\",{value:trabajador.id,children:trabajador.nombre||trabajador.email},trabajador.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.gridTwoColumns,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Prioridad\"}),/*#__PURE__*/_jsxs(\"select\",{value:newZona.prioridad,onChange:e=>setNewZona({...newZona,prioridad:e.target.value}),style:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"baja\",children:\"\\uD83D\\uDFE2 Baja\"}),/*#__PURE__*/_jsx(\"option\",{value:\"normal\",children:\"\\uD83D\\uDFE1 Normal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"alta\",children:\"\\uD83D\\uDFE0 Alta\"}),/*#__PURE__*/_jsx(\"option\",{value:\"urgente\",children:\"\\uD83D\\uDD34 Urgente\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Fecha l\\xEDmite\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:newZona.fechaLimite,onChange:e=>setNewZona({...newZona,fechaLimite:e.target.value}),style:styles.input})]})]}),tempMarkerPosition&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',background:'#f0f9ff',borderRadius:'6px',fontSize:'13px',color:'#0369a1',marginTop:'10px'},children:[\"\\uD83D\\uDCCD \",/*#__PURE__*/_jsx(\"strong\",{children:\"Ubicaci\\xF3n:\"}),\" \",tempMarkerPosition.lat.toFixed(6),\", \",tempMarkerPosition.lng.toFixed(6),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:\"Puedes arrastrar el marcador en el mapa para ajustar la posici\\xF3n\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.modalFooter,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowCreateModal(false);if(tempMarkerRef.current){tempMarkerRef.current.setMap(null);tempMarkerRef.current=null;}setNewZona({nombre:'',descripcion:'',direccion:'',lat:null,lng:null,trabajadorAsignado:'',prioridad:'normal',fechaLimite:'',estado:'pendiente'});},style:styles.cancelButton,children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:saveZona,style:styles.saveButton,children:\"\\u2705 Guardar Zona\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.listPanel,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.listHeader,children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:0,fontSize:'18px'},children:[\"\\uD83D\\uDCCB Zonas (\",filteredZonas.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowListPanel(false),style:{background:'none',border:'none',fontSize:'24px',cursor:'pointer'},children:\"\\u2716\"})]}),/*#__PURE__*/_jsx(\"div\",{style:styles.listContent,children:filteredZonas.length===0?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'40px 20px',color:'#6b7280'},children:/*#__PURE__*/_jsxs(\"p\",{children:[\"No hay zonas \",filterStatus!=='all'?filterStatus.replace('_',' '):'']})}):filteredZonas.map(zona=>{const trabajador=trabajadores.find(t=>t.id===zona.trabajadorAsignado);return/*#__PURE__*/_jsxs(\"div\",{style:styles.zonaCard,onClick:()=>{if(map&&markersRef.current[zona.id]){map.panTo({lat:zona.lat,lng:zona.lng});map.setZoom(16);window.google.maps.event.trigger(markersRef.current[zona.id],'click');}setShowListPanel(false);},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 8px 0',fontSize:'14px',fontWeight:'600'},children:zona.nombre}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0 0 4px 0',fontSize:'12px',color:'#6b7280'},children:[\"\\uD83D\\uDCCD \",zona.direccion]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0 0 8px 0',fontSize:'12px',color:'#6b7280'},children:[\"\\uD83D\\uDC77 \",trabajador?trabajador.nombre:'Sin asignar']}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"select\",{value:zona.estado||'pendiente',onChange:e=>{e.stopPropagation();updateZonaStatus(zona.id,e.target.value);},onClick:e=>e.stopPropagation(),style:{padding:'4px 8px',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'11px',background:'white'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"pendiente\",children:\"\\u23F3 Pendiente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"en_progreso\",children:\"\\uD83D\\uDD27 En progreso\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completado\",children:\"\\u2705 Completado\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();deleteZona(zona.id);},style:{padding:'4px 8px',background:'#ef4444',color:'white',border:'none',borderRadius:'4px',fontSize:'11px',cursor:'pointer'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]},zona.id);})})]}),isMobile&&onViewChange&&/*#__PURE__*/_jsxs(\"div\",{style:styles.mobileBottomNav,children:[(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='superadmin'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onViewChange('admin'),style:styles.mobileNavButton,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'16px'},children:\"\\uD83D\\uDD10\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Admin\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onViewChange('dashboard'),style:styles.mobileNavButton,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'16px'},children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Dashboard\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onViewChange('zones'),style:{...styles.mobileNavButton,background:'#667eea',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'16px'},children:\"\\uD83D\\uDDFA\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Zonas\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onViewChange('fleet'),style:styles.mobileNavButton,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'16px'},children:\"\\uD83D\\uDE9B\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Flota\"})]})]}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `})]});};export default ZonesManagement;","map":{"version":3,"names":["React","useState","useEffect","useRef","database","ref","push","set","update","remove","onValue","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ZonesManagement","_ref","currentUser","onLogout","onViewChange","currentView","mapRef","map","setMap","zonas","setZonas","trabajadores","setTrabajadores","selectedZona","setSelectedZona","showCreateModal","setShowCreateModal","mapLoaded","setMapLoaded","isMobile","setIsMobile","showListPanel","setShowListPanel","filterStatus","setFilterStatus","showCompletedZones","setShowCompletedZones","tempMarkerPosition","setTempMarkerPosition","newZona","setNewZona","nombre","descripcion","direccion","lat","lng","trabajadorAsignado","prioridad","fechaLimite","estado","markersRef","tempMarkerRef","API_KEY","checkMobile","window","innerWidth","addEventListener","removeEventListener","loadGoogleMaps","Promise","resolve","google","maps","existingScript","document","querySelector","script","createElement","src","async","defer","onload","head","appendChild","initMap","current","mapInstance","Map","center","zoom","mapTypeId","zoomControl","mapTypeControl","streetViewControl","fullscreenControl","gestureHandling","createButton","innerHTML","style","cssText","title","controls","ControlPosition","TOP_CENTER","setOptions","draggableCursor","showInstructions","locationButton","RIGHT_BOTTOM","navigator","geolocation","getCurrentPosition","position","pos","coords","latitude","longitude","setCenter","setZoom","addListener","event","getElementById","handleMapClick","latLng","existingInstructions","instructionsDiv","id","getDiv","instructions","Marker","icon","path","SymbolPath","CIRCLE","scale","fillColor","fillOpacity","strokeColor","strokeWeight","draggable","animation","Animation","DROP","newLat","newLng","updateLocationInfo","panTo","prev","geocoder","Geocoder","geocode","location","results","status","formatted_address","toFixed","zonasRef","unsubZonas","snapshot","data","val","zonasArray","Object","entries","_ref2","zona","trabajadoresRef","unsubTrabajadores","trabajadoresArray","_ref3","trabajador","values","forEach","marker","zonasToShow","filter","isCompleted","opacity","anchor","Point","infoWindow","InfoWindow","content","open","saveZona","alert","zonaData","createdBy","uid","createdAt","Date","toISOString","ultimaActualizacion","newZonaRef","notificacionData","tipo","mensaje","zonaId","key","trabajadorId","timestamp","leido","notifRef","error","console","deleteZona","confirm","updateZonaStatus","newStatus","getFilteredZonas","filteredZonas","styles","container","width","height","display","flexDirection","header","background","color","padding","boxShadow","zIndex","headerContent","justifyContent","alignItems","gap","flexWrap","margin","fontSize","fontWeight","navigationButtons","navButton","border","borderRadius","cursor","whiteSpace","logoutButton","flex","floatingListButton","bottom","left","filterBar","top","maxWidth","filterButton","transition","filterButtonActive","borderColor","modal","right","modalContent","maxHeight","overflow","modalHeader","borderBottom","modalBody","formGroup","marginBottom","label","input","textarea","minHeight","resize","select","gridTwoColumns","gridTemplateColumns","modalFooter","borderTop","saveButton","cancelButton","listPanel","listHeader","listContent","overflowY","zonaCard","mobileBottomNav","mobileNavButton","children","role","onClick","length","transform","textAlign","marginTop","type","value","onChange","e","target","placeholder","autoFocus","email","replace","find","t","trigger","stopPropagation"],"sources":["C:/Users/Izan/Desktop/AppReact/mapa-quillon/src/components/ZonesManagement.js"],"sourcesContent":["// src/components/ZonesManagement.js\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { database } from '../config/firebase';\r\nimport { ref, push, set, update, remove, onValue } from 'firebase/database';\r\n\r\nconst ZonesManagement = ({ currentUser, onLogout, onViewChange, currentView = 'zones' }) => {\r\n  const mapRef = useRef(null);\r\n  const [map, setMap] = useState(null);\r\n  const [zonas, setZonas] = useState([]);\r\n  const [trabajadores, setTrabajadores] = useState([]);\r\n  const [selectedZona, setSelectedZona] = useState(null);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [mapLoaded, setMapLoaded] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [showListPanel, setShowListPanel] = useState(false);\r\n  const [filterStatus, setFilterStatus] = useState('all');\r\n  const [showCompletedZones, setShowCompletedZones] = useState(false);\r\n  const [tempMarkerPosition, setTempMarkerPosition] = useState(null);\r\n  \r\n  // Form states\r\n  const [newZona, setNewZona] = useState({\r\n    nombre: '',\r\n    descripcion: '',\r\n    direccion: '',\r\n    lat: null,\r\n    lng: null,\r\n    trabajadorAsignado: '',\r\n    prioridad: 'normal',\r\n    fechaLimite: '',\r\n    estado: 'pendiente'\r\n  });\r\n\r\n  const markersRef = useRef({});\r\n  const tempMarkerRef = useRef(null);\r\n  const API_KEY = 'AIzaSyA7DrdL36n5cx-RNzuXGAQggFeGCheHDbY';\r\n\r\n  // Detectar si es m√≥vil\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth <= 768);\r\n    };\r\n    \r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    \r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  // Cargar Google Maps\r\n  useEffect(() => {\r\n    const loadGoogleMaps = () => {\r\n      return new Promise((resolve) => {\r\n        if (window.google && window.google.maps) {\r\n          resolve(window.google.maps);\r\n          return;\r\n        }\r\n\r\n        const existingScript = document.querySelector('script[src*=\"maps.googleapis.com\"]');\r\n        if (existingScript) {\r\n          existingScript.addEventListener('load', () => {\r\n            resolve(window.google.maps);\r\n          });\r\n          return;\r\n        }\r\n\r\n        const script = document.createElement('script');\r\n        script.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=places,geometry&v=weekly`;\r\n        script.async = true;\r\n        script.defer = true;\r\n        script.onload = () => resolve(window.google.maps);\r\n        document.head.appendChild(script);\r\n      });\r\n    };\r\n\r\n    const initMap = async () => {\r\n      const maps = await loadGoogleMaps();\r\n      \r\n      if (!mapRef.current) return;\r\n\r\n      const mapInstance = new maps.Map(mapRef.current, {\r\n        center: { lat: -36.7333, lng: -72.4667 },\r\n        zoom: 13,\r\n        mapTypeId: 'roadmap',\r\n        zoomControl: !isMobile,\r\n        mapTypeControl: false,\r\n        streetViewControl: false,\r\n        fullscreenControl: true,\r\n        gestureHandling: isMobile ? 'greedy' : 'auto'\r\n      });\r\n\r\n      // Bot√≥n de crear zona en el mapa\r\n      const createButton = document.createElement('button');\r\n      createButton.innerHTML = `\r\n        <div style=\"\r\n          background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);\r\n          color: white;\r\n          padding: 12px 20px;\r\n          border-radius: 25px;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);\r\n          font-weight: 600;\r\n          font-size: 14px;\r\n        \">\r\n          <span style=\"font-size: 18px;\">‚ûï</span>\r\n          <span>Nueva Zona</span>\r\n        </div>\r\n      `;\r\n      createButton.style.cssText = 'border: none; background: none; cursor: pointer; margin: 10px;';\r\n      createButton.title = 'Crear nueva zona';\r\n      \r\n      mapInstance.controls[maps.ControlPosition.TOP_CENTER].push(createButton);\r\n      \r\n      createButton.addEventListener('click', () => {\r\n        // Activar modo de selecci√≥n\r\n        mapInstance.setOptions({ draggableCursor: 'crosshair' });\r\n        \r\n        // Mostrar instrucciones\r\n        showInstructions();\r\n      });\r\n\r\n      // Bot√≥n de mi ubicaci√≥n\r\n      const locationButton = document.createElement('button');\r\n      locationButton.innerHTML = `\r\n        <div style=\"\r\n          background: white;\r\n          border-radius: 50%;\r\n          width: 40px;\r\n          height: 40px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          box-shadow: 0 2px 6px rgba(0,0,0,0.3);\r\n        \">\r\n          <span style=\"font-size: 20px;\">üìç</span>\r\n        </div>\r\n      `;\r\n      locationButton.style.cssText = 'border: none; background: none; padding: 5px; margin: 10px; cursor: pointer;';\r\n      locationButton.title = 'Mi ubicaci√≥n';\r\n      \r\n      mapInstance.controls[maps.ControlPosition.RIGHT_BOTTOM].push(locationButton);\r\n      \r\n      locationButton.addEventListener('click', () => {\r\n        if (navigator.geolocation) {\r\n          navigator.geolocation.getCurrentPosition(\r\n            (position) => {\r\n              const pos = {\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude\r\n              };\r\n              mapInstance.setCenter(pos);\r\n              mapInstance.setZoom(15);\r\n            }\r\n          );\r\n        }\r\n      });\r\n\r\n      // Listener para clicks en el mapa (solo cuando se muestre instrucciones)\r\n      mapInstance.addListener('click', (event) => {\r\n        if (document.getElementById('map-instructions')) {\r\n          handleMapClick(event.latLng.lat(), event.latLng.lng());\r\n        }\r\n      });\r\n\r\n      setMap(mapInstance);\r\n      setMapLoaded(true);\r\n    };\r\n\r\n    initMap();\r\n  }, []);\r\n\r\n  // Mostrar instrucciones\r\n  const showInstructions = () => {\r\n    if (!map) return;\r\n    \r\n    // Remover instrucciones anteriores si existen\r\n    const existingInstructions = document.getElementById('map-instructions');\r\n    if (existingInstructions) {\r\n      existingInstructions.remove();\r\n    }\r\n    \r\n    const instructionsDiv = document.createElement('div');\r\n    instructionsDiv.id = 'map-instructions';\r\n    instructionsDiv.style.cssText = `\r\n      position: absolute;\r\n      top: 70px;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n      background: white;\r\n      padding: 15px 25px;\r\n      border-radius: 12px;\r\n      box-shadow: 0 4px 20px rgba(0,0,0,0.15);\r\n      z-index: 1000;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 15px;\r\n      max-width: 90%;\r\n    `;\r\n    instructionsDiv.innerHTML = `\r\n      <span style=\"font-size: 16px; font-weight: 500; color: #374151;\">\r\n        üìç Haz clic en el mapa para seleccionar la ubicaci√≥n\r\n      </span>\r\n      <button style=\"\r\n        background: #ef4444;\r\n        color: white;\r\n        border: none;\r\n        padding: 6px 12px;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        font-size: 13px;\r\n      \" onclick=\"this.parentElement.remove(); document.body.style.cursor = 'default';\">\r\n        ‚úñ Cancelar\r\n      </button>\r\n    `;\r\n    map.getDiv().appendChild(instructionsDiv);\r\n  };\r\n\r\n  // Manejar click en el mapa\r\n  const handleMapClick = (lat, lng) => {\r\n    if (!map) return;\r\n    \r\n    // Restaurar cursor\r\n    map.setOptions({ draggableCursor: null });\r\n    \r\n    // Remover instrucciones\r\n    const instructions = document.getElementById('map-instructions');\r\n    if (instructions) {\r\n      instructions.remove();\r\n    }\r\n    \r\n    // Limpiar marcador temporal anterior\r\n    if (tempMarkerRef.current) {\r\n      tempMarkerRef.current.setMap(null);\r\n    }\r\n    \r\n    // Crear marcador temporal\r\n    tempMarkerRef.current = new window.google.maps.Marker({\r\n      position: { lat, lng },\r\n      map: map,\r\n      title: 'Nueva zona',\r\n      icon: {\r\n        path: window.google.maps.SymbolPath.CIRCLE,\r\n        scale: 12,\r\n        fillColor: '#ef4444',\r\n        fillOpacity: 0.8,\r\n        strokeColor: '#ffffff',\r\n        strokeWeight: 3\r\n      },\r\n      draggable: true,\r\n      animation: window.google.maps.Animation.DROP\r\n    });\r\n    \r\n    // Actualizar posici√≥n cuando se arrastra\r\n    tempMarkerRef.current.addListener('dragend', (event) => {\r\n      const newLat = event.latLng.lat();\r\n      const newLng = event.latLng.lng();\r\n      updateLocationInfo(newLat, newLng);\r\n    });\r\n    \r\n    // Obtener direcci√≥n y actualizar form\r\n    updateLocationInfo(lat, lng);\r\n    \r\n    // Centrar mapa\r\n    map.panTo({ lat, lng });\r\n    map.setZoom(16);\r\n    \r\n    // Mostrar modal\r\n    setShowCreateModal(true);\r\n  };\r\n\r\n  // Actualizar informaci√≥n de ubicaci√≥n\r\n  const updateLocationInfo = (lat, lng) => {\r\n    setTempMarkerPosition({ lat, lng });\r\n    setNewZona(prev => ({ ...prev, lat, lng }));\r\n    \r\n    // Obtener direcci√≥n con Geocoding\r\n    if (window.google) {\r\n      const geocoder = new window.google.maps.Geocoder();\r\n      geocoder.geocode({ location: { lat, lng } }, (results, status) => {\r\n        if (status === 'OK' && results[0]) {\r\n          setNewZona(prev => ({ ...prev, direccion: results[0].formatted_address }));\r\n        } else {\r\n          setNewZona(prev => ({ ...prev, direccion: `${lat.toFixed(6)}, ${lng.toFixed(6)}` }));\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  // Cargar zonas y trabajadores desde Firebase\r\n  useEffect(() => {\r\n    const zonasRef = ref(database, 'zonas_asignadas');\r\n    const unsubZonas = onValue(zonasRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const zonasArray = Object.entries(data).map(([id, zona]) => ({\r\n          id,\r\n          ...zona\r\n        }));\r\n        setZonas(zonasArray);\r\n      } else {\r\n        setZonas([]);\r\n      }\r\n    });\r\n\r\n    const trabajadoresRef = ref(database, 'trabajadores');\r\n    const unsubTrabajadores = onValue(trabajadoresRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const trabajadoresArray = Object.entries(data).map(([id, trabajador]) => ({\r\n          id,\r\n          ...trabajador\r\n        }));\r\n        setTrabajadores(trabajadoresArray);\r\n      } else {\r\n        setTrabajadores([]);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      unsubZonas();\r\n      unsubTrabajadores();\r\n    };\r\n  }, []);\r\n\r\n  // Actualizar marcadores en el mapa\r\n  useEffect(() => {\r\n    if (!map || !window.google) return;\r\n\r\n    // Limpiar marcadores anteriores (excepto el temporal)\r\n    Object.values(markersRef.current).forEach(marker => {\r\n      marker.setMap(null);\r\n    });\r\n    markersRef.current = {};\r\n\r\n    // Filtrar zonas seg√∫n el estado seleccionado\r\n    const zonasToShow = zonas.filter(zona => {\r\n      if (filterStatus === 'all') {\r\n        return !zona.estado || zona.estado !== 'completado' || showCompletedZones;\r\n      }\r\n      if (filterStatus === 'completado') {\r\n        return zona.estado === 'completado';\r\n      }\r\n      return zona.estado === filterStatus;\r\n    });\r\n\r\n    // Crear marcadores para cada zona\r\n    zonasToShow.forEach(zona => {\r\n      const isCompleted = zona.estado === 'completado';\r\n      const opacity = isCompleted && !showCompletedZones ? 0.5 : 1;\r\n      \r\n      const marker = new window.google.maps.Marker({\r\n        position: { lat: zona.lat, lng: zona.lng },\r\n        map: map,\r\n        title: zona.nombre,\r\n        opacity: opacity,\r\n        icon: {\r\n          path: 'M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z',\r\n          fillColor: zona.estado === 'completado' ? '#22c55e' : \r\n                     zona.estado === 'en_progreso' ? '#3b82f6' : \r\n                     zona.prioridad === 'urgente' ? '#ef4444' : \r\n                     zona.prioridad === 'alta' ? '#f97316' : '#f59e0b',\r\n          fillOpacity: opacity,\r\n          strokeColor: '#ffffff',\r\n          strokeWeight: 2,\r\n          scale: 2,\r\n          anchor: new window.google.maps.Point(12, 24)\r\n        }\r\n      });\r\n\r\n      const infoWindow = new window.google.maps.InfoWindow({\r\n        content: `\r\n          <div style=\"padding: 10px; min-width: 200px;\">\r\n            <h3 style=\"margin: 0 0 10px 0;\">${zona.nombre}</h3>\r\n            <p style=\"margin: 5px 0;\"><strong>Direcci√≥n:</strong> ${zona.direccion}</p>\r\n            <p style=\"margin: 5px 0;\"><strong>Estado:</strong> ${zona.estado || 'pendiente'}</p>\r\n            <p style=\"margin: 5px 0;\"><strong>Prioridad:</strong> ${zona.prioridad || 'normal'}</p>\r\n          </div>\r\n        `\r\n      });\r\n\r\n      marker.addListener('click', () => {\r\n        infoWindow.open(map, marker);\r\n        setSelectedZona(zona);\r\n      });\r\n\r\n      markersRef.current[zona.id] = marker;\r\n    });\r\n  }, [map, zonas, trabajadores, filterStatus, showCompletedZones]);\r\n\r\n  // Guardar nueva zona\r\n  const saveZona = async () => {\r\n    if (!newZona.nombre || !newZona.lat || !newZona.lng) {\r\n      alert('Por favor completa el nombre y selecciona una ubicaci√≥n');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const zonaData = {\r\n        ...newZona,\r\n        createdBy: currentUser.uid,\r\n        createdAt: new Date().toISOString(),\r\n        ultimaActualizacion: new Date().toISOString()\r\n      };\r\n\r\n      const zonasRef = ref(database, 'zonas_asignadas');\r\n      const newZonaRef = push(zonasRef);\r\n      await set(newZonaRef, zonaData);\r\n\r\n      // Si hay un trabajador asignado, notificarle\r\n      if (newZona.trabajadorAsignado) {\r\n        const notificacionData = {\r\n          tipo: 'nueva_zona',\r\n          mensaje: `Se te ha asignado una nueva zona: ${newZona.nombre}`,\r\n          zonaId: newZonaRef.key,\r\n          trabajadorId: newZona.trabajadorAsignado,\r\n          timestamp: new Date().toISOString(),\r\n          leido: false\r\n        };\r\n        \r\n        const notifRef = ref(database, 'notificaciones');\r\n        await push(notifRef, notificacionData);\r\n      }\r\n\r\n      // Limpiar formulario y cerrar modal\r\n      setNewZona({\r\n        nombre: '',\r\n        descripcion: '',\r\n        direccion: '',\r\n        lat: null,\r\n        lng: null,\r\n        trabajadorAsignado: '',\r\n        prioridad: 'normal',\r\n        fechaLimite: '',\r\n        estado: 'pendiente'\r\n      });\r\n      \r\n      // Limpiar marcador temporal\r\n      if (tempMarkerRef.current) {\r\n        tempMarkerRef.current.setMap(null);\r\n        tempMarkerRef.current = null;\r\n      }\r\n      \r\n      setShowCreateModal(false);\r\n      alert('‚úÖ Zona creada exitosamente');\r\n    } catch (error) {\r\n      console.error('Error al crear zona:', error);\r\n      alert('‚ùå Error al crear la zona');\r\n    }\r\n  };\r\n\r\n  // Eliminar zona\r\n  const deleteZona = async (zonaId) => {\r\n    if (window.confirm('¬øEst√°s seguro de eliminar esta zona?')) {\r\n      try {\r\n        await remove(ref(database, `zonas_asignadas/${zonaId}`));\r\n        alert('‚úÖ Zona eliminada');\r\n      } catch (error) {\r\n        console.error('Error al eliminar zona:', error);\r\n        alert('‚ùå Error al eliminar la zona');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Actualizar estado de zona\r\n  const updateZonaStatus = async (zonaId, newStatus) => {\r\n    try {\r\n      await update(ref(database, `zonas_asignadas/${zonaId}`), {\r\n        estado: newStatus,\r\n        ultimaActualizacion: new Date().toISOString()\r\n      });\r\n    } catch (error) {\r\n      console.error('Error al actualizar estado:', error);\r\n    }\r\n  };\r\n\r\n  // Filtrar zonas para la lista\r\n  const getFilteredZonas = () => {\r\n    return zonas.filter(zona => {\r\n      if (filterStatus === 'all') {\r\n        return !showCompletedZones ? zona.estado !== 'completado' : true;\r\n      }\r\n      return zona.estado === filterStatus;\r\n    });\r\n  };\r\n\r\n  const filteredZonas = getFilteredZonas();\r\n\r\n  const styles = {\r\n    container: {\r\n      width: '100%',\r\n      height: '100vh',\r\n      position: 'relative',\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    },\r\n    header: {\r\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n      color: 'white',\r\n      padding: isMobile ? '10px' : '12px 20px',\r\n      boxShadow: '0 2px 10px rgba(0,0,0,0.2)',\r\n      zIndex: 1003\r\n    },\r\n    headerContent: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      gap: '10px',\r\n      flexWrap: isMobile ? 'wrap' : 'nowrap'\r\n    },\r\n    title: {\r\n      margin: 0,\r\n      fontSize: isMobile ? '16px' : '20px',\r\n      fontWeight: '600',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '8px'\r\n    },\r\n    navigationButtons: {\r\n      display: 'flex',\r\n      gap: '8px',\r\n      alignItems: 'center',\r\n      flexWrap: 'wrap'\r\n    },\r\n    navButton: {\r\n      padding: isMobile ? '6px 10px' : '6px 12px',\r\n      background: 'rgba(255,255,255,0.1)',\r\n      color: 'white',\r\n      border: '1px solid rgba(255,255,255,0.3)',\r\n      borderRadius: '5px',\r\n      cursor: 'pointer',\r\n      fontSize: isMobile ? '11px' : '13px',\r\n      fontWeight: '400',\r\n      whiteSpace: 'nowrap'\r\n    },\r\n    logoutButton: {\r\n      padding: isMobile ? '6px 10px' : '6px 14px',\r\n      background: '#ef4444',\r\n      color: 'white',\r\n      border: 'none',\r\n      borderRadius: '5px',\r\n      cursor: 'pointer',\r\n      fontSize: isMobile ? '12px' : '13px',\r\n      fontWeight: '600'\r\n    },\r\n    map: {\r\n      flex: 1,\r\n      position: 'relative'\r\n    },\r\n    floatingListButton: {\r\n      position: 'absolute',\r\n      bottom: isMobile ? '70px' : '20px',\r\n      left: '10px',\r\n      background: 'white',\r\n      border: 'none',\r\n      borderRadius: '12px',\r\n      padding: '12px 20px',\r\n      boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\r\n      cursor: 'pointer',\r\n      zIndex: 1000,\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '8px',\r\n      fontWeight: '600',\r\n      fontSize: '14px'\r\n    },\r\n    filterBar: {\r\n      position: 'absolute',\r\n      top: '10px',\r\n      left: '10px',\r\n      background: 'white',\r\n      borderRadius: '8px',\r\n      padding: '8px',\r\n      boxShadow: '0 2px 8px rgba(0,0,0,0.15)',\r\n      zIndex: 1000,\r\n      display: 'flex',\r\n      gap: '6px',\r\n      flexWrap: 'wrap',\r\n      maxWidth: isMobile ? 'calc(100% - 20px)' : '400px'\r\n    },\r\n    filterButton: {\r\n      padding: '6px 12px',\r\n      background: 'white',\r\n      border: '1px solid #d1d5db',\r\n      borderRadius: '6px',\r\n      fontSize: '12px',\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s'\r\n    },\r\n    filterButtonActive: {\r\n      background: '#667eea',\r\n      color: 'white',\r\n      borderColor: '#667eea'\r\n    },\r\n    modal: {\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      background: 'rgba(0,0,0,0.5)',\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      zIndex: 2000,\r\n      padding: '20px'\r\n    },\r\n    modalContent: {\r\n      background: 'white',\r\n      borderRadius: '16px',\r\n      maxWidth: isMobile ? '100%' : '500px',\r\n      width: '100%',\r\n      maxHeight: '80vh',\r\n      overflow: 'auto',\r\n      boxShadow: '0 20px 60px rgba(0,0,0,0.3)'\r\n    },\r\n    modalHeader: {\r\n      padding: '20px',\r\n      borderBottom: '1px solid #e5e7eb',\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      background: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n      borderRadius: '16px 16px 0 0',\r\n      color: 'white'\r\n    },\r\n    modalBody: {\r\n      padding: '20px'\r\n    },\r\n    formGroup: {\r\n      marginBottom: '16px'\r\n    },\r\n    label: {\r\n      display: 'block',\r\n      marginBottom: '6px',\r\n      fontSize: '14px',\r\n      fontWeight: '500',\r\n      color: '#374151'\r\n    },\r\n    input: {\r\n      width: '100%',\r\n      padding: '10px',\r\n      border: '1px solid #d1d5db',\r\n      borderRadius: '6px',\r\n      fontSize: '14px'\r\n    },\r\n    textarea: {\r\n      width: '100%',\r\n      padding: '10px',\r\n      border: '1px solid #d1d5db',\r\n      borderRadius: '6px',\r\n      fontSize: '14px',\r\n      minHeight: '80px',\r\n      resize: 'vertical'\r\n    },\r\n    select: {\r\n      width: '100%',\r\n      padding: '10px',\r\n      border: '1px solid #d1d5db',\r\n      borderRadius: '6px',\r\n      fontSize: '14px',\r\n      background: 'white'\r\n    },\r\n    gridTwoColumns: {\r\n      display: 'grid',\r\n      gridTemplateColumns: isMobile ? '1fr' : '1fr 1fr',\r\n      gap: '16px'\r\n    },\r\n    modalFooter: {\r\n      padding: '20px',\r\n      borderTop: '1px solid #e5e7eb',\r\n      display: 'flex',\r\n      gap: '10px',\r\n      justifyContent: 'flex-end'\r\n    },\r\n    saveButton: {\r\n      padding: '10px 20px',\r\n      background: '#22c55e',\r\n      color: 'white',\r\n      border: 'none',\r\n      borderRadius: '6px',\r\n      fontSize: '14px',\r\n      fontWeight: '600',\r\n      cursor: 'pointer'\r\n    },\r\n    cancelButton: {\r\n      padding: '10px 20px',\r\n      background: '#6b7280',\r\n      color: 'white',\r\n      border: 'none',\r\n      borderRadius: '6px',\r\n      fontSize: '14px',\r\n      fontWeight: '600',\r\n      cursor: 'pointer'\r\n    },\r\n    listPanel: {\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: showListPanel ? 0 : '-100%',\r\n      width: isMobile ? '100%' : '400px',\r\n      height: '100%',\r\n      background: 'white',\r\n      boxShadow: '2px 0 20px rgba(0,0,0,0.1)',\r\n      transition: 'left 0.3s',\r\n      zIndex: 1999,\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    },\r\n    listHeader: {\r\n      padding: '20px',\r\n      background: '#f9fafb',\r\n      borderBottom: '1px solid #e5e7eb',\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center'\r\n    },\r\n    listContent: {\r\n      flex: 1,\r\n      overflowY: 'auto',\r\n      padding: '20px'\r\n    },\r\n    zonaCard: {\r\n      padding: '12px',\r\n      border: '1px solid #e5e7eb',\r\n      borderRadius: '8px',\r\n      marginBottom: '12px',\r\n      cursor: 'pointer',\r\n      transition: 'all 0.2s'\r\n    },\r\n    mobileBottomNav: {\r\n      position: 'fixed',\r\n      bottom: 0,\r\n      left: 0,\r\n      right: 0,\r\n      background: 'white',\r\n      borderTop: '1px solid #e5e7eb',\r\n      display: 'flex',\r\n      padding: '8px',\r\n      gap: '8px',\r\n      zIndex: 1000\r\n    },\r\n    mobileNavButton: {\r\n      flex: 1,\r\n      padding: '8px',\r\n      background: '#f3f4f6',\r\n      border: 'none',\r\n      borderRadius: '6px',\r\n      fontSize: '11px',\r\n      cursor: 'pointer',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      gap: '2px'\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      {/* Header */}\r\n      <div style={styles.header}>\r\n        <div style={styles.headerContent}>\r\n          <h1 style={styles.title}>\r\n            üó∫Ô∏è Gesti√≥n de Zonas\r\n          </h1>\r\n\r\n          <div style={styles.navigationButtons}>\r\n            {!isMobile && onViewChange && (\r\n              <>\r\n                {currentUser?.role === 'superadmin' && (\r\n                  <button\r\n                    onClick={() => onViewChange('admin')}\r\n                    style={styles.navButton}\r\n                  >\r\n                    üîê Panel Admin\r\n                  </button>\r\n                )}\r\n                <button\r\n                  onClick={() => onViewChange('dashboard')}\r\n                  style={styles.navButton}\r\n                >\r\n                  üìä Dashboard GPS\r\n                </button>\r\n                <button\r\n                  onClick={() => onViewChange('fleet')}\r\n                  style={styles.navButton}\r\n                >\r\n                  üöõ Panel Flota\r\n                </button>\r\n              </>\r\n            )}\r\n            <button onClick={onLogout} style={styles.logoutButton}>\r\n              {isMobile ? 'üö™' : 'üö™ Salir'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mapa */}\r\n      <div style={styles.map}>\r\n        <div ref={mapRef} style={{ width: '100%', height: '100%' }} />\r\n        \r\n        {/* Barra de filtros */}\r\n        <div style={styles.filterBar}>\r\n          <button\r\n            onClick={() => setFilterStatus('all')}\r\n            style={{\r\n              ...styles.filterButton,\r\n              ...(filterStatus === 'all' ? styles.filterButtonActive : {})\r\n            }}\r\n          >\r\n            Todas\r\n          </button>\r\n          <button\r\n            onClick={() => setFilterStatus('pendiente')}\r\n            style={{\r\n              ...styles.filterButton,\r\n              ...(filterStatus === 'pendiente' ? styles.filterButtonActive : {})\r\n            }}\r\n          >\r\n            ‚è≥ Pendientes\r\n          </button>\r\n          <button\r\n            onClick={() => setFilterStatus('en_progreso')}\r\n            style={{\r\n              ...styles.filterButton,\r\n              ...(filterStatus === 'en_progreso' ? styles.filterButtonActive : {})\r\n            }}\r\n          >\r\n            üîß En Progreso\r\n          </button>\r\n          <button\r\n            onClick={() => setFilterStatus('completado')}\r\n            style={{\r\n              ...styles.filterButton,\r\n              ...(filterStatus === 'completado' ? styles.filterButtonActive : {})\r\n            }}\r\n          >\r\n            ‚úÖ Completadas\r\n          </button>\r\n        </div>\r\n\r\n        {/* Bot√≥n flotante para lista */}\r\n        <button\r\n          onClick={() => setShowListPanel(true)}\r\n          style={styles.floatingListButton}\r\n        >\r\n          <span style={{ fontSize: '16px' }}>üìã</span>\r\n          <span>Ver Lista ({filteredZonas.length})</span>\r\n        </button>\r\n\r\n        {!mapLoaded && (\r\n          <div style={{\r\n            position: 'absolute',\r\n            top: '50%',\r\n            left: '50%',\r\n            transform: 'translate(-50%, -50%)',\r\n            textAlign: 'center'\r\n          }}>\r\n            <div style={{\r\n              width: '50px',\r\n              height: '50px',\r\n              border: '4px solid #f3f3f3',\r\n              borderTop: '4px solid #667eea',\r\n              borderRadius: '50%',\r\n              animation: 'spin 1s linear infinite'\r\n            }}></div>\r\n            <p style={{ marginTop: '10px', color: '#666' }}>Cargando mapa...</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modal de creaci√≥n */}\r\n      {showCreateModal && (\r\n        <div style={styles.modal}>\r\n          <div style={styles.modalContent}>\r\n            <div style={styles.modalHeader}>\r\n              <h2 style={{ margin: 0, fontSize: '18px' }}>\r\n                üìç Nueva Zona de Trabajo\r\n              </h2>\r\n              <button\r\n                onClick={() => {\r\n                  setShowCreateModal(false);\r\n                  if (tempMarkerRef.current) {\r\n                    tempMarkerRef.current.setMap(null);\r\n                    tempMarkerRef.current = null;\r\n                  }\r\n                  setNewZona({\r\n                    nombre: '',\r\n                    descripcion: '',\r\n                    direccion: '',\r\n                    lat: null,\r\n                    lng: null,\r\n                    trabajadorAsignado: '',\r\n                    prioridad: 'normal',\r\n                    fechaLimite: '',\r\n                    estado: 'pendiente'\r\n                  });\r\n                }}\r\n                style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  color: 'white',\r\n                  fontSize: '24px',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                ‚úñ\r\n              </button>\r\n            </div>\r\n\r\n            <div style={styles.modalBody}>\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>\r\n                  Nombre de la zona *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newZona.nombre}\r\n                  onChange={(e) => setNewZona({ ...newZona, nombre: e.target.value })}\r\n                  style={styles.input}\r\n                  placeholder=\"Ej: Reparaci√≥n Calle Principal\"\r\n                  autoFocus\r\n                />\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>\r\n                  Descripci√≥n\r\n                </label>\r\n                <textarea\r\n                  value={newZona.descripcion}\r\n                  onChange={(e) => setNewZona({ ...newZona, descripcion: e.target.value })}\r\n                  style={styles.textarea}\r\n                  placeholder=\"Detalles del trabajo a realizar...\"\r\n                />\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>\r\n                  Direcci√≥n\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newZona.direccion}\r\n                  onChange={(e) => setNewZona({ ...newZona, direccion: e.target.value })}\r\n                  style={styles.input}\r\n                />\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>\r\n                  Asignar a trabajador\r\n                </label>\r\n                <select\r\n                  value={newZona.trabajadorAsignado}\r\n                  onChange={(e) => setNewZona({ ...newZona, trabajadorAsignado: e.target.value })}\r\n                  style={styles.select}\r\n                >\r\n                  <option value=\"\">-- Sin asignar --</option>\r\n                  {trabajadores.map(trabajador => (\r\n                    <option key={trabajador.id} value={trabajador.id}>\r\n                      {trabajador.nombre || trabajador.email}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div style={styles.gridTwoColumns}>\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>\r\n                    Prioridad\r\n                  </label>\r\n                  <select\r\n                    value={newZona.prioridad}\r\n                    onChange={(e) => setNewZona({ ...newZona, prioridad: e.target.value })}\r\n                    style={styles.select}\r\n                  >\r\n                    <option value=\"baja\">üü¢ Baja</option>\r\n                    <option value=\"normal\">üü° Normal</option>\r\n                    <option value=\"alta\">üü† Alta</option>\r\n                    <option value=\"urgente\">üî¥ Urgente</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>\r\n                    Fecha l√≠mite\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={newZona.fechaLimite}\r\n                    onChange={(e) => setNewZona({ ...newZona, fechaLimite: e.target.value })}\r\n                    style={styles.input}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {tempMarkerPosition && (\r\n                <div style={{\r\n                  padding: '10px',\r\n                  background: '#f0f9ff',\r\n                  borderRadius: '6px',\r\n                  fontSize: '13px',\r\n                  color: '#0369a1',\r\n                  marginTop: '10px'\r\n                }}>\r\n                  üìç <strong>Ubicaci√≥n:</strong> {tempMarkerPosition.lat.toFixed(6)}, {tempMarkerPosition.lng.toFixed(6)}\r\n                  <br />\r\n                  <small>Puedes arrastrar el marcador en el mapa para ajustar la posici√≥n</small>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div style={styles.modalFooter}>\r\n              <button\r\n                onClick={() => {\r\n                  setShowCreateModal(false);\r\n                  if (tempMarkerRef.current) {\r\n                    tempMarkerRef.current.setMap(null);\r\n                    tempMarkerRef.current = null;\r\n                  }\r\n                  setNewZona({\r\n                    nombre: '',\r\n                    descripcion: '',\r\n                    direccion: '',\r\n                    lat: null,\r\n                    lng: null,\r\n                    trabajadorAsignado: '',\r\n                    prioridad: 'normal',\r\n                    fechaLimite: '',\r\n                    estado: 'pendiente'\r\n                  });\r\n                }}\r\n                style={styles.cancelButton}\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button onClick={saveZona} style={styles.saveButton}>\r\n                ‚úÖ Guardar Zona\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Panel lateral de lista */}\r\n      <div style={styles.listPanel}>\r\n        <div style={styles.listHeader}>\r\n          <h3 style={{ margin: 0, fontSize: '18px' }}>\r\n            üìã Zonas ({filteredZonas.length})\r\n          </h3>\r\n          <button\r\n            onClick={() => setShowListPanel(false)}\r\n            style={{\r\n              background: 'none',\r\n              border: 'none',\r\n              fontSize: '24px',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            ‚úñ\r\n          </button>\r\n        </div>\r\n\r\n        <div style={styles.listContent}>\r\n          {filteredZonas.length === 0 ? (\r\n            <div style={{ textAlign: 'center', padding: '40px 20px', color: '#6b7280' }}>\r\n              <p>No hay zonas {filterStatus !== 'all' ? filterStatus.replace('_', ' ') : ''}</p>\r\n            </div>\r\n          ) : (\r\n            filteredZonas.map(zona => {\r\n              const trabajador = trabajadores.find(t => t.id === zona.trabajadorAsignado);\r\n              return (\r\n                <div\r\n                  key={zona.id}\r\n                  style={styles.zonaCard}\r\n                  onClick={() => {\r\n                    if (map && markersRef.current[zona.id]) {\r\n                      map.panTo({ lat: zona.lat, lng: zona.lng });\r\n                      map.setZoom(16);\r\n                      window.google.maps.event.trigger(markersRef.current[zona.id], 'click');\r\n                    }\r\n                    setShowListPanel(false);\r\n                  }}\r\n                >\r\n                  <h4 style={{ margin: '0 0 8px 0', fontSize: '14px', fontWeight: '600' }}>\r\n                    {zona.nombre}\r\n                  </h4>\r\n                  <p style={{ margin: '0 0 4px 0', fontSize: '12px', color: '#6b7280' }}>\r\n                    üìç {zona.direccion}\r\n                  </p>\r\n                  <p style={{ margin: '0 0 8px 0', fontSize: '12px', color: '#6b7280' }}>\r\n                    üë∑ {trabajador ? trabajador.nombre : 'Sin asignar'}\r\n                  </p>\r\n                  <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\r\n                    <select\r\n                      value={zona.estado || 'pendiente'}\r\n                      onChange={(e) => {\r\n                        e.stopPropagation();\r\n                        updateZonaStatus(zona.id, e.target.value);\r\n                      }}\r\n                      onClick={(e) => e.stopPropagation()}\r\n                      style={{\r\n                        padding: '4px 8px',\r\n                        border: '1px solid #d1d5db',\r\n                        borderRadius: '4px',\r\n                        fontSize: '11px',\r\n                        background: 'white'\r\n                      }}\r\n                    >\r\n                      <option value=\"pendiente\">‚è≥ Pendiente</option>\r\n                      <option value=\"en_progreso\">üîß En progreso</option>\r\n                      <option value=\"completado\">‚úÖ Completado</option>\r\n                    </select>\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        deleteZona(zona.id);\r\n                      }}\r\n                      style={{\r\n                        padding: '4px 8px',\r\n                        background: '#ef4444',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '4px',\r\n                        fontSize: '11px',\r\n                        cursor: 'pointer'\r\n                      }}\r\n                    >\r\n                      üóëÔ∏è Eliminar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navegaci√≥n inferior m√≥vil */}\r\n      {isMobile && onViewChange && (\r\n        <div style={styles.mobileBottomNav}>\r\n          {currentUser?.role === 'superadmin' && (\r\n            <button\r\n              onClick={() => onViewChange('admin')}\r\n              style={styles.mobileNavButton}\r\n            >\r\n              <span style={{ fontSize: '16px' }}>üîê</span>\r\n              <span>Admin</span>\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={() => onViewChange('dashboard')}\r\n            style={styles.mobileNavButton}\r\n          >\r\n            <span style={{ fontSize: '16px' }}>üìä</span>\r\n            <span>Dashboard</span>\r\n          </button>\r\n          <button\r\n            onClick={() => onViewChange('zones')}\r\n            style={{\r\n              ...styles.mobileNavButton,\r\n              background: '#667eea',\r\n              color: 'white'\r\n            }}\r\n          >\r\n            <span style={{ fontSize: '16px' }}>üó∫Ô∏è</span>\r\n            <span>Zonas</span>\r\n          </button>\r\n          <button\r\n            onClick={() => onViewChange('fleet')}\r\n            style={styles.mobileNavButton}\r\n          >\r\n            <span style={{ fontSize: '16px' }}>üöõ</span>\r\n            <span>Flota</span>\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <style jsx>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ZonesManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}