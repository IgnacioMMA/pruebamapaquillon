{"ast":null,"code":"// src/components/SistemaTrabajadoresFirebase.js\nimport React,{useEffect,useRef,useState}from'react';import{trabajadoresService}from'../services/firebaseservices';import{database}from'../config/firebase';import{ref,onValue,update,set,push,get}from'firebase/database';import TrabajadorVehiclePanel from'./TrabajadorVehiclePanel';import{cloudinaryConfig}from'../config/cloudinary';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SistemaTrabajadoresFirebase=_ref=>{let{currentUser,onLogout,onViewChange}=_ref;// Estados principales\nconst[showVehiclePanel,setShowVehiclePanel]=useState(false);const[userPosition,setUserPosition]=useState(null);const[selectedZona,setSelectedZona]=useState(null);const[isTracking,setIsTracking]=useState(false);const[workStatus,setWorkStatus]=useState('idle');// Estados para zonas y notificaciones\nconst[zonasAsignadas,setZonasAsignadas]=useState([]);const[notificaciones,setNotificaciones]=useState([]);const[isMobile,setIsMobile]=useState(false);const[toastNotification,setToastNotification]=useState(null);// ESTADOS PARA DOCUMENTOS\nconst[showDocumentsModal,setShowDocumentsModal]=useState(false);const[uploadingFile,setUploadingFile]=useState(false);const[uploadProgress,setUploadProgress]=useState({});const[documentos,setDocumentos]=useState({licenciaConducir:{url:'',nombre:'',fecha:'',vencimiento:''},certificadoOperador:{url:'',nombre:'',fecha:'',vencimiento:''},certificados:[]});const[message,setMessage]=useState({type:'',text:''});const[isLoadingDocuments,setIsLoadingDocuments]=useState(false);// Referencias\nconst toastTimeoutRef=useRef(null);const[gpsStatus,setGpsStatus]=useState('inactive');// ========== FUNCIONES COMPLETAS PARA MANEJO DE DOCUMENTOS ==========\n// 1. FUNCI√ìN PARA SUBIR ARCHIVOS (COMPLETA Y MEJORADA)\nconst handleFileUpload=async(file,tipoDocumento)=>{if(!file)return;// Validaci√≥n de PDF\nif(file.type==='application/pdf'){setMessage({type:'error',text:'‚ùå NO se permiten PDFs. Por favor, sube una FOTO o IMAGEN del documento (JPG/PNG).'});alert('üì∏ ALTERNATIVAS PARA SUBIR TU DOCUMENTO:\\n\\n'+'1. Toma una FOTO con tu celular\\n'+'2. Haz una CAPTURA DE PANTALLA del PDF\\n'+'3. Usa un esc√°ner que guarde como JPG\\n'+'4. Convierte el PDF a imagen en: https://www.ilovepdf.com/pdf_to_jpg');return;}// Validaci√≥n de tipo de archivo\nconst allowedTypes=['image/jpeg','image/png','image/jpg'];if(!allowedTypes.includes(file.type)){setMessage({type:'error',text:'‚ùå Solo se permiten im√°genes JPG y PNG'});return;}// Validaci√≥n de tama√±o\nif(file.size>10*1024*1024){setMessage({type:'error',text:'‚ùå El archivo no puede superar los 10MB'});return;}setUploadingFile(true);setUploadProgress({[tipoDocumento]:0});try{// Preparar FormData para Cloudinary\nconst formData=new FormData();formData.append('file',file);formData.append('upload_preset','vehiculos_docs');const trabajadorId=currentUser.uid||`temp_${Date.now()}`;const timestamp=Date.now();const cleanFileName=file.name.split('.')[0].replace(/[^a-zA-Z0-9_-]/g,'_');formData.append('folder',`municipalidad/trabajadores/${trabajadorId}/${tipoDocumento}`);formData.append('public_id',`${timestamp}_${cleanFileName}`);setUploadProgress({[tipoDocumento]:30});// Subir a Cloudinary\nconst response=await fetch(`https://api.cloudinary.com/v1_1/${cloudinaryConfig.cloudName}/image/upload`,{method:'POST',body:formData});setUploadProgress({[tipoDocumento]:60});if(!response.ok){throw new Error('Error al subir imagen a Cloudinary');}const data=await response.json();console.log('‚úÖ Imagen subida a Cloudinary:',data);setUploadProgress({[tipoDocumento]:90});// Crear objeto de documento con todos los datos necesarios\nconst documentData={url:data.secure_url||'',publicId:data.public_id||'',nombre:file.name||'documento',fecha:new Date().toISOString(),tama√±o:file.size||0,tipo:file.type||'image/jpeg',vencimiento:''// Campo opcional para fechas de vencimiento\n};console.log('üìÑ Datos del documento a guardar:',documentData);// Guardar en Firebase PRIMERO\nawait guardarDocumentosEnFirebase(tipoDocumento,documentData);// DESPU√âS actualizar el estado local\nif(tipoDocumento==='certificados'){setDocumentos(prev=>({...prev,certificados:[...(prev.certificados||[]),documentData]}));}else{setDocumentos(prev=>({...prev,[tipoDocumento]:documentData}));}setUploadProgress({[tipoDocumento]:100});setMessage({type:'success',text:`‚úÖ ${file.name} subido exitosamente`});showToast('‚úÖ Documento subido exitosamente','success');setTimeout(()=>{setUploadProgress({});setMessage({type:'',text:''});},3000);}catch(error){console.error('‚ùå Error completo:',error);setMessage({type:'error',text:'‚ùå Error al subir la imagen: '+error.message});showToast('‚ùå Error al subir el documento','error');}finally{setUploadingFile(false);}};// 2. FUNCI√ìN PARA GUARDAR EN FIREBASE\nconst guardarDocumentosEnFirebase=async(tipoDocumento,documentData)=>{try{console.log(`üîÑ Guardando ${tipoDocumento} en Firebase...`);if(!currentUser||!currentUser.uid){throw new Error('No hay usuario autenticado');}if(tipoDocumento==='certificados'){// Para certificados, usar push para crear una lista\nconst certificadosRef=ref(database,`trabajadores/${currentUser.uid}/documentos/certificados`);const newCertRef=push(certificadosRef);await set(newCertRef,documentData);console.log('‚úÖ Certificado guardado con ID:',newCertRef.key);}else{// Para licencia y certificado de operador\nconst docRef=ref(database,`trabajadores/${currentUser.uid}/documentos/${tipoDocumento}`);await set(docRef,documentData);console.log(`‚úÖ ${tipoDocumento} guardado en Firebase`);}// Verificar que se guard√≥ correctamente\nconst verificarRef=ref(database,`trabajadores/${currentUser.uid}/documentos`);const snapshot=await get(verificarRef);console.log('üì¶ Verificaci√≥n - Documentos en Firebase:',snapshot.val());}catch(error){console.error('‚ùå Error al guardar en Firebase:',error);throw error;}};// 3. FUNCI√ìN PARA ELIMINAR DOCUMENTOS\nconst handleDeleteDocument=async function(tipoDocumento){let index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!window.confirm('¬øEst√°s seguro de eliminar este documento?'))return;try{// Primero eliminar de Firebase\nawait eliminarDocumentoDeFirebase(tipoDocumento,index);// Despu√©s actualizar el estado local\nif(tipoDocumento==='certificados'&&index!==null){setDocumentos(prev=>({...prev,certificados:prev.certificados.filter((_,i)=>i!==index)}));}else{setDocumentos(prev=>({...prev,[tipoDocumento]:{url:'',nombre:'',fecha:'',vencimiento:''}}));}setMessage({type:'success',text:'‚úÖ Documento eliminado correctamente'});showToast('‚úÖ Documento eliminado','success');setTimeout(()=>{setMessage({type:'',text:''});},3000);}catch(error){console.error('Error al eliminar documento:',error);setMessage({type:'error',text:'‚ùå Error al eliminar el documento'});}};// 4. FUNCI√ìN PARA ELIMINAR DE FIREBASE\nconst eliminarDocumentoDeFirebase=async(tipoDocumento,index)=>{try{if(!currentUser||!currentUser.uid){throw new Error('No hay usuario autenticado');}if(tipoDocumento==='certificados'){// Para certificados, obtener la lista actual y eliminar el espec√≠fico\nconst certificadosRef=ref(database,`trabajadores/${currentUser.uid}/documentos/certificados`);const snapshot=await get(certificadosRef);const certificadosData=snapshot.val()||{};const certificadosArray=Object.entries(certificadosData);if(index!==null&&index<certificadosArray.length){const[keyToDelete]=certificadosArray[index];const certRef=ref(database,`trabajadores/${currentUser.uid}/documentos/certificados/${keyToDelete}`);await set(certRef,null);console.log(`‚úÖ Certificado ${keyToDelete} eliminado de Firebase`);}}else{// Para otros documentos, simplemente eliminar\nconst docRef=ref(database,`trabajadores/${currentUser.uid}/documentos/${tipoDocumento}`);await set(docRef,null);console.log(`‚úÖ ${tipoDocumento} eliminado de Firebase`);}}catch(error){console.error('‚ùå Error al eliminar de Firebase:',error);throw error;}};// 5. FUNCI√ìN CORREGIDA PARA CARGAR DOCUMENTOS DESDE FIREBASE\nconst cargarDocumentosDesdeFirebase=async()=>{if(!currentUser||!currentUser.uid){console.log('‚ö†Ô∏è No hay usuario para cargar documentos');return null;}console.log('üîÑ Iniciando carga de documentos para usuario:',currentUser.uid);setIsLoadingDocuments(true);try{// Primero intentar obtener los datos una vez\nconst docsRef=ref(database,`trabajadores/${currentUser.uid}/documentos`);const snapshot=await get(docsRef);const data=snapshot.val();console.log('üì¶ Datos obtenidos de Firebase:',data);if(data){// Procesar y establecer los documentos\nconst docsToLoad={licenciaConducir:data.licenciaConducir||{url:'',nombre:'',fecha:'',vencimiento:''},certificadoOperador:data.certificadoOperador||{url:'',nombre:'',fecha:'',vencimiento:''},certificados:[]};// Procesar certificados si existen\nif(data.certificados&&typeof data.certificados==='object'){docsToLoad.certificados=Object.entries(data.certificados).map(_ref2=>{let[key,cert]=_ref2;return{firebaseKey:key,...cert};});}console.log('‚úÖ Documentos procesados:',docsToLoad);setDocumentos(docsToLoad);}else{console.log('‚ö†Ô∏è No hay documentos guardados para este usuario');}// Establecer listener para cambios en tiempo real\nconst unsubscribe=onValue(docsRef,snapshot=>{const updatedData=snapshot.val();console.log('üîÑ Actualizaci√≥n de documentos detectada:',updatedData);if(updatedData){const docsToUpdate={licenciaConducir:updatedData.licenciaConducir||{url:'',nombre:'',fecha:'',vencimiento:''},certificadoOperador:updatedData.certificadoOperador||{url:'',nombre:'',fecha:'',vencimiento:''},certificados:[]};if(updatedData.certificados&&typeof updatedData.certificados==='object'){docsToUpdate.certificados=Object.entries(updatedData.certificados).map(_ref3=>{let[key,cert]=_ref3;return{firebaseKey:key,...cert};});}setDocumentos(docsToUpdate);}});setIsLoadingDocuments(false);return unsubscribe;}catch(error){console.error('‚ùå Error al cargar documentos:',error);setIsLoadingDocuments(false);showToast('‚ùå Error al cargar documentos','error');return null;}};// 6. FUNCI√ìN PARA FORMATEAR TAMA√ëO DE ARCHIVO\nconst formatFileSize=bytes=>{if(!bytes||bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return Math.round(bytes/Math.pow(k,i)*100)/100+' '+sizes[i];};// 7. USE EFFECT CORREGIDO PARA CARGAR DOCUMENTOS AL INICIAR\nuseEffect(()=>{let unsubscribe=null;let mounted=true;const loadDocuments=async()=>{if(currentUser&&currentUser.uid&&mounted){console.log('üë§ Usuario detectado, cargando documentos:',currentUser.uid);// Esperar un poco para asegurar que Firebase est√© listo\nawait new Promise(resolve=>setTimeout(resolve,500));if(mounted){unsubscribe=await cargarDocumentosDesdeFirebase();}}};loadDocuments();return()=>{mounted=false;if(unsubscribe&&typeof unsubscribe==='function'){console.log('üîö Desuscribiendo listener de documentos');unsubscribe();}};},[currentUser===null||currentUser===void 0?void 0:currentUser.uid]);// 8. USE EFFECT ADICIONAL PARA DEBUGGING\nuseEffect(()=>{if(showDocumentsModal&&currentUser!==null&&currentUser!==void 0&&currentUser.uid){console.log('üìÇ Modal abierto, estado actual de documentos:',documentos);// Verificar directamente en Firebase cuando se abre el modal\nconst checkFirebase=async()=>{const docsRef=ref(database,`trabajadores/${currentUser.uid}/documentos`);const snapshot=await get(docsRef);console.log('üîç Verificaci√≥n directa de Firebase:',snapshot.val());};checkFirebase();}},[showDocumentsModal,currentUser===null||currentUser===void 0?void 0:currentUser.uid]);// ========== RESTO DE LAS FUNCIONES DEL COMPONENTE ==========\n// Funci√≥n para navegar al dashboard\nconst navigateToDashboard=()=>{if(onViewChange){onViewChange('dashboard-trabajador');}};// Funci√≥n para mostrar notificaciones tipo toast\nconst showToast=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';let duration=arguments.length>2&&arguments[2]!==undefined?arguments[2]:4000;if(toastTimeoutRef.current){clearTimeout(toastTimeoutRef.current);}setToastNotification({message,type});toastTimeoutRef.current=setTimeout(()=>{setToastNotification(null);},duration);};// Detectar si es m√≥vil\nuseEffect(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<=768);};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);// Cargar zonas asignadas\nuseEffect(()=>{if(currentUser&&currentUser.uid){const zonasRef=ref(database,'zonas_asignadas');const unsubZonas=onValue(zonasRef,snapshot=>{const data=snapshot.val();if(data){const zonasArray=Object.entries(data).filter(_ref4=>{let[id,zona]=_ref4;return zona.trabajadorAsignado===currentUser.uid&&zona.estado!=='completado';}).map(_ref5=>{let[id,zona]=_ref5;return{id,...zona};});setZonasAsignadas(zonasArray);}else{setZonasAsignadas([]);}});return()=>unsubZonas();}},[currentUser]);// Registrar trabajador\nuseEffect(()=>{if(currentUser&&currentUser.uid){console.log('üîÑ Registrando trabajador en Firebase...');trabajadoresService.createOrUpdateTrabajador(currentUser.uid,{nombre:currentUser.name||currentUser.email||'Trabajador',email:currentUser.email,telefono:currentUser.phone||'',vehicleId:currentUser.vehicleId||null,estado:'disponible',rol:'trabajador',ubicacion:null,createdAt:new Date().toISOString(),ultimaActualizacion:new Date().toISOString()}).then(()=>{console.log('‚úÖ Trabajador registrado exitosamente');}).catch(error=>{console.error('‚ùå Error al registrar trabajador:',error);});}},[currentUser]);// Limpiar al desmontar\nuseEffect(()=>{return()=>{if(toastTimeoutRef.current){clearTimeout(toastTimeoutRef.current);}};},[]);// ========== MODAL DE DOCUMENTOS MEJORADO ==========\nconst DocumentosModal=()=>{var _documentos$licenciaC,_documentos$licenciaC2,_documentos$licenciaC3,_documentos$certifica,_documentos$certifica2,_documentos$certifica3,_documentos$certifica4;if(!showDocumentsModal)return null;return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.5)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:3000,padding:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',maxWidth:'900px',width:'100%',maxHeight:'90vh',overflow:'auto',padding:'30px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'25px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,color:'#1f2937',fontSize:'24px'},children:\"\\uD83D\\uDCC4 Mis Documentos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDocumentsModal(false),style:{padding:'8px',background:'#6b7280',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'18px'},children:\"\\u2716\"})]}),isLoadingDocuments&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',textAlign:'center',color:'#6b7280'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'24px',marginBottom:'10px'},children:\"\\u23F3\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Cargando documentos...\"})]}),message.text&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'12px',borderRadius:'8px',marginBottom:'20px',background:message.type==='success'?'#dcfce7':'#fee2e2',border:`1px solid ${message.type==='success'?'#86efac':'#fecaca'}`,color:message.type==='success'?'#166534':'#991b1b'},children:message.text}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',background:'#fef3c7',border:'2px solid #f59e0b',borderRadius:'8px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 10px 0',color:'#92400e',fontSize:'16px'},children:\"\\uD83D\\uDCF8 IMPORTANTE: Solo se aceptan IM\\xC1GENES\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 10px 0',fontSize:'14px',color:'#78350f'},children:\"Los archivos PDF no est\\xE1n soportados. Si tienes documentos en PDF:\"}),/*#__PURE__*/_jsxs(\"ol\",{style:{margin:'0',paddingLeft:'20px',fontSize:'14px',color:'#78350f'},children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDCF1 Toma una \",/*#__PURE__*/_jsx(\"strong\",{children:\"FOTO\"}),\" del documento con tu celular\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDCBB Haz una \",/*#__PURE__*/_jsx(\"strong\",{children:\"CAPTURA DE PANTALLA\"}),\" del PDF\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDD04 Convierte el PDF a JPG en: \",/*#__PURE__*/_jsx(\"a\",{href:\"https://www.ilovepdf.com/pdf_to_jpg\",target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#f59e0b'},children:\"iLovePDF.com\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(auto-fit, minmax(280px, 1fr))',gap:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'8px',padding:'15px',background:(_documentos$licenciaC=documentos.licenciaConducir)!==null&&_documentos$licenciaC!==void 0&&_documentos$licenciaC.url?'#f0fdf4':'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:0,fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"\\uD83D\\uDE97 Licencia de Conducir\"}),((_documentos$licenciaC2=documentos.licenciaConducir)===null||_documentos$licenciaC2===void 0?void 0:_documentos$licenciaC2.url)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',padding:'2px 6px',background:'#22c55e',color:'white',borderRadius:'4px'},children:\"\\u2713 Cargado\"})]}),(_documentos$licenciaC3=documentos.licenciaConducir)!==null&&_documentos$licenciaC3!==void 0&&_documentos$licenciaC3.url?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',background:'#f9fafb',borderRadius:'6px',marginBottom:'8px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#1f2937',marginBottom:'3px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:documentos.licenciaConducir.nombre}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'11px'},children:documentos.licenciaConducir.fecha&&new Date(documentos.licenciaConducir.fecha).toLocaleDateString('es-CL')}),documentos.licenciaConducir.tama√±o>0&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#9ca3af',fontSize:'10px',marginTop:'2px'},children:formatFileSize(documentos.licenciaConducir.tama√±o)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"a\",{href:documentos.licenciaConducir.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{flex:1,padding:'6px',background:'#3b82f6',color:'white',textAlign:'center',borderRadius:'6px',textDecoration:'none',fontSize:'12px'},children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('licenciaConducir'),style:{flex:1,padding:'6px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'12px'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"licenciaConducir\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'licenciaConducir'),style:{display:'none'}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"licenciaConducir\",style:{display:'block',padding:'20px 10px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'6px',textAlign:'center',cursor:'pointer',fontSize:'12px',color:'#6b7280',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#3b82f6';e.currentTarget.style.background='#eff6ff';},onMouseLeave:e=>{e.currentTarget.style.borderColor='#d1d5db';e.currentTarget.style.background='#f9fafb';},children:uploadProgress.licenciaConducir?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'5px'},children:[\"Subiendo... \",uploadProgress.licenciaConducir,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'4px',background:'#e5e7eb',borderRadius:'2px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:`${uploadProgress.licenciaConducir}%`,height:'100%',background:'#3b82f6',transition:'width 0.3s'}})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',marginBottom:'5px'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Click para subir\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'8px',padding:'15px',background:(_documentos$certifica=documentos.certificadoOperador)!==null&&_documentos$certifica!==void 0&&_documentos$certifica.url?'#f0fdf4':'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:0,fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"\\uD83C\\uDFD7\\uFE0F Certificado de Operador\"}),((_documentos$certifica2=documentos.certificadoOperador)===null||_documentos$certifica2===void 0?void 0:_documentos$certifica2.url)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',padding:'2px 6px',background:'#22c55e',color:'white',borderRadius:'4px'},children:\"\\u2713 Cargado\"})]}),(_documentos$certifica3=documentos.certificadoOperador)!==null&&_documentos$certifica3!==void 0&&_documentos$certifica3.url?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',background:'#f9fafb',borderRadius:'6px',marginBottom:'8px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#1f2937',marginBottom:'3px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:documentos.certificadoOperador.nombre}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'11px'},children:documentos.certificadoOperador.fecha&&new Date(documentos.certificadoOperador.fecha).toLocaleDateString('es-CL')}),documentos.certificadoOperador.tama√±o>0&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#9ca3af',fontSize:'10px',marginTop:'2px'},children:formatFileSize(documentos.certificadoOperador.tama√±o)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"a\",{href:documentos.certificadoOperador.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{flex:1,padding:'6px',background:'#3b82f6',color:'white',textAlign:'center',borderRadius:'6px',textDecoration:'none',fontSize:'12px'},children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('certificadoOperador'),style:{flex:1,padding:'6px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'12px'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"certificadoOperador\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'certificadoOperador'),style:{display:'none'}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"certificadoOperador\",style:{display:'block',padding:'20px 10px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'6px',textAlign:'center',cursor:'pointer',fontSize:'12px',color:'#6b7280',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#3b82f6';e.currentTarget.style.background='#eff6ff';},onMouseLeave:e=>{e.currentTarget.style.borderColor='#d1d5db';e.currentTarget.style.background='#f9fafb';},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',marginBottom:'5px'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Click para subir\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px',padding:'20px',background:'#f9fafb',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:'0 0 15px 0',fontSize:'16px',fontWeight:'600',color:'#374151'},children:\"\\uD83D\\uDCDA Certificados de Capacitaci\\xF3n\"}),((_documentos$certifica4=documentos.certificados)===null||_documentos$certifica4===void 0?void 0:_documentos$certifica4.length)>0&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'15px'},children:documentos.certificados.map((cert,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',background:'white',borderRadius:'6px',marginBottom:'8px',display:'flex',justifyContent:'space-between',alignItems:'center',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:0},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'500',fontSize:'13px',color:'#1f2937',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:[\"\\uD83D\\uDCDC \",cert.nombre]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6b7280',fontSize:'11px',marginTop:'2px'},children:[formatFileSize(cert.tama√±o),\" \\u2022 \",cert.fecha&&new Date(cert.fecha).toLocaleDateString('es-CL')]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'6px',marginLeft:'10px'},children:[/*#__PURE__*/_jsx(\"a\",{href:cert.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{padding:'4px 8px',background:'#3b82f6',color:'white',borderRadius:'4px',textDecoration:'none',fontSize:'11px'},children:\"Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('certificados',index),style:{padding:'4px 8px',background:'#ef4444',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'11px'},children:\"Eliminar\"})]})]},index))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"certificados\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'certificados'),style:{display:'none'},disabled:uploadingFile}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"certificados\",style:{display:'inline-block',padding:'10px 16px',background:uploadingFile?'#9ca3af':'#10b981',color:'white',borderRadius:'6px',cursor:uploadingFile?'not-allowed':'pointer',fontSize:'14px',fontWeight:'500'},children:uploadingFile?'‚è≥ Subiendo...':'‚ûï Agregar Certificado'})]})]})]})});};// RESTO DEL C√ìDIGO (Estilos y return) SIN CAMBIOS...\nconst styles={container:{width:'100%',minHeight:'100vh',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',position:'relative',overflow:'hidden'},header:{background:'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',color:'white',padding:'16px',position:'relative',boxShadow:'0 4px 20px rgba(0,0,0,0.15)'},headerContent:{display:'flex',flexDirection:'column',gap:'16px'},userInfo:{display:'flex',alignItems:'center',justifyContent:'space-between'},userName:{fontSize:'20px',fontWeight:'700',display:'flex',alignItems:'center',gap:'8px'},logoutBtn:{padding:'8px 16px',background:'rgba(255,255,255,0.2)',backdropFilter:'blur(10px)',color:'white',border:'1px solid rgba(255,255,255,0.3)',borderRadius:'8px',cursor:'pointer',fontSize:'14px',fontWeight:'600',display:'flex',alignItems:'center',gap:'6px'},buttonGrid:{display:'grid',gridTemplateColumns:'repeat(2, 1fr)',gap:'12px'},actionBtn:{padding:'16px',borderRadius:'12px',border:'none',cursor:'pointer',fontSize:'15px',fontWeight:'600',display:'flex',flexDirection:'column',alignItems:'center',gap:'8px',transition:'all 0.3s ease',boxShadow:'0 4px 15px rgba(0,0,0,0.1)'},mainContent:{padding:'20px',paddingTop:'30px'},dashboardGrid:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(auto-fit, minmax(300px, 1fr))',gap:'20px',marginBottom:'30px'},dashboardCard:{background:'white',borderRadius:'16px',padding:'24px',boxShadow:'0 10px 40px rgba(0,0,0,0.1)',transition:'all 0.3s ease'},cardIcon:{fontSize:'48px',marginBottom:'12px'},cardTitle:{fontSize:'18px',fontWeight:'700',color:'#1f2937',marginBottom:'8px'},cardValue:{fontSize:'32px',fontWeight:'800',color:'#3b82f6',marginBottom:'4px'},cardSubtext:{fontSize:'14px',color:'#6b7280'},zonasSection:{background:'white',borderRadius:'16px',padding:'24px',boxShadow:'0 10px 40px rgba(0,0,0,0.1)'},sectionTitle:{fontSize:'20px',fontWeight:'700',color:'#1f2937',marginBottom:'16px',display:'flex',alignItems:'center',gap:'8px'},zonaCard:{background:'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',borderRadius:'12px',padding:'16px',marginBottom:'12px',border:'2px solid #e5e7eb',transition:'all 0.3s ease'},emptyState:{textAlign:'center',padding:'40px',color:'#6b7280'},toast:{position:'fixed',top:'20px',right:'20px',padding:'12px 20px',borderRadius:'10px',boxShadow:'0 4px 20px rgba(0,0,0,0.15)',display:'flex',alignItems:'center',gap:'12px',zIndex:2000,animation:'slideInRight 0.3s ease',maxWidth:'350px',backdropFilter:'blur(10px)'}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.header,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.headerContent,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.userInfo,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.userName,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDC77\\u200D\\u2642\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:currentUser.name||'Trabajador'})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onLogout,style:styles.logoutBtn,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDEAA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Salir\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.buttonGrid,children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDocumentsModal(true),style:{...styles.actionBtn,background:'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mis Documentos\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowVehiclePanel(true),style:{...styles.actionBtn,background:'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDE9B\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mi Veh\\xEDculo\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:navigateToDashboard,style:{...styles.actionBtn,background:'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Dashboard\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>showToast('üó∫Ô∏è Funci√≥n de mapa pr√≥ximamente','info'),style:{...styles.actionBtn,background:'linear-gradient(135deg, #10b981 0%, #059669 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDDFA\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mapa GPS\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.mainContent,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.dashboardGrid,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.dashboardCard,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.cardIcon,children:\"\\uD83D\\uDCCD\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardTitle,children:\"Estado GPS\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardValue,children:gpsStatus==='active'?'Activo':'Inactivo'}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardSubtext,children:gpsStatus==='active'?'üü¢ Transmitiendo ubicaci√≥n':'üî¥ Sin transmisi√≥n'})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.dashboardCard,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.cardIcon,children:\"\\uD83C\\uDFD7\\uFE0F\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardTitle,children:\"Zonas Asignadas\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardValue,children:zonasAsignadas.length}),/*#__PURE__*/_jsxs(\"div\",{style:styles.cardSubtext,children:[zonasAsignadas.filter(z=>z.estado==='pendiente').length,\" pendientes\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.dashboardCard,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.cardIcon,children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardTitle,children:\"Estado Actual\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardValue,children:\"Disponible\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardSubtext,children:\"Listo para trabajar\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.zonasSection,children:[/*#__PURE__*/_jsxs(\"h2\",{style:styles.sectionTitle,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDDFA\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mis Zonas de Trabajo\"})]}),zonasAsignadas.length>0?/*#__PURE__*/_jsx(\"div\",{children:zonasAsignadas.map(zona=>/*#__PURE__*/_jsxs(\"div\",{style:styles.zonaCard,children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0 0 8px 0',fontSize:'16px',fontWeight:'600',color:'#1f2937'},children:[\"\\uD83D\\uDCCD \",zona.nombre]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 8px 0',fontSize:'14px',color:'#6b7280'},children:zona.direccion}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{padding:'4px 8px',background:zona.prioridad==='alta'?'#dc2626':zona.prioridad==='media'?'#f59e0b':'#10b981',color:'white',borderRadius:'6px',fontSize:'12px',fontWeight:'600'},children:[\"Prioridad: \",zona.prioridad]}),/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',background:zona.estado==='pendiente'?'#6b7280':zona.estado==='en_progreso'?'#3b82f6':'#10b981',color:'white',borderRadius:'6px',fontSize:'12px',fontWeight:'600'},children:zona.estado==='pendiente'?'‚è≥ Pendiente':zona.estado==='en_progreso'?'üîß En Progreso':'‚úÖ Completado'})]})]},zona.id))}):/*#__PURE__*/_jsxs(\"div\",{style:styles.emptyState,children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'12px',opacity:0.5},children:\"\\uD83D\\uDCED\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'16px',fontWeight:'500',marginBottom:'4px'},children:\"No tienes zonas asignadas\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px'},children:\"Cuando te asignen nuevas zonas aparecer\\xE1n aqu\\xED\"})]})]})]}),toastNotification&&/*#__PURE__*/_jsxs(\"div\",{style:{...styles.toast,background:toastNotification.type==='success'?'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)':toastNotification.type==='error'?'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)':toastNotification.type==='warning'?'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)':'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px'},children:toastNotification.type==='success'?'‚úÖ':toastNotification.type==='error'?'‚ùå':toastNotification.type==='warning'?'‚ö†Ô∏è':'‚ÑπÔ∏è'}),/*#__PURE__*/_jsx(\"span\",{style:{flex:1,fontSize:'14px',fontWeight:'500'},children:toastNotification.message})]}),showVehiclePanel&&/*#__PURE__*/_jsx(TrabajadorVehiclePanel,{currentUser:currentUser,onClose:()=>setShowVehiclePanel(false)}),/*#__PURE__*/_jsx(DocumentosModal,{}),/*#__PURE__*/_jsx(\"style\",{children:`\n        @keyframes slideInRight {\n          from {\n            transform: translateX(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n      `})]});};export default SistemaTrabajadoresFirebase;","map":{"version":3,"names":["React","useEffect","useRef","useState","trabajadoresService","database","ref","onValue","update","set","push","get","TrabajadorVehiclePanel","cloudinaryConfig","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SistemaTrabajadoresFirebase","_ref","currentUser","onLogout","onViewChange","showVehiclePanel","setShowVehiclePanel","userPosition","setUserPosition","selectedZona","setSelectedZona","isTracking","setIsTracking","workStatus","setWorkStatus","zonasAsignadas","setZonasAsignadas","notificaciones","setNotificaciones","isMobile","setIsMobile","toastNotification","setToastNotification","showDocumentsModal","setShowDocumentsModal","uploadingFile","setUploadingFile","uploadProgress","setUploadProgress","documentos","setDocumentos","licenciaConducir","url","nombre","fecha","vencimiento","certificadoOperador","certificados","message","setMessage","type","text","isLoadingDocuments","setIsLoadingDocuments","toastTimeoutRef","gpsStatus","setGpsStatus","handleFileUpload","file","tipoDocumento","alert","allowedTypes","includes","size","formData","FormData","append","trabajadorId","uid","Date","now","timestamp","cleanFileName","name","split","replace","response","fetch","cloudName","method","body","ok","Error","data","json","console","log","documentData","secure_url","publicId","public_id","toISOString","tama√±o","tipo","guardarDocumentosEnFirebase","prev","showToast","setTimeout","error","certificadosRef","newCertRef","key","docRef","verificarRef","snapshot","val","handleDeleteDocument","index","arguments","length","undefined","window","confirm","eliminarDocumentoDeFirebase","filter","_","i","certificadosData","certificadosArray","Object","entries","keyToDelete","certRef","cargarDocumentosDesdeFirebase","docsRef","docsToLoad","map","_ref2","cert","firebaseKey","unsubscribe","updatedData","docsToUpdate","_ref3","formatFileSize","bytes","k","sizes","Math","floor","round","pow","mounted","loadDocuments","Promise","resolve","checkFirebase","navigateToDashboard","duration","current","clearTimeout","checkMobile","innerWidth","addEventListener","removeEventListener","zonasRef","unsubZonas","zonasArray","_ref4","id","zona","trabajadorAsignado","estado","_ref5","createOrUpdateTrabajador","email","telefono","phone","vehicleId","rol","ubicacion","createdAt","ultimaActualizacion","then","catch","DocumentosModal","_documentos$licenciaC","_documentos$licenciaC2","_documentos$licenciaC3","_documentos$certifica","_documentos$certifica2","_documentos$certifica3","_documentos$certifica4","style","position","top","left","right","bottom","background","display","justifyContent","alignItems","zIndex","padding","children","borderRadius","maxWidth","width","maxHeight","overflow","marginBottom","margin","color","fontSize","onClick","border","cursor","textAlign","paddingLeft","href","target","rel","gridTemplateColumns","gap","fontWeight","textOverflow","whiteSpace","toLocaleDateString","marginTop","flex","textDecoration","accept","onChange","e","files","htmlFor","transition","onMouseEnter","currentTarget","borderColor","onMouseLeave","height","minWidth","marginLeft","disabled","styles","container","minHeight","header","boxShadow","headerContent","flexDirection","userInfo","userName","logoutBtn","backdropFilter","buttonGrid","actionBtn","mainContent","paddingTop","dashboardGrid","dashboardCard","cardIcon","cardTitle","cardValue","cardSubtext","zonasSection","sectionTitle","zonaCard","emptyState","toast","animation","z","direccion","flexWrap","prioridad","opacity","onClose"],"sources":["C:/Users/Izan/Desktop/AppReact/mapa-quillon/src/components/SistemaTrabajadoresFirebase.js"],"sourcesContent":["// src/components/SistemaTrabajadoresFirebase.js\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { trabajadoresService } from '../services/firebaseservices';\r\nimport { database } from '../config/firebase';\r\nimport { ref, onValue, update, set, push, get } from 'firebase/database';\r\nimport TrabajadorVehiclePanel from './TrabajadorVehiclePanel';\r\nimport { cloudinaryConfig } from '../config/cloudinary';\r\n\r\nconst SistemaTrabajadoresFirebase = ({ currentUser, onLogout, onViewChange }) => {\r\n  // Estados principales\r\n  const [showVehiclePanel, setShowVehiclePanel] = useState(false);\r\n  const [userPosition, setUserPosition] = useState(null);\r\n  const [selectedZona, setSelectedZona] = useState(null);\r\n  const [isTracking, setIsTracking] = useState(false);\r\n  const [workStatus, setWorkStatus] = useState('idle');\r\n  \r\n  // Estados para zonas y notificaciones\r\n  const [zonasAsignadas, setZonasAsignadas] = useState([]);\r\n  const [notificaciones, setNotificaciones] = useState([]);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [toastNotification, setToastNotification] = useState(null);\r\n  \r\n  // ESTADOS PARA DOCUMENTOS\r\n  const [showDocumentsModal, setShowDocumentsModal] = useState(false);\r\n  const [uploadingFile, setUploadingFile] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState({});\r\n  const [documentos, setDocumentos] = useState({\r\n    licenciaConducir: { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n    certificadoOperador: { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n    certificados: []\r\n  });\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  const [isLoadingDocuments, setIsLoadingDocuments] = useState(false);\r\n  \r\n  // Referencias\r\n  const toastTimeoutRef = useRef(null);\r\n  const [gpsStatus, setGpsStatus] = useState('inactive');\r\n\r\n  // ========== FUNCIONES COMPLETAS PARA MANEJO DE DOCUMENTOS ==========\r\n  \r\n  // 1. FUNCI√ìN PARA SUBIR ARCHIVOS (COMPLETA Y MEJORADA)\r\n  const handleFileUpload = async (file, tipoDocumento) => {\r\n    if (!file) return;\r\n    \r\n    // Validaci√≥n de PDF\r\n    if (file.type === 'application/pdf') {\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '‚ùå NO se permiten PDFs. Por favor, sube una FOTO o IMAGEN del documento (JPG/PNG).' \r\n      });\r\n      \r\n      alert(\r\n        'üì∏ ALTERNATIVAS PARA SUBIR TU DOCUMENTO:\\n\\n' +\r\n        '1. Toma una FOTO con tu celular\\n' +\r\n        '2. Haz una CAPTURA DE PANTALLA del PDF\\n' +\r\n        '3. Usa un esc√°ner que guarde como JPG\\n' +\r\n        '4. Convierte el PDF a imagen en: https://www.ilovepdf.com/pdf_to_jpg'\r\n      );\r\n      \r\n      return;\r\n    }\r\n    \r\n    // Validaci√≥n de tipo de archivo\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/jpg'];\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '‚ùå Solo se permiten im√°genes JPG y PNG' \r\n      });\r\n      return;\r\n    }\r\n    \r\n    // Validaci√≥n de tama√±o\r\n    if (file.size > 10 * 1024 * 1024) {\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '‚ùå El archivo no puede superar los 10MB' \r\n      });\r\n      return;\r\n    }\r\n\r\n    setUploadingFile(true);\r\n    setUploadProgress({ [tipoDocumento]: 0 });\r\n\r\n    try {\r\n      // Preparar FormData para Cloudinary\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      formData.append('upload_preset', 'vehiculos_docs');\r\n      \r\n      const trabajadorId = currentUser.uid || `temp_${Date.now()}`;\r\n      const timestamp = Date.now();\r\n      const cleanFileName = file.name.split('.')[0].replace(/[^a-zA-Z0-9_-]/g, '_');\r\n      \r\n      formData.append('folder', `municipalidad/trabajadores/${trabajadorId}/${tipoDocumento}`);\r\n      formData.append('public_id', `${timestamp}_${cleanFileName}`);\r\n      \r\n      setUploadProgress({ [tipoDocumento]: 30 });\r\n\r\n      // Subir a Cloudinary\r\n      const response = await fetch(\r\n        `https://api.cloudinary.com/v1_1/${cloudinaryConfig.cloudName}/image/upload`,\r\n        {\r\n          method: 'POST',\r\n          body: formData\r\n        }\r\n      );\r\n\r\n      setUploadProgress({ [tipoDocumento]: 60 });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Error al subir imagen a Cloudinary');\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('‚úÖ Imagen subida a Cloudinary:', data);\r\n      \r\n      setUploadProgress({ [tipoDocumento]: 90 });\r\n\r\n      // Crear objeto de documento con todos los datos necesarios\r\n      const documentData = {\r\n        url: data.secure_url || '',\r\n        publicId: data.public_id || '',\r\n        nombre: file.name || 'documento',\r\n        fecha: new Date().toISOString(),\r\n        tama√±o: file.size || 0,\r\n        tipo: file.type || 'image/jpeg',\r\n        vencimiento: '' // Campo opcional para fechas de vencimiento\r\n      };\r\n\r\n      console.log('üìÑ Datos del documento a guardar:', documentData);\r\n\r\n      // Guardar en Firebase PRIMERO\r\n      await guardarDocumentosEnFirebase(tipoDocumento, documentData);\r\n\r\n      // DESPU√âS actualizar el estado local\r\n      if (tipoDocumento === 'certificados') {\r\n        setDocumentos(prev => ({\r\n          ...prev,\r\n          certificados: [...(prev.certificados || []), documentData]\r\n        }));\r\n      } else {\r\n        setDocumentos(prev => ({\r\n          ...prev,\r\n          [tipoDocumento]: documentData\r\n        }));\r\n      }\r\n\r\n      setUploadProgress({ [tipoDocumento]: 100 });\r\n      setMessage({ \r\n        type: 'success', \r\n        text: `‚úÖ ${file.name} subido exitosamente` \r\n      });\r\n      showToast('‚úÖ Documento subido exitosamente', 'success');\r\n\r\n      setTimeout(() => {\r\n        setUploadProgress({});\r\n        setMessage({ type: '', text: '' });\r\n      }, 3000);\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Error completo:', error);\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '‚ùå Error al subir la imagen: ' + error.message \r\n      });\r\n      showToast('‚ùå Error al subir el documento', 'error');\r\n    } finally {\r\n      setUploadingFile(false);\r\n    }\r\n  };\r\n\r\n  // 2. FUNCI√ìN PARA GUARDAR EN FIREBASE\r\n  const guardarDocumentosEnFirebase = async (tipoDocumento, documentData) => {\r\n    try {\r\n      console.log(`üîÑ Guardando ${tipoDocumento} en Firebase...`);\r\n      \r\n      if (!currentUser || !currentUser.uid) {\r\n        throw new Error('No hay usuario autenticado');\r\n      }\r\n      \r\n      if (tipoDocumento === 'certificados') {\r\n        // Para certificados, usar push para crear una lista\r\n        const certificadosRef = ref(database, `trabajadores/${currentUser.uid}/documentos/certificados`);\r\n        const newCertRef = push(certificadosRef);\r\n        await set(newCertRef, documentData);\r\n        console.log('‚úÖ Certificado guardado con ID:', newCertRef.key);\r\n      } else {\r\n        // Para licencia y certificado de operador\r\n        const docRef = ref(database, `trabajadores/${currentUser.uid}/documentos/${tipoDocumento}`);\r\n        await set(docRef, documentData);\r\n        console.log(`‚úÖ ${tipoDocumento} guardado en Firebase`);\r\n      }\r\n      \r\n      // Verificar que se guard√≥ correctamente\r\n      const verificarRef = ref(database, `trabajadores/${currentUser.uid}/documentos`);\r\n      const snapshot = await get(verificarRef);\r\n      console.log('üì¶ Verificaci√≥n - Documentos en Firebase:', snapshot.val());\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error al guardar en Firebase:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // 3. FUNCI√ìN PARA ELIMINAR DOCUMENTOS\r\n  const handleDeleteDocument = async (tipoDocumento, index = null) => {\r\n    if (!window.confirm('¬øEst√°s seguro de eliminar este documento?')) return;\r\n\r\n    try {\r\n      // Primero eliminar de Firebase\r\n      await eliminarDocumentoDeFirebase(tipoDocumento, index);\r\n      \r\n      // Despu√©s actualizar el estado local\r\n      if (tipoDocumento === 'certificados' && index !== null) {\r\n        setDocumentos(prev => ({\r\n          ...prev,\r\n          certificados: prev.certificados.filter((_, i) => i !== index)\r\n        }));\r\n      } else {\r\n        setDocumentos(prev => ({\r\n          ...prev,\r\n          [tipoDocumento]: { url: '', nombre: '', fecha: '', vencimiento: '' }\r\n        }));\r\n      }\r\n\r\n      setMessage({ \r\n        type: 'success', \r\n        text: '‚úÖ Documento eliminado correctamente' \r\n      });\r\n      showToast('‚úÖ Documento eliminado', 'success');\r\n      \r\n      setTimeout(() => {\r\n        setMessage({ type: '', text: '' });\r\n      }, 3000);\r\n      \r\n    } catch (error) {\r\n      console.error('Error al eliminar documento:', error);\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '‚ùå Error al eliminar el documento' \r\n      });\r\n    }\r\n  };\r\n\r\n  // 4. FUNCI√ìN PARA ELIMINAR DE FIREBASE\r\n  const eliminarDocumentoDeFirebase = async (tipoDocumento, index) => {\r\n    try {\r\n      if (!currentUser || !currentUser.uid) {\r\n        throw new Error('No hay usuario autenticado');\r\n      }\r\n\r\n      if (tipoDocumento === 'certificados') {\r\n        // Para certificados, obtener la lista actual y eliminar el espec√≠fico\r\n        const certificadosRef = ref(database, `trabajadores/${currentUser.uid}/documentos/certificados`);\r\n        const snapshot = await get(certificadosRef);\r\n        const certificadosData = snapshot.val() || {};\r\n        \r\n        const certificadosArray = Object.entries(certificadosData);\r\n        if (index !== null && index < certificadosArray.length) {\r\n          const [keyToDelete] = certificadosArray[index];\r\n          const certRef = ref(database, `trabajadores/${currentUser.uid}/documentos/certificados/${keyToDelete}`);\r\n          await set(certRef, null);\r\n          console.log(`‚úÖ Certificado ${keyToDelete} eliminado de Firebase`);\r\n        }\r\n      } else {\r\n        // Para otros documentos, simplemente eliminar\r\n        const docRef = ref(database, `trabajadores/${currentUser.uid}/documentos/${tipoDocumento}`);\r\n        await set(docRef, null);\r\n        console.log(`‚úÖ ${tipoDocumento} eliminado de Firebase`);\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Error al eliminar de Firebase:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // 5. FUNCI√ìN CORREGIDA PARA CARGAR DOCUMENTOS DESDE FIREBASE\r\n  const cargarDocumentosDesdeFirebase = async () => {\r\n    if (!currentUser || !currentUser.uid) {\r\n      console.log('‚ö†Ô∏è No hay usuario para cargar documentos');\r\n      return null;\r\n    }\r\n\r\n    console.log('üîÑ Iniciando carga de documentos para usuario:', currentUser.uid);\r\n    setIsLoadingDocuments(true);\r\n    \r\n    try {\r\n      // Primero intentar obtener los datos una vez\r\n      const docsRef = ref(database, `trabajadores/${currentUser.uid}/documentos`);\r\n      const snapshot = await get(docsRef);\r\n      const data = snapshot.val();\r\n      \r\n      console.log('üì¶ Datos obtenidos de Firebase:', data);\r\n      \r\n      if (data) {\r\n        // Procesar y establecer los documentos\r\n        const docsToLoad = {\r\n          licenciaConducir: data.licenciaConducir || { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n          certificadoOperador: data.certificadoOperador || { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n          certificados: []\r\n        };\r\n        \r\n        // Procesar certificados si existen\r\n        if (data.certificados && typeof data.certificados === 'object') {\r\n          docsToLoad.certificados = Object.entries(data.certificados).map(([key, cert]) => ({\r\n            firebaseKey: key,\r\n            ...cert\r\n          }));\r\n        }\r\n        \r\n        console.log('‚úÖ Documentos procesados:', docsToLoad);\r\n        setDocumentos(docsToLoad);\r\n      } else {\r\n        console.log('‚ö†Ô∏è No hay documentos guardados para este usuario');\r\n      }\r\n      \r\n      // Establecer listener para cambios en tiempo real\r\n      const unsubscribe = onValue(docsRef, (snapshot) => {\r\n        const updatedData = snapshot.val();\r\n        console.log('üîÑ Actualizaci√≥n de documentos detectada:', updatedData);\r\n        \r\n        if (updatedData) {\r\n          const docsToUpdate = {\r\n            licenciaConducir: updatedData.licenciaConducir || { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n            certificadoOperador: updatedData.certificadoOperador || { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n            certificados: []\r\n          };\r\n          \r\n          if (updatedData.certificados && typeof updatedData.certificados === 'object') {\r\n            docsToUpdate.certificados = Object.entries(updatedData.certificados).map(([key, cert]) => ({\r\n              firebaseKey: key,\r\n              ...cert\r\n            }));\r\n          }\r\n          \r\n          setDocumentos(docsToUpdate);\r\n        }\r\n      });\r\n      \r\n      setIsLoadingDocuments(false);\r\n      return unsubscribe;\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error al cargar documentos:', error);\r\n      setIsLoadingDocuments(false);\r\n      showToast('‚ùå Error al cargar documentos', 'error');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // 6. FUNCI√ìN PARA FORMATEAR TAMA√ëO DE ARCHIVO\r\n  const formatFileSize = (bytes) => {\r\n    if (!bytes || bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\r\n  };\r\n\r\n  // 7. USE EFFECT CORREGIDO PARA CARGAR DOCUMENTOS AL INICIAR\r\n  useEffect(() => {\r\n    let unsubscribe = null;\r\n    let mounted = true;\r\n    \r\n    const loadDocuments = async () => {\r\n      if (currentUser && currentUser.uid && mounted) {\r\n        console.log('üë§ Usuario detectado, cargando documentos:', currentUser.uid);\r\n        \r\n        // Esperar un poco para asegurar que Firebase est√© listo\r\n        await new Promise(resolve => setTimeout(resolve, 500));\r\n        \r\n        if (mounted) {\r\n          unsubscribe = await cargarDocumentosDesdeFirebase();\r\n        }\r\n      }\r\n    };\r\n    \r\n    loadDocuments();\r\n    \r\n    return () => {\r\n      mounted = false;\r\n      if (unsubscribe && typeof unsubscribe === 'function') {\r\n        console.log('üîö Desuscribiendo listener de documentos');\r\n        unsubscribe();\r\n      }\r\n    };\r\n  }, [currentUser?.uid]);\r\n\r\n  // 8. USE EFFECT ADICIONAL PARA DEBUGGING\r\n  useEffect(() => {\r\n    if (showDocumentsModal && currentUser?.uid) {\r\n      console.log('üìÇ Modal abierto, estado actual de documentos:', documentos);\r\n      \r\n      // Verificar directamente en Firebase cuando se abre el modal\r\n      const checkFirebase = async () => {\r\n        const docsRef = ref(database, `trabajadores/${currentUser.uid}/documentos`);\r\n        const snapshot = await get(docsRef);\r\n        console.log('üîç Verificaci√≥n directa de Firebase:', snapshot.val());\r\n      };\r\n      \r\n      checkFirebase();\r\n    }\r\n  }, [showDocumentsModal, currentUser?.uid]);\r\n\r\n  // ========== RESTO DE LAS FUNCIONES DEL COMPONENTE ==========\r\n  \r\n  // Funci√≥n para navegar al dashboard\r\n  const navigateToDashboard = () => {\r\n    if (onViewChange) {\r\n      onViewChange('dashboard-trabajador');\r\n    }\r\n  };\r\n\r\n  // Funci√≥n para mostrar notificaciones tipo toast\r\n  const showToast = (message, type = 'info', duration = 4000) => {\r\n    if (toastTimeoutRef.current) {\r\n      clearTimeout(toastTimeoutRef.current);\r\n    }\r\n    \r\n    setToastNotification({ message, type });\r\n    \r\n    toastTimeoutRef.current = setTimeout(() => {\r\n      setToastNotification(null);\r\n    }, duration);\r\n  };\r\n\r\n  // Detectar si es m√≥vil\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth <= 768);\r\n    };\r\n    \r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    \r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  // Cargar zonas asignadas\r\n  useEffect(() => {\r\n    if (currentUser && currentUser.uid) {\r\n      const zonasRef = ref(database, 'zonas_asignadas');\r\n      const unsubZonas = onValue(zonasRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        if (data) {\r\n          const zonasArray = Object.entries(data)\r\n            .filter(([id, zona]) => {\r\n              return zona.trabajadorAsignado === currentUser.uid && zona.estado !== 'completado';\r\n            })\r\n            .map(([id, zona]) => ({\r\n              id,\r\n              ...zona\r\n            }));\r\n          \r\n          setZonasAsignadas(zonasArray);\r\n        } else {\r\n          setZonasAsignadas([]);\r\n        }\r\n      });\r\n\r\n      return () => unsubZonas();\r\n    }\r\n  }, [currentUser]);\r\n\r\n  // Registrar trabajador\r\n  useEffect(() => {\r\n    if (currentUser && currentUser.uid) {\r\n      console.log('üîÑ Registrando trabajador en Firebase...');\r\n      trabajadoresService.createOrUpdateTrabajador(currentUser.uid, {\r\n        nombre: currentUser.name || currentUser.email || 'Trabajador',\r\n        email: currentUser.email,\r\n        telefono: currentUser.phone || '',\r\n        vehicleId: currentUser.vehicleId || null,\r\n        estado: 'disponible',\r\n        rol: 'trabajador',\r\n        ubicacion: null,\r\n        createdAt: new Date().toISOString(),\r\n        ultimaActualizacion: new Date().toISOString()\r\n      }).then(() => {\r\n        console.log('‚úÖ Trabajador registrado exitosamente');\r\n      }).catch(error => {\r\n        console.error('‚ùå Error al registrar trabajador:', error);\r\n      });\r\n    }\r\n  }, [currentUser]);\r\n\r\n  // Limpiar al desmontar\r\n  useEffect(() => {\r\n    return () => {\r\n      if (toastTimeoutRef.current) {\r\n        clearTimeout(toastTimeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // ========== MODAL DE DOCUMENTOS MEJORADO ==========\r\n  const DocumentosModal = () => {\r\n    if (!showDocumentsModal) return null;\r\n\r\n    return (\r\n      <div style={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        background: 'rgba(0,0,0,0.5)',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        zIndex: 3000,\r\n        padding: '20px'\r\n      }}>\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '12px',\r\n          maxWidth: '900px',\r\n          width: '100%',\r\n          maxHeight: '90vh',\r\n          overflow: 'auto',\r\n          padding: '30px'\r\n        }}>\r\n          <div style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            marginBottom: '25px'\r\n          }}>\r\n            <h2 style={{ margin: 0, color: '#1f2937', fontSize: '24px' }}>\r\n              üìÑ Mis Documentos\r\n            </h2>\r\n            <button\r\n              onClick={() => setShowDocumentsModal(false)}\r\n              style={{\r\n                padding: '8px',\r\n                background: '#6b7280',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '6px',\r\n                cursor: 'pointer',\r\n                fontSize: '18px'\r\n              }}\r\n            >\r\n              ‚úñ\r\n            </button>\r\n          </div>\r\n\r\n          {/* Indicador de carga */}\r\n          {isLoadingDocuments && (\r\n            <div style={{\r\n              padding: '20px',\r\n              textAlign: 'center',\r\n              color: '#6b7280'\r\n            }}>\r\n              <div style={{ fontSize: '24px', marginBottom: '10px' }}>‚è≥</div>\r\n              <div>Cargando documentos...</div>\r\n            </div>\r\n          )}\r\n\r\n          {message.text && (\r\n            <div style={{\r\n              padding: '12px',\r\n              borderRadius: '8px',\r\n              marginBottom: '20px',\r\n              background: message.type === 'success' ? '#dcfce7' : '#fee2e2',\r\n              border: `1px solid ${message.type === 'success' ? '#86efac' : '#fecaca'}`,\r\n              color: message.type === 'success' ? '#166534' : '#991b1b'\r\n            }}>\r\n              {message.text}\r\n            </div>\r\n          )}\r\n\r\n          <div style={{\r\n            padding: '15px',\r\n            background: '#fef3c7',\r\n            border: '2px solid #f59e0b',\r\n            borderRadius: '8px',\r\n            marginBottom: '20px'\r\n          }}>\r\n            <h4 style={{ margin: '0 0 10px 0', color: '#92400e', fontSize: '16px' }}>\r\n              üì∏ IMPORTANTE: Solo se aceptan IM√ÅGENES\r\n            </h4>\r\n            <p style={{ margin: '0 0 10px 0', fontSize: '14px', color: '#78350f' }}>\r\n              Los archivos PDF no est√°n soportados. Si tienes documentos en PDF:\r\n            </p>\r\n            <ol style={{ margin: '0', paddingLeft: '20px', fontSize: '14px', color: '#78350f' }}>\r\n              <li>üì± Toma una <strong>FOTO</strong> del documento con tu celular</li>\r\n              <li>üíª Haz una <strong>CAPTURA DE PANTALLA</strong> del PDF</li>\r\n              <li>üîÑ Convierte el PDF a JPG en: <a href=\"https://www.ilovepdf.com/pdf_to_jpg\" target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: '#f59e0b' }}>iLovePDF.com</a></li>\r\n            </ol>\r\n          </div>\r\n\r\n          <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(280px, 1fr))',\r\n            gap: '20px'\r\n          }}>\r\n            {/* Licencia de Conducir */}\r\n            <div style={{\r\n              border: '1px solid #e5e7eb',\r\n              borderRadius: '8px',\r\n              padding: '15px',\r\n              background: documentos.licenciaConducir?.url ? '#f0fdf4' : 'white'\r\n            }}>\r\n              <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'space-between',\r\n                marginBottom: '10px'\r\n              }}>\r\n                <h5 style={{ \r\n                  margin: 0, \r\n                  fontSize: '14px', \r\n                  fontWeight: '600', \r\n                  color: '#374151' \r\n                }}>\r\n                  üöó Licencia de Conducir\r\n                </h5>\r\n                {documentos.licenciaConducir?.url && (\r\n                  <span style={{\r\n                    fontSize: '10px',\r\n                    padding: '2px 6px',\r\n                    background: '#22c55e',\r\n                    color: 'white',\r\n                    borderRadius: '4px'\r\n                  }}>\r\n                    ‚úì Cargado\r\n                  </span>\r\n                )}\r\n              </div>\r\n              \r\n              {documentos.licenciaConducir?.url ? (\r\n                <div>\r\n                  <div style={{\r\n                    padding: '8px',\r\n                    background: '#f9fafb',\r\n                    borderRadius: '6px',\r\n                    marginBottom: '8px',\r\n                    fontSize: '12px'\r\n                  }}>\r\n                    <div style={{ \r\n                      fontWeight: '500', \r\n                      color: '#1f2937',\r\n                      marginBottom: '3px',\r\n                      overflow: 'hidden',\r\n                      textOverflow: 'ellipsis',\r\n                      whiteSpace: 'nowrap'\r\n                    }}>\r\n                      {documentos.licenciaConducir.nombre}\r\n                    </div>\r\n                    <div style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                      {documentos.licenciaConducir.fecha && \r\n                        new Date(documentos.licenciaConducir.fecha).toLocaleDateString('es-CL')}\r\n                    </div>\r\n                    {documentos.licenciaConducir.tama√±o > 0 && (\r\n                      <div style={{ color: '#9ca3af', fontSize: '10px', marginTop: '2px' }}>\r\n                        {formatFileSize(documentos.licenciaConducir.tama√±o)}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div style={{ display: 'flex', gap: '8px' }}>\r\n                    <a \r\n                      href={documentos.licenciaConducir.url}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      style={{\r\n                        flex: 1,\r\n                        padding: '6px',\r\n                        background: '#3b82f6',\r\n                        color: 'white',\r\n                        textAlign: 'center',\r\n                        borderRadius: '6px',\r\n                        textDecoration: 'none',\r\n                        fontSize: '12px'\r\n                      }}\r\n                    >\r\n                      üëÅÔ∏è Ver\r\n                    </a>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleDeleteDocument('licenciaConducir')}\r\n                      style={{\r\n                        flex: 1,\r\n                        padding: '6px',\r\n                        background: '#ef4444',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '6px',\r\n                        cursor: 'pointer',\r\n                        fontSize: '12px'\r\n                      }}\r\n                    >\r\n                      üóëÔ∏è Eliminar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"licenciaConducir\"\r\n                    accept=\".jpg,.jpeg,.png\"\r\n                    onChange={(e) => handleFileUpload(e.target.files[0], 'licenciaConducir')}\r\n                    style={{ display: 'none' }}\r\n                  />\r\n                  <label\r\n                    htmlFor=\"licenciaConducir\"\r\n                    style={{\r\n                      display: 'block',\r\n                      padding: '20px 10px',\r\n                      background: '#f9fafb',\r\n                      border: '2px dashed #d1d5db',\r\n                      borderRadius: '6px',\r\n                      textAlign: 'center',\r\n                      cursor: 'pointer',\r\n                      fontSize: '12px',\r\n                      color: '#6b7280',\r\n                      transition: 'all 0.2s'\r\n                    }}\r\n                    onMouseEnter={(e) => {\r\n                      e.currentTarget.style.borderColor = '#3b82f6';\r\n                      e.currentTarget.style.background = '#eff6ff';\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      e.currentTarget.style.borderColor = '#d1d5db';\r\n                      e.currentTarget.style.background = '#f9fafb';\r\n                    }}\r\n                  >\r\n                    {uploadProgress.licenciaConducir ? (\r\n                      <div>\r\n                        <div style={{ marginBottom: '5px' }}>\r\n                          Subiendo... {uploadProgress.licenciaConducir}%\r\n                        </div>\r\n                        <div style={{\r\n                          width: '100%',\r\n                          height: '4px',\r\n                          background: '#e5e7eb',\r\n                          borderRadius: '2px',\r\n                          overflow: 'hidden'\r\n                        }}>\r\n                          <div style={{\r\n                            width: `${uploadProgress.licenciaConducir}%`,\r\n                            height: '100%',\r\n                            background: '#3b82f6',\r\n                            transition: 'width 0.3s'\r\n                          }} />\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        <div style={{ fontSize: '20px', marginBottom: '5px' }}>üì§</div>\r\n                        <div>Click para subir</div>\r\n                      </>\r\n                    )}\r\n                  </label>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Certificado de Operador */}\r\n            <div style={{\r\n              border: '1px solid #e5e7eb',\r\n              borderRadius: '8px',\r\n              padding: '15px',\r\n              background: documentos.certificadoOperador?.url ? '#f0fdf4' : 'white'\r\n            }}>\r\n              <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'space-between',\r\n                marginBottom: '10px'\r\n              }}>\r\n                <h5 style={{ \r\n                  margin: 0, \r\n                  fontSize: '14px', \r\n                  fontWeight: '600', \r\n                  color: '#374151' \r\n                }}>\r\n                  üèóÔ∏è Certificado de Operador\r\n                </h5>\r\n                {documentos.certificadoOperador?.url && (\r\n                  <span style={{\r\n                    fontSize: '10px',\r\n                    padding: '2px 6px',\r\n                    background: '#22c55e',\r\n                    color: 'white',\r\n                    borderRadius: '4px'\r\n                  }}>\r\n                    ‚úì Cargado\r\n                  </span>\r\n                )}\r\n              </div>\r\n              \r\n              {documentos.certificadoOperador?.url ? (\r\n                <div>\r\n                  <div style={{\r\n                    padding: '8px',\r\n                    background: '#f9fafb',\r\n                    borderRadius: '6px',\r\n                    marginBottom: '8px',\r\n                    fontSize: '12px'\r\n                  }}>\r\n                    <div style={{ \r\n                      fontWeight: '500', \r\n                      color: '#1f2937',\r\n                      marginBottom: '3px',\r\n                      overflow: 'hidden',\r\n                      textOverflow: 'ellipsis',\r\n                      whiteSpace: 'nowrap'\r\n                    }}>\r\n                      {documentos.certificadoOperador.nombre}\r\n                    </div>\r\n                    <div style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                      {documentos.certificadoOperador.fecha && \r\n                        new Date(documentos.certificadoOperador.fecha).toLocaleDateString('es-CL')}\r\n                    </div>\r\n                    {documentos.certificadoOperador.tama√±o > 0 && (\r\n                      <div style={{ color: '#9ca3af', fontSize: '10px', marginTop: '2px' }}>\r\n                        {formatFileSize(documentos.certificadoOperador.tama√±o)}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div style={{ display: 'flex', gap: '8px' }}>\r\n                    <a \r\n                      href={documentos.certificadoOperador.url}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      style={{\r\n                        flex: 1,\r\n                        padding: '6px',\r\n                        background: '#3b82f6',\r\n                        color: 'white',\r\n                        textAlign: 'center',\r\n                        borderRadius: '6px',\r\n                        textDecoration: 'none',\r\n                        fontSize: '12px'\r\n                      }}\r\n                    >\r\n                      üëÅÔ∏è Ver\r\n                    </a>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleDeleteDocument('certificadoOperador')}\r\n                      style={{\r\n                        flex: 1,\r\n                        padding: '6px',\r\n                        background: '#ef4444',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '6px',\r\n                        cursor: 'pointer',\r\n                        fontSize: '12px'\r\n                      }}\r\n                    >\r\n                      üóëÔ∏è Eliminar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"certificadoOperador\"\r\n                    accept=\".jpg,.jpeg,.png\"\r\n                    onChange={(e) => handleFileUpload(e.target.files[0], 'certificadoOperador')}\r\n                    style={{ display: 'none' }}\r\n                  />\r\n                  <label\r\n                    htmlFor=\"certificadoOperador\"\r\n                    style={{\r\n                      display: 'block',\r\n                      padding: '20px 10px',\r\n                      background: '#f9fafb',\r\n                      border: '2px dashed #d1d5db',\r\n                      borderRadius: '6px',\r\n                      textAlign: 'center',\r\n                      cursor: 'pointer',\r\n                      fontSize: '12px',\r\n                      color: '#6b7280',\r\n                      transition: 'all 0.2s'\r\n                    }}\r\n                    onMouseEnter={(e) => {\r\n                      e.currentTarget.style.borderColor = '#3b82f6';\r\n                      e.currentTarget.style.background = '#eff6ff';\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      e.currentTarget.style.borderColor = '#d1d5db';\r\n                      e.currentTarget.style.background = '#f9fafb';\r\n                    }}\r\n                  >\r\n                    <div style={{ fontSize: '20px', marginBottom: '5px' }}>üì§</div>\r\n                    <div>Click para subir</div>\r\n                  </label>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Secci√≥n de certificados adicionales */}\r\n          <div style={{\r\n            marginTop: '30px',\r\n            padding: '20px',\r\n            background: '#f9fafb',\r\n            borderRadius: '8px'\r\n          }}>\r\n            <h5 style={{ \r\n              margin: '0 0 15px 0', \r\n              fontSize: '16px', \r\n              fontWeight: '600', \r\n              color: '#374151' \r\n            }}>\r\n              üìö Certificados de Capacitaci√≥n\r\n            </h5>\r\n            \r\n            {documentos.certificados?.length > 0 && (\r\n              <div style={{ marginBottom: '15px' }}>\r\n                {documentos.certificados.map((cert, index) => (\r\n                  <div key={index} style={{\r\n                    padding: '10px',\r\n                    background: 'white',\r\n                    borderRadius: '6px',\r\n                    marginBottom: '8px',\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                    border: '1px solid #e5e7eb'\r\n                  }}>\r\n                    <div style={{ flex: 1, minWidth: 0 }}>\r\n                      <div style={{ \r\n                        fontWeight: '500', \r\n                        fontSize: '13px',\r\n                        color: '#1f2937',\r\n                        overflow: 'hidden',\r\n                        textOverflow: 'ellipsis',\r\n                        whiteSpace: 'nowrap'\r\n                      }}>\r\n                        üìú {cert.nombre}\r\n                      </div>\r\n                      <div style={{ \r\n                        color: '#6b7280', \r\n                        fontSize: '11px',\r\n                        marginTop: '2px' \r\n                      }}>\r\n                        {formatFileSize(cert.tama√±o)} ‚Ä¢ {cert.fecha && new Date(cert.fecha).toLocaleDateString('es-CL')}\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '6px', marginLeft: '10px' }}>\r\n                      <a \r\n                        href={cert.url}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        style={{\r\n                          padding: '4px 8px',\r\n                          background: '#3b82f6',\r\n                          color: 'white',\r\n                          borderRadius: '4px',\r\n                          textDecoration: 'none',\r\n                          fontSize: '11px'\r\n                        }}\r\n                      >\r\n                        Ver\r\n                      </a>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => handleDeleteDocument('certificados', index)}\r\n                        style={{\r\n                          padding: '4px 8px',\r\n                          background: '#ef4444',\r\n                          color: 'white',\r\n                          border: 'none',\r\n                          borderRadius: '4px',\r\n                          cursor: 'pointer',\r\n                          fontSize: '11px'\r\n                        }}\r\n                      >\r\n                        Eliminar\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n            \r\n            <div>\r\n              <input\r\n                type=\"file\"\r\n                id=\"certificados\"\r\n                accept=\".jpg,.jpeg,.png\"\r\n                onChange={(e) => handleFileUpload(e.target.files[0], 'certificados')}\r\n                style={{ display: 'none' }}\r\n                disabled={uploadingFile}\r\n              />\r\n              <label\r\n                htmlFor=\"certificados\"\r\n                style={{\r\n                  display: 'inline-block',\r\n                  padding: '10px 16px',\r\n                  background: uploadingFile ? '#9ca3af' : '#10b981',\r\n                  color: 'white',\r\n                  borderRadius: '6px',\r\n                  cursor: uploadingFile ? 'not-allowed' : 'pointer',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500'\r\n                }}\r\n              >\r\n                {uploadingFile ? '‚è≥ Subiendo...' : '‚ûï Agregar Certificado'}\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // RESTO DEL C√ìDIGO (Estilos y return) SIN CAMBIOS...\r\n  const styles = {\r\n    container: {\r\n      width: '100%',\r\n      minHeight: '100vh',\r\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n      position: 'relative',\r\n      overflow: 'hidden'\r\n    },\r\n    header: {\r\n      background: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n      color: 'white',\r\n      padding: '16px',\r\n      position: 'relative',\r\n      boxShadow: '0 4px 20px rgba(0,0,0,0.15)'\r\n    },\r\n    headerContent: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      gap: '16px'\r\n    },\r\n    userInfo: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between'\r\n    },\r\n    userName: {\r\n      fontSize: '20px',\r\n      fontWeight: '700',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '8px'\r\n    },\r\n    logoutBtn: {\r\n      padding: '8px 16px',\r\n      background: 'rgba(255,255,255,0.2)',\r\n      backdropFilter: 'blur(10px)',\r\n      color: 'white',\r\n      border: '1px solid rgba(255,255,255,0.3)',\r\n      borderRadius: '8px',\r\n      cursor: 'pointer',\r\n      fontSize: '14px',\r\n      fontWeight: '600',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '6px'\r\n    },\r\n    buttonGrid: {\r\n      display: 'grid',\r\n      gridTemplateColumns: 'repeat(2, 1fr)',\r\n      gap: '12px'\r\n    },\r\n    actionBtn: {\r\n      padding: '16px',\r\n      borderRadius: '12px',\r\n      border: 'none',\r\n      cursor: 'pointer',\r\n      fontSize: '15px',\r\n      fontWeight: '600',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      gap: '8px',\r\n      transition: 'all 0.3s ease',\r\n      boxShadow: '0 4px 15px rgba(0,0,0,0.1)'\r\n    },\r\n    mainContent: {\r\n      padding: '20px',\r\n      paddingTop: '30px'\r\n    },\r\n    dashboardGrid: {\r\n      display: 'grid',\r\n      gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(300px, 1fr))',\r\n      gap: '20px',\r\n      marginBottom: '30px'\r\n    },\r\n    dashboardCard: {\r\n      background: 'white',\r\n      borderRadius: '16px',\r\n      padding: '24px',\r\n      boxShadow: '0 10px 40px rgba(0,0,0,0.1)',\r\n      transition: 'all 0.3s ease'\r\n    },\r\n    cardIcon: {\r\n      fontSize: '48px',\r\n      marginBottom: '12px'\r\n    },\r\n    cardTitle: {\r\n      fontSize: '18px',\r\n      fontWeight: '700',\r\n      color: '#1f2937',\r\n      marginBottom: '8px'\r\n    },\r\n    cardValue: {\r\n      fontSize: '32px',\r\n      fontWeight: '800',\r\n      color: '#3b82f6',\r\n      marginBottom: '4px'\r\n    },\r\n    cardSubtext: {\r\n      fontSize: '14px',\r\n      color: '#6b7280'\r\n    },\r\n    zonasSection: {\r\n      background: 'white',\r\n      borderRadius: '16px',\r\n      padding: '24px',\r\n      boxShadow: '0 10px 40px rgba(0,0,0,0.1)'\r\n    },\r\n    sectionTitle: {\r\n      fontSize: '20px',\r\n      fontWeight: '700',\r\n      color: '#1f2937',\r\n      marginBottom: '16px',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '8px'\r\n    },\r\n    zonaCard: {\r\n      background: 'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',\r\n      borderRadius: '12px',\r\n      padding: '16px',\r\n      marginBottom: '12px',\r\n      border: '2px solid #e5e7eb',\r\n      transition: 'all 0.3s ease'\r\n    },\r\n    emptyState: {\r\n      textAlign: 'center',\r\n      padding: '40px',\r\n      color: '#6b7280'\r\n    },\r\n    toast: {\r\n      position: 'fixed',\r\n      top: '20px',\r\n      right: '20px',\r\n      padding: '12px 20px',\r\n      borderRadius: '10px',\r\n      boxShadow: '0 4px 20px rgba(0,0,0,0.15)',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '12px',\r\n      zIndex: 2000,\r\n      animation: 'slideInRight 0.3s ease',\r\n      maxWidth: '350px',\r\n      backdropFilter: 'blur(10px)'\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      {/* Header Mejorado para M√≥vil */}\r\n      <div style={styles.header}>\r\n        <div style={styles.headerContent}>\r\n          <div style={styles.userInfo}>\r\n            <div style={styles.userName}>\r\n              <span>üë∑‚Äç‚ôÇÔ∏è</span>\r\n              <span>{currentUser.name || 'Trabajador'}</span>\r\n            </div>\r\n            <button onClick={onLogout} style={styles.logoutBtn}>\r\n              <span>üö™</span>\r\n              <span>Salir</span>\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Botones de Acci√≥n */}\r\n          <div style={styles.buttonGrid}>\r\n            <button\r\n              onClick={() => setShowDocumentsModal(true)}\r\n              style={{\r\n                ...styles.actionBtn,\r\n                background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\r\n                color: 'white'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '24px' }}>üìÑ</span>\r\n              <span>Mis Documentos</span>\r\n            </button>\r\n            \r\n            <button\r\n              onClick={() => setShowVehiclePanel(true)}\r\n              style={{\r\n                ...styles.actionBtn,\r\n                background: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',\r\n                color: 'white'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '24px' }}>üöõ</span>\r\n              <span>Mi Veh√≠culo</span>\r\n            </button>\r\n            \r\n            <button\r\n              onClick={navigateToDashboard}\r\n              style={{\r\n                ...styles.actionBtn,\r\n                background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\r\n                color: 'white'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '24px' }}>üìä</span>\r\n              <span>Dashboard</span>\r\n            </button>\r\n            \r\n            <button\r\n              onClick={() => showToast('üó∫Ô∏è Funci√≥n de mapa pr√≥ximamente', 'info')}\r\n              style={{\r\n                ...styles.actionBtn,\r\n                background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\r\n                color: 'white'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '24px' }}>üó∫Ô∏è</span>\r\n              <span>Mapa GPS</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Contenido Principal */}\r\n      <div style={styles.mainContent}>\r\n        {/* Dashboard Cards */}\r\n        <div style={styles.dashboardGrid}>\r\n          <div style={styles.dashboardCard}>\r\n            <div style={styles.cardIcon}>üìç</div>\r\n            <div style={styles.cardTitle}>Estado GPS</div>\r\n            <div style={styles.cardValue}>\r\n              {gpsStatus === 'active' ? 'Activo' : 'Inactivo'}\r\n            </div>\r\n            <div style={styles.cardSubtext}>\r\n              {gpsStatus === 'active' ? 'üü¢ Transmitiendo ubicaci√≥n' : 'üî¥ Sin transmisi√≥n'}\r\n            </div>\r\n          </div>\r\n\r\n          <div style={styles.dashboardCard}>\r\n            <div style={styles.cardIcon}>üèóÔ∏è</div>\r\n            <div style={styles.cardTitle}>Zonas Asignadas</div>\r\n            <div style={styles.cardValue}>{zonasAsignadas.length}</div>\r\n            <div style={styles.cardSubtext}>\r\n              {zonasAsignadas.filter(z => z.estado === 'pendiente').length} pendientes\r\n            </div>\r\n          </div>\r\n\r\n          <div style={styles.dashboardCard}>\r\n            <div style={styles.cardIcon}>‚úÖ</div>\r\n            <div style={styles.cardTitle}>Estado Actual</div>\r\n            <div style={styles.cardValue}>Disponible</div>\r\n            <div style={styles.cardSubtext}>Listo para trabajar</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Secci√≥n de Zonas */}\r\n        <div style={styles.zonasSection}>\r\n          <h2 style={styles.sectionTitle}>\r\n            <span>üó∫Ô∏è</span>\r\n            <span>Mis Zonas de Trabajo</span>\r\n          </h2>\r\n          \r\n          {zonasAsignadas.length > 0 ? (\r\n            <div>\r\n              {zonasAsignadas.map(zona => (\r\n                <div key={zona.id} style={styles.zonaCard}>\r\n                  <h3 style={{ margin: '0 0 8px 0', fontSize: '16px', fontWeight: '600', color: '#1f2937' }}>\r\n                    üìç {zona.nombre}\r\n                  </h3>\r\n                  <p style={{ margin: '0 0 8px 0', fontSize: '14px', color: '#6b7280' }}>\r\n                    {zona.direccion}\r\n                  </p>\r\n                  <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\r\n                    <span style={{\r\n                      padding: '4px 8px',\r\n                      background: zona.prioridad === 'alta' ? '#dc2626' : \r\n                                zona.prioridad === 'media' ? '#f59e0b' : '#10b981',\r\n                      color: 'white',\r\n                      borderRadius: '6px',\r\n                      fontSize: '12px',\r\n                      fontWeight: '600'\r\n                    }}>\r\n                      Prioridad: {zona.prioridad}\r\n                    </span>\r\n                    <span style={{\r\n                      padding: '4px 8px',\r\n                      background: zona.estado === 'pendiente' ? '#6b7280' :\r\n                                zona.estado === 'en_progreso' ? '#3b82f6' : '#10b981',\r\n                      color: 'white',\r\n                      borderRadius: '6px',\r\n                      fontSize: '12px',\r\n                      fontWeight: '600'\r\n                    }}>\r\n                      {zona.estado === 'pendiente' ? '‚è≥ Pendiente' :\r\n                       zona.estado === 'en_progreso' ? 'üîß En Progreso' : '‚úÖ Completado'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div style={styles.emptyState}>\r\n              <div style={{ fontSize: '48px', marginBottom: '12px', opacity: 0.5 }}>üì≠</div>\r\n              <p style={{ fontSize: '16px', fontWeight: '500', marginBottom: '4px' }}>\r\n                No tienes zonas asignadas\r\n              </p>\r\n              <p style={{ fontSize: '14px' }}>\r\n                Cuando te asignen nuevas zonas aparecer√°n aqu√≠\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Toast Notification */}\r\n      {toastNotification && (\r\n        <div style={{\r\n          ...styles.toast,\r\n          background: toastNotification.type === 'success' ? 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)' :\r\n                     toastNotification.type === 'error' ? 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)' :\r\n                     toastNotification.type === 'warning' ? 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)' :\r\n                     'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\r\n          color: 'white'\r\n        }}>\r\n          <span style={{ fontSize: '18px' }}>\r\n            {toastNotification.type === 'success' ? '‚úÖ' :\r\n             toastNotification.type === 'error' ? '‚ùå' :\r\n             toastNotification.type === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è'}\r\n          </span>\r\n          <span style={{ flex: 1, fontSize: '14px', fontWeight: '500' }}>\r\n            {toastNotification.message}\r\n          </span>\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal del panel de veh√≠culo */}\r\n      {showVehiclePanel && (\r\n        <TrabajadorVehiclePanel \r\n          currentUser={currentUser}\r\n          onClose={() => setShowVehiclePanel(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Modal de Documentos */}\r\n      <DocumentosModal />\r\n\r\n      <style>{`\r\n        @keyframes slideInRight {\r\n          from {\r\n            transform: translateX(100%);\r\n            opacity: 0;\r\n          }\r\n          to {\r\n            transform: translateX(0);\r\n            opacity: 1;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SistemaTrabajadoresFirebase;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}