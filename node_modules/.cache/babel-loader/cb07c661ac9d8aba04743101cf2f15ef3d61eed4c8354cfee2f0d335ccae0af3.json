{"ast":null,"code":"// src/components/Login.js\nimport React,{useState}from'react';import PasswordRecovery from'./PasswordRecovery';import{signInWithEmailAndPassword,sendPasswordResetEmail,updatePassword,reauthenticateWithCredential,EmailAuthProvider,createUserWithEmailAndPassword// ‚Üê IMPORT AGREGADO\n}from'firebase/auth';import{auth,firestore}from'../config/firebase';import{doc,getDoc,updateDoc,query,where,collection,getDocs}from'firebase/firestore';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Login=_ref=>{let{onLogin}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[successMessage,setSuccessMessage]=useState('');// Estados para cambio de contrase√±a obligatorio\nconst[showChangePassword,setShowChangePassword]=useState(false);const[currentUser,setCurrentUser]=useState(null);const[newPassword,setNewPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[oldPassword,setOldPassword]=useState('');const[showPasswordRecovery,setShowPasswordRecovery]=useState(false);// Estados para recuperaci√≥n con PIN\nconst[showForgotPassword,setShowForgotPassword]=useState(false);const[resetEmail,setResetEmail]=useState('');const[recoveryPin,setRecoveryPin]=useState('');const[resetNewPassword,setResetNewPassword]=useState('');const[resetConfirmPassword,setResetConfirmPassword]=useState('');const[userIdForReset,setUserIdForReset]=useState(null);const[step,setStep]=useState(1);// 1: email y pin, 2: nueva contrase√±a\nconst handleLogin=async e=>{e.preventDefault();setLoading(true);setError('');setSuccessMessage('');try{// Primero verificar si el usuario tiene una contrase√±a temporal\nconst usersRef=collection(firestore,'users');const q=query(usersRef,where('email','==',email));const querySnapshot=await getDocs(q);if(!querySnapshot.empty){const userDoc=querySnapshot.docs[0];const userData=userDoc.data();// Verificar si hay contrase√±a temporal (recuperada con PIN)\nif(userData.tempPassword){const tempPasswordDecoded=atob(userData.tempPassword);if(password===tempPasswordDecoded){// Login exitoso con contrase√±a temporal\n// Crear una sesi√≥n temporal\nconst userInfo={uid:userDoc.id,email:userData.email,role:userData.role,name:userData.name,...userData};// Limpiar la contrase√±a temporal y marcar para cambio obligatorio\nawait updateDoc(doc(firestore,'users',userDoc.id),{tempPassword:null,requirePasswordChange:true,lastLogin:new Date().toISOString()});// Mostrar formulario de cambio de contrase√±a obligatorio\nsetCurrentUser(userInfo);setOldPassword(password);setShowChangePassword(true);setLoading(false);return;}}}// Si no hay contrase√±a temporal, intentar login normal con Firebase Auth\nconst userCredential=await signInWithEmailAndPassword(auth,email,password);const user=userCredential.user;// Obtener datos del usuario desde Firestore\nconst userDoc=await getDoc(doc(firestore,'users',user.uid));if(userDoc.exists()){const userData=userDoc.data();// Verificar si es el primer login o si debe cambiar contrase√±a\nif(userData.requirePasswordChange||userData.firstLogin!==false){setCurrentUser({uid:user.uid,email:user.email,role:userData.role,name:userData.name,...userData});setOldPassword(password);setShowChangePassword(true);setLoading(false);return;}// Login normal\nonLogin({uid:user.uid,email:user.email,role:userData.role,name:userData.name,...userData});}else{setError('No se encontraron datos del usuario');}}catch(error){console.error('Error al iniciar sesi√≥n:',error);// Mensajes de error en espa√±ol\nswitch(error.code){case'auth/user-not-found':setError('Usuario no encontrado');break;case'auth/wrong-password':setError('Contrase√±a incorrecta');break;case'auth/invalid-email':setError('Email inv√°lido');break;case'auth/too-many-requests':setError('Demasiados intentos. Intenta m√°s tarde');break;case'auth/invalid-credential':setError('Credenciales inv√°lidas. Verifica tu email y contrase√±a');break;default:setError('Error al iniciar sesi√≥n: '+error.message);}}finally{setLoading(false);}};const handleChangePassword=async e=>{e.preventDefault();// Validaciones\nif(newPassword.length<6){setError('La contrase√±a debe tener al menos 6 caracteres');return;}if(newPassword!==confirmPassword){setError('Las contrase√±as no coinciden');return;}if(newPassword===oldPassword){setError('La nueva contrase√±a debe ser diferente a la anterior');return;}setLoading(true);setError('');try{// Si el usuario actual no tiene uid de Firebase Auth (login con temp password)\nif(!auth.currentUser){// Primero intentar crear/actualizar el usuario en Firebase Auth\ntry{// Intentar hacer login con email y la nueva contrase√±a para ver si ya existe\nawait signInWithEmailAndPassword(auth,currentUser.email,newPassword);}catch(authError){// Si falla, intentar crear el usuario o actualizar\nif(authError.code==='auth/user-not-found'){// Crear usuario en Firebase Auth\nawait createUserWithEmailAndPassword(auth,currentUser.email,newPassword);}else if(authError.code==='auth/wrong-password'){// El usuario existe pero con otra contrase√±a, necesitamos actualizarla\n// Esto requerir√≠a Firebase Admin SDK, as√≠ que guardamos en Firestore\n}}}else{// Proceso normal de cambio de contrase√±a\nconst user=auth.currentUser;const credential=EmailAuthProvider.credential(user.email,oldPassword);await reauthenticateWithCredential(user,credential);await updatePassword(user,newPassword);}// Actualizar en Firestore\nawait updateDoc(doc(firestore,'users',currentUser.uid),{requirePasswordChange:false,firstLogin:false,passwordChangedAt:new Date().toISOString(),tempPassword:null,// Limpiar cualquier contrase√±a temporal\nresetMethod:null});setSuccessMessage('‚úÖ Contrase√±a actualizada exitosamente');setTimeout(()=>{onLogin(currentUser);},2000);}catch(error){console.error('Error al cambiar contrase√±a:',error);// Manejar errores...\n}finally{setLoading(false);}};// Funci√≥n para verificar email y PIN\nconst handleVerifyPinAndEmail=async e=>{e.preventDefault();setLoading(true);setError('');try{// Buscar usuario por email\nconst usersRef=collection(firestore,'users');const q=query(usersRef,where('email','==',resetEmail));const querySnapshot=await getDocs(q);if(querySnapshot.empty){setError('No existe una cuenta con este correo');setLoading(false);return;}// Verificar PIN\nconst userData=querySnapshot.docs[0].data();const userId=querySnapshot.docs[0].id;const storedPin=userData.recoveryPin;// Verificar si el usuario tiene PIN configurado\nif(!storedPin){setError('Este usuario no tiene PIN configurado. Contacta al administrador.');setLoading(false);return;}// Comparar PIN (simple comparaci√≥n, en producci√≥n deber√≠as usar hash)\nif(recoveryPin!==storedPin&&btoa(recoveryPin)!==storedPin){setError('PIN incorrecto. Intenta nuevamente.');setLoading(false);return;}// PIN correcto, pasar al siguiente paso\nsetUserIdForReset(userId);setStep(2);setSuccessMessage('‚úÖ PIN verificado. Ahora crea tu nueva contrase√±a.');setError('');}catch(error){console.error('Error:',error);setError('Error al verificar los datos');}finally{setLoading(false);}};// Funci√≥n para actualizar contrase√±a con PIN\nconst handleResetPasswordWithPin=async e=>{e.preventDefault();if(resetNewPassword.length<6){setError('La contrase√±a debe tener al menos 6 caracteres');return;}if(resetNewPassword!==resetConfirmPassword){setError('Las contrase√±as no coinciden');return;}setLoading(true);setError('');try{// NOTA: Esta es una soluci√≥n temporal. \n// En producci√≥n, deber√≠as usar una Cloud Function para cambiar la contrase√±a\n// Guardar la nueva contrase√±a en Firestore (temporalmente)\nawait updateDoc(doc(firestore,'users',userIdForReset),{tempPassword:btoa(resetNewPassword),// Contrase√±a temporal codificada\nrequirePasswordReset:true,passwordResetWithPin:true,passwordResetAt:new Date().toISOString(),resetRequestedBy:'PIN_RECOVERY'});setSuccessMessage('‚úÖ Solicitud de cambio procesada. Un administrador completar√° el cambio pronto.');// Mensaje informativo\nsetTimeout(()=>{alert('üì¢ IMPORTANTE:\\n\\n'+'Tu solicitud de cambio de contrase√±a ha sido registrada.\\n\\n'+'Un administrador del sistema completar√° el proceso dentro de las pr√≥ximas 24 horas.\\n\\n'+'Recibir√°s una confirmaci√≥n cuando puedas usar tu nueva contrase√±a.\\n\\n'+'Si es urgente, contacta al administrador:\\n'+'üìû WhatsApp: +56 9 1234 5678\\n'+'üìß Email: admin@municipalidadquillon.cl');},1000);// Limpiar y volver al login\nsetTimeout(()=>{setShowForgotPassword(false);setStep(1);setResetEmail('');setRecoveryPin('');setResetNewPassword('');setResetConfirmPassword('');setUserIdForReset(null);setSuccessMessage('');setError('');},5000);}catch(error){console.error('Error:',error);setError('Error al procesar la solicitud');}finally{setLoading(false);}};// Formulario de cambio de contrase√±a obligatorio (primer login)\nif(showChangePassword){return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',height:'100vh',display:'flex',justifyContent:'center',alignItems:'center',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',fontFamily:'Arial, sans-serif'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'40px',borderRadius:'20px',boxShadow:'0 20px 40px rgba(0,0,0,0.1)',maxWidth:'400px',width:'90%'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'10px'},children:\"\\uD83D\\uDD10\"}),/*#__PURE__*/_jsx(\"h2\",{style:{color:'#1f2937',margin:'0 0 10px 0',fontSize:'24px',fontWeight:'700'},children:\"Cambio de Contrase\\xF1a Obligatorio\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6b7280',margin:0,fontSize:'14px'},children:\"Por seguridad, debes cambiar tu contrase\\xF1a en el primer inicio de sesi\\xF3n\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleChangePassword,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Nueva Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:newPassword,onChange:e=>setNewPassword(e.target.value),required:true,placeholder:\"M\\xEDnimo 6 caracteres\",style:{width:'100%',padding:'12px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'14px',outline:'none',transition:'border-color 0.2s'},onFocus:e=>e.target.style.borderColor='#667eea',onBlur:e=>e.target.style.borderColor='#d1d5db'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Confirmar Nueva Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),required:true,placeholder:\"Repite la contrase\\xF1a\",style:{width:'100%',padding:'12px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'14px',outline:'none',transition:'border-color 0.2s'},onFocus:e=>e.target.style.borderColor='#667eea',onBlur:e=>e.target.style.borderColor='#d1d5db'})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{background:'#fef2f2',border:'1px solid #fecaca',color:'#dc2626',padding:'10px',borderRadius:'6px',marginBottom:'20px',fontSize:'14px',textAlign:'center'},children:error}),successMessage&&/*#__PURE__*/_jsx(\"div\",{style:{background:'#dcfce7',border:'1px solid #86efac',color:'#166534',padding:'10px',borderRadius:'6px',marginBottom:'20px',fontSize:'14px',textAlign:'center'},children:successMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{width:'100%',padding:'14px',background:loading?'#9ca3af':'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',fontWeight:'600',cursor:loading?'not-allowed':'pointer',transition:'transform 0.2s',display:'flex',alignItems:'center',justifyContent:'center',gap:'8px'},children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner\"}),\"Actualizando...\"]}):'‚úÖ Cambiar Contrase√±a'})]})]}),/*#__PURE__*/_jsx(\"style\",{children:`\n          .spinner {\n            width: 16px;\n            height: 16px;\n            border: 2px solid #ffffff;\n            border-top-color: transparent;\n            border-radius: 50%;\n            animation: spin 0.6s linear infinite;\n          }\n          \n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        `})]});}// Formulario de recuperaci√≥n con PIN\nif(showForgotPassword){return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',height:'100vh',display:'flex',justifyContent:'center',alignItems:'center',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',fontFamily:'Arial, sans-serif'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'40px',borderRadius:'20px',boxShadow:'0 20px 40px rgba(0,0,0,0.1)',maxWidth:'400px',width:'90%'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'10px'},children:step===1?'üîê':'üîë'}),/*#__PURE__*/_jsx(\"h2\",{style:{color:'#1f2937',margin:'0 0 10px 0',fontSize:'24px',fontWeight:'700'},children:step===1?'Recuperar Contrase√±a':'Nueva Contrase√±a'}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6b7280',margin:0,fontSize:'14px'},children:step===1?'Ingresa tu email y PIN de seguridad':'Crea tu nueva contrase√±a'})]}),step===1&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleVerifyPinAndEmail,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Correo Electr\\xF3nico\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:resetEmail,onChange:e=>setResetEmail(e.target.value),required:true,placeholder:\"ejemplo@gmail.com\",style:{width:'100%',padding:'12px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'14px',outline:'none',transition:'border-color 0.2s'},onFocus:e=>e.target.style.borderColor='#667eea',onBlur:e=>e.target.style.borderColor='#d1d5db'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"PIN de Seguridad (4 d\\xEDgitos)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",maxLength:\"4\",pattern:\"[0-9]{4}\",value:recoveryPin,onChange:e=>{const value=e.target.value.replace(/\\D/g,'');setRecoveryPin(value);},required:true,placeholder:\"\\u2022\\u2022\\u2022\\u2022\",style:{width:'100%',padding:'12px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'20px',letterSpacing:'10px',textAlign:'center',outline:'none',transition:'border-color 0.2s'},onFocus:e=>e.target.style.borderColor='#667eea',onBlur:e=>e.target.style.borderColor='#d1d5db'}),/*#__PURE__*/_jsx(\"small\",{style:{color:'#6b7280',fontSize:'12px',display:'block',marginTop:'5px'},children:\"Ingresa el PIN que se te proporcion\\xF3 al crear tu cuenta\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{background:'#fef2f2',border:'1px solid #fecaca',color:'#dc2626',padding:'10px',borderRadius:'6px',marginBottom:'20px',fontSize:'14px',textAlign:'center'},children:error}),successMessage&&/*#__PURE__*/_jsx(\"div\",{style:{background:'#dcfce7',border:'1px solid #86efac',color:'#166534',padding:'10px',borderRadius:'6px',marginBottom:'20px',fontSize:'14px',textAlign:'center'},children:successMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||recoveryPin.length!==4,style:{width:'100%',padding:'14px',background:loading||recoveryPin.length!==4?'#9ca3af':'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',fontWeight:'600',cursor:loading||recoveryPin.length!==4?'not-allowed':'pointer',marginBottom:'12px'},children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner\",style:{display:'inline-block',width:'16px',height:'16px',marginRight:'8px'}}),\"Verificando...\"]}):'Verificar PIN'})]}),step===2&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleResetPasswordWithPin,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Nueva Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:resetNewPassword,onChange:e=>setResetNewPassword(e.target.value),required:true,placeholder:\"M\\xEDnimo 6 caracteres\",style:{width:'100%',padding:'12px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'14px',outline:'none',transition:'border-color 0.2s'},onFocus:e=>e.target.style.borderColor='#667eea',onBlur:e=>e.target.style.borderColor='#d1d5db'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Confirmar Nueva Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:resetConfirmPassword,onChange:e=>setResetConfirmPassword(e.target.value),required:true,placeholder:\"Repite la contrase\\xF1a\",style:{width:'100%',padding:'12px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'14px',outline:'none',transition:'border-color 0.2s'},onFocus:e=>e.target.style.borderColor='#667eea',onBlur:e=>e.target.style.borderColor='#d1d5db'})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{background:'#fef2f2',border:'1px solid #fecaca',color:'#dc2626',padding:'10px',borderRadius:'6px',marginBottom:'20px',fontSize:'14px',textAlign:'center'},children:error}),successMessage&&/*#__PURE__*/_jsx(\"div\",{style:{background:'#dcfce7',border:'1px solid #86efac',color:'#166534',padding:'10px',borderRadius:'6px',marginBottom:'20px',fontSize:'14px',textAlign:'center'},children:successMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{width:'100%',padding:'14px',background:loading?'#9ca3af':'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',fontWeight:'600',cursor:loading?'not-allowed':'pointer',marginBottom:'12px'},children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner\",style:{display:'inline-block',width:'16px',height:'16px',marginRight:'8px'}}),\"Procesando...\"]}):'‚úÖ Actualizar Contrase√±a'})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowForgotPassword(false);setError('');setSuccessMessage('');setResetEmail('');setRecoveryPin('');setResetNewPassword('');setResetConfirmPassword('');setStep(1);setUserIdForReset(null);},style:{width:'100%',padding:'14px',background:'#6b7280',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',fontWeight:'600',cursor:'pointer'},children:\"\\u2190 Volver al Login\"}),step===1&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',padding:'15px',background:'#f9fafb',borderRadius:'8px',fontSize:'12px',color:'#6b7280',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\xBFNo recuerdas tu PIN?\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Contacta al administrador del sistema\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uD83D\\uDCDE +56 9 1234 5678\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uD83D\\uDCE7 admin@municipalidadquillon.cl\"]})]}),/*#__PURE__*/_jsx(\"style\",{children:`\n          .spinner {\n            width: 16px;\n            height: 16px;\n            border: 2px solid #ffffff;\n            border-top-color: transparent;\n            border-radius: 50%;\n            animation: spin 0.6s linear infinite;\n          }\n          \n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        `})]});}// Formulario de login principal\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',height:'100vh',display:'flex',justifyContent:'center',alignItems:'center',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',fontFamily:'Arial, sans-serif'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'40px',borderRadius:'20px',boxShadow:'0 20px 40px rgba(0,0,0,0.1)',maxWidth:'400px',width:'90%'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'10px'},children:\"\\uD83D\\uDDFA\\uFE0F\"}),/*#__PURE__*/_jsx(\"h1\",{style:{color:'#1f2937',margin:'0 0 10px 0',fontSize:'28px',fontWeight:'700'},children:\"MapaQuill\\xF3n\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'#6b7280',margin:0,fontSize:'14px'},children:[\"Sistema de Control de Flota\",/*#__PURE__*/_jsx(\"br\",{}),\"Municipalidad de Quill\\xF3n\"]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Correo Electr\\xF3nico\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true,placeholder:\"ejemplo@gmail.com\",style:{width:'100%',padding:'12px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'14px',outline:'none',transition:'border-color 0.2s'},onFocus:e=>e.target.style.borderColor='#667eea',onBlur:e=>e.target.style.borderColor='#d1d5db'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true,placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",style:{width:'100%',padding:'12px',border:'1px solid #d1d5db',borderRadius:'8px',fontSize:'14px',outline:'none',transition:'border-color 0.2s'},onFocus:e=>e.target.style.borderColor='#667eea',onBlur:e=>e.target.style.borderColor='#d1d5db'})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{background:'#fef2f2',border:'1px solid #fecaca',color:'#dc2626',padding:'10px',borderRadius:'6px',marginBottom:'20px',fontSize:'14px',textAlign:'center'},children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{width:'100%',padding:'14px',background:loading?'#9ca3af':'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',fontWeight:'600',cursor:loading?'not-allowed':'pointer',transition:'transform 0.2s',display:'flex',alignItems:'center',justifyContent:'center',gap:'8px'},onMouseOver:e=>!loading&&(e.currentTarget.style.transform='translateY(-2px)'),onMouseOut:e=>e.currentTarget.style.transform='translateY(0px)',children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner\"}),\"Iniciando sesi\\xF3n...\"]}):'Iniciar Sesi√≥n'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPasswordRecovery(true),style:{width:'100%',padding:'12px',background:'transparent',color:'#3b82f6',border:'1px solid #3b82f6',borderRadius:'8px',fontSize:'14px',fontWeight:'500',cursor:'pointer',marginTop:'10px'},children:\"\\uD83D\\uDD13 \\xBFOlvidaste tu contrase\\xF1a?\"}),showPasswordRecovery&&/*#__PURE__*/_jsx(PasswordRecovery,{onClose:()=>setShowPasswordRecovery(false),onSuccess:()=>{setShowPasswordRecovery(false);setSuccessMessage('‚úÖ Proceso completado. Intenta iniciar sesi√≥n con tu nueva contrase√±a.');}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px',padding:'15px',background:'#f9fafb',borderRadius:'8px',fontSize:'12px',color:'#6b7280',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\xBFNecesitas ayuda?\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Contacta al administrador del sistema\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uD83D\\uDCDE +56 9 1234 5678\"]})]}),/*#__PURE__*/_jsx(\"style\",{children:`\n        .spinner {\n          width: 16px;\n          height: 16px;\n          border: 2px solid #ffffff;\n          border-top-color: transparent;\n          border-radius: 50%;\n          animation: spin 0.6s linear infinite;\n          display: inline-block;\n        }\n        \n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `})]});};export default Login;","map":{"version":3,"names":["React","useState","PasswordRecovery","signInWithEmailAndPassword","sendPasswordResetEmail","updatePassword","reauthenticateWithCredential","EmailAuthProvider","createUserWithEmailAndPassword","auth","firestore","doc","getDoc","updateDoc","query","where","collection","getDocs","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_ref","onLogin","email","setEmail","password","setPassword","loading","setLoading","error","setError","successMessage","setSuccessMessage","showChangePassword","setShowChangePassword","currentUser","setCurrentUser","newPassword","setNewPassword","confirmPassword","setConfirmPassword","oldPassword","setOldPassword","showPasswordRecovery","setShowPasswordRecovery","showForgotPassword","setShowForgotPassword","resetEmail","setResetEmail","recoveryPin","setRecoveryPin","resetNewPassword","setResetNewPassword","resetConfirmPassword","setResetConfirmPassword","userIdForReset","setUserIdForReset","step","setStep","handleLogin","e","preventDefault","usersRef","q","querySnapshot","empty","userDoc","docs","userData","data","tempPassword","tempPasswordDecoded","atob","userInfo","uid","id","role","name","requirePasswordChange","lastLogin","Date","toISOString","userCredential","user","exists","firstLogin","console","code","message","handleChangePassword","length","authError","credential","passwordChangedAt","resetMethod","setTimeout","handleVerifyPinAndEmail","userId","storedPin","btoa","handleResetPasswordWithPin","requirePasswordReset","passwordResetWithPin","passwordResetAt","resetRequestedBy","alert","style","width","height","display","justifyContent","alignItems","background","fontFamily","children","padding","borderRadius","boxShadow","maxWidth","textAlign","marginBottom","fontSize","color","margin","fontWeight","onSubmit","type","value","onChange","target","required","placeholder","border","outline","transition","onFocus","borderColor","onBlur","disabled","cursor","gap","className","maxLength","pattern","replace","letterSpacing","marginTop","marginRight","onClick","onMouseOver","currentTarget","transform","onMouseOut","onClose","onSuccess"],"sources":["C:/Users/Izan/Desktop/AppReact/mapa-quillon/src/components/Login.js"],"sourcesContent":["// src/components/Login.js\r\nimport React, { useState } from 'react';\r\nimport PasswordRecovery from './PasswordRecovery';\r\nimport { \r\n  signInWithEmailAndPassword, \r\n  sendPasswordResetEmail,\r\n  updatePassword,\r\n  reauthenticateWithCredential,\r\n  EmailAuthProvider,\r\n  createUserWithEmailAndPassword  // ‚Üê IMPORT AGREGADO\r\n} from 'firebase/auth';\r\nimport { auth, firestore } from '../config/firebase';\r\nimport { doc, getDoc, updateDoc, query, where, collection, getDocs } from 'firebase/firestore';\r\n\r\nconst Login = ({ onLogin }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  \r\n  // Estados para cambio de contrase√±a obligatorio\r\n  const [showChangePassword, setShowChangePassword] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [oldPassword, setOldPassword] = useState('');\r\n  const [showPasswordRecovery, setShowPasswordRecovery] = useState(false);\r\n  \r\n  // Estados para recuperaci√≥n con PIN\r\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\r\n  const [resetEmail, setResetEmail] = useState('');\r\n  const [recoveryPin, setRecoveryPin] = useState('');\r\n  const [resetNewPassword, setResetNewPassword] = useState('');\r\n  const [resetConfirmPassword, setResetConfirmPassword] = useState('');\r\n  const [userIdForReset, setUserIdForReset] = useState(null);\r\n  const [step, setStep] = useState(1); // 1: email y pin, 2: nueva contrase√±a\r\n\r\n  const handleLogin = async (e) => {\r\n  e.preventDefault();\r\n  setLoading(true);\r\n  setError('');\r\n  setSuccessMessage('');\r\n\r\n  try {\r\n    // Primero verificar si el usuario tiene una contrase√±a temporal\r\n    const usersRef = collection(firestore, 'users');\r\n    const q = query(usersRef, where('email', '==', email));\r\n    const querySnapshot = await getDocs(q);\r\n    \r\n    if (!querySnapshot.empty) {\r\n      const userDoc = querySnapshot.docs[0];\r\n      const userData = userDoc.data();\r\n      \r\n      // Verificar si hay contrase√±a temporal (recuperada con PIN)\r\n      if (userData.tempPassword) {\r\n        const tempPasswordDecoded = atob(userData.tempPassword);\r\n        \r\n        if (password === tempPasswordDecoded) {\r\n          // Login exitoso con contrase√±a temporal\r\n          // Crear una sesi√≥n temporal\r\n          const userInfo = {\r\n            uid: userDoc.id,\r\n            email: userData.email,\r\n            role: userData.role,\r\n            name: userData.name,\r\n            ...userData\r\n          };\r\n          \r\n          // Limpiar la contrase√±a temporal y marcar para cambio obligatorio\r\n          await updateDoc(doc(firestore, 'users', userDoc.id), {\r\n            tempPassword: null,\r\n            requirePasswordChange: true,\r\n            lastLogin: new Date().toISOString()\r\n          });\r\n          \r\n          // Mostrar formulario de cambio de contrase√±a obligatorio\r\n          setCurrentUser(userInfo);\r\n          setOldPassword(password);\r\n          setShowChangePassword(true);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Si no hay contrase√±a temporal, intentar login normal con Firebase Auth\r\n    const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n    const user = userCredential.user;\r\n\r\n    // Obtener datos del usuario desde Firestore\r\n    const userDoc = await getDoc(doc(firestore, 'users', user.uid));\r\n    \r\n    if (userDoc.exists()) {\r\n      const userData = userDoc.data();\r\n      \r\n      // Verificar si es el primer login o si debe cambiar contrase√±a\r\n      if (userData.requirePasswordChange || userData.firstLogin !== false) {\r\n        setCurrentUser({\r\n          uid: user.uid,\r\n          email: user.email,\r\n          role: userData.role,\r\n          name: userData.name,\r\n          ...userData\r\n        });\r\n        setOldPassword(password);\r\n        setShowChangePassword(true);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // Login normal\r\n      onLogin({\r\n        uid: user.uid,\r\n        email: user.email,\r\n        role: userData.role,\r\n        name: userData.name,\r\n        ...userData\r\n      });\r\n    } else {\r\n      setError('No se encontraron datos del usuario');\r\n    }\r\n  } catch (error) {\r\n    console.error('Error al iniciar sesi√≥n:', error);\r\n    \r\n    // Mensajes de error en espa√±ol\r\n    switch (error.code) {\r\n      case 'auth/user-not-found':\r\n        setError('Usuario no encontrado');\r\n        break;\r\n      case 'auth/wrong-password':\r\n        setError('Contrase√±a incorrecta');\r\n        break;\r\n      case 'auth/invalid-email':\r\n        setError('Email inv√°lido');\r\n        break;\r\n      case 'auth/too-many-requests':\r\n        setError('Demasiados intentos. Intenta m√°s tarde');\r\n        break;\r\n      case 'auth/invalid-credential':\r\n        setError('Credenciales inv√°lidas. Verifica tu email y contrase√±a');\r\n        break;\r\n      default:\r\n        setError('Error al iniciar sesi√≥n: ' + error.message);\r\n    }\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n  const handleChangePassword = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Validaciones\r\n    if (newPassword.length < 6) {\r\n      setError('La contrase√±a debe tener al menos 6 caracteres');\r\n      return;\r\n    }\r\n    \r\n    if (newPassword !== confirmPassword) {\r\n      setError('Las contrase√±as no coinciden');\r\n      return;\r\n    }\r\n    \r\n    if (newPassword === oldPassword) {\r\n      setError('La nueva contrase√±a debe ser diferente a la anterior');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n    // Si el usuario actual no tiene uid de Firebase Auth (login con temp password)\r\n    if (!auth.currentUser) {\r\n      // Primero intentar crear/actualizar el usuario en Firebase Auth\r\n      try {\r\n        // Intentar hacer login con email y la nueva contrase√±a para ver si ya existe\r\n        await signInWithEmailAndPassword(auth, currentUser.email, newPassword);\r\n      } catch (authError) {\r\n        // Si falla, intentar crear el usuario o actualizar\r\n        if (authError.code === 'auth/user-not-found') {\r\n          // Crear usuario en Firebase Auth\r\n          await createUserWithEmailAndPassword(auth, currentUser.email, newPassword);\r\n        } else if (authError.code === 'auth/wrong-password') {\r\n          // El usuario existe pero con otra contrase√±a, necesitamos actualizarla\r\n          // Esto requerir√≠a Firebase Admin SDK, as√≠ que guardamos en Firestore\r\n        }\r\n      }\r\n    } else {\r\n      // Proceso normal de cambio de contrase√±a\r\n      const user = auth.currentUser;\r\n      const credential = EmailAuthProvider.credential(user.email, oldPassword);\r\n      await reauthenticateWithCredential(user, credential);\r\n      await updatePassword(user, newPassword);\r\n    }\r\n    \r\n    // Actualizar en Firestore\r\n    await updateDoc(doc(firestore, 'users', currentUser.uid), {\r\n      requirePasswordChange: false,\r\n      firstLogin: false,\r\n      passwordChangedAt: new Date().toISOString(),\r\n      tempPassword: null, // Limpiar cualquier contrase√±a temporal\r\n      resetMethod: null\r\n    });\r\n    \r\n    setSuccessMessage('‚úÖ Contrase√±a actualizada exitosamente');\r\n    \r\n    setTimeout(() => {\r\n      onLogin(currentUser);\r\n    }, 2000);\r\n    \r\n  } catch (error) {\r\n    console.error('Error al cambiar contrase√±a:', error);\r\n    // Manejar errores...\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n  };\r\n\r\n  // Funci√≥n para verificar email y PIN\r\n  const handleVerifyPinAndEmail = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      // Buscar usuario por email\r\n      const usersRef = collection(firestore, 'users');\r\n      const q = query(usersRef, where('email', '==', resetEmail));\r\n      const querySnapshot = await getDocs(q);\r\n      \r\n      if (querySnapshot.empty) {\r\n        setError('No existe una cuenta con este correo');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // Verificar PIN\r\n      const userData = querySnapshot.docs[0].data();\r\n      const userId = querySnapshot.docs[0].id;\r\n      const storedPin = userData.recoveryPin;\r\n      \r\n      // Verificar si el usuario tiene PIN configurado\r\n      if (!storedPin) {\r\n        setError('Este usuario no tiene PIN configurado. Contacta al administrador.');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // Comparar PIN (simple comparaci√≥n, en producci√≥n deber√≠as usar hash)\r\n      if (recoveryPin !== storedPin && btoa(recoveryPin) !== storedPin) {\r\n        setError('PIN incorrecto. Intenta nuevamente.');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // PIN correcto, pasar al siguiente paso\r\n      setUserIdForReset(userId);\r\n      setStep(2);\r\n      setSuccessMessage('‚úÖ PIN verificado. Ahora crea tu nueva contrase√±a.');\r\n      setError('');\r\n      \r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      setError('Error al verificar los datos');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Funci√≥n para actualizar contrase√±a con PIN\r\n  const handleResetPasswordWithPin = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (resetNewPassword.length < 6) {\r\n      setError('La contrase√±a debe tener al menos 6 caracteres');\r\n      return;\r\n    }\r\n    \r\n    if (resetNewPassword !== resetConfirmPassword) {\r\n      setError('Las contrase√±as no coinciden');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      // NOTA: Esta es una soluci√≥n temporal. \r\n      // En producci√≥n, deber√≠as usar una Cloud Function para cambiar la contrase√±a\r\n      \r\n      // Guardar la nueva contrase√±a en Firestore (temporalmente)\r\n      await updateDoc(doc(firestore, 'users', userIdForReset), {\r\n        tempPassword: btoa(resetNewPassword), // Contrase√±a temporal codificada\r\n        requirePasswordReset: true,\r\n        passwordResetWithPin: true,\r\n        passwordResetAt: new Date().toISOString(),\r\n        resetRequestedBy: 'PIN_RECOVERY'\r\n      });\r\n      \r\n      setSuccessMessage('‚úÖ Solicitud de cambio procesada. Un administrador completar√° el cambio pronto.');\r\n      \r\n      // Mensaje informativo\r\n      setTimeout(() => {\r\n        alert(\r\n          'üì¢ IMPORTANTE:\\n\\n' +\r\n          'Tu solicitud de cambio de contrase√±a ha sido registrada.\\n\\n' +\r\n          'Un administrador del sistema completar√° el proceso dentro de las pr√≥ximas 24 horas.\\n\\n' +\r\n          'Recibir√°s una confirmaci√≥n cuando puedas usar tu nueva contrase√±a.\\n\\n' +\r\n          'Si es urgente, contacta al administrador:\\n' +\r\n          'üìû WhatsApp: +56 9 1234 5678\\n' +\r\n          'üìß Email: admin@municipalidadquillon.cl'\r\n        );\r\n      }, 1000);\r\n      \r\n      // Limpiar y volver al login\r\n      setTimeout(() => {\r\n        setShowForgotPassword(false);\r\n        setStep(1);\r\n        setResetEmail('');\r\n        setRecoveryPin('');\r\n        setResetNewPassword('');\r\n        setResetConfirmPassword('');\r\n        setUserIdForReset(null);\r\n        setSuccessMessage('');\r\n        setError('');\r\n      }, 5000);\r\n      \r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      setError('Error al procesar la solicitud');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Formulario de cambio de contrase√±a obligatorio (primer login)\r\n  if (showChangePassword) {\r\n    return (\r\n      <div style={{\r\n        width: '100%',\r\n        height: '100vh',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n        fontFamily: 'Arial, sans-serif'\r\n      }}>\r\n        <div style={{\r\n          background: 'white',\r\n          padding: '40px',\r\n          borderRadius: '20px',\r\n          boxShadow: '0 20px 40px rgba(0,0,0,0.1)',\r\n          maxWidth: '400px',\r\n          width: '90%'\r\n        }}>\r\n          <div style={{ textAlign: 'center', marginBottom: '30px' }}>\r\n            <div style={{ fontSize: '48px', marginBottom: '10px' }}>üîê</div>\r\n            <h2 style={{ \r\n              color: '#1f2937', \r\n              margin: '0 0 10px 0', \r\n              fontSize: '24px',\r\n              fontWeight: '700' \r\n            }}>\r\n              Cambio de Contrase√±a Obligatorio\r\n            </h2>\r\n            <p style={{ \r\n              color: '#6b7280', \r\n              margin: 0,\r\n              fontSize: '14px' \r\n            }}>\r\n              Por seguridad, debes cambiar tu contrase√±a en el primer inicio de sesi√≥n\r\n            </p>\r\n          </div>\r\n\r\n          <form onSubmit={handleChangePassword}>\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <label style={{\r\n                display: 'block',\r\n                marginBottom: '8px',\r\n                color: '#374151',\r\n                fontSize: '14px',\r\n                fontWeight: '500'\r\n              }}>\r\n                Nueva Contrase√±a\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                value={newPassword}\r\n                onChange={(e) => setNewPassword(e.target.value)}\r\n                required\r\n                placeholder=\"M√≠nimo 6 caracteres\"\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '12px',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '8px',\r\n                  fontSize: '14px',\r\n                  outline: 'none',\r\n                  transition: 'border-color 0.2s'\r\n                }}\r\n                onFocus={(e) => e.target.style.borderColor = '#667eea'}\r\n                onBlur={(e) => e.target.style.borderColor = '#d1d5db'}\r\n              />\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '24px' }}>\r\n              <label style={{\r\n                display: 'block',\r\n                marginBottom: '8px',\r\n                color: '#374151',\r\n                fontSize: '14px',\r\n                fontWeight: '500'\r\n              }}>\r\n                Confirmar Nueva Contrase√±a\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                value={confirmPassword}\r\n                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                required\r\n                placeholder=\"Repite la contrase√±a\"\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '12px',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '8px',\r\n                  fontSize: '14px',\r\n                  outline: 'none',\r\n                  transition: 'border-color 0.2s'\r\n                }}\r\n                onFocus={(e) => e.target.style.borderColor = '#667eea'}\r\n                onBlur={(e) => e.target.style.borderColor = '#d1d5db'}\r\n              />\r\n            </div>\r\n\r\n            {/* Mensajes */}\r\n            {error && (\r\n              <div style={{\r\n                background: '#fef2f2',\r\n                border: '1px solid #fecaca',\r\n                color: '#dc2626',\r\n                padding: '10px',\r\n                borderRadius: '6px',\r\n                marginBottom: '20px',\r\n                fontSize: '14px',\r\n                textAlign: 'center'\r\n              }}>\r\n                {error}\r\n              </div>\r\n            )}\r\n\r\n            {successMessage && (\r\n              <div style={{\r\n                background: '#dcfce7',\r\n                border: '1px solid #86efac',\r\n                color: '#166534',\r\n                padding: '10px',\r\n                borderRadius: '6px',\r\n                marginBottom: '20px',\r\n                fontSize: '14px',\r\n                textAlign: 'center'\r\n              }}>\r\n                {successMessage}\r\n              </div>\r\n            )}\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              style={{\r\n                width: '100%',\r\n                padding: '14px',\r\n                background: loading ? '#9ca3af' : 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '8px',\r\n                fontSize: '16px',\r\n                fontWeight: '600',\r\n                cursor: loading ? 'not-allowed' : 'pointer',\r\n                transition: 'transform 0.2s',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                gap: '8px'\r\n              }}\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <span className=\"spinner\"></span>\r\n                  Actualizando...\r\n                </>\r\n              ) : (\r\n                '‚úÖ Cambiar Contrase√±a'\r\n              )}\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        <style>{`\r\n          .spinner {\r\n            width: 16px;\r\n            height: 16px;\r\n            border: 2px solid #ffffff;\r\n            border-top-color: transparent;\r\n            border-radius: 50%;\r\n            animation: spin 0.6s linear infinite;\r\n          }\r\n          \r\n          @keyframes spin {\r\n            0% { transform: rotate(0deg); }\r\n            100% { transform: rotate(360deg); }\r\n          }\r\n        `}</style>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Formulario de recuperaci√≥n con PIN\r\n  if (showForgotPassword) {\r\n    return (\r\n      <div style={{\r\n        width: '100%',\r\n        height: '100vh',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n        fontFamily: 'Arial, sans-serif'\r\n      }}>\r\n        <div style={{\r\n          background: 'white',\r\n          padding: '40px',\r\n          borderRadius: '20px',\r\n          boxShadow: '0 20px 40px rgba(0,0,0,0.1)',\r\n          maxWidth: '400px',\r\n          width: '90%'\r\n        }}>\r\n          <div style={{ textAlign: 'center', marginBottom: '30px' }}>\r\n            <div style={{ fontSize: '48px', marginBottom: '10px' }}>\r\n              {step === 1 ? 'üîê' : 'üîë'}\r\n            </div>\r\n            <h2 style={{ \r\n              color: '#1f2937', \r\n              margin: '0 0 10px 0', \r\n              fontSize: '24px',\r\n              fontWeight: '700' \r\n            }}>\r\n              {step === 1 ? 'Recuperar Contrase√±a' : 'Nueva Contrase√±a'}\r\n            </h2>\r\n            <p style={{ \r\n              color: '#6b7280', \r\n              margin: 0,\r\n              fontSize: '14px' \r\n            }}>\r\n              {step === 1 \r\n                ? 'Ingresa tu email y PIN de seguridad' \r\n                : 'Crea tu nueva contrase√±a'}\r\n            </p>\r\n          </div>\r\n\r\n          {/* PASO 1: Email y PIN */}\r\n          {step === 1 && (\r\n            <form onSubmit={handleVerifyPinAndEmail}>\r\n              <div style={{ marginBottom: '20px' }}>\r\n                <label style={{\r\n                  display: 'block',\r\n                  marginBottom: '8px',\r\n                  color: '#374151',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500'\r\n                }}>\r\n                  Correo Electr√≥nico\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={resetEmail}\r\n                  onChange={(e) => setResetEmail(e.target.value)}\r\n                  required\r\n                  placeholder=\"ejemplo@gmail.com\"\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '12px',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '8px',\r\n                    fontSize: '14px',\r\n                    outline: 'none',\r\n                    transition: 'border-color 0.2s'\r\n                  }}\r\n                  onFocus={(e) => e.target.style.borderColor = '#667eea'}\r\n                  onBlur={(e) => e.target.style.borderColor = '#d1d5db'}\r\n                />\r\n              </div>\r\n\r\n              <div style={{ marginBottom: '24px' }}>\r\n                <label style={{\r\n                  display: 'block',\r\n                  marginBottom: '8px',\r\n                  color: '#374151',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500'\r\n                }}>\r\n                  PIN de Seguridad (4 d√≠gitos)\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  maxLength=\"4\"\r\n                  pattern=\"[0-9]{4}\"\r\n                  value={recoveryPin}\r\n                  onChange={(e) => {\r\n                    const value = e.target.value.replace(/\\D/g, '');\r\n                    setRecoveryPin(value);\r\n                  }}\r\n                  required\r\n                  placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '12px',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '8px',\r\n                    fontSize: '20px',\r\n                    letterSpacing: '10px',\r\n                    textAlign: 'center',\r\n                    outline: 'none',\r\n                    transition: 'border-color 0.2s'\r\n                  }}\r\n                  onFocus={(e) => e.target.style.borderColor = '#667eea'}\r\n                  onBlur={(e) => e.target.style.borderColor = '#d1d5db'}\r\n                />\r\n                <small style={{ \r\n                  color: '#6b7280', \r\n                  fontSize: '12px',\r\n                  display: 'block',\r\n                  marginTop: '5px' \r\n                }}>\r\n                  Ingresa el PIN que se te proporcion√≥ al crear tu cuenta\r\n                </small>\r\n              </div>\r\n\r\n              {error && (\r\n                <div style={{\r\n                  background: '#fef2f2',\r\n                  border: '1px solid #fecaca',\r\n                  color: '#dc2626',\r\n                  padding: '10px',\r\n                  borderRadius: '6px',\r\n                  marginBottom: '20px',\r\n                  fontSize: '14px',\r\n                  textAlign: 'center'\r\n                }}>\r\n                  {error}\r\n                </div>\r\n              )}\r\n\r\n              {successMessage && (\r\n                <div style={{\r\n                  background: '#dcfce7',\r\n                  border: '1px solid #86efac',\r\n                  color: '#166534',\r\n                  padding: '10px',\r\n                  borderRadius: '6px',\r\n                  marginBottom: '20px',\r\n                  fontSize: '14px',\r\n                  textAlign: 'center'\r\n                }}>\r\n                  {successMessage}\r\n                </div>\r\n              )}\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading || recoveryPin.length !== 4}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '14px',\r\n                  background: loading || recoveryPin.length !== 4 \r\n                    ? '#9ca3af' \r\n                    : 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  fontSize: '16px',\r\n                  fontWeight: '600',\r\n                  cursor: loading || recoveryPin.length !== 4 ? 'not-allowed' : 'pointer',\r\n                  marginBottom: '12px'\r\n                }}\r\n              >\r\n                {loading ? (\r\n                  <>\r\n                    <span className=\"spinner\" style={{\r\n                      display: 'inline-block',\r\n                      width: '16px',\r\n                      height: '16px',\r\n                      marginRight: '8px'\r\n                    }}></span>\r\n                    Verificando...\r\n                  </>\r\n                ) : (\r\n                  'Verificar PIN'\r\n                )}\r\n              </button>\r\n            </form>\r\n          )}\r\n\r\n          {/* PASO 2: Nueva Contrase√±a */}\r\n          {step === 2 && (\r\n            <form onSubmit={handleResetPasswordWithPin}>\r\n              <div style={{ marginBottom: '20px' }}>\r\n                <label style={{\r\n                  display: 'block',\r\n                  marginBottom: '8px',\r\n                  color: '#374151',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500'\r\n                }}>\r\n                  Nueva Contrase√±a\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  value={resetNewPassword}\r\n                  onChange={(e) => setResetNewPassword(e.target.value)}\r\n                  required\r\n                  placeholder=\"M√≠nimo 6 caracteres\"\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '12px',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '8px',\r\n                    fontSize: '14px',\r\n                    outline: 'none',\r\n                    transition: 'border-color 0.2s'\r\n                  }}\r\n                  onFocus={(e) => e.target.style.borderColor = '#667eea'}\r\n                  onBlur={(e) => e.target.style.borderColor = '#d1d5db'}\r\n                />\r\n              </div>\r\n\r\n              <div style={{ marginBottom: '24px' }}>\r\n                <label style={{\r\n                  display: 'block',\r\n                  marginBottom: '8px',\r\n                  color: '#374151',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500'\r\n                }}>\r\n                  Confirmar Nueva Contrase√±a\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  value={resetConfirmPassword}\r\n                  onChange={(e) => setResetConfirmPassword(e.target.value)}\r\n                  required\r\n                  placeholder=\"Repite la contrase√±a\"\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '12px',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '8px',\r\n                    fontSize: '14px',\r\n                    outline: 'none',\r\n                    transition: 'border-color 0.2s'\r\n                  }}\r\n                  onFocus={(e) => e.target.style.borderColor = '#667eea'}\r\n                  onBlur={(e) => e.target.style.borderColor = '#d1d5db'}\r\n                />\r\n              </div>\r\n\r\n              {error && (\r\n                <div style={{\r\n                  background: '#fef2f2',\r\n                  border: '1px solid #fecaca',\r\n                  color: '#dc2626',\r\n                  padding: '10px',\r\n                  borderRadius: '6px',\r\n                  marginBottom: '20px',\r\n                  fontSize: '14px',\r\n                  textAlign: 'center'\r\n                }}>\r\n                  {error}\r\n                </div>\r\n              )}\r\n\r\n              {successMessage && (\r\n                <div style={{\r\n                  background: '#dcfce7',\r\n                  border: '1px solid #86efac',\r\n                  color: '#166534',\r\n                  padding: '10px',\r\n                  borderRadius: '6px',\r\n                  marginBottom: '20px',\r\n                  fontSize: '14px',\r\n                  textAlign: 'center'\r\n                }}>\r\n                  {successMessage}\r\n                </div>\r\n              )}\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '14px',\r\n                  background: loading ? '#9ca3af' : 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  fontSize: '16px',\r\n                  fontWeight: '600',\r\n                  cursor: loading ? 'not-allowed' : 'pointer',\r\n                  marginBottom: '12px'\r\n                }}\r\n              >\r\n                {loading ? (\r\n                  <>\r\n                    <span className=\"spinner\" style={{\r\n                      display: 'inline-block',\r\n                      width: '16px',\r\n                      height: '16px',\r\n                      marginRight: '8px'\r\n                    }}></span>\r\n                    Procesando...\r\n                  </>\r\n                ) : (\r\n                  '‚úÖ Actualizar Contrase√±a'\r\n                )}\r\n              </button>\r\n            </form>\r\n          )}\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              setShowForgotPassword(false);\r\n              setError('');\r\n              setSuccessMessage('');\r\n              setResetEmail('');\r\n              setRecoveryPin('');\r\n              setResetNewPassword('');\r\n              setResetConfirmPassword('');\r\n              setStep(1);\r\n              setUserIdForReset(null);\r\n            }}\r\n            style={{\r\n              width: '100%',\r\n              padding: '14px',\r\n              background: '#6b7280',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '8px',\r\n              fontSize: '16px',\r\n              fontWeight: '600',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            ‚Üê Volver al Login\r\n          </button>\r\n\r\n          {step === 1 && (\r\n            <div style={{\r\n              marginTop: '20px',\r\n              padding: '15px',\r\n              background: '#f9fafb',\r\n              borderRadius: '8px',\r\n              fontSize: '12px',\r\n              color: '#6b7280',\r\n              textAlign: 'center'\r\n            }}>\r\n              <strong>¬øNo recuerdas tu PIN?</strong><br/>\r\n              Contacta al administrador del sistema<br/>\r\n              üìû +56 9 1234 5678<br/>\r\n              üìß admin@municipalidadquillon.cl\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <style>{`\r\n          .spinner {\r\n            width: 16px;\r\n            height: 16px;\r\n            border: 2px solid #ffffff;\r\n            border-top-color: transparent;\r\n            border-radius: 50%;\r\n            animation: spin 0.6s linear infinite;\r\n          }\r\n          \r\n          @keyframes spin {\r\n            0% { transform: rotate(0deg); }\r\n            100% { transform: rotate(360deg); }\r\n          }\r\n        `}</style>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Formulario de login principal\r\n  return (\r\n    <div style={{\r\n      width: '100%',\r\n      height: '100vh',\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n      fontFamily: 'Arial, sans-serif'\r\n    }}>\r\n      <div style={{\r\n        background: 'white',\r\n        padding: '40px',\r\n        borderRadius: '20px',\r\n        boxShadow: '0 20px 40px rgba(0,0,0,0.1)',\r\n        maxWidth: '400px',\r\n        width: '90%'\r\n      }}>\r\n        {/* Logo y t√≠tulo */}\r\n        <div style={{ textAlign: 'center', marginBottom: '30px' }}>\r\n          <div style={{ fontSize: '48px', marginBottom: '10px' }}>üó∫Ô∏è</div>\r\n          <h1 style={{ \r\n            color: '#1f2937', \r\n            margin: '0 0 10px 0', \r\n            fontSize: '28px',\r\n            fontWeight: '700' \r\n          }}>\r\n            MapaQuill√≥n\r\n          </h1>\r\n          <p style={{ \r\n            color: '#6b7280', \r\n            margin: 0,\r\n            fontSize: '14px' \r\n          }}>\r\n            Sistema de Control de Flota<br/>\r\n            Municipalidad de Quill√≥n\r\n          </p>\r\n        </div>\r\n\r\n        {/* Formulario */}\r\n        <form onSubmit={handleLogin}>\r\n          <div style={{ marginBottom: '20px' }}>\r\n            <label style={{\r\n              display: 'block',\r\n              marginBottom: '8px',\r\n              color: '#374151',\r\n              fontSize: '14px',\r\n              fontWeight: '500'\r\n            }}>\r\n              Correo Electr√≥nico\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              required\r\n              placeholder=\"ejemplo@gmail.com\"\r\n              style={{\r\n                width: '100%',\r\n                padding: '12px',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '8px',\r\n                fontSize: '14px',\r\n                outline: 'none',\r\n                transition: 'border-color 0.2s'\r\n              }}\r\n              onFocus={(e) => e.target.style.borderColor = '#667eea'}\r\n              onBlur={(e) => e.target.style.borderColor = '#d1d5db'}\r\n            />\r\n          </div>\r\n\r\n          <div style={{ marginBottom: '12px' }}>\r\n            <label style={{\r\n              display: 'block',\r\n              marginBottom: '8px',\r\n              color: '#374151',\r\n              fontSize: '14px',\r\n              fontWeight: '500'\r\n            }}>\r\n              Contrase√±a\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              required\r\n              placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n              style={{\r\n                width: '100%',\r\n                padding: '12px',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '8px',\r\n                fontSize: '14px',\r\n                outline: 'none',\r\n                transition: 'border-color 0.2s'\r\n              }}\r\n              onFocus={(e) => e.target.style.borderColor = '#667eea'}\r\n              onBlur={(e) => e.target.style.borderColor = '#d1d5db'}\r\n            />\r\n          </div>\r\n\r\n          \r\n\r\n          {/* Mensaje de error */}\r\n          {error && (\r\n            <div style={{\r\n              background: '#fef2f2',\r\n              border: '1px solid #fecaca',\r\n              color: '#dc2626',\r\n              padding: '10px',\r\n              borderRadius: '6px',\r\n              marginBottom: '20px',\r\n              fontSize: '14px',\r\n              textAlign: 'center'\r\n            }}>\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {/* Bot√≥n de login */}\r\n          <button\r\n  type=\"submit\"\r\n  disabled={loading}\r\n  style={{\r\n    width: '100%',\r\n    padding: '14px',\r\n    background: loading ? '#9ca3af' : 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n    fontSize: '16px',\r\n    fontWeight: '600',\r\n    cursor: loading ? 'not-allowed' : 'pointer',\r\n    transition: 'transform 0.2s',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    gap: '8px'\r\n  }}\r\n  onMouseOver={(e) => !loading && (e.currentTarget.style.transform = 'translateY(-2px)')}\r\n  onMouseOut={(e) => e.currentTarget.style.transform = 'translateY(0px)'}\r\n>\r\n  {loading ? (\r\n    <>\r\n      <span className=\"spinner\"></span>\r\n      Iniciando sesi√≥n...\r\n    </>\r\n  ) : (\r\n    'Iniciar Sesi√≥n'\r\n  )}\r\n</button>\r\n          <button\r\n  type=\"button\"\r\n  onClick={() => setShowPasswordRecovery(true)}\r\n  style={{\r\n    width: '100%',\r\n    padding: '12px',\r\n    background: 'transparent',\r\n    color: '#3b82f6',\r\n    border: '1px solid #3b82f6',\r\n    borderRadius: '8px',\r\n    fontSize: '14px',\r\n    fontWeight: '500',\r\n    cursor: 'pointer',\r\n    marginTop: '10px'\r\n  }}\r\n>\r\n  üîì ¬øOlvidaste tu contrase√±a?\r\n</button>\r\n\r\n{/* Modal de recuperaci√≥n de contrase√±a */}\r\n{showPasswordRecovery && (\r\n  <PasswordRecovery\r\n    onClose={() => setShowPasswordRecovery(false)}\r\n    onSuccess={() => {\r\n      setShowPasswordRecovery(false);\r\n            setSuccessMessage('‚úÖ Proceso completado. Intenta iniciar sesi√≥n con tu nueva contrase√±a.');\r\n\r\n      \r\n    }}\r\n  />\r\n)}\r\n  </form>\r\n        \r\n\r\n        {/* Informaci√≥n de contacto */}\r\n        <div style={{\r\n          marginTop: '30px',\r\n          padding: '15px',\r\n          background: '#f9fafb',\r\n          borderRadius: '8px',\r\n          fontSize: '12px',\r\n          color: '#6b7280',\r\n          textAlign: 'center'\r\n        }}>\r\n          <strong>¬øNecesitas ayuda?</strong><br/>\r\n          Contacta al administrador del sistema<br/>\r\n          üìû +56 9 1234 5678\r\n        </div>\r\n      </div>\r\n\r\n      <style>{`\r\n        .spinner {\r\n          width: 16px;\r\n          height: 16px;\r\n          border: 2px solid #ffffff;\r\n          border-top-color: transparent;\r\n          border-radius: 50%;\r\n          animation: spin 0.6s linear infinite;\r\n          display: inline-block;\r\n        }\r\n        \r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}