{"ast":null,"code":"// src/components/SistemaTrabajadoresFirebase.js\nimport React,{useEffect,useRef,useState}from'react';import{trabajadoresService}from'../services/firebaseservices';import{database}from'../config/firebase';import{ref,onValue,update,set,push}from'firebase/database';import TrabajadorVehiclePanel from'./TrabajadorVehiclePanel';import{cloudinaryConfig}from'../config/cloudinary';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SistemaTrabajadoresFirebase=_ref=>{let{currentUser,onLogout,onViewChange}=_ref;// Estados principales\nconst[showVehiclePanel,setShowVehiclePanel]=useState(false);const[userPosition,setUserPosition]=useState(null);const[selectedZona,setSelectedZona]=useState(null);const[isTracking,setIsTracking]=useState(false);const[workStatus,setWorkStatus]=useState('idle');// Estados para zonas y notificaciones\nconst[zonasAsignadas,setZonasAsignadas]=useState([]);const[notificaciones,setNotificaciones]=useState([]);const[isMobile,setIsMobile]=useState(false);const[toastNotification,setToastNotification]=useState(null);// ESTADOS PARA DOCUMENTOS\nconst[showDocumentsModal,setShowDocumentsModal]=useState(false);const[uploadingFile,setUploadingFile]=useState(false);const[uploadProgress,setUploadProgress]=useState({});const[documentos,setDocumentos]=useState({licenciaConducir:{url:'',nombre:'',fecha:'',vencimiento:''},certificadoOperador:{url:'',nombre:'',fecha:'',vencimiento:''},certificados:[]});const[message,setMessage]=useState({type:'',text:''});// Referencias\nconst toastTimeoutRef=useRef(null);const[gpsStatus,setGpsStatus]=useState('inactive');// ========== FUNCIONES PARA MANEJO DE DOCUMENTOS (mantener las existentes) ==========\nconst handleFileUpload=async(file,tipoDocumento)=>{if(!file)return;if(file.type==='application/pdf'){setMessage({type:'error',text:'❌ NO se permiten PDFs. Por favor, sube una FOTO o IMAGEN del documento (JPG/PNG).'});alert('📸 ALTERNATIVAS PARA SUBIR TU DOCUMENTO:\\n\\n'+'1. Toma una FOTO con tu celular\\n'+'2. Haz una CAPTURA DE PANTALLA del PDF\\n'+'3. Usa un escáner que guarde como JPG\\n'+'4. Convierte el PDF a imagen en: https://www.ilovepdf.com/pdf_to_jpg');return;}const allowedTypes=['image/jpeg','image/png','image/jpg'];if(!allowedTypes.includes(file.type)){setMessage({type:'error',text:'❌ Solo se permiten imágenes JPG y PNG'});return;}if(file.size>10*1024*1024){setMessage({type:'error',text:'❌ El archivo no puede superar los 10MB'});return;}setUploadingFile(true);setUploadProgress({[tipoDocumento]:0});try{const formData=new FormData();formData.append('file',file);formData.append('upload_preset','vehiculos_docs');const trabajadorId=currentUser.uid||`temp_${Date.now()}`;const timestamp=Date.now();const cleanFileName=file.name.split('.')[0].replace(/[^a-zA-Z0-9_-]/g,'_');formData.append('folder',`municipalidad/trabajadores/${trabajadorId}/${tipoDocumento}`);formData.append('public_id',`${timestamp}_${cleanFileName}`);setUploadProgress({[tipoDocumento]:30});const response=await fetch(`https://api.cloudinary.com/v1_1/${cloudinaryConfig.cloudName}/image/upload`,{method:'POST',body:formData});setUploadProgress({[tipoDocumento]:60});const data=await response.json();console.log('✅ Imagen subida:',data);setUploadProgress({[tipoDocumento]:90});const documentData={url:data.secure_url,publicId:data.public_id,nombre:file.name,fecha:new Date().toISOString(),tamaño:file.size,tipo:file.type};if(tipoDocumento==='certificados'){setDocumentos(prev=>({...prev,certificados:[...(prev.certificados||[]),documentData]}));}else{setDocumentos(prev=>({...prev,[tipoDocumento]:documentData}));}await guardarDocumentosEnFirebase(tipoDocumento,documentData);setUploadProgress({[tipoDocumento]:100});setMessage({type:'success',text:`✅ ${file.name} subido exitosamente`});showToast('✅ Documento subido exitosamente','success');setTimeout(()=>setUploadProgress({}),1000);}catch(error){console.error('Error:',error);setMessage({type:'error',text:'❌ Error al subir la imagen'});showToast('❌ Error al subir el documento','error');}finally{setUploadingFile(false);}};const handleDeleteDocument=async function(tipoDocumento){let index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!window.confirm('¿Estás seguro de eliminar este documento?'))return;try{if(tipoDocumento==='certificados'&&index!==null){setDocumentos(prev=>({...prev,certificados:prev.certificados.filter((_,i)=>i!==index)}));}else{setDocumentos(prev=>({...prev,[tipoDocumento]:{url:'',nombre:'',fecha:'',vencimiento:''}}));}await eliminarDocumentoDeFirebase(tipoDocumento,index);setMessage({type:'success',text:'✅ Documento eliminado'});showToast('✅ Documento eliminado','success');}catch(error){console.error('Error al eliminar documento:',error);setMessage({type:'error',text:'❌ Error al eliminar el documento'});}};const guardarDocumentosEnFirebase=async(tipoDocumento,documentData)=>{try{const trabajadorRef=ref(database,`trabajadores/${currentUser.uid}/documentos/${tipoDocumento}`);if(tipoDocumento==='certificados'){const certificadosRef=ref(database,`trabajadores/${currentUser.uid}/documentos/certificados`);const newCertRef=push(certificadosRef);await set(newCertRef,documentData);}else{await set(trabajadorRef,documentData);}console.log('✅ Documento guardado en Firebase');}catch(error){console.error('❌ Error al guardar en Firebase:',error);}};const eliminarDocumentoDeFirebase=async(tipoDocumento,index)=>{try{if(tipoDocumento==='certificados'&&index!==null){const certificadosRef=ref(database,`trabajadores/${currentUser.uid}/documentos/certificados`);await set(certificadosRef,documentos.certificados.filter((_,i)=>i!==index));}else{const trabajadorRef=ref(database,`trabajadores/${currentUser.uid}/documentos/${tipoDocumento}`);await set(trabajadorRef,null);}console.log('✅ Documento eliminado de Firebase');}catch(error){console.error('❌ Error al eliminar de Firebase:',error);}};const formatFileSize=bytes=>{if(bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return Math.round(bytes/Math.pow(k,i)*100)/100+' '+sizes[i];};const cargarDocumentosDesdeFirebase=async()=>{try{const docsRef=ref(database,`trabajadores/${currentUser.uid}/documentos`);onValue(docsRef,snapshot=>{const data=snapshot.val();if(data){setDocumentos({licenciaConducir:data.licenciaConducir||{url:'',nombre:'',fecha:'',vencimiento:''},certificadoOperador:data.certificadoOperador||{url:'',nombre:'',fecha:'',vencimiento:''},certificados:data.certificados?Object.values(data.certificados):[]});}});}catch(error){console.error('Error al cargar documentos:',error);}};// Cargar documentos al iniciar\nuseEffect(()=>{if(currentUser&&currentUser.uid){cargarDocumentosDesdeFirebase();}},[currentUser]);// Función para navegar al dashboard\nconst navigateToDashboard=()=>{if(onViewChange){onViewChange('dashboard-trabajador');}};// Función para mostrar notificaciones tipo toast\nconst showToast=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';let duration=arguments.length>2&&arguments[2]!==undefined?arguments[2]:4000;if(toastTimeoutRef.current){clearTimeout(toastTimeoutRef.current);}setToastNotification({message,type});toastTimeoutRef.current=setTimeout(()=>{setToastNotification(null);},duration);};// Detectar si es móvil\nuseEffect(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<=768);};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);// Cargar zonas asignadas\nuseEffect(()=>{if(currentUser&&currentUser.uid){const zonasRef=ref(database,'zonas_asignadas');const unsubZonas=onValue(zonasRef,snapshot=>{const data=snapshot.val();if(data){const zonasArray=Object.entries(data).filter(_ref2=>{let[id,zona]=_ref2;return zona.trabajadorAsignado===currentUser.uid&&zona.estado!=='completado';}).map(_ref3=>{let[id,zona]=_ref3;return{id,...zona};});setZonasAsignadas(zonasArray);}else{setZonasAsignadas([]);}});return()=>unsubZonas();}},[currentUser]);// Registrar trabajador\nuseEffect(()=>{if(currentUser&&currentUser.uid){trabajadoresService.createOrUpdateTrabajador(currentUser.uid,{nombre:currentUser.name||currentUser.email||'Trabajador',email:currentUser.email,telefono:currentUser.phone||'',vehicleId:currentUser.vehicleId||null,estado:'disponible',rol:'trabajador',ubicacion:null,createdAt:new Date().toISOString(),ultimaActualizacion:new Date().toISOString()});}},[currentUser]);// ========== MODAL DE DOCUMENTOS ==========\nconst DocumentosModal=()=>{var _documentos$licenciaC,_documentos$licenciaC2,_documentos$licenciaC3,_documentos$certifica,_documentos$certifica2,_documentos$certifica3,_documentos$certifica4;if(!showDocumentsModal)return null;return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.5)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:3000,padding:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',maxWidth:'900px',width:'100%',maxHeight:'90vh',overflow:'auto',padding:'30px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'25px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,color:'#1f2937',fontSize:'24px'},children:\"\\uD83D\\uDCC4 Mis Documentos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDocumentsModal(false),style:{padding:'8px',background:'#6b7280',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'18px'},children:\"\\u2716\"})]}),message.text&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'12px',borderRadius:'8px',marginBottom:'20px',background:message.type==='success'?'#dcfce7':'#fee2e2',border:`1px solid ${message.type==='success'?'#86efac':'#fecaca'}`,color:message.type==='success'?'#166534':'#991b1b'},children:message.text}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',background:'#fef3c7',border:'2px solid #f59e0b',borderRadius:'8px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 10px 0',color:'#92400e',fontSize:'16px'},children:\"\\uD83D\\uDCF8 IMPORTANTE: Solo se aceptan IM\\xC1GENES\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 10px 0',fontSize:'14px',color:'#78350f'},children:\"Los archivos PDF no est\\xE1n soportados. Si tienes documentos en PDF:\"}),/*#__PURE__*/_jsxs(\"ol\",{style:{margin:'0',paddingLeft:'20px',fontSize:'14px',color:'#78350f'},children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDCF1 Toma una \",/*#__PURE__*/_jsx(\"strong\",{children:\"FOTO\"}),\" del documento con tu celular\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDCBB Haz una \",/*#__PURE__*/_jsx(\"strong\",{children:\"CAPTURA DE PANTALLA\"}),\" del PDF\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDD04 Convierte el PDF a JPG en: \",/*#__PURE__*/_jsx(\"a\",{href:\"https://www.ilovepdf.com/pdf_to_jpg\",target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#f59e0b'},children:\"iLovePDF.com\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(auto-fit, minmax(280px, 1fr))',gap:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'8px',padding:'15px',background:(_documentos$licenciaC=documentos.licenciaConducir)!==null&&_documentos$licenciaC!==void 0&&_documentos$licenciaC.url?'#f0fdf4':'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:0,fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"\\uD83D\\uDE97 Licencia de Conducir\"}),((_documentos$licenciaC2=documentos.licenciaConducir)===null||_documentos$licenciaC2===void 0?void 0:_documentos$licenciaC2.url)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',padding:'2px 6px',background:'#22c55e',color:'white',borderRadius:'4px'},children:\"\\u2713 Cargado\"})]}),(_documentos$licenciaC3=documentos.licenciaConducir)!==null&&_documentos$licenciaC3!==void 0&&_documentos$licenciaC3.url?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',background:'#f9fafb',borderRadius:'6px',marginBottom:'8px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#1f2937',marginBottom:'3px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:documentos.licenciaConducir.nombre}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'11px'},children:new Date(documentos.licenciaConducir.fecha).toLocaleDateString('es-CL')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"a\",{href:documentos.licenciaConducir.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{flex:1,padding:'6px',background:'#3b82f6',color:'white',textAlign:'center',borderRadius:'6px',textDecoration:'none',fontSize:'12px'},children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('licenciaConducir'),style:{flex:1,padding:'6px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'12px'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"licenciaConducir\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'licenciaConducir'),style:{display:'none'}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"licenciaConducir\",style:{display:'block',padding:'20px 10px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'6px',textAlign:'center',cursor:'pointer',fontSize:'12px',color:'#6b7280',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#3b82f6';e.currentTarget.style.background='#eff6ff';},onMouseLeave:e=>{e.currentTarget.style.borderColor='#d1d5db';e.currentTarget.style.background='#f9fafb';},children:uploadProgress.licenciaConducir?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'5px'},children:[\"Subiendo... \",uploadProgress.licenciaConducir,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'4px',background:'#e5e7eb',borderRadius:'2px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:`${uploadProgress.licenciaConducir}%`,height:'100%',background:'#3b82f6',transition:'width 0.3s'}})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',marginBottom:'5px'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Click para subir\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'8px',padding:'15px',background:(_documentos$certifica=documentos.certificadoOperador)!==null&&_documentos$certifica!==void 0&&_documentos$certifica.url?'#f0fdf4':'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:0,fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"\\uD83C\\uDFD7\\uFE0F Certificado de Operador\"}),((_documentos$certifica2=documentos.certificadoOperador)===null||_documentos$certifica2===void 0?void 0:_documentos$certifica2.url)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',padding:'2px 6px',background:'#22c55e',color:'white',borderRadius:'4px'},children:\"\\u2713 Cargado\"})]}),(_documentos$certifica3=documentos.certificadoOperador)!==null&&_documentos$certifica3!==void 0&&_documentos$certifica3.url?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',background:'#f9fafb',borderRadius:'6px',marginBottom:'8px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#1f2937',marginBottom:'3px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:documentos.certificadoOperador.nombre}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'11px'},children:new Date(documentos.certificadoOperador.fecha).toLocaleDateString('es-CL')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"a\",{href:documentos.certificadoOperador.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{flex:1,padding:'6px',background:'#3b82f6',color:'white',textAlign:'center',borderRadius:'6px',textDecoration:'none',fontSize:'12px'},children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('certificadoOperador'),style:{flex:1,padding:'6px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'12px'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"certificadoOperador\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'certificadoOperador'),style:{display:'none'}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"certificadoOperador\",style:{display:'block',padding:'20px 10px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'6px',textAlign:'center',cursor:'pointer',fontSize:'12px',color:'#6b7280',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#3b82f6';e.currentTarget.style.background='#eff6ff';},onMouseLeave:e=>{e.currentTarget.style.borderColor='#d1d5db';e.currentTarget.style.background='#f9fafb';},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',marginBottom:'5px'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Click para subir\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px',padding:'20px',background:'#f9fafb',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:'0 0 15px 0',fontSize:'16px',fontWeight:'600',color:'#374151'},children:\"\\uD83D\\uDCDA Certificados de Capacitaci\\xF3n\"}),((_documentos$certifica4=documentos.certificados)===null||_documentos$certifica4===void 0?void 0:_documentos$certifica4.length)>0&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'15px'},children:documentos.certificados.map((cert,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',background:'white',borderRadius:'6px',marginBottom:'8px',display:'flex',justifyContent:'space-between',alignItems:'center',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:0},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'500',fontSize:'13px',color:'#1f2937',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:[\"\\uD83D\\uDCDC \",cert.nombre]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6b7280',fontSize:'11px',marginTop:'2px'},children:[formatFileSize(cert.tamaño),\" \\u2022 \",new Date(cert.fecha).toLocaleDateString('es-CL')]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'6px',marginLeft:'10px'},children:[/*#__PURE__*/_jsx(\"a\",{href:cert.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{padding:'4px 8px',background:'#3b82f6',color:'white',borderRadius:'4px',textDecoration:'none',fontSize:'11px'},children:\"Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('certificados',index),style:{padding:'4px 8px',background:'#ef4444',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'11px'},children:\"Eliminar\"})]})]},index))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"certificados\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'certificados'),style:{display:'none'},disabled:uploadingFile}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"certificados\",style:{display:'inline-block',padding:'10px 16px',background:uploadingFile?'#9ca3af':'#10b981',color:'white',borderRadius:'6px',cursor:uploadingFile?'not-allowed':'pointer',fontSize:'14px',fontWeight:'500'},children:uploadingFile?'⏳ Subiendo...':'➕ Agregar Certificado'})]})]})]})});};// Estilos\nconst styles={container:{width:'100%',minHeight:'100vh',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',position:'relative',overflow:'hidden'},header:{background:'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',color:'white',padding:'16px',position:'relative',boxShadow:'0 4px 20px rgba(0,0,0,0.15)'},headerContent:{display:'flex',flexDirection:'column',gap:'16px'},userInfo:{display:'flex',alignItems:'center',justifyContent:'space-between'},userName:{fontSize:'20px',fontWeight:'700',display:'flex',alignItems:'center',gap:'8px'},logoutBtn:{padding:'8px 16px',background:'rgba(255,255,255,0.2)',backdropFilter:'blur(10px)',color:'white',border:'1px solid rgba(255,255,255,0.3)',borderRadius:'8px',cursor:'pointer',fontSize:'14px',fontWeight:'600',display:'flex',alignItems:'center',gap:'6px'},buttonGrid:{display:'grid',gridTemplateColumns:'repeat(2, 1fr)',gap:'12px'},actionBtn:{padding:'16px',borderRadius:'12px',border:'none',cursor:'pointer',fontSize:'15px',fontWeight:'600',display:'flex',flexDirection:'column',alignItems:'center',gap:'8px',transition:'all 0.3s ease',boxShadow:'0 4px 15px rgba(0,0,0,0.1)'},mainContent:{padding:'20px',paddingTop:'30px'},dashboardGrid:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(auto-fit, minmax(300px, 1fr))',gap:'20px',marginBottom:'30px'},dashboardCard:{background:'white',borderRadius:'16px',padding:'24px',boxShadow:'0 10px 40px rgba(0,0,0,0.1)',transition:'all 0.3s ease'},cardIcon:{fontSize:'48px',marginBottom:'12px'},cardTitle:{fontSize:'18px',fontWeight:'700',color:'#1f2937',marginBottom:'8px'},cardValue:{fontSize:'32px',fontWeight:'800',color:'#3b82f6',marginBottom:'4px'},cardSubtext:{fontSize:'14px',color:'#6b7280'},zonasSection:{background:'white',borderRadius:'16px',padding:'24px',boxShadow:'0 10px 40px rgba(0,0,0,0.1)'},sectionTitle:{fontSize:'20px',fontWeight:'700',color:'#1f2937',marginBottom:'16px',display:'flex',alignItems:'center',gap:'8px'},zonaCard:{background:'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',borderRadius:'12px',padding:'16px',marginBottom:'12px',border:'2px solid #e5e7eb',transition:'all 0.3s ease'},emptyState:{textAlign:'center',padding:'40px',color:'#6b7280'},toast:{position:'fixed',top:'20px',right:'20px',padding:'12px 20px',borderRadius:'10px',boxShadow:'0 4px 20px rgba(0,0,0,0.15)',display:'flex',alignItems:'center',gap:'12px',zIndex:2000,animation:'slideInRight 0.3s ease',maxWidth:'350px',backdropFilter:'blur(10px)'}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.header,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.headerContent,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.userInfo,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.userName,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDC77\\u200D\\u2642\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:currentUser.name||'Trabajador'})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onLogout,style:styles.logoutBtn,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDEAA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Salir\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.buttonGrid,children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDocumentsModal(true),style:{...styles.actionBtn,background:'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mis Documentos\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowVehiclePanel(true),style:{...styles.actionBtn,background:'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDE9B\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mi Veh\\xEDculo\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:navigateToDashboard,style:{...styles.actionBtn,background:'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Dashboard\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>showToast('🗺️ Función de mapa próximamente','info'),style:{...styles.actionBtn,background:'linear-gradient(135deg, #10b981 0%, #059669 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDDFA\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mapa GPS\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.mainContent,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.dashboardGrid,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.dashboardCard,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.cardIcon,children:\"\\uD83D\\uDCCD\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardTitle,children:\"Estado GPS\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardValue,children:gpsStatus==='active'?'Activo':'Inactivo'}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardSubtext,children:gpsStatus==='active'?'🟢 Transmitiendo ubicación':'🔴 Sin transmisión'})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.dashboardCard,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.cardIcon,children:\"\\uD83C\\uDFD7\\uFE0F\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardTitle,children:\"Zonas Asignadas\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardValue,children:zonasAsignadas.length}),/*#__PURE__*/_jsxs(\"div\",{style:styles.cardSubtext,children:[zonasAsignadas.filter(z=>z.estado==='pendiente').length,\" pendientes\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.dashboardCard,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.cardIcon,children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardTitle,children:\"Estado Actual\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardValue,children:\"Disponible\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardSubtext,children:\"Listo para trabajar\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.zonasSection,children:[/*#__PURE__*/_jsxs(\"h2\",{style:styles.sectionTitle,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDDFA\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mis Zonas de Trabajo\"})]}),zonasAsignadas.length>0?/*#__PURE__*/_jsx(\"div\",{children:zonasAsignadas.map(zona=>/*#__PURE__*/_jsxs(\"div\",{style:styles.zonaCard,children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0 0 8px 0',fontSize:'16px',fontWeight:'600',color:'#1f2937'},children:[\"\\uD83D\\uDCCD \",zona.nombre]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 8px 0',fontSize:'14px',color:'#6b7280'},children:zona.direccion}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{padding:'4px 8px',background:zona.prioridad==='alta'?'#dc2626':zona.prioridad==='media'?'#f59e0b':'#10b981',color:'white',borderRadius:'6px',fontSize:'12px',fontWeight:'600'},children:[\"Prioridad: \",zona.prioridad]}),/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',background:zona.estado==='pendiente'?'#6b7280':zona.estado==='en_progreso'?'#3b82f6':'#10b981',color:'white',borderRadius:'6px',fontSize:'12px',fontWeight:'600'},children:zona.estado==='pendiente'?'⏳ Pendiente':zona.estado==='en_progreso'?'🔧 En Progreso':'✅ Completado'})]})]},zona.id))}):/*#__PURE__*/_jsxs(\"div\",{style:styles.emptyState,children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'12px',opacity:0.5},children:\"\\uD83D\\uDCED\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'16px',fontWeight:'500',marginBottom:'4px'},children:\"No tienes zonas asignadas\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px'},children:\"Cuando te asignen nuevas zonas aparecer\\xE1n aqu\\xED\"})]})]})]}),toastNotification&&/*#__PURE__*/_jsxs(\"div\",{style:{...styles.toast,background:toastNotification.type==='success'?'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)':toastNotification.type==='error'?'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)':toastNotification.type==='warning'?'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)':'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px'},children:toastNotification.type==='success'?'✅':toastNotification.type==='error'?'❌':toastNotification.type==='warning'?'⚠️':'ℹ️'}),/*#__PURE__*/_jsx(\"span\",{style:{flex:1,fontSize:'14px',fontWeight:'500'},children:toastNotification.message})]}),showVehiclePanel&&/*#__PURE__*/_jsx(TrabajadorVehiclePanel,{currentUser:currentUser,onClose:()=>setShowVehiclePanel(false)}),/*#__PURE__*/_jsx(DocumentosModal,{}),/*#__PURE__*/_jsx(\"style\",{children:`\n        @keyframes slideInRight {\n          from {\n            transform: translateX(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n      `})]});};export default SistemaTrabajadoresFirebase;","map":{"version":3,"names":["React","useEffect","useRef","useState","trabajadoresService","database","ref","onValue","update","set","push","TrabajadorVehiclePanel","cloudinaryConfig","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SistemaTrabajadoresFirebase","_ref","currentUser","onLogout","onViewChange","showVehiclePanel","setShowVehiclePanel","userPosition","setUserPosition","selectedZona","setSelectedZona","isTracking","setIsTracking","workStatus","setWorkStatus","zonasAsignadas","setZonasAsignadas","notificaciones","setNotificaciones","isMobile","setIsMobile","toastNotification","setToastNotification","showDocumentsModal","setShowDocumentsModal","uploadingFile","setUploadingFile","uploadProgress","setUploadProgress","documentos","setDocumentos","licenciaConducir","url","nombre","fecha","vencimiento","certificadoOperador","certificados","message","setMessage","type","text","toastTimeoutRef","gpsStatus","setGpsStatus","handleFileUpload","file","tipoDocumento","alert","allowedTypes","includes","size","formData","FormData","append","trabajadorId","uid","Date","now","timestamp","cleanFileName","name","split","replace","response","fetch","cloudName","method","body","data","json","console","log","documentData","secure_url","publicId","public_id","toISOString","tamaño","tipo","prev","guardarDocumentosEnFirebase","showToast","setTimeout","error","handleDeleteDocument","index","arguments","length","undefined","window","confirm","filter","_","i","eliminarDocumentoDeFirebase","trabajadorRef","certificadosRef","newCertRef","formatFileSize","bytes","k","sizes","Math","floor","round","pow","cargarDocumentosDesdeFirebase","docsRef","snapshot","val","Object","values","navigateToDashboard","duration","current","clearTimeout","checkMobile","innerWidth","addEventListener","removeEventListener","zonasRef","unsubZonas","zonasArray","entries","_ref2","id","zona","trabajadorAsignado","estado","map","_ref3","createOrUpdateTrabajador","email","telefono","phone","vehicleId","rol","ubicacion","createdAt","ultimaActualizacion","DocumentosModal","_documentos$licenciaC","_documentos$licenciaC2","_documentos$licenciaC3","_documentos$certifica","_documentos$certifica2","_documentos$certifica3","_documentos$certifica4","style","position","top","left","right","bottom","background","display","justifyContent","alignItems","zIndex","padding","children","borderRadius","maxWidth","width","maxHeight","overflow","marginBottom","margin","color","fontSize","onClick","border","cursor","paddingLeft","href","target","rel","gridTemplateColumns","gap","fontWeight","textOverflow","whiteSpace","toLocaleDateString","flex","textAlign","textDecoration","accept","onChange","e","files","htmlFor","transition","onMouseEnter","currentTarget","borderColor","onMouseLeave","height","marginTop","cert","minWidth","marginLeft","disabled","styles","container","minHeight","header","boxShadow","headerContent","flexDirection","userInfo","userName","logoutBtn","backdropFilter","buttonGrid","actionBtn","mainContent","paddingTop","dashboardGrid","dashboardCard","cardIcon","cardTitle","cardValue","cardSubtext","zonasSection","sectionTitle","zonaCard","emptyState","toast","animation","z","direccion","flexWrap","prioridad","opacity","onClose"],"sources":["C:/Users/Izan/Desktop/AppReact/mapa-quillon/src/components/SistemaTrabajadoresFirebase.js"],"sourcesContent":["// src/components/SistemaTrabajadoresFirebase.js\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { trabajadoresService } from '../services/firebaseservices';\r\nimport { database } from '../config/firebase';\r\nimport { ref, onValue, update, set, push } from 'firebase/database';\r\nimport TrabajadorVehiclePanel from './TrabajadorVehiclePanel';\r\nimport { cloudinaryConfig } from '../config/cloudinary';\r\n\r\nconst SistemaTrabajadoresFirebase = ({ currentUser, onLogout, onViewChange }) => {\r\n  // Estados principales\r\n  const [showVehiclePanel, setShowVehiclePanel] = useState(false);\r\n  const [userPosition, setUserPosition] = useState(null);\r\n  const [selectedZona, setSelectedZona] = useState(null);\r\n  const [isTracking, setIsTracking] = useState(false);\r\n  const [workStatus, setWorkStatus] = useState('idle');\r\n  \r\n  // Estados para zonas y notificaciones\r\n  const [zonasAsignadas, setZonasAsignadas] = useState([]);\r\n  const [notificaciones, setNotificaciones] = useState([]);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [toastNotification, setToastNotification] = useState(null);\r\n  \r\n  // ESTADOS PARA DOCUMENTOS\r\n  const [showDocumentsModal, setShowDocumentsModal] = useState(false);\r\n  const [uploadingFile, setUploadingFile] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState({});\r\n  const [documentos, setDocumentos] = useState({\r\n    licenciaConducir: { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n    certificadoOperador: { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n    certificados: []\r\n  });\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  \r\n  // Referencias\r\n  const toastTimeoutRef = useRef(null);\r\n  const [gpsStatus, setGpsStatus] = useState('inactive');\r\n\r\n  // ========== FUNCIONES PARA MANEJO DE DOCUMENTOS (mantener las existentes) ==========\r\n  const handleFileUpload = async (file, tipoDocumento) => {\r\n    if (!file) return;\r\n    \r\n    if (file.type === 'application/pdf') {\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '❌ NO se permiten PDFs. Por favor, sube una FOTO o IMAGEN del documento (JPG/PNG).' \r\n      });\r\n      \r\n      alert(\r\n        '📸 ALTERNATIVAS PARA SUBIR TU DOCUMENTO:\\n\\n' +\r\n        '1. Toma una FOTO con tu celular\\n' +\r\n        '2. Haz una CAPTURA DE PANTALLA del PDF\\n' +\r\n        '3. Usa un escáner que guarde como JPG\\n' +\r\n        '4. Convierte el PDF a imagen en: https://www.ilovepdf.com/pdf_to_jpg'\r\n      );\r\n      \r\n      return;\r\n    }\r\n    \r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/jpg'];\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '❌ Solo se permiten imágenes JPG y PNG' \r\n      });\r\n      return;\r\n    }\r\n    \r\n    if (file.size > 10 * 1024 * 1024) {\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '❌ El archivo no puede superar los 10MB' \r\n      });\r\n      return;\r\n    }\r\n\r\n    setUploadingFile(true);\r\n    setUploadProgress({ [tipoDocumento]: 0 });\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      formData.append('upload_preset', 'vehiculos_docs');\r\n      \r\n      const trabajadorId = currentUser.uid || `temp_${Date.now()}`;\r\n      const timestamp = Date.now();\r\n      const cleanFileName = file.name.split('.')[0].replace(/[^a-zA-Z0-9_-]/g, '_');\r\n      \r\n      formData.append('folder', `municipalidad/trabajadores/${trabajadorId}/${tipoDocumento}`);\r\n      formData.append('public_id', `${timestamp}_${cleanFileName}`);\r\n      \r\n      setUploadProgress({ [tipoDocumento]: 30 });\r\n\r\n      const response = await fetch(\r\n        `https://api.cloudinary.com/v1_1/${cloudinaryConfig.cloudName}/image/upload`,\r\n        {\r\n          method: 'POST',\r\n          body: formData\r\n        }\r\n      );\r\n\r\n      setUploadProgress({ [tipoDocumento]: 60 });\r\n\r\n      const data = await response.json();\r\n      console.log('✅ Imagen subida:', data);\r\n      \r\n      setUploadProgress({ [tipoDocumento]: 90 });\r\n\r\n      const documentData = {\r\n        url: data.secure_url,\r\n        publicId: data.public_id,\r\n        nombre: file.name,\r\n        fecha: new Date().toISOString(),\r\n        tamaño: file.size,\r\n        tipo: file.type\r\n      };\r\n\r\n      if (tipoDocumento === 'certificados') {\r\n        setDocumentos(prev => ({\r\n          ...prev,\r\n          certificados: [...(prev.certificados || []), documentData]\r\n        }));\r\n      } else {\r\n        setDocumentos(prev => ({\r\n          ...prev,\r\n          [tipoDocumento]: documentData\r\n        }));\r\n      }\r\n\r\n      await guardarDocumentosEnFirebase(tipoDocumento, documentData);\r\n\r\n      setUploadProgress({ [tipoDocumento]: 100 });\r\n      setMessage({ \r\n        type: 'success', \r\n        text: `✅ ${file.name} subido exitosamente` \r\n      });\r\n      showToast('✅ Documento subido exitosamente', 'success');\r\n\r\n      setTimeout(() => setUploadProgress({}), 1000);\r\n\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '❌ Error al subir la imagen' \r\n      });\r\n      showToast('❌ Error al subir el documento', 'error');\r\n    } finally {\r\n      setUploadingFile(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteDocument = async (tipoDocumento, index = null) => {\r\n    if (!window.confirm('¿Estás seguro de eliminar este documento?')) return;\r\n\r\n    try {\r\n      if (tipoDocumento === 'certificados' && index !== null) {\r\n        setDocumentos(prev => ({\r\n          ...prev,\r\n          certificados: prev.certificados.filter((_, i) => i !== index)\r\n        }));\r\n      } else {\r\n        setDocumentos(prev => ({\r\n          ...prev,\r\n          [tipoDocumento]: { url: '', nombre: '', fecha: '', vencimiento: '' }\r\n        }));\r\n      }\r\n\r\n      await eliminarDocumentoDeFirebase(tipoDocumento, index);\r\n\r\n      setMessage({ \r\n        type: 'success', \r\n        text: '✅ Documento eliminado' \r\n      });\r\n      showToast('✅ Documento eliminado', 'success');\r\n      \r\n    } catch (error) {\r\n      console.error('Error al eliminar documento:', error);\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '❌ Error al eliminar el documento' \r\n      });\r\n    }\r\n  };\r\n\r\n  const guardarDocumentosEnFirebase = async (tipoDocumento, documentData) => {\r\n    try {\r\n      const trabajadorRef = ref(database, `trabajadores/${currentUser.uid}/documentos/${tipoDocumento}`);\r\n      \r\n      if (tipoDocumento === 'certificados') {\r\n        const certificadosRef = ref(database, `trabajadores/${currentUser.uid}/documentos/certificados`);\r\n        const newCertRef = push(certificadosRef);\r\n        await set(newCertRef, documentData);\r\n      } else {\r\n        await set(trabajadorRef, documentData);\r\n      }\r\n      \r\n      console.log('✅ Documento guardado en Firebase');\r\n    } catch (error) {\r\n      console.error('❌ Error al guardar en Firebase:', error);\r\n    }\r\n  };\r\n\r\n  const eliminarDocumentoDeFirebase = async (tipoDocumento, index) => {\r\n    try {\r\n      if (tipoDocumento === 'certificados' && index !== null) {\r\n        const certificadosRef = ref(database, `trabajadores/${currentUser.uid}/documentos/certificados`);\r\n        await set(certificadosRef, documentos.certificados.filter((_, i) => i !== index));\r\n      } else {\r\n        const trabajadorRef = ref(database, `trabajadores/${currentUser.uid}/documentos/${tipoDocumento}`);\r\n        await set(trabajadorRef, null);\r\n      }\r\n      \r\n      console.log('✅ Documento eliminado de Firebase');\r\n    } catch (error) {\r\n      console.error('❌ Error al eliminar de Firebase:', error);\r\n    }\r\n  };\r\n\r\n  const formatFileSize = (bytes) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\r\n  };\r\n\r\n  const cargarDocumentosDesdeFirebase = async () => {\r\n    try {\r\n      const docsRef = ref(database, `trabajadores/${currentUser.uid}/documentos`);\r\n      onValue(docsRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        if (data) {\r\n          setDocumentos({\r\n            licenciaConducir: data.licenciaConducir || { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n            certificadoOperador: data.certificadoOperador || { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n            certificados: data.certificados ? Object.values(data.certificados) : []\r\n          });\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.error('Error al cargar documentos:', error);\r\n    }\r\n  };\r\n\r\n  // Cargar documentos al iniciar\r\n  useEffect(() => {\r\n    if (currentUser && currentUser.uid) {\r\n      cargarDocumentosDesdeFirebase();\r\n    }\r\n  }, [currentUser]);\r\n\r\n  // Función para navegar al dashboard\r\n  const navigateToDashboard = () => {\r\n    if (onViewChange) {\r\n      onViewChange('dashboard-trabajador');\r\n    }\r\n  };\r\n\r\n  // Función para mostrar notificaciones tipo toast\r\n  const showToast = (message, type = 'info', duration = 4000) => {\r\n    if (toastTimeoutRef.current) {\r\n      clearTimeout(toastTimeoutRef.current);\r\n    }\r\n    \r\n    setToastNotification({ message, type });\r\n    \r\n    toastTimeoutRef.current = setTimeout(() => {\r\n      setToastNotification(null);\r\n    }, duration);\r\n  };\r\n\r\n  // Detectar si es móvil\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth <= 768);\r\n    };\r\n    \r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    \r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  // Cargar zonas asignadas\r\n  useEffect(() => {\r\n    if (currentUser && currentUser.uid) {\r\n      const zonasRef = ref(database, 'zonas_asignadas');\r\n      const unsubZonas = onValue(zonasRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        if (data) {\r\n          const zonasArray = Object.entries(data)\r\n            .filter(([id, zona]) => {\r\n              return zona.trabajadorAsignado === currentUser.uid && zona.estado !== 'completado';\r\n            })\r\n            .map(([id, zona]) => ({\r\n              id,\r\n              ...zona\r\n            }));\r\n          \r\n          setZonasAsignadas(zonasArray);\r\n        } else {\r\n          setZonasAsignadas([]);\r\n        }\r\n      });\r\n\r\n      return () => unsubZonas();\r\n    }\r\n  }, [currentUser]);\r\n\r\n  // Registrar trabajador\r\n  useEffect(() => {\r\n    if (currentUser && currentUser.uid) {\r\n      trabajadoresService.createOrUpdateTrabajador(currentUser.uid, {\r\n        nombre: currentUser.name || currentUser.email || 'Trabajador',\r\n        email: currentUser.email,\r\n        telefono: currentUser.phone || '',\r\n        vehicleId: currentUser.vehicleId || null,\r\n        estado: 'disponible',\r\n        rol: 'trabajador',\r\n        ubicacion: null,\r\n        createdAt: new Date().toISOString(),\r\n        ultimaActualizacion: new Date().toISOString()\r\n      });\r\n    }\r\n  }, [currentUser]);\r\n\r\n  // ========== MODAL DE DOCUMENTOS ==========\r\n  const DocumentosModal = () => {\r\n    if (!showDocumentsModal) return null;\r\n\r\n    return (\r\n      <div style={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        background: 'rgba(0,0,0,0.5)',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        zIndex: 3000,\r\n        padding: '20px'\r\n      }}>\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '12px',\r\n          maxWidth: '900px',\r\n          width: '100%',\r\n          maxHeight: '90vh',\r\n          overflow: 'auto',\r\n          padding: '30px'\r\n        }}>\r\n          <div style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            marginBottom: '25px'\r\n          }}>\r\n            <h2 style={{ margin: 0, color: '#1f2937', fontSize: '24px' }}>\r\n              📄 Mis Documentos\r\n            </h2>\r\n            <button\r\n              onClick={() => setShowDocumentsModal(false)}\r\n              style={{\r\n                padding: '8px',\r\n                background: '#6b7280',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '6px',\r\n                cursor: 'pointer',\r\n                fontSize: '18px'\r\n              }}\r\n            >\r\n              ✖\r\n            </button>\r\n          </div>\r\n\r\n          {message.text && (\r\n            <div style={{\r\n              padding: '12px',\r\n              borderRadius: '8px',\r\n              marginBottom: '20px',\r\n              background: message.type === 'success' ? '#dcfce7' : '#fee2e2',\r\n              border: `1px solid ${message.type === 'success' ? '#86efac' : '#fecaca'}`,\r\n              color: message.type === 'success' ? '#166534' : '#991b1b'\r\n            }}>\r\n              {message.text}\r\n            </div>\r\n          )}\r\n\r\n          <div style={{\r\n            padding: '15px',\r\n            background: '#fef3c7',\r\n            border: '2px solid #f59e0b',\r\n            borderRadius: '8px',\r\n            marginBottom: '20px'\r\n          }}>\r\n            <h4 style={{ margin: '0 0 10px 0', color: '#92400e', fontSize: '16px' }}>\r\n              📸 IMPORTANTE: Solo se aceptan IMÁGENES\r\n            </h4>\r\n            <p style={{ margin: '0 0 10px 0', fontSize: '14px', color: '#78350f' }}>\r\n              Los archivos PDF no están soportados. Si tienes documentos en PDF:\r\n            </p>\r\n            <ol style={{ margin: '0', paddingLeft: '20px', fontSize: '14px', color: '#78350f' }}>\r\n              <li>📱 Toma una <strong>FOTO</strong> del documento con tu celular</li>\r\n              <li>💻 Haz una <strong>CAPTURA DE PANTALLA</strong> del PDF</li>\r\n              <li>🔄 Convierte el PDF a JPG en: <a href=\"https://www.ilovepdf.com/pdf_to_jpg\" target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: '#f59e0b' }}>iLovePDF.com</a></li>\r\n            </ol>\r\n          </div>\r\n\r\n          <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(280px, 1fr))',\r\n            gap: '20px'\r\n          }}>\r\n            {/* Licencia de Conducir */}\r\n            <div style={{\r\n              border: '1px solid #e5e7eb',\r\n              borderRadius: '8px',\r\n              padding: '15px',\r\n              background: documentos.licenciaConducir?.url ? '#f0fdf4' : 'white'\r\n            }}>\r\n              <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'space-between',\r\n                marginBottom: '10px'\r\n              }}>\r\n                <h5 style={{ \r\n                  margin: 0, \r\n                  fontSize: '14px', \r\n                  fontWeight: '600', \r\n                  color: '#374151' \r\n                }}>\r\n                  🚗 Licencia de Conducir\r\n                </h5>\r\n                {documentos.licenciaConducir?.url && (\r\n                  <span style={{\r\n                    fontSize: '10px',\r\n                    padding: '2px 6px',\r\n                    background: '#22c55e',\r\n                    color: 'white',\r\n                    borderRadius: '4px'\r\n                  }}>\r\n                    ✓ Cargado\r\n                  </span>\r\n                )}\r\n              </div>\r\n              \r\n              {documentos.licenciaConducir?.url ? (\r\n                <div>\r\n                  <div style={{\r\n                    padding: '8px',\r\n                    background: '#f9fafb',\r\n                    borderRadius: '6px',\r\n                    marginBottom: '8px',\r\n                    fontSize: '12px'\r\n                  }}>\r\n                    <div style={{ \r\n                      fontWeight: '500', \r\n                      color: '#1f2937',\r\n                      marginBottom: '3px',\r\n                      overflow: 'hidden',\r\n                      textOverflow: 'ellipsis',\r\n                      whiteSpace: 'nowrap'\r\n                    }}>\r\n                      {documentos.licenciaConducir.nombre}\r\n                    </div>\r\n                    <div style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                      {new Date(documentos.licenciaConducir.fecha).toLocaleDateString('es-CL')}\r\n                    </div>\r\n                  </div>\r\n                  <div style={{ display: 'flex', gap: '8px' }}>\r\n                    <a \r\n                      href={documentos.licenciaConducir.url}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      style={{\r\n                        flex: 1,\r\n                        padding: '6px',\r\n                        background: '#3b82f6',\r\n                        color: 'white',\r\n                        textAlign: 'center',\r\n                        borderRadius: '6px',\r\n                        textDecoration: 'none',\r\n                        fontSize: '12px'\r\n                      }}\r\n                    >\r\n                      👁️ Ver\r\n                    </a>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleDeleteDocument('licenciaConducir')}\r\n                      style={{\r\n                        flex: 1,\r\n                        padding: '6px',\r\n                        background: '#ef4444',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '6px',\r\n                        cursor: 'pointer',\r\n                        fontSize: '12px'\r\n                      }}\r\n                    >\r\n                      🗑️ Eliminar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"licenciaConducir\"\r\n                    accept=\".jpg,.jpeg,.png\"\r\n                    onChange={(e) => handleFileUpload(e.target.files[0], 'licenciaConducir')}\r\n                    style={{ display: 'none' }}\r\n                  />\r\n                  <label\r\n                    htmlFor=\"licenciaConducir\"\r\n                    style={{\r\n                      display: 'block',\r\n                      padding: '20px 10px',\r\n                      background: '#f9fafb',\r\n                      border: '2px dashed #d1d5db',\r\n                      borderRadius: '6px',\r\n                      textAlign: 'center',\r\n                      cursor: 'pointer',\r\n                      fontSize: '12px',\r\n                      color: '#6b7280',\r\n                      transition: 'all 0.2s'\r\n                    }}\r\n                    onMouseEnter={(e) => {\r\n                      e.currentTarget.style.borderColor = '#3b82f6';\r\n                      e.currentTarget.style.background = '#eff6ff';\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      e.currentTarget.style.borderColor = '#d1d5db';\r\n                      e.currentTarget.style.background = '#f9fafb';\r\n                    }}\r\n                  >\r\n                    {uploadProgress.licenciaConducir ? (\r\n                      <div>\r\n                        <div style={{ marginBottom: '5px' }}>\r\n                          Subiendo... {uploadProgress.licenciaConducir}%\r\n                        </div>\r\n                        <div style={{\r\n                          width: '100%',\r\n                          height: '4px',\r\n                          background: '#e5e7eb',\r\n                          borderRadius: '2px',\r\n                          overflow: 'hidden'\r\n                        }}>\r\n                          <div style={{\r\n                            width: `${uploadProgress.licenciaConducir}%`,\r\n                            height: '100%',\r\n                            background: '#3b82f6',\r\n                            transition: 'width 0.3s'\r\n                          }} />\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        <div style={{ fontSize: '20px', marginBottom: '5px' }}>📤</div>\r\n                        <div>Click para subir</div>\r\n                      </>\r\n                    )}\r\n                  </label>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Certificado de Operador */}\r\n            <div style={{\r\n              border: '1px solid #e5e7eb',\r\n              borderRadius: '8px',\r\n              padding: '15px',\r\n              background: documentos.certificadoOperador?.url ? '#f0fdf4' : 'white'\r\n            }}>\r\n              <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'space-between',\r\n                marginBottom: '10px'\r\n              }}>\r\n                <h5 style={{ \r\n                  margin: 0, \r\n                  fontSize: '14px', \r\n                  fontWeight: '600', \r\n                  color: '#374151' \r\n                }}>\r\n                  🏗️ Certificado de Operador\r\n                </h5>\r\n                {documentos.certificadoOperador?.url && (\r\n                  <span style={{\r\n                    fontSize: '10px',\r\n                    padding: '2px 6px',\r\n                    background: '#22c55e',\r\n                    color: 'white',\r\n                    borderRadius: '4px'\r\n                  }}>\r\n                    ✓ Cargado\r\n                  </span>\r\n                )}\r\n              </div>\r\n              \r\n              {documentos.certificadoOperador?.url ? (\r\n                <div>\r\n                  <div style={{\r\n                    padding: '8px',\r\n                    background: '#f9fafb',\r\n                    borderRadius: '6px',\r\n                    marginBottom: '8px',\r\n                    fontSize: '12px'\r\n                  }}>\r\n                    <div style={{ \r\n                      fontWeight: '500', \r\n                      color: '#1f2937',\r\n                      marginBottom: '3px',\r\n                      overflow: 'hidden',\r\n                      textOverflow: 'ellipsis',\r\n                      whiteSpace: 'nowrap'\r\n                    }}>\r\n                      {documentos.certificadoOperador.nombre}\r\n                    </div>\r\n                    <div style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                      {new Date(documentos.certificadoOperador.fecha).toLocaleDateString('es-CL')}\r\n                    </div>\r\n                  </div>\r\n                  <div style={{ display: 'flex', gap: '8px' }}>\r\n                    <a \r\n                      href={documentos.certificadoOperador.url}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      style={{\r\n                        flex: 1,\r\n                        padding: '6px',\r\n                        background: '#3b82f6',\r\n                        color: 'white',\r\n                        textAlign: 'center',\r\n                        borderRadius: '6px',\r\n                        textDecoration: 'none',\r\n                        fontSize: '12px'\r\n                      }}\r\n                    >\r\n                      👁️ Ver\r\n                    </a>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleDeleteDocument('certificadoOperador')}\r\n                      style={{\r\n                        flex: 1,\r\n                        padding: '6px',\r\n                        background: '#ef4444',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '6px',\r\n                        cursor: 'pointer',\r\n                        fontSize: '12px'\r\n                      }}\r\n                    >\r\n                      🗑️ Eliminar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"certificadoOperador\"\r\n                    accept=\".jpg,.jpeg,.png\"\r\n                    onChange={(e) => handleFileUpload(e.target.files[0], 'certificadoOperador')}\r\n                    style={{ display: 'none' }}\r\n                  />\r\n                  <label\r\n                    htmlFor=\"certificadoOperador\"\r\n                    style={{\r\n                      display: 'block',\r\n                      padding: '20px 10px',\r\n                      background: '#f9fafb',\r\n                      border: '2px dashed #d1d5db',\r\n                      borderRadius: '6px',\r\n                      textAlign: 'center',\r\n                      cursor: 'pointer',\r\n                      fontSize: '12px',\r\n                      color: '#6b7280',\r\n                      transition: 'all 0.2s'\r\n                    }}\r\n                    onMouseEnter={(e) => {\r\n                      e.currentTarget.style.borderColor = '#3b82f6';\r\n                      e.currentTarget.style.background = '#eff6ff';\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      e.currentTarget.style.borderColor = '#d1d5db';\r\n                      e.currentTarget.style.background = '#f9fafb';\r\n                    }}\r\n                  >\r\n                    <div style={{ fontSize: '20px', marginBottom: '5px' }}>📤</div>\r\n                    <div>Click para subir</div>\r\n                  </label>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Sección de certificados adicionales */}\r\n          <div style={{\r\n            marginTop: '30px',\r\n            padding: '20px',\r\n            background: '#f9fafb',\r\n            borderRadius: '8px'\r\n          }}>\r\n            <h5 style={{ \r\n              margin: '0 0 15px 0', \r\n              fontSize: '16px', \r\n              fontWeight: '600', \r\n              color: '#374151' \r\n            }}>\r\n              📚 Certificados de Capacitación\r\n            </h5>\r\n            \r\n            {documentos.certificados?.length > 0 && (\r\n              <div style={{ marginBottom: '15px' }}>\r\n                {documentos.certificados.map((cert, index) => (\r\n                  <div key={index} style={{\r\n                    padding: '10px',\r\n                    background: 'white',\r\n                    borderRadius: '6px',\r\n                    marginBottom: '8px',\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                    border: '1px solid #e5e7eb'\r\n                  }}>\r\n                    <div style={{ flex: 1, minWidth: 0 }}>\r\n                      <div style={{ \r\n                        fontWeight: '500', \r\n                        fontSize: '13px',\r\n                        color: '#1f2937',\r\n                        overflow: 'hidden',\r\n                        textOverflow: 'ellipsis',\r\n                        whiteSpace: 'nowrap'\r\n                      }}>\r\n                        📜 {cert.nombre}\r\n                      </div>\r\n                      <div style={{ \r\n                        color: '#6b7280', \r\n                        fontSize: '11px',\r\n                        marginTop: '2px' \r\n                      }}>\r\n                        {formatFileSize(cert.tamaño)} • {new Date(cert.fecha).toLocaleDateString('es-CL')}\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '6px', marginLeft: '10px' }}>\r\n                      <a \r\n                        href={cert.url}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        style={{\r\n                          padding: '4px 8px',\r\n                          background: '#3b82f6',\r\n                          color: 'white',\r\n                          borderRadius: '4px',\r\n                          textDecoration: 'none',\r\n                          fontSize: '11px'\r\n                        }}\r\n                      >\r\n                        Ver\r\n                      </a>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => handleDeleteDocument('certificados', index)}\r\n                        style={{\r\n                          padding: '4px 8px',\r\n                          background: '#ef4444',\r\n                          color: 'white',\r\n                          border: 'none',\r\n                          borderRadius: '4px',\r\n                          cursor: 'pointer',\r\n                          fontSize: '11px'\r\n                        }}\r\n                      >\r\n                        Eliminar\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n            \r\n            <div>\r\n              <input\r\n                type=\"file\"\r\n                id=\"certificados\"\r\n                accept=\".jpg,.jpeg,.png\"\r\n                onChange={(e) => handleFileUpload(e.target.files[0], 'certificados')}\r\n                style={{ display: 'none' }}\r\n                disabled={uploadingFile}\r\n              />\r\n              <label\r\n                htmlFor=\"certificados\"\r\n                style={{\r\n                  display: 'inline-block',\r\n                  padding: '10px 16px',\r\n                  background: uploadingFile ? '#9ca3af' : '#10b981',\r\n                  color: 'white',\r\n                  borderRadius: '6px',\r\n                  cursor: uploadingFile ? 'not-allowed' : 'pointer',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500'\r\n                }}\r\n              >\r\n                {uploadingFile ? '⏳ Subiendo...' : '➕ Agregar Certificado'}\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Estilos\r\n  const styles = {\r\n    container: {\r\n      width: '100%',\r\n      minHeight: '100vh',\r\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n      position: 'relative',\r\n      overflow: 'hidden'\r\n    },\r\n    header: {\r\n      background: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n      color: 'white',\r\n      padding: '16px',\r\n      position: 'relative',\r\n      boxShadow: '0 4px 20px rgba(0,0,0,0.15)'\r\n    },\r\n    headerContent: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      gap: '16px'\r\n    },\r\n    userInfo: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between'\r\n    },\r\n    userName: {\r\n      fontSize: '20px',\r\n      fontWeight: '700',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '8px'\r\n    },\r\n    logoutBtn: {\r\n      padding: '8px 16px',\r\n      background: 'rgba(255,255,255,0.2)',\r\n      backdropFilter: 'blur(10px)',\r\n      color: 'white',\r\n      border: '1px solid rgba(255,255,255,0.3)',\r\n      borderRadius: '8px',\r\n      cursor: 'pointer',\r\n      fontSize: '14px',\r\n      fontWeight: '600',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '6px'\r\n    },\r\n    buttonGrid: {\r\n      display: 'grid',\r\n      gridTemplateColumns: 'repeat(2, 1fr)',\r\n      gap: '12px'\r\n    },\r\n    actionBtn: {\r\n      padding: '16px',\r\n      borderRadius: '12px',\r\n      border: 'none',\r\n      cursor: 'pointer',\r\n      fontSize: '15px',\r\n      fontWeight: '600',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      gap: '8px',\r\n      transition: 'all 0.3s ease',\r\n      boxShadow: '0 4px 15px rgba(0,0,0,0.1)'\r\n    },\r\n    mainContent: {\r\n      padding: '20px',\r\n      paddingTop: '30px'\r\n    },\r\n    dashboardGrid: {\r\n      display: 'grid',\r\n      gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(300px, 1fr))',\r\n      gap: '20px',\r\n      marginBottom: '30px'\r\n    },\r\n    dashboardCard: {\r\n      background: 'white',\r\n      borderRadius: '16px',\r\n      padding: '24px',\r\n      boxShadow: '0 10px 40px rgba(0,0,0,0.1)',\r\n      transition: 'all 0.3s ease'\r\n    },\r\n    cardIcon: {\r\n      fontSize: '48px',\r\n      marginBottom: '12px'\r\n    },\r\n    cardTitle: {\r\n      fontSize: '18px',\r\n      fontWeight: '700',\r\n      color: '#1f2937',\r\n      marginBottom: '8px'\r\n    },\r\n    cardValue: {\r\n      fontSize: '32px',\r\n      fontWeight: '800',\r\n      color: '#3b82f6',\r\n      marginBottom: '4px'\r\n    },\r\n    cardSubtext: {\r\n      fontSize: '14px',\r\n      color: '#6b7280'\r\n    },\r\n    zonasSection: {\r\n      background: 'white',\r\n      borderRadius: '16px',\r\n      padding: '24px',\r\n      boxShadow: '0 10px 40px rgba(0,0,0,0.1)'\r\n    },\r\n    sectionTitle: {\r\n      fontSize: '20px',\r\n      fontWeight: '700',\r\n      color: '#1f2937',\r\n      marginBottom: '16px',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '8px'\r\n    },\r\n    zonaCard: {\r\n      background: 'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',\r\n      borderRadius: '12px',\r\n      padding: '16px',\r\n      marginBottom: '12px',\r\n      border: '2px solid #e5e7eb',\r\n      transition: 'all 0.3s ease'\r\n    },\r\n    emptyState: {\r\n      textAlign: 'center',\r\n      padding: '40px',\r\n      color: '#6b7280'\r\n    },\r\n    toast: {\r\n      position: 'fixed',\r\n      top: '20px',\r\n      right: '20px',\r\n      padding: '12px 20px',\r\n      borderRadius: '10px',\r\n      boxShadow: '0 4px 20px rgba(0,0,0,0.15)',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '12px',\r\n      zIndex: 2000,\r\n      animation: 'slideInRight 0.3s ease',\r\n      maxWidth: '350px',\r\n      backdropFilter: 'blur(10px)'\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      {/* Header Mejorado para Móvil */}\r\n      <div style={styles.header}>\r\n        <div style={styles.headerContent}>\r\n          <div style={styles.userInfo}>\r\n            <div style={styles.userName}>\r\n              <span>👷‍♂️</span>\r\n              <span>{currentUser.name || 'Trabajador'}</span>\r\n            </div>\r\n            <button onClick={onLogout} style={styles.logoutBtn}>\r\n              <span>🚪</span>\r\n              <span>Salir</span>\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Botones de Acción */}\r\n          <div style={styles.buttonGrid}>\r\n            <button\r\n              onClick={() => setShowDocumentsModal(true)}\r\n              style={{\r\n                ...styles.actionBtn,\r\n                background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\r\n                color: 'white'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '24px' }}>📄</span>\r\n              <span>Mis Documentos</span>\r\n            </button>\r\n            \r\n            <button\r\n              onClick={() => setShowVehiclePanel(true)}\r\n              style={{\r\n                ...styles.actionBtn,\r\n                background: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',\r\n                color: 'white'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '24px' }}>🚛</span>\r\n              <span>Mi Vehículo</span>\r\n            </button>\r\n            \r\n            <button\r\n              onClick={navigateToDashboard}\r\n              style={{\r\n                ...styles.actionBtn,\r\n                background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\r\n                color: 'white'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '24px' }}>📊</span>\r\n              <span>Dashboard</span>\r\n            </button>\r\n            \r\n            <button\r\n              onClick={() => showToast('🗺️ Función de mapa próximamente', 'info')}\r\n              style={{\r\n                ...styles.actionBtn,\r\n                background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\r\n                color: 'white'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '24px' }}>🗺️</span>\r\n              <span>Mapa GPS</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Contenido Principal */}\r\n      <div style={styles.mainContent}>\r\n        {/* Dashboard Cards */}\r\n        <div style={styles.dashboardGrid}>\r\n          <div style={styles.dashboardCard}>\r\n            <div style={styles.cardIcon}>📍</div>\r\n            <div style={styles.cardTitle}>Estado GPS</div>\r\n            <div style={styles.cardValue}>\r\n              {gpsStatus === 'active' ? 'Activo' : 'Inactivo'}\r\n            </div>\r\n            <div style={styles.cardSubtext}>\r\n              {gpsStatus === 'active' ? '🟢 Transmitiendo ubicación' : '🔴 Sin transmisión'}\r\n            </div>\r\n          </div>\r\n\r\n          <div style={styles.dashboardCard}>\r\n            <div style={styles.cardIcon}>🏗️</div>\r\n            <div style={styles.cardTitle}>Zonas Asignadas</div>\r\n            <div style={styles.cardValue}>{zonasAsignadas.length}</div>\r\n            <div style={styles.cardSubtext}>\r\n              {zonasAsignadas.filter(z => z.estado === 'pendiente').length} pendientes\r\n            </div>\r\n          </div>\r\n\r\n          <div style={styles.dashboardCard}>\r\n            <div style={styles.cardIcon}>✅</div>\r\n            <div style={styles.cardTitle}>Estado Actual</div>\r\n            <div style={styles.cardValue}>Disponible</div>\r\n            <div style={styles.cardSubtext}>Listo para trabajar</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Sección de Zonas */}\r\n        <div style={styles.zonasSection}>\r\n          <h2 style={styles.sectionTitle}>\r\n            <span>🗺️</span>\r\n            <span>Mis Zonas de Trabajo</span>\r\n          </h2>\r\n          \r\n          {zonasAsignadas.length > 0 ? (\r\n            <div>\r\n              {zonasAsignadas.map(zona => (\r\n                <div key={zona.id} style={styles.zonaCard}>\r\n                  <h3 style={{ margin: '0 0 8px 0', fontSize: '16px', fontWeight: '600', color: '#1f2937' }}>\r\n                    📍 {zona.nombre}\r\n                  </h3>\r\n                  <p style={{ margin: '0 0 8px 0', fontSize: '14px', color: '#6b7280' }}>\r\n                    {zona.direccion}\r\n                  </p>\r\n                  <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\r\n                    <span style={{\r\n                      padding: '4px 8px',\r\n                      background: zona.prioridad === 'alta' ? '#dc2626' : \r\n                                zona.prioridad === 'media' ? '#f59e0b' : '#10b981',\r\n                      color: 'white',\r\n                      borderRadius: '6px',\r\n                      fontSize: '12px',\r\n                      fontWeight: '600'\r\n                    }}>\r\n                      Prioridad: {zona.prioridad}\r\n                    </span>\r\n                    <span style={{\r\n                      padding: '4px 8px',\r\n                      background: zona.estado === 'pendiente' ? '#6b7280' :\r\n                                zona.estado === 'en_progreso' ? '#3b82f6' : '#10b981',\r\n                      color: 'white',\r\n                      borderRadius: '6px',\r\n                      fontSize: '12px',\r\n                      fontWeight: '600'\r\n                    }}>\r\n                      {zona.estado === 'pendiente' ? '⏳ Pendiente' :\r\n                       zona.estado === 'en_progreso' ? '🔧 En Progreso' : '✅ Completado'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div style={styles.emptyState}>\r\n              <div style={{ fontSize: '48px', marginBottom: '12px', opacity: 0.5 }}>📭</div>\r\n              <p style={{ fontSize: '16px', fontWeight: '500', marginBottom: '4px' }}>\r\n                No tienes zonas asignadas\r\n              </p>\r\n              <p style={{ fontSize: '14px' }}>\r\n                Cuando te asignen nuevas zonas aparecerán aquí\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Toast Notification */}\r\n      {toastNotification && (\r\n        <div style={{\r\n          ...styles.toast,\r\n          background: toastNotification.type === 'success' ? 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)' :\r\n                     toastNotification.type === 'error' ? 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)' :\r\n                     toastNotification.type === 'warning' ? 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)' :\r\n                     'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\r\n          color: 'white'\r\n        }}>\r\n          <span style={{ fontSize: '18px' }}>\r\n            {toastNotification.type === 'success' ? '✅' :\r\n             toastNotification.type === 'error' ? '❌' :\r\n             toastNotification.type === 'warning' ? '⚠️' : 'ℹ️'}\r\n          </span>\r\n          <span style={{ flex: 1, fontSize: '14px', fontWeight: '500' }}>\r\n            {toastNotification.message}\r\n          </span>\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal del panel de vehículo */}\r\n      {showVehiclePanel && (\r\n        <TrabajadorVehiclePanel \r\n          currentUser={currentUser}\r\n          onClose={() => setShowVehiclePanel(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Modal de Documentos */}\r\n      <DocumentosModal />\r\n\r\n      <style>{`\r\n        @keyframes slideInRight {\r\n          from {\r\n            transform: translateX(100%);\r\n            opacity: 0;\r\n          }\r\n          to {\r\n            transform: translateX(0);\r\n            opacity: 1;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SistemaTrabajadoresFirebase;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}