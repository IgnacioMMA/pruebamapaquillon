{"ast":null,"code":"// src/components/SuperAdmin.js\nimport React,{useState,useEffect,useCallback,useMemo}from'react';import{initializeApp,deleteApp}from'firebase/app';import{getAuth as getSecondaryAuth,createUserWithEmailAndPassword,signOut as secondarySignOut}from'firebase/auth';import{auth,firestore,database,storage,firebaseConfig}from'../config/firebase';import{doc,setDoc,collection,getDocs,deleteDoc,updateDoc}from'firebase/firestore';import WelcomeScreen from'./WelcomeScreen';import NotificationSystem from'./NotificationSystem';import VehicleMaintenanceModule from'./VehicleMaintenanceModule';import PreventiveMaintenanceModule from'./PreventiveMaintenanceModule';import{ref as databaseRef,// Alias para database ref\nset as databaseSet,// Alias para database set\npush,update,remove,onValue,off}from'firebase/database';import{ref as storageRef,// Alias para storage ref\nuploadBytes,getDownloadURL,deleteObject,listAll}from'firebase/storage';import{pdfExportService}from'../services/pdfExportService';import{cloudinaryConfig}from'../config/cloudinary';// Comenta si no usas Cloudinary aún\n// COMPONENTE MODAL SEPARADO - FUERA DEL COMPONENTE PRINCIPAL\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TiposVehiculoModal=/*#__PURE__*/React.memo(_ref=>{let{showTipoModal,setShowTipoModal,editingTipo,setEditingTipo,tipoFormData,setTipoFormData,handleSaveTipoVehiculo,handleEditTipo,handleDeleteTipoVehiculo,tiposVehiculo,vehiculos,loading,isMobile}=_ref;if(!showTipoModal)return null;return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.5)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:1000,padding:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',maxWidth:'900px',width:'100%',maxHeight:'90vh',overflow:'auto',padding:'30px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'25px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,color:'#1f2937',fontSize:'24px'},children:\"\\u2699\\uFE0F Gesti\\xF3n de Tipos de Veh\\xEDculos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowTipoModal(false);setEditingTipo(null);setTipoFormData({nombre:'',icon:'🚛',descripcion:'',categoria:'general'});},style:{padding:'8px',background:'#6b7280',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'18px'},children:\"\\u2716\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f9fafb',padding:'20px',borderRadius:'8px',marginBottom:'25px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 15px 0',color:'#374151',fontSize:'18px'},children:editingTipo?'✏️ Editar Tipo':'➕ Crear Nuevo Tipo'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSaveTipoVehiculo,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'1fr 1fr',gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Nombre del Tipo *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:tipoFormData.nombre,onChange:e=>setTipoFormData(prev=>({...prev,nombre:e.target.value})),placeholder:\"Ej: Retroexcavadora, Cami\\xF3n Tolva, etc.\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"\\xCDcono\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsxs(\"select\",{value:tipoFormData.icon,onChange:e=>setTipoFormData(prev=>({...prev,icon:e.target.value})),style:{flex:1,padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'16px'},children:[/*#__PURE__*/_jsxs(\"optgroup\",{label:\"Veh\\xEDculos\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\uD83D\\uDE97\",children:\"\\uD83D\\uDE97 Auto\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uD83D\\uDE9A\",children:\"\\uD83D\\uDE9A Cami\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uD83D\\uDE9B\",children:\"\\uD83D\\uDE9B Cami\\xF3n Grande\"})]}),/*#__PURE__*/_jsx(\"optgroup\",{label:\"Maquinaria\",children:/*#__PURE__*/_jsx(\"option\",{value:\"\\uD83D\\uDE9C\",children:\"\\uD83D\\uDE9C Maquinaria Pesada\"})})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'50px',height:'42px',display:'flex',alignItems:'center',justifyContent:'center',background:'#f3f4f6',borderRadius:'6px',fontSize:'24px'},children:tipoFormData.icon})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Categor\\xEDa\"}),/*#__PURE__*/_jsxs(\"select\",{value:tipoFormData.categoria,onChange:e=>setTipoFormData(prev=>({...prev,categoria:e.target.value})),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"general\",children:\"General\"}),/*#__PURE__*/_jsx(\"option\",{value:\"liviano\",children:\"Veh\\xEDculo Liviano\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pesado\",children:\"Veh\\xEDculo Pesado\"}),/*#__PURE__*/_jsx(\"option\",{value:\"maquinaria\",children:\"Maquinaria\"}),/*#__PURE__*/_jsx(\"option\",{value:\"especial\",children:\"Especial\"}),/*#__PURE__*/_jsx(\"option\",{value:\"emergencia\",children:\"Emergencia\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Descripci\\xF3n (Opcional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:tipoFormData.descripcion,onChange:e=>setTipoFormData(prev=>({...prev,descripcion:e.target.value})),placeholder:\"Descripci\\xF3n breve del tipo\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{padding:'10px 20px',background:loading?'#9ca3af':'#22c55e',color:'white',border:'none',borderRadius:'6px',fontSize:'14px',fontWeight:'500',cursor:loading?'not-allowed':'pointer'},children:loading?'Guardando...':editingTipo?'✅ Actualizar':'✅ Crear Tipo'}),editingTipo&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setEditingTipo(null);setTipoFormData({nombre:'',icon:'🚛',descripcion:'',categoria:'general'});},style:{padding:'10px 20px',background:'#6b7280',color:'white',border:'none',borderRadius:'6px',fontSize:'14px',fontWeight:'500',cursor:'pointer'},children:\"Cancelar Edici\\xF3n\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0 0 15px 0',color:'#374151',fontSize:'18px'},children:[\"\\uD83D\\uDCCB Tipos Existentes (\",tiposVehiculo.length,\")\"]}),tiposVehiculo.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{padding:'40px',textAlign:'center',background:'#f9fafb',borderRadius:'8px',color:'#6b7280'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'16px',marginBottom:'10px'},children:\"No hay tipos de veh\\xEDculos creados\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px'},children:\"Crea tu primer tipo usando el formulario de arriba\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(auto-fill, minmax(250px, 1fr))',gap:'15px'},children:tiposVehiculo.map(tipo=>{const vehiculosConTipo=vehiculos.filter(v=>v.tipo===tipo.id).length;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',border:'1px solid #e5e7eb',borderRadius:'8px',padding:'15px',position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:tipo.icon}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0,fontSize:'16px',color:'#1f2937'},children:tipo.nombre}),tipo.categoria&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#6b7280',background:'#f3f4f6',padding:'2px 6px',borderRadius:'4px',display:'inline-block',marginTop:'4px'},children:tipo.categoria})]})]}),tipo.descripcion&&/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 10px 0',fontSize:'13px',color:'#6b7280'},children:tipo.descripcion}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',paddingTop:'10px',borderTop:'1px solid #f3f4f6'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'12px',color:'#6b7280'},children:[vehiculosConTipo,\" veh\\xEDculo(s)\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'5px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditTipo(tipo),style:{padding:'6px 10px',background:'#3b82f6',color:'white',border:'none',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteTipoVehiculo(tipo),disabled:vehiculosConTipo>0,style:{padding:'6px 10px',background:vehiculosConTipo>0?'#d1d5db':'#ef4444',color:'white',border:'none',borderRadius:'4px',fontSize:'12px',cursor:vehiculosConTipo>0?'not-allowed':'pointer',opacity:vehiculosConTipo>0?0.5:1},title:vehiculosConTipo>0?'No se puede eliminar, hay vehículos usando este tipo':'Eliminar tipo',children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]})]},tipo.id);})})]})]})});});const SuperAdmin=_ref2=>{var _formData$fotoPerfil,_formData$fotoPerfil2,_vehicleFormData$poli,_vehicleFormData$poli2,_vehicleFormData$poli3,_vehicleFormData$poli4,_vehicleFormData$poli5,_vehicleFormData$poli6,_vehicleFormData$docu,_vehicleFormData$docu2,_vehicleFormData$docu3,_vehicleFormData$docu4,_vehicleFormData$docu5,_vehicleFormData$docu6,_vehicleFormData$docu7,_vehicleFormData$docu8,_vehicleFormData$docu9,_vehicleFormData$docu0,_vehicleFormData$docu1,_vehicleFormData$docu10,_vehicleFormData$docu11,_vehicleFormData$docu12,_vehicleFormData$docu13,_vehicleFormData$docu14,_vehicleFormData$docu15,_vehicleFormData$docu16,_vehicleFormData$docu17,_vehicleFormData$docu18,_vehicleFormData$docu19,_vehicleFormData$docu20,_vehicleFormData$docu21,_vehicleFormData$docu22,_vehicleFormData$docu23,_vehicleFormData$docu24,_vehicleFormData$docu25,_vehicleFormData$docu26,_vehicleFormData$docu27,_vehicleFormData$docu28,_vehicleFormData$docu29,_vehicleFormData$docu30,_vehicleFormData$docu31,_vehicleFormData$docu32,_vehicleFormData$docu33,_vehicleFormData$docu34,_vehicleFormData$docu35,_vehicleFormData$docu36,_vehicleFormData$docu37,_vehicleFormData$docu38,_vehicleFormData$docu39,_vehicleFormData$docu40,_vehicleFormData$docu41,_vehicleFormData$docu42;let{currentUser,onLogout,onViewChange,currentView='admin'}=_ref2;// ========== ESTADOS PARA USUARIOS ==========\nconst[solicitudParaZona,setSolicitudParaZona]=useState(null);// En la línea ~90, actualiza el estado inicial de formData:\nconst[formData,setFormData]=useState({email:'',password:'',name:'',role:'trabajador',phone:'',vehicleId:'',localidad:'',recoveryPin:'',rut:'',fotoPerfil:{url:'',publicId:'',fecha:''},// REMOVER polizaSeguro de aquí\nlicenciaConducir:'',licenciasConducir:[],fechaVencimientoLicencia:'',observacionesLicencia:'',licenciaBloqueada:false,motivoBloqueo:'',fechaBloqueo:''});const[notificationCount,setNotificationCount]=useState(0);const[trabajadores,setTrabajadores]=useState([]);const[users,setUsers]=useState([]);const[loading,setLoading]=useState(false);const[message,setMessage]=useState({type:'',text:''});const[editingUser,setEditingUser]=useState(null);const[activeTab,setActiveTab]=useState(()=>{const savedTab=localStorage.getItem('superAdminActiveTab');return savedTab||'inicio';// CAMBIAR de 'users' a 'inicio'\n});const[isSidebarOpen,setIsSidebarOpen]=useState(()=>{const saved=localStorage.getItem('superAdminSidebarOpen');if(window.innerWidth<=768)return false;return saved!==null?JSON.parse(saved):true;});const[expandedMenus,setExpandedMenus]=useState(()=>{const saved=localStorage.getItem('superAdminExpandedMenus');return saved?JSON.parse(saved):['gestion'];});// Estado para mostrar/ocultar formularios con persistencia\nconst[showCreateForm,setShowCreateForm]=useState(()=>{const saved=localStorage.getItem('superAdminShowCreateForm');return saved?JSON.parse(saved):false;});const[showVehicleForm,setShowVehicleForm]=useState(()=>{const saved=localStorage.getItem('superAdminShowVehicleForm');return saved?JSON.parse(saved):false;});const[isMobile,setIsMobile]=useState(false);const[showEditUserForm,setShowEditUserForm]=useState(false);// ========== ESTADOS PARA VEHÍCULOS ==========\nconst[vehiculos,setVehiculos]=useState([]);const[editingVehicle,setEditingVehicle]=useState(null);const[vehicleFormData,setVehicleFormData]=useState({// DATOS EXISTENTES\nnombre:'',tipo:'',marca:'',modelo:'',año:new Date().getFullYear(),patente:'',color:'',numeroChasis:'',numeroMotor:'',kilometraje:0,capacidadCombustible:0,tipoCombustible:'gasolina',tipoAceite:'',// NUEVO: Tipo de aceite del motor\nfechaVencimientoExtintor:'',// NUEVO: Fecha de vencimiento del extintor\nimagenVehiculo:'',// NUEVO: URL de la imagen del vehículo\nseguroAdicional:'',// NUEVO: Información del seguro adicional/comercial\ncompaniaSeguroAdicional:'',// NUEVO: Compañía del seguro adicional\nnumeroPolizaAdicional:'',// NUEVO: Número de póliza del seguro adicional\nvigenciaSeguroAdicional:'',// NUEVO: Vigencia del seguro adicional\ncoberturaSeguroAdicional:'',// NUEVO: Tipo de cobertura\nultimoMantenimiento:'',proximoMantenimiento:'',kilometrajeUltimoMantenimiento:0,kilometrajeProximoMantenimiento:0,fechaRevisionTecnica:'',fechaSeguro:'',fechaPermisoCirculacion:'',operadorAsignado:'',estado:'disponible',lat:null,lng:null,observaciones:'',licenciasRequeridas:[],// NUEVOS CAMPOS - DATOS GENERALES\nvin:'',proveedor:'',modalidadAdquisicion:'compra',valorAdquisicion:0,fechaAdquisicion:'',// ESPECIFICACIONES TÉCNICAS\ncilindrada:'',potencia:'',transmision:'manual',traccion:'4x2',capacidadPasajeros:0,capacidadCarga:0,pesoBrutoVehicular:0,largo:0,ancho:0,alto:0,numeroEjes:2,equipamientoAdicional:'',// DOCUMENTACIÓN LEGAL\nnumeroPermisoCirculacion:'',vigenciaPermisoCirculacion:'',fechaRevisionGases:'',resultadoRevisionTecnica:'aprobado',vigenciaSOAP:'',numeroPolizaSOAP:'',seguroComplementario:false,numeroPolizaComplementario:'',vigenciaSeguroComplementario:'',multasRegistradas:'',documentos:{permisoCirculacion:{url:'',nombre:'',fecha:''},revisionTecnica:{url:'',nombre:'',fecha:''},certificadoGases:{url:'',nombre:'',fecha:''},soap:{url:'',nombre:'',fecha:''},seguroComplementario:{url:'',nombre:'',fecha:''},padronMunicipal:{url:'',nombre:'',fecha:''},facturaCompra:{url:'',nombre:'',fecha:''},contratoLeasing:{url:'',nombre:'',fecha:''},otros:[]},polizaSeguroVehiculo:{url:'',nombre:'',fecha:'',publicId:'',numeroPoliza:'',vigencia:'',compania:'',cobertura:'',tipoSeguro:''// obligatorio o adicional\n},// CONTROL DE OPERACIÓN\nhorasUso:0,promedioUsoMensual:0,consumoPromedio:0,proveedorCombustible:'',tieneGPS:false,dispositivoGPS:'',// MANTENIMIENTO\ntallerMantenimiento:'',costoUltimoMantenimiento:0,historialReparaciones:[],// COSTOS Y CICLO DE VIDA\ncostoMantencionAcumulado:0,costoCombustibleMensual:0,costoCombustibleAnual:0,costoSeguroAnual:0,vidaUtilEstimada:10,fechaEstimadaReemplazo:'',estadoPatrimonial:'activo'});// ========== ESTADOS PARA TIPOS DE VEHÍCULOS DINÁMICOS ==========\nconst[tiposVehiculo,setTiposVehiculo]=useState([]);const[showTipoModal,setShowTipoModal]=useState(false);const[editingTipo,setEditingTipo]=useState(null);const[uploadingFile,setUploadingFile]=useState(false);const[uploadProgress,setUploadProgress]=useState({});const[tipoFormData,setTipoFormData]=useState({nombre:'',icon:'🚛',descripcion:'',categoria:'general'});// ========== ESTADOS PARA SOLICITUDES ==========\nconst[solicitudes,setSolicitudes]=useState([]);const[showSolicitudDetails,setShowSolicitudDetails]=useState(null);// NUEVO ESTADO: Para controlar la pantalla de bienvenida\nconst[showWelcomeScreen,setShowWelcomeScreen]=useState(()=>{const welcomeShown=sessionStorage.getItem('superAdminWelcomeShown');return!welcomeShown;});// ========== FUNCIONES PARA MANEJO DE DOCUMENTOS ==========\nconst handleFileUpload=async(file,tipoDocumento,vehiculoId)=>{if(!file)return;// ⚠️ RECHAZAR PDFs COMPLETAMENTE\nif(file.type==='application/pdf'){setMessage({type:'error',text:'❌ NO se permiten PDFs. Por favor, sube una FOTO o IMAGEN del documento (JPG/PNG).'});// Mostrar alternativas\nalert('📸 ALTERNATIVAS PARA SUBIR TU DOCUMENTO:\\n\\n'+'1. Toma una FOTO con tu celular\\n'+'2. Haz una CAPTURA DE PANTALLA del PDF\\n'+'3. Usa un escáner que guarde como JPG\\n'+'4. Convierte el PDF a imagen en: https://www.ilovepdf.com/pdf_to_jpg');return;// DETENER AQUÍ\n}// Solo aceptar imágenes\nconst allowedTypes=['image/jpeg','image/png','image/jpg'];if(!allowedTypes.includes(file.type)){setMessage({type:'error',text:'❌ Solo se permiten imágenes JPG y PNG'});return;}// Validar tamaño\nif(file.size>10*1024*1024){setMessage({type:'error',text:'❌ El archivo no puede superar los 10MB'});return;}setUploadingFile(true);setUploadProgress({[tipoDocumento]:0});try{const formData=new FormData();formData.append('file',file);formData.append('upload_preset','vehiculos_docs');const vehicleId=vehiculoId||`temp_${Date.now()}`;const timestamp=Date.now();const cleanFileName=file.name.split('.')[0].replace(/[^a-zA-Z0-9_-]/g,'_');formData.append('folder',`municipalidad/vehiculos/${vehicleId}/${tipoDocumento}`);formData.append('public_id',`${timestamp}_${cleanFileName}`);setUploadProgress({[tipoDocumento]:30});// ✅ SIEMPRE subir como IMAGEN (nunca como raw)\nconst response=await fetch(`https://api.cloudinary.com/v1_1/${cloudinaryConfig.cloudName}/image/upload`,{method:'POST',body:formData});setUploadProgress({[tipoDocumento]:60});const data=await response.json();console.log('✅ Imagen subida:',data);setUploadProgress({[tipoDocumento]:90});const documentData={url:data.secure_url,// Las imágenes SÍ funcionan con HTTPS\npublicId:data.public_id,nombre:file.name,fecha:new Date().toISOString(),tamaño:file.size,tipo:file.type};// Actualizar estado\nif(tipoDocumento==='otros'){setVehicleFormData(prev=>{var _prev$documentos;return{...prev,documentos:{...prev.documentos,otros:[...(((_prev$documentos=prev.documentos)===null||_prev$documentos===void 0?void 0:_prev$documentos.otros)||[]),documentData]}};});}else{setVehicleFormData(prev=>({...prev,documentos:{...prev.documentos,[tipoDocumento]:documentData}}));}setUploadProgress({[tipoDocumento]:100});setMessage({type:'success',text:`✅ ${file.name} subido exitosamente`});setTimeout(()=>setUploadProgress({}),1000);}catch(error){console.error('Error:',error);setMessage({type:'error',text:'❌ Error al subir la imagen'});}finally{setUploadingFile(false);}};// Agregar después de handleFileUpload (alrededor de línea 450)\nconst handleVehiclePolizaUpload=async file=>{if(!file)return;const allowedTypes=['image/jpeg','image/png','image/jpg'];if(!allowedTypes.includes(file.type)){setMessage({type:'error',text:'❌ Solo se permiten imágenes JPG y PNG'});return;}if(file.size>10*1024*1024){setMessage({type:'error',text:'❌ El archivo no puede superar los 10MB'});return;}setUploadingFile(true);try{const uploadFormData=new FormData();uploadFormData.append('file',file);uploadFormData.append('upload_preset','vehiculos_docs');const vehicleId=(editingVehicle===null||editingVehicle===void 0?void 0:editingVehicle.id)||`temp_${Date.now()}`;const timestamp=Date.now();const cleanFileName=file.name.split('.')[0].replace(/[^a-zA-Z0-9_-]/g,'_');uploadFormData.append('folder',`municipalidad/vehiculos/${vehicleId}/poliza`);uploadFormData.append('public_id',`${timestamp}_${cleanFileName}`);const response=await fetch(`https://api.cloudinary.com/v1_1/${cloudinaryConfig.cloudName}/image/upload`,{method:'POST',body:uploadFormData});const data=await response.json();if(!response.ok){var _data$error;throw new Error(((_data$error=data.error)===null||_data$error===void 0?void 0:_data$error.message)||'Error al subir archivo');}setVehicleFormData(prev=>({...prev,polizaSeguroVehiculo:{...prev.polizaSeguroVehiculo,url:data.secure_url,publicId:data.public_id,nombre:file.name,fecha:new Date().toISOString()}}));setMessage({type:'success',text:'✅ Póliza de seguro subida exitosamente'});}catch(error){console.error('Error al subir:',error);setMessage({type:'error',text:`❌ Error al subir la imagen: ${error.message}`});}finally{setUploadingFile(false);}};const handleUserFileUpload=async(file,tipoDocumento,userId)=>{if(!file)return;// Validaciones\nconst allowedTypes=['image/jpeg','image/png','image/jpg'];if(!allowedTypes.includes(file.type)){setMessage({type:'error',text:'❌ Solo se permiten imágenes JPG y PNG'});return;}if(file.size>10*1024*1024){setMessage({type:'error',text:'❌ El archivo no puede superar los 10MB'});return;}setUploadingFile(true);try{const uploadFormData=new FormData();// CAMBIO: Renombrar para evitar conflicto\nuploadFormData.append('file',file);uploadFormData.append('upload_preset','vehiculos_docs');// CAMBIO: Usar el mismo preset que ya funciona\n// CAMBIO: Usar el email del estado formData correctamente\nconst userIdentifier=userId||formData.email||`temp_${Date.now()}`;const timestamp=Date.now();const cleanFileName=file.name.split('.')[0].replace(/[^a-zA-Z0-9_-]/g,'_');uploadFormData.append('folder',`municipalidad/usuarios/${userIdentifier}/${tipoDocumento}`);uploadFormData.append('public_id',`${timestamp}_${cleanFileName}`);const response=await fetch(`https://api.cloudinary.com/v1_1/${cloudinaryConfig.cloudName}/image/upload`,{method:'POST',body:uploadFormData// CAMBIO: Usar uploadFormData\n});const data=await response.json();// AGREGAR: Verificar si la respuesta fue exitosa\nif(!response.ok){var _data$error2;throw new Error(((_data$error2=data.error)===null||_data$error2===void 0?void 0:_data$error2.message)||'Error al subir archivo');}console.log('✅ Imagen subida:',data);// Debug\nif(tipoDocumento==='fotoPerfil'){setFormData(prev=>({...prev,fotoPerfil:{url:data.secure_url,publicId:data.public_id,fecha:new Date().toISOString()}}));}else if(tipoDocumento==='polizaSeguro'){setFormData(prev=>({...prev,polizaSeguro:{...prev.polizaSeguro,url:data.secure_url,publicId:data.public_id,nombre:file.name,fecha:new Date().toISOString()}}));}setMessage({type:'success',text:`✅ ${tipoDocumento==='fotoPerfil'?'Foto de perfil':'Póliza'} subida exitosamente`});}catch(error){console.error('Error al subir:',error);setMessage({type:'error',text:`❌ Error al subir la imagen: ${error.message}`});}finally{setUploadingFile(false);}};// REEMPLAZA tu función handleDeleteDocument con esta:\nconst handleDeleteDocument=async function(tipoDocumento){let index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!window.confirm('¿Estás seguro de eliminar este documento?'))return;try{let documentData;if(tipoDocumento==='otros'&&index!==null){documentData=vehicleFormData.documentos.otros[index];// Eliminar del array\nsetVehicleFormData(prev=>({...prev,documentos:{...prev.documentos,otros:prev.documentos.otros.filter((_,i)=>i!==index)}}));}else{documentData=vehicleFormData.documentos[tipoDocumento];// Limpiar documento específico\nsetVehicleFormData(prev=>({...prev,documentos:{...prev.documentos,[tipoDocumento]:{url:'',nombre:'',fecha:''}}}));}setMessage({type:'success',text:'✅ Documento eliminado'});// Nota: El archivo queda en Cloudinary pero sin referencia en tu BD\nconsole.log('Documento removido. Para eliminar de Cloudinary necesitas backend.');}catch(error){console.error('Error al eliminar documento:',error);setMessage({type:'error',text:'❌ Error al eliminar el documento'});}};const formatFileSize=bytes=>{if(bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return Math.round(bytes/Math.pow(k,i)*100)/100+' '+sizes[i];};// ========== DETECTAR SI ES MÓVIL ==========\n// ========== DETECTAR SI ES MÓVIL ==========\nuseEffect(()=>{const checkMobile=()=>{const mobile=window.innerWidth<=768;setIsMobile(mobile);if(mobile){setIsSidebarOpen(false);}};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);// ========== CARGAR DATOS INICIALES ==========\n// ========== CARGAR DATOS INICIALES ==========\nuseEffect(()=>{loadUsers();// Suscripciones a Firebase\nconst unsubscribeVehiculos=loadVehiculos();const unsubscribeSolicitudes=loadSolicitudes();const unsubscribeTipos=loadTiposVehiculo();const unsubscribeTrabajadores=loadTrabajadores();// AGREGAR ESTA LÍNEA\n// Cleanup\nreturn()=>{if(unsubscribeVehiculos)unsubscribeVehiculos();if(unsubscribeSolicitudes)unsubscribeSolicitudes();if(unsubscribeTipos)unsubscribeTipos();if(unsubscribeTrabajadores)unsubscribeTrabajadores();// AGREGAR ESTA LÍNEA\n};},[]);// Solo ejecutar al montar\n// ========== PERSISTENCIA DE ESTADOS ==========\n// Guardar pestaña activa\nuseEffect(()=>{localStorage.setItem('superAdminActiveTab',activeTab);},[activeTab]);// Guardar estado del sidebar (solo en desktop)\nuseEffect(()=>{if(!isMobile){localStorage.setItem('superAdminSidebarOpen',JSON.stringify(isSidebarOpen));}},[isSidebarOpen,isMobile]);// Guardar menús expandidos\nuseEffect(()=>{localStorage.setItem('superAdminExpandedMenus',JSON.stringify(expandedMenus));},[expandedMenus]);// Guardar estado de formulario de creación\nuseEffect(()=>{localStorage.setItem('superAdminShowCreateForm',JSON.stringify(showCreateForm));},[showCreateForm]);// Guardar estado de formulario de vehículos\nuseEffect(()=>{localStorage.setItem('superAdminShowVehicleForm',JSON.stringify(showVehicleForm));},[showVehicleForm]);// ========== LIMPIAR LOCALSTORAGE AL DESMONTAR (OPCIONAL) ==========\nuseEffect(()=>{return()=>{// Opcional: Si quieres limpiar cuando el componente se desmonta\n// Comenta estas líneas si quieres que persista incluso después de logout\n/*\r\n      localStorage.removeItem('superAdminShowCreateForm');\r\n      localStorage.removeItem('superAdminShowVehicleForm');\r\n      */};},[]);// NUEVO USEEFFECT: Para marcar que ya se mostró la bienvenida\nuseEffect(()=>{if(!showWelcomeScreen){sessionStorage.setItem('superAdminWelcomeShown','true');}},[showWelcomeScreen]);// ========== FUNCIONES DE CARGA DE DATOS ==========\nconst loadUsers=async()=>{try{const usersSnapshot=await getDocs(collection(firestore,'users'));const usersList=[];usersSnapshot.forEach(doc=>{const userData={id:doc.id,...doc.data()};usersList.push(userData);});setUsers(usersList);}catch(error){console.error('Error al cargar usuarios:',error);}};const loadVehiculos=useCallback(()=>{const vehiculosRef=databaseRef(database,'vehiculos');const unsubscribe=onValue(vehiculosRef,snapshot=>{const data=snapshot.val();if(data){const vehiculosArray=Object.entries(data).map(_ref3=>{let[id,vehiculo]=_ref3;return{id,...vehiculo};});// DEBUG: Ver si los documentos vienen de Firebase\nconsole.log('🚛 Vehículos cargados con documentos:',vehiculosArray);vehiculosArray.forEach(v=>{if(v.documentos){console.log(`📄 Documentos de ${v.nombre}:`,v.documentos);}});setVehiculos(vehiculosArray);}else{setVehiculos([]);}});return()=>off(vehiculosRef);},[]);const loadTrabajadores=useCallback(()=>{const trabajadoresRef=databaseRef(database,'trabajadores');const unsubscribe=onValue(trabajadoresRef,snapshot=>{const data=snapshot.val();if(data){const trabajadoresArray=Object.entries(data).map(_ref4=>{let[id,trabajador]=_ref4;return{id,...trabajador};});setTrabajadores(trabajadoresArray);}else{setTrabajadores([]);}});return()=>off(trabajadoresRef);},[]);const loadSolicitudes=useCallback(()=>{const solicitudesRef=databaseRef(database,'solicitudes_maquinaria');const unsubscribe=onValue(solicitudesRef,snapshot=>{const data=snapshot.val();if(data){const solicitudesArray=Object.entries(data).map(_ref5=>{let[id,sol]=_ref5;return{id,...sol};}).sort((a,b)=>{if(a.estado==='pendiente'&&b.estado!=='pendiente')return-1;if(a.estado!=='pendiente'&&b.estado==='pendiente')return 1;return new Date(b.fechaSolicitud)-new Date(a.fechaSolicitud);});setSolicitudes(solicitudesArray);}else{setSolicitudes([]);}});return()=>off(solicitudesRef);},[]);const loadTiposVehiculo=useCallback(()=>{const tiposRef=databaseRef(database,'tipos_vehiculo');const unsubscribe=onValue(tiposRef,snapshot=>{const data=snapshot.val();if(data){const tiposArray=Object.entries(data).map(_ref6=>{let[id,tipo]=_ref6;return{id,...tipo};});setTiposVehiculo(tiposArray);}else{setTiposVehiculo([]);}});return()=>off(tiposRef);},[]);// ========== FUNCIONES PARA TIPOS DE VEHÍCULOS - MEMOIZADAS ==========\nconst handleSaveTipoVehiculo=useCallback(async e=>{e.preventDefault();if(!tipoFormData.nombre.trim()){setMessage({type:'error',text:'El nombre del tipo es requerido'});return;}setLoading(true);try{if(editingTipo){const tipoRef=databaseRef(database,`tipos_vehiculo/${editingTipo.id}`);await update(tipoRef,{nombre:tipoFormData.nombre,icon:tipoFormData.icon,descripcion:tipoFormData.descripcion||'',categoria:tipoFormData.categoria||'general',updatedAt:new Date().toISOString(),updatedBy:currentUser.uid});setMessage({type:'success',text:`✅ Tipo \"${tipoFormData.nombre}\" actualizado exitosamente`});}else{const tipoId=tipoFormData.nombre.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g,\"\").replace(/\\s+/g,'_').replace(/[^a-z0-9_]/g,'');const tipoRef=databaseRef(database,`tipos_vehiculo/${tipoId}`);await databaseSet(tipoRef,{nombre:tipoFormData.nombre,icon:tipoFormData.icon,descripcion:tipoFormData.descripcion||'',categoria:tipoFormData.categoria||'general',createdAt:new Date().toISOString(),createdBy:currentUser.uid});setMessage({type:'success',text:`✅ Tipo \"${tipoFormData.nombre}\" creado exitosamente`});}setTipoFormData({nombre:'',icon:'🚛',descripcion:'',categoria:'general'});setEditingTipo(null);setShowTipoModal(false);}catch(error){console.error('Error al guardar tipo:',error);setMessage({type:'error',text:'Error al guardar el tipo de vehículo'});}finally{setLoading(false);}},[tipoFormData,editingTipo,currentUser.uid]);const handleDeleteTipoVehiculo=useCallback(async tipo=>{const vehiculosConTipo=vehiculos.filter(v=>v.tipo===tipo.id);if(vehiculosConTipo.length>0){setMessage({type:'error',text:`❌ No se puede eliminar \"${tipo.nombre}\". Hay ${vehiculosConTipo.length} vehículo(s) usando este tipo`});return;}if(window.confirm(`¿Estás seguro de eliminar el tipo \"${tipo.nombre}\"?`)){try{const tipoRef=databaseRef(database,`tipos_vehiculo/${tipo.id}`);await remove(tipoRef);setMessage({type:'success',text:`✅ Tipo \"${tipo.nombre}\" eliminado exitosamente`});}catch(error){console.error('Error al eliminar tipo:',error);setMessage({type:'error',text:'Error al eliminar el tipo de vehículo'});}}},[vehiculos]);const handleEditTipo=useCallback(tipo=>{setEditingTipo(tipo);setTipoFormData({nombre:tipo.nombre,icon:tipo.icon||'🚛',descripcion:tipo.descripcion||'',categoria:tipo.categoria||'general'});setShowTipoModal(true);},[]);// ========== FUNCIONES PARA SOLICITUDES ==========\nconst handleResponseSolicitud=async(solicitudId,estado,respuesta)=>{try{const solicitudRef=databaseRef(database,`solicitudes_maquinaria/${solicitudId}`);await update(solicitudRef,{estado,respuesta,fechaRespuesta:new Date().toISOString(),respondidoPor:currentUser.uid,visto:true});const solicitud=solicitudes.find(s=>s.id===solicitudId);if(solicitud){const notificacionRef=databaseRef(database,'notificaciones');await push(notificacionRef,{tipo:'respuesta_solicitud',mensaje:`Tu solicitud \"${solicitud.asunto}\" ha sido ${estado}`,destinatario:solicitud.solicitanteId,timestamp:new Date().toISOString(),leido:false});if(estado==='aprobada'){setSolicitudParaZona(solicitud);}}setMessage({type:'success',text:`✅ Solicitud ${estado} exitosamente`});setShowSolicitudDetails(null);if(estado==='rechazada'){setSolicitudParaZona(null);}}catch(error){console.error('Error al responder solicitud:',error);setMessage({type:'error',text:'❌ Error al procesar la solicitud'});}};const crearZonaDesdeSolicitud=()=>{if(!solicitudParaZona)return;localStorage.setItem('solicitudParaZona',JSON.stringify({nombre:`Trabajo: ${solicitudParaZona.asunto}`,descripcion:`${solicitudParaZona.descripcion}\\n\\nSolicitante: ${solicitudParaZona.nombreSolicitante}\\nTeléfono: ${solicitudParaZona.telefonoContacto}\\nLocalidad: ${solicitudParaZona.localidad||'No especificada'}`,direccion:`Solicitado por ${solicitudParaZona.localidad||'Junta de Vecinos'}`,lat:solicitudParaZona.ubicacion.lat,lng:solicitudParaZona.ubicacion.lng,prioridad:solicitudParaZona.prioridad,fechaLimite:solicitudParaZona.fechaNecesaria,tipoMaquinaria:solicitudParaZona.tipoMaquinaria,duracionEstimada:solicitudParaZona.duracionEstimada,solicitudId:solicitudParaZona.id}));setSolicitudParaZona(null);onViewChange('zones');};const handleCreateUser=async e=>{e.preventDefault();setLoading(true);setMessage({type:'',text:''});// Variables para la app secundaria\nlet secondaryApp;let secondaryAuth;try{// Validar RUT\nif(!validarRUT(formData.rut)){setMessage({type:'error',text:'RUT inválido'});setLoading(false);return;}// CREAR APP SECUNDARIA TEMPORAL\nsecondaryApp=initializeApp(firebaseConfig,`Secondary_${Date.now()}`);secondaryAuth=getSecondaryAuth(secondaryApp);// CREAR EL NUEVO USUARIO CON LA APP SECUNDARIA\nconst userCredential=await createUserWithEmailAndPassword(secondaryAuth,formData.email,formData.password);// Cerrar sesión en la app secundaria inmediatamente\nawait secondarySignOut(secondaryAuth);// GUARDAR DATOS EN FIRESTORE CON FECHA DE VENCIMIENTO DE LICENCIA\nawait setDoc(doc(firestore,'users',userCredential.user.uid),{email:formData.email,name:formData.name,role:formData.role,phone:formData.phone,vehicleId:formData.vehicleId||null,localidad:formData.localidad||null,recoveryPin:btoa(formData.recoveryPin),rut:formData.rut||null,licenciaConducir:formData.licenciaConducir||null,// Mantener por compatibilidad\nlicenciasConducir:formData.licenciasConducir||[],// NUEVO: Array de licencias\nfechaVencimientoLicencia:formData.fechaVencimientoLicencia||null,observacionesLicencia:formData.observacionesLicencia||'',// NUEVO\nlicenciaBloqueada:formData.licenciaBloqueada||false,// NUEVO\nmotivoBloqueo:formData.motivoBloqueo||'',// NUEVO\nfechaBloqueo:formData.fechaBloqueo||'',// NUEVO\nfotoPerfil:formData.fotoPerfil||null,polizaSeguro:formData.polizaSeguro||null,habilitado:true,// NUEVO: Usuario habilitado por defecto\nfechaDeshabilitado:null,motivoDeshabilitado:'',deshabilitadoPor:null,createdAt:new Date().toISOString(),createdBy:currentUser.uid,active:true,firstLogin:true});// SINCRONIZACIÓN CON REALTIME DATABASE PARA TRABAJADORES\nif(formData.role==='trabajador'){console.log('🔄 Sincronizando trabajador en Realtime Database...');const trabajadorRef=databaseRef(database,`trabajadores/${userCredential.user.uid}`);await databaseSet(trabajadorRef,{nombre:formData.name,email:formData.email,telefono:formData.phone||'',rut:formData.rut||null,vehiculoAsignado:formData.vehicleId||null,estado:'disponible',licenciaConducir:formData.licenciaConducir||null,licenciasConducir:formData.licenciasConducir||[],fechaVencimientoLicencia:formData.fechaVencimientoLicencia||null,observacionesLicencia:formData.observacionesLicencia||'',licenciaBloqueada:formData.licenciaBloqueada||false,motivoBloqueo:formData.motivoBloqueo||'',fechaBloqueo:formData.fechaBloqueo||'',ubicacion:null,// Inicialmente sin ubicación GPS\nultimoTrabajo:null,zonaDestino:null,createdAt:new Date().toISOString(),createdBy:currentUser.uid});console.log('✅ Trabajador sincronizado en Realtime Database');}// Si se asignó un vehículo, actualizar el vehículo también\nif(formData.vehicleId&&formData.role==='trabajador'){const vehiculoRef=databaseRef(database,`vehiculos/${formData.vehicleId}`);await update(vehiculoRef,{operadorAsignado:userCredential.user.uid,ultimaActualizacion:new Date().toISOString(),actualizadoPor:currentUser.uid});console.log('✅ Vehículo actualizado con operador asignado');}// Mensaje de éxito\nsetMessage({type:'success',text:`✅ Usuario ${formData.name} creado exitosamente${formData.role==='trabajador'?' y sincronizado en panel de flota':''}`});// Resetear formulario\n// En el reseteo del formulario después de crear usuario exitosamente\nsetFormData({email:'',password:'',name:'',role:'trabajador',phone:'',vehicleId:'',localidad:'',recoveryPin:'',rut:'',licenciaConducir:'',licenciasConducir:[],fechaVencimientoLicencia:'',observacionesLicencia:'',licenciaBloqueada:false,motivoBloqueo:'',fechaBloqueo:'',// AGREGAR:\nfotoPerfil:{url:'',publicId:'',fecha:''},polizaSeguro:{url:'',nombre:'',fecha:'',publicId:'',numeroPoliza:'',vigencia:'',compania:'',cobertura:''}});// Recargar lista de usuarios\nloadUsers();setShowCreateForm(false);}catch(error){console.error('Error al crear usuario:',error);// Manejo de errores específicos\nlet errorMessage='Error al crear usuario';switch(error.code){case'auth/email-already-in-use':errorMessage='Este correo ya está registrado';break;case'auth/invalid-email':errorMessage='Correo electrónico inválido';break;case'auth/weak-password':errorMessage='La contraseña debe tener al menos 6 caracteres';break;case'auth/network-request-failed':errorMessage='Error de conexión. Verifica tu internet';break;default:errorMessage=error.message;}setMessage({type:'error',text:errorMessage});}finally{// MUY IMPORTANTE: Limpiar la app secundaria\nif(secondaryApp){await deleteApp(secondaryApp);}setLoading(false);}};const handleToggleUserStatus=async(userId,userEmail)=>{const user=users.find(u=>u.id===userId);const nuevoEstado=!user.habilitado;try{await updateDoc(doc(firestore,'users',userId),{habilitado:nuevoEstado,fechaDeshabilitado:nuevoEstado?null:new Date().toISOString(),motivoDeshabilitado:nuevoEstado?'':'Deshabilitado por administrador',deshabilitadoPor:nuevoEstado?null:currentUser.uid,updatedAt:new Date().toISOString(),updatedBy:currentUser.uid});// Si el usuario es trabajador, actualizar en Realtime Database\nif(user.role==='trabajador'){const trabajadorRef=databaseRef(database,`trabajadores/${userId}`);await update(trabajadorRef,{habilitado:nuevoEstado,fechaDeshabilitado:nuevoEstado?null:new Date().toISOString(),ultimaActualizacion:new Date().toISOString()});// Si se deshabilita y tiene vehículo asignado, liberar el vehículo\nif(!nuevoEstado&&user.vehicleId){const vehiculoRef=databaseRef(database,`vehiculos/${user.vehicleId}`);await update(vehiculoRef,{operadorAsignado:null,ultimaActualizacion:new Date().toISOString()});}}setMessage({type:'success',text:`✅ Usuario ${nuevoEstado?'habilitado':'deshabilitado'} exitosamente`});loadUsers();}catch(error){console.error('Error al cambiar estado del usuario:',error);setMessage({type:'error',text:'❌ Error al cambiar estado del usuario'});}};const handleToggleVehicleStatus=async vehiculoId=>{console.log('🔧 Intentando cambiar estado del vehículo:',vehiculoId);const vehiculo=vehiculos.find(v=>v.id===vehiculoId);console.log('📋 Vehículo encontrado:',vehiculo);if(!vehiculo){console.error('❌ No se encontró el vehículo con ID:',vehiculoId);setMessage({type:'error',text:'❌ No se encontró el vehículo'});return;}// Determinar el nuevo estado (invertir el actual)\nconst estaDeshabilitado=vehiculo.habilitado===false;const habilitarVehiculo=estaDeshabilitado;// Si está deshabilitado, lo habilitamos\nconsole.log('🔄 Estado actual:',estaDeshabilitado?'deshabilitado':'habilitado');console.log('🔄 Nuevo estado será:',habilitarVehiculo?'habilitado':'deshabilitado');try{const vehiculoRef=databaseRef(database,`vehiculos/${vehiculoId}`);if(habilitarVehiculo){// HABILITAR vehículo\nawait update(vehiculoRef,{habilitado:true,estado:vehiculo.estadoAnterior||'disponible',estadoAnterior:null,fechaDeshabilitado:null,motivoDeshabilitado:'',deshabilitadoPor:null,ultimaActualizacion:new Date().toISOString(),actualizadoPor:currentUser.uid});console.log('✅ Vehículo habilitado exitosamente');}else{// DESHABILITAR vehículo\nawait update(vehiculoRef,{habilitado:false,estadoAnterior:vehiculo.estado,estado:'fuera_servicio',fechaDeshabilitado:new Date().toISOString(),motivoDeshabilitado:'Deshabilitado por administrador',deshabilitadoPor:currentUser.uid,operadorAsignado:null,ultimaActualizacion:new Date().toISOString(),actualizadoPor:currentUser.uid});console.log('🚫 Vehículo deshabilitado exitosamente');}setMessage({type:'success',text:`✅ Vehículo ${habilitarVehiculo?'habilitado':'deshabilitado'} exitosamente`});}catch(error){console.error('❌ Error al cambiar estado del vehículo:',error);setMessage({type:'error',text:`❌ Error al cambiar estado del vehículo: ${error.message}`});}};// ========================================================\n// OPCIONAL: Si también quieres actualizar handleUpdateUser\n// para cambiar contraseñas sin perder sesión\n// ========================================================\nconst handleResetUserPassword=async(userId,userEmail,newPassword)=>{let secondaryApp;let secondaryAuth;try{// Crear app secundaria\nsecondaryApp=initializeApp(firebaseConfig,`Secondary_Reset_${Date.now()}`);secondaryAuth=getSecondaryAuth(secondaryApp);// Aquí podrías implementar lógica para resetear contraseña\n// usando Firebase Admin SDK (requiere backend) o\n// simplemente actualizar la contraseña temporal en Firestore\n// Opción simple: Guardar nueva contraseña temporal\nawait updateDoc(doc(firestore,'users',userId),{tempPassword:btoa(newPassword),requirePasswordChange:true,needsAuthSync:true,passwordResetAt:new Date().toISOString(),passwordResetBy:currentUser.uid});setMessage({type:'success',text:`✅ Contraseña reseteada para ${userEmail}. El usuario deberá cambiarla en su próximo inicio de sesión.`});}catch(error){console.error('Error al resetear contraseña:',error);setMessage({type:'error',text:'Error al resetear la contraseña'});}finally{if(secondaryApp){await deleteApp(secondaryApp);}}};const handleEditUser=user=>{setEditingUser(user);setFormData({email:user.email,password:'',name:user.name||'',role:user.role||'trabajador',phone:user.phone||'',vehicleId:user.vehicleId||'',localidad:user.localidad||'',recoveryPin:'',// No mostrar el PIN actual por seguridad\nrut:user.rut||'',licenciaConducir:user.licenciaConducir||'',// Mantener por compatibilidad\nlicenciasConducir:user.licenciasConducir||[],// CARGAR ARRAY DE LICENCIAS\nfechaVencimientoLicencia:user.fechaVencimientoLicencia||'',observacionesLicencia:user.observacionesLicencia||'',fotoPerfil:user.fotoPerfil||{url:'',publicId:'',fecha:''},polizaSeguro:user.polizaSeguro||{url:'',nombre:'',fecha:'',publicId:'',numeroPoliza:'',vigencia:'',compania:'',cobertura:''},licenciaBloqueada:user.licenciaBloqueada||false,motivoBloqueo:user.motivoBloqueo||'',fechaBloqueo:user.fechaBloqueo||''});setShowEditUserForm(true);setShowCreateForm(false);};const handleUpdateUser=async e=>{e.preventDefault();setLoading(true);setMessage({type:'',text:''});try{// Validar RUT si se proporciona\nif(formData.rut&&!validarRUT(formData.rut)){setMessage({type:'error',text:'RUT inválido'});setLoading(false);return;}const updateData={name:formData.name,role:formData.role,phone:formData.phone,vehicleId:formData.vehicleId||null,localidad:formData.localidad||null,rut:formData.rut||null,licenciaConducir:formData.licenciaConducir||null,// Mantener por compatibilidad\nlicenciasConducir:formData.licenciasConducir||[],// ACTUALIZAR ARRAY\nfechaVencimientoLicencia:formData.fechaVencimientoLicencia||null,observacionesLicencia:formData.observacionesLicencia||'',licenciaBloqueada:formData.licenciaBloqueada||false,motivoBloqueo:formData.motivoBloqueo||'',fechaBloqueo:formData.fechaBloqueo||'',fotoPerfil:formData.fotoPerfil||null,polizaSeguro:formData.polizaSeguro||null,updatedAt:new Date().toISOString(),updatedBy:currentUser.uid};// Solo actualizar el PIN si se proporcionó uno nuevo\nif(formData.recoveryPin&&formData.recoveryPin.length===4){updateData.recoveryPin=btoa(formData.recoveryPin);}await updateDoc(doc(firestore,'users',editingUser.id),updateData);setMessage({type:'success',text:`✅ Usuario ${formData.name} actualizado exitosamente`});// Resetear formulario\nsetFormData({email:'',password:'',name:'',role:'trabajador',phone:'',vehicleId:'',localidad:'',recoveryPin:'',rut:'',licenciaConducir:'',fechaVencimientoLicencia:''// RESETEAR NUEVO CAMPO\n});loadUsers();setShowEditUserForm(false);setEditingUser(null);}catch(error){console.error('Error al actualizar usuario:',error);setMessage({type:'error',text:'Error al actualizar usuario: '+error.message});}finally{setLoading(false);}};const handleDeleteUser=async userId=>{if(window.confirm('¿Estás seguro de eliminar este usuario?')){try{await deleteDoc(doc(firestore,'users',userId));setMessage({type:'success',text:'✅ Usuario eliminado'});loadUsers();}catch(error){setMessage({type:'error',text:'Error al eliminar usuario'});}}};const handleCreateOrUpdateVehicle=async e=>{e.preventDefault();setLoading(true);setMessage({type:'',text:''});try{const estadoValido=['disponible','en_uso','mantenimiento','fuera_servicio'].includes(vehicleFormData.estado)?vehicleFormData.estado:'disponible';// Preparar datos del vehículo\nconst vehicleDataToSave={// Campos básicos\nnombre:vehicleFormData.nombre||'',tipo:vehicleFormData.tipo||'',marca:vehicleFormData.marca||'',modelo:vehicleFormData.modelo||'',año:vehicleFormData.año||new Date().getFullYear(),patente:vehicleFormData.patente||'',color:vehicleFormData.color||'',numeroChasis:vehicleFormData.numeroChasis||'',numeroMotor:vehicleFormData.numeroMotor||'',kilometraje:vehicleFormData.kilometraje||0,capacidadCombustible:vehicleFormData.capacidadCombustible||0,tipoCombustible:vehicleFormData.tipoCombustible||'gasolina',estado:estadoValido,licenciasRequeridas:vehicleFormData.licenciasRequeridas||[],polizaSeguroVehiculo:vehicleFormData.polizaSeguroVehiculo||null,// Mantenimiento\nultimoMantenimiento:vehicleFormData.ultimoMantenimiento||'',proximoMantenimiento:vehicleFormData.proximoMantenimiento||'',kilometrajeUltimoMantenimiento:vehicleFormData.kilometrajeUltimoMantenimiento||0,kilometrajeProximoMantenimiento:vehicleFormData.kilometrajeProximoMantenimiento||0,// Documentación\nfechaRevisionTecnica:vehicleFormData.fechaRevisionTecnica||'',fechaSeguro:vehicleFormData.fechaSeguro||'',fechaPermisoCirculacion:vehicleFormData.fechaPermisoCirculacion||'',// Ubicación\nlat:vehicleFormData.lat||null,lng:vehicleFormData.lng||null,// Observaciones\nobservaciones:vehicleFormData.observaciones||'',// Timestamps\nultimaActualizacion:new Date().toISOString(),actualizadoPor:currentUser.uid};// ⚠️ IMPORTANTE: INCLUIR DOCUMENTOS SI EXISTEN\nif(vehicleFormData.documentos){const documentosParaGuardar={};// Guardar cada tipo de documento\nObject.keys(vehicleFormData.documentos).forEach(tipoDoc=>{const doc=vehicleFormData.documentos[tipoDoc];if(tipoDoc==='otros'&&Array.isArray(doc)&&doc.length>0){// Para array de otros documentos\ndocumentosParaGuardar.otros=doc.map(d=>({url:d.url||'',nombre:d.nombre||'',fecha:d.fecha||'',publicId:d.publicId||'',tamaño:d.tamaño||0,tipo:d.tipo||''}));}else if(doc&&doc.url){// Para documentos individuales con URL\ndocumentosParaGuardar[tipoDoc]={url:doc.url||'',nombre:doc.nombre||'',fecha:doc.fecha||'',publicId:doc.publicId||'',tamaño:doc.tamaño||0,tipo:doc.tipo||''};}});// Solo agregar documentos si hay alguno\nif(Object.keys(documentosParaGuardar).length>0){vehicleDataToSave.documentos=documentosParaGuardar;console.log('📄 Guardando documentos:',documentosParaGuardar);}}// Agregar otros campos nuevos si están presentes\nif(vehicleFormData.vin)vehicleDataToSave.vin=vehicleFormData.vin;if(vehicleFormData.proveedor)vehicleDataToSave.proveedor=vehicleFormData.proveedor;// ... agregar más campos según necesites\nconsole.log('💾 Datos a guardar:',vehicleDataToSave);if(editingVehicle){// ACTUALIZAR vehículo existente\nconst vehicleRef=databaseRef(database,`vehiculos/${editingVehicle.id}`);await update(vehicleRef,vehicleDataToSave);setMessage({type:'success',text:`✅ Vehículo ${vehicleFormData.nombre} actualizado exitosamente`});}else{// CREAR nuevo vehículo\nvehicleDataToSave.createdAt=new Date().toISOString();vehicleDataToSave.createdBy=currentUser.uid;const vehiculosRef=databaseRef(database,'vehiculos');const newVehicleRef=push(vehiculosRef);await databaseSet(newVehicleRef,vehicleDataToSave);setMessage({type:'success',text:`✅ Vehículo ${vehicleFormData.nombre} creado exitosamente`});}// Al resetear el formulario, siempre incluir estructura de documentos\nconst resetVehicleForm=()=>{setVehicleFormData({nombre:'',tipo:'',marca:'',modelo:'',año:new Date().getFullYear(),patente:'',color:'',numeroChasis:'',numeroMotor:'',kilometraje:0,capacidadCombustible:0,tipoCombustible:'gasolina',ultimoMantenimiento:'',proximoMantenimiento:'',kilometrajeUltimoMantenimiento:0,kilometrajeProximoMantenimiento:0,fechaRevisionTecnica:'',fechaSeguro:'',fechaPermisoCirculacion:'',operadorAsignado:'',estado:'disponible',lat:null,lng:null,observaciones:'',// IMPORTANTE: Siempre incluir estructura de documentos\ndocumentos:{permisoCirculacion:{url:'',nombre:'',fecha:''},revisionTecnica:{url:'',nombre:'',fecha:''},certificadoGases:{url:'',nombre:'',fecha:''},soap:{url:'',nombre:'',fecha:''},seguroComplementario:{url:'',nombre:'',fecha:''},padronMunicipal:{url:'',nombre:'',fecha:''},facturaCompra:{url:'',nombre:'',fecha:''},contratoLeasing:{url:'',nombre:'',fecha:''},otros:[]}// ... resto de campos\n});};setShowVehicleForm(false);setEditingVehicle(null);}catch(error){console.error('Error al guardar vehículo:',error);setMessage({type:'error',text:'❌ Error al guardar el vehículo: '+error.message});}finally{setLoading(false);}};// Función para validar RUT chileno\nconst validarRUT=rut=>{// Limpiar RUT\nconst rutLimpio=rut.replace(/[^0-9kK]/g,'').toUpperCase();if(rutLimpio.length<8||rutLimpio.length>9){return false;}const cuerpo=rutLimpio.slice(0,-1);const dv=rutLimpio.slice(-1);// Calcular dígito verificador\nlet suma=0;let multiplicador=2;for(let i=cuerpo.length-1;i>=0;i--){suma+=parseInt(cuerpo[i])*multiplicador;multiplicador=multiplicador===7?2:multiplicador+1;}const dvCalculado=11-suma%11;const dvFinal=dvCalculado===11?'0':dvCalculado===10?'K':dvCalculado.toString();return dv===dvFinal;};// Función para formatear RUT mientras se escribe\nconst formatearRUT=value=>{// Eliminar caracteres no válidos\nlet rut=value.replace(/[^0-9kK]/g,'').toUpperCase();// Limitar longitud\nif(rut.length>9){rut=rut.slice(0,9);}// Si tiene más de 1 carácter, formatear\nif(rut.length>1){// Separar dígito verificador\nconst dv=rut.slice(-1);let cuerpo=rut.slice(0,-1);// Agregar puntos cada 3 dígitos\ncuerpo=cuerpo.replace(/\\B(?=(\\d{3})+(?!\\d))/g,'.');// Unir cuerpo y dígito verificador con guión\nrut=`${cuerpo}-${dv}`;}return rut;};const handleEditVehicle=vehicle=>{setEditingVehicle(vehicle);setVehicleFormData({// Campos existentes\nnombre:vehicle.nombre||'',tipo:vehicle.tipo||'',marca:vehicle.marca||'',modelo:vehicle.modelo||'',año:vehicle.año||new Date().getFullYear(),patente:vehicle.patente||'',color:vehicle.color||'',numeroChasis:vehicle.numeroChasis||'',numeroMotor:vehicle.numeroMotor||'',kilometraje:vehicle.kilometraje||0,capacidadCombustible:vehicle.capacidadCombustible||0,tipoCombustible:vehicle.tipoCombustible||'gasolina',ultimoMantenimiento:vehicle.ultimoMantenimiento||'',proximoMantenimiento:vehicle.proximoMantenimiento||'',kilometrajeUltimoMantenimiento:vehicle.kilometrajeUltimoMantenimiento||0,kilometrajeProximoMantenimiento:vehicle.kilometrajeProximoMantenimiento||0,fechaRevisionTecnica:vehicle.fechaRevisionTecnica||'',fechaSeguro:vehicle.fechaSeguro||'',fechaPermisoCirculacion:vehicle.fechaPermisoCirculacion||'',operadorAsignado:vehicle.operadorAsignado||'',estado:vehicle.estado||'disponible',lat:vehicle.lat||null,lng:vehicle.lng||null,observaciones:vehicle.observaciones||'',licenciasRequeridas:vehicle.licenciasRequeridas||[],// ⚠️ IMPORTANTE: CARGAR DOCUMENTOS EXISTENTES\ndocumentos:{permisoCirculacion:{url:'',nombre:'',fecha:''},revisionTecnica:{url:'',nombre:'',fecha:''},certificadoGases:{url:'',nombre:'',fecha:''},soap:{url:'',nombre:'',fecha:''},seguroComplementario:{url:'',nombre:'',fecha:''},padronMunicipal:{url:'',nombre:'',fecha:''},facturaCompra:{url:'',nombre:'',fecha:''},contratoLeasing:{url:'',nombre:'',fecha:''},extintor:{url:'',nombre:'',fecha:''},// AGREGAR ESTA LÍNEA\notros:[]},// Nuevos campos\nvin:vehicle.vin||'',proveedor:vehicle.proveedor||'',modalidadAdquisicion:vehicle.modalidadAdquisicion||'compra',valorAdquisicion:vehicle.valorAdquisicion||0,fechaAdquisicion:vehicle.fechaAdquisicion||'',cilindrada:vehicle.cilindrada||'',potencia:vehicle.potencia||'',transmision:vehicle.transmision||'manual',traccion:vehicle.traccion||'4x2',capacidadPasajeros:vehicle.capacidadPasajeros||0,capacidadCarga:vehicle.capacidadCarga||0,pesoBrutoVehicular:vehicle.pesoBrutoVehicular||0,largo:vehicle.largo||0,ancho:vehicle.ancho||0,alto:vehicle.alto||0,numeroEjes:vehicle.numeroEjes||2,equipamientoAdicional:vehicle.equipamientoAdicional||'',numeroPermisoCirculacion:vehicle.numeroPermisoCirculacion||'',vigenciaPermisoCirculacion:vehicle.vigenciaPermisoCirculacion||'',fechaRevisionGases:vehicle.fechaRevisionGases||'',resultadoRevisionTecnica:vehicle.resultadoRevisionTecnica||'aprobado',vigenciaSOAP:vehicle.vigenciaSOAP||'',numeroPolizaSOAP:vehicle.numeroPolizaSOAP||'',seguroComplementario:vehicle.seguroComplementario||false,numeroPolizaComplementario:vehicle.numeroPolizaComplementario||'',vigenciaSeguroComplementario:vehicle.vigenciaSeguroComplementario||'',multasRegistradas:vehicle.multasRegistradas||'',horasUso:vehicle.horasUso||0,promedioUsoMensual:vehicle.promedioUsoMensual||0,consumoPromedio:vehicle.consumoPromedio||0,proveedorCombustible:vehicle.proveedorCombustible||'',tieneGPS:vehicle.tieneGPS||false,dispositivoGPS:vehicle.dispositivoGPS||'',tallerMantenimiento:vehicle.tallerMantenimiento||'',costoUltimoMantenimiento:vehicle.costoUltimoMantenimiento||0,historialReparaciones:vehicle.historialReparaciones||[],costoMantencionAcumulado:vehicle.costoMantencionAcumulado||0,costoCombustibleMensual:vehicle.costoCombustibleMensual||0,costoCombustibleAnual:vehicle.costoCombustibleAnual||0,costoSeguroAnual:vehicle.costoSeguroAnual||0,vidaUtilEstimada:vehicle.vidaUtilEstimada||10,fechaEstimadaReemplazo:vehicle.fechaEstimadaReemplazo||'',estadoPatrimonial:vehicle.estadoPatrimonial||'activo'});setShowVehicleForm(true);};const handleQuickMaintenanceToggle=async vehiculo=>{try{const nuevoEstado=vehiculo.estado==='mantenimiento'?'disponible':'mantenimiento';const vehicleRef=databaseRef(database,`vehiculos/${vehiculo.id}`);const updateData={estado:nuevoEstado,ultimaActualizacion:new Date().toISOString(),fechaMantenimiento:nuevoEstado==='mantenimiento'?new Date().toISOString():null};await update(vehicleRef,updateData);setMessage({type:'success',text:`✅ Vehículo ${vehiculo.nombre} marcado como ${nuevoEstado==='mantenimiento'?'En Mantenimiento 🔧':'Disponible ✅'}`});}catch(error){console.error('Error al cambiar estado:',error);setMessage({type:'error',text:'Error al cambiar estado del vehículo'});}};const handleCompleteMaintenance=async vehiculo=>{try{const hoy=new Date();const hoyFormateado=hoy.toISOString().split('T')[0];const kilometrajeActual=vehiculo.kilometraje||0;const proximaFecha=new Date();proximaFecha.setMonth(proximaFecha.getMonth()+3);const proximoKm=kilometrajeActual+5000;const vehicleRef=databaseRef(database,`vehiculos/${vehiculo.id}`);const updateData={estado:'disponible',ultimoMantenimiento:hoyFormateado,kilometrajeUltimoMantenimiento:kilometrajeActual,proximoMantenimiento:proximaFecha.toISOString().split('T')[0],kilometrajeProximoMantenimiento:proximoKm,ultimaActualizacion:new Date().toISOString(),fechaMantenimiento:null};await update(vehicleRef,updateData);setMessage({type:'success',text:`✅ Mantenimiento completado para ${vehiculo.nombre}. Próximo mantenimiento: ${proximaFecha.toLocaleDateString('es-CL')} o ${proximoKm.toLocaleString()} km`});}catch(error){console.error('Error al completar mantenimiento:',error);setMessage({type:'error',text:'Error al completar el mantenimiento'});}};const handleDeleteVehicle=async vehicleId=>{if(window.confirm('¿Estás seguro de eliminar este vehículo? Esta acción no se puede deshacer.')){try{const vehicleRef=databaseRef(database,`vehiculos/${vehicleId}`);await remove(vehicleRef);setMessage({type:'success',text:'✅ Vehículo eliminado exitosamente'});}catch(error){setMessage({type:'error',text:'Error al eliminar el vehículo'});}}};// ========== FUNCIONES DE ESTADÍSTICAS ==========\nconst getUserStats=()=>{const stats={total:users.length,admins:users.filter(u=>u.role==='admin').length,trabajadores:users.filter(u=>u.role==='trabajador').length,superadmins:users.filter(u=>u.role==='superadmin').length,monitores:users.filter(u=>u.role==='monitor').length// AGREGAR ESTA LÍNEA\n};return stats;};const getVehicleStats=()=>{const stats={total:vehiculos.length,disponibles:vehiculos.filter(v=>v.estado==='disponible').length,enUso:vehiculos.filter(v=>v.estado==='en_uso').length,mantenimiento:vehiculos.filter(v=>v.estado==='mantenimiento').length,activos:vehiculos.filter(v=>v.estado==='disponible'||v.estado==='en_uso').length,fueraServicio:vehiculos.filter(v=>v.estado==='fuera_servicio').length};return stats;};// ========== FUNCIONES DEL SIDEBAR ==========\nconst toggleMenu=menuId=>{setExpandedMenus(prev=>prev.includes(menuId)?prev.filter(id=>id!==menuId):[...prev,menuId]);};const handleExportUsersPDF=()=>{setMessage({type:'info',text:'Generando PDF de usuarios...'});try{pdfExportService.exportUsersToPDF(users,currentUser);setMessage({type:'success',text:'✅ PDF de usuarios generado exitosamente'});}catch(error){console.error('Error al generar PDF:',error);setMessage({type:'error',text:'❌ Error al generar el PDF'});}};// Función para exportar un usuario individual a PDF\n// AGREGAR CONSOLE.LOG PARA DEBUGGING\nconst handleExportSingleUserPDF=user=>{// DEBUGGING: Ver qué datos tiene el usuario\nconsole.log('Usuario a exportar:',user);console.log('Datos del usuario:',{id:user.id,name:user.name,email:user.email,role:user.role,phone:user.phone,localidad:user.localidad,active:user.active});if(!user||!user.email){setMessage({type:'error',text:'❌ Error: Datos del usuario incompletos'});return;}try{// Asegurarse de pasar el objeto completo\npdfExportService.exportSingleUserToPDF(user,currentUser);setMessage({type:'success',text:`✅ PDF de ${user.name||user.email} generado`});}catch(error){console.error('Error al generar PDF:',error);setMessage({type:'error',text:'❌ Error al generar el PDF'});}};const handleExportVehiclesPDF=()=>{setMessage({type:'info',text:'Generando PDF de vehículos...'});try{pdfExportService.exportVehiclesToPDF(vehiculos,tiposVehiculo,currentUser);setMessage({type:'success',text:'✅ PDF de vehículos generado exitosamente'});}catch(error){console.error('Error al generar PDF:',error);setMessage({type:'error',text:'❌ Error al generar el PDF'});}};const getMaintenanceAlerts=()=>{const hoy=new Date();return vehiculos.filter(v=>{if(!v.proximoMantenimiento)return false;const proxima=new Date(v.proximoMantenimiento);const dias=Math.ceil((proxima-hoy)/(1000*60*60*24));return dias<=7;// Alertas para mantenimientos en 7 días o menos\n}).length;};const menuItems=useMemo(()=>[{id:'principal',icon:'🏠',title:'Principal',submenu:[{id:'inicio',icon:'🏛️',title:'Inicio',tab:'inicio'},{id:'fleet',icon:'🚛',title:'Panel Flota',view:'fleet'}]},{id:'flota',icon:'🚛',title:'Gestión de Flota',submenu:[{id:'vehicles',icon:'🚗',title:'Vehículos',tab:'vehicles',badge:getVehicleStats().total},{id:'workers',icon:'👷',title:'Trabajadores',tab:'workers',badge:trabajadores.filter(t=>t.role==='trabajador').length},{id:'admins',icon:'👨‍💼',title:'Administradores',tab:'admins',badge:users.filter(u=>u.role==='admin').length}]},{id:'gestion',icon:'⚙️',title:'Gestión Sistema',submenu:[{id:'users',icon:'👥',title:'Usuarios',tab:'users',badge:getUserStats().total},{id:'vehicles',icon:'🚛',title:'Vehículos',tab:'vehicles',badge:getVehicleStats().total},{id:'maintenance',icon:'🔧',title:'Mantenimientos',tab:'maintenance',badge:getMaintenanceAlerts(),badgeType:getMaintenanceAlerts()>0?'alert':null},{id:'supplies',icon:'⛽',title:'Suministros',tab:'supplies'},{id:'solicitudes',icon:'📋',title:'Solicitudes',tab:'solicitudes',badge:solicitudes.filter(s=>s.estado==='pendiente').length,badgeType:'alert'}]}],[getUserStats().total,getVehicleStats().total,solicitudes,trabajadores,users]);// ========== RENDER PRINCIPAL ==========\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',height:'100vh',background:'#f3f4f6'},children:[/*#__PURE__*/_jsx(TiposVehiculoModal,{showTipoModal:showTipoModal,setShowTipoModal:setShowTipoModal,editingTipo:editingTipo,setEditingTipo:setEditingTipo,tipoFormData:tipoFormData,setTipoFormData:setTipoFormData,handleSaveTipoVehiculo:handleSaveTipoVehiculo,handleEditTipo:handleEditTipo,handleDeleteTipoVehiculo:handleDeleteTipoVehiculo,tiposVehiculo:tiposVehiculo,vehiculos:vehiculos,loading:loading,isMobile:isMobile}),isMobile&&isSidebarOpen&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.5)',zIndex:998},onClick:()=>setIsSidebarOpen(false)}),/*#__PURE__*/_jsxs(\"div\",{style:{width:isMobile?'280px':isSidebarOpen?'260px':'70px',background:'linear-gradient(180deg, #1a1d2e 0%, #16213e 100%)',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',position:isMobile?'fixed':'relative',height:'100vh',zIndex:999,left:isMobile?isSidebarOpen?'0':'-280px':'0',boxShadow:isMobile?'4px 0 20px rgba(0,0,0,0.3)':'2px 0 10px rgba(0,0,0,0.1)',display:'flex',flexDirection:'column',overflowY:'auto',overflowX:'visible',// CAMBIAR de 'hidden' a 'visible' para permitir que el dropdown se muestre\noverflow:'visible'// Para permitir que el dropdown sobresalga\n},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:isMobile?'20px':isSidebarOpen?'24px':'20px 10px',borderBottom:'none',display:'flex',alignItems:'center',justifyContent:'space-between',minHeight:isMobile?'60px':'70px',background:'rgba(0,0,0,0.2)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:isMobile?'12px':'10px',flex:1},children:isSidebarOpen||!isMobile?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:isMobile?'28px':'24px',filter:'drop-shadow(0 2px 4px rgba(0,0,0,0.2))'},children:\"\\uD83D\\uDD10\"}),isSidebarOpen&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,color:'white',fontSize:isMobile?'18px':'16px',fontWeight:'600',letterSpacing:'0.5px'},children:\"Super Admin\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'rgba(255,255,255,0.7)',fontSize:isMobile?'13px':'12px'},children:\"Panel de Control\"})]})]}):/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px',margin:'0 auto',filter:'drop-shadow(0 2px 4px rgba(0,0,0,0.2))'},children:\"\\uD83D\\uDD10\"})}),isMobile?/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsSidebarOpen(false),style:{background:'rgba(255,255,255,0.1)',border:'none',color:'white',padding:'10px',borderRadius:'8px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',transition:'all 0.2s',minWidth:'40px',height:'40px',fontSize:'20px'},onMouseEnter:e=>{e.currentTarget.style.background='rgba(255,255,255,0.2)';e.currentTarget.style.transform='scale(1.05)';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(255,255,255,0.1)';e.currentTarget.style.transform='scale(1)';},children:\"\\u2715\"}):isSidebarOpen&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsSidebarOpen(!isSidebarOpen),style:{background:'rgba(255,255,255,0.1)',border:'none',color:'white',padding:'8px',borderRadius:'6px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',transition:'all 0.2s',minWidth:'32px',height:'32px'},onMouseEnter:e=>{e.currentTarget.style.background='rgba(255,255,255,0.2)';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(255,255,255,0.1)';},children:\"\\u25C0\"})]}),!isMobile&&!isSidebarOpen&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'10px 5px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsSidebarOpen(true),style:{background:'rgba(255,255,255,0.1)',border:'none',color:'white',padding:'8px',borderRadius:'6px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',width:'100%',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.background='rgba(255,255,255,0.2)';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(255,255,255,0.1)';},title:\"Expandir men\\xFA\",children:\"\\u25B6\"})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:isMobile?'12px':isSidebarOpen?'10px':'10px 5px',borderBottom:'1px solid rgba(255,255,255,0.1)',position:'relative',// IMPORTANTE: Agregar position relative\nzIndex:1000// Asegurar que el contenedor tenga un z-index apropiado\n},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(255,255,255,0.1)',borderRadius:isMobile?'10px':'8px',padding:isMobile?'12px':isSidebarOpen?'10px':'8px',display:'flex',alignItems:'center',justifyContent:isSidebarOpen?'flex-start':'center',gap:'10px',cursor:'pointer',transition:'all 0.2s',minHeight:isMobile?'48px':'40px',position:'relative',// IMPORTANTE: Agregar position relative\noverflow:'visible'// Importante: permitir que el dropdown se muestre fuera\n},onMouseEnter:e=>{e.currentTarget.style.background='rgba(255,255,255,0.2)';if(!isMobile){// Solo aplicar transform en desktop\ne.currentTarget.style.transform='translateX(2px)';}},onMouseLeave:e=>{e.currentTarget.style.background='rgba(255,255,255,0.1)';if(!isMobile){// Solo aplicar transform en desktop\ne.currentTarget.style.transform='translateX(0)';}},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'relative',zIndex:1// Asegurar que el contenedor esté por debajo del dropdown\n}}),/*#__PURE__*/_jsx(NotificationSystem,{currentUser:currentUser,isMobile:isMobile,inSidebar:true,isCollapsed:!isSidebarOpen,onNotificationCountChange:setNotificationCount,sidebarZIndex:999// Pasar el z-index del sidebar al componente\n}),isSidebarOpen&&/*#__PURE__*/_jsx(\"div\",{style:{color:'white',pointerEvents:'none'},children:notificationCount>0&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:isMobile?'12px':'11px',color:'rgba(255,255,255,0.7)'},children:[notificationCount,\" sin leer\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,overflowY:'auto',overflowX:'hidden',padding:isMobile?'12px 0':'10px 0',WebkitOverflowScrolling:'touch'},children:menuItems.map(menu=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:isMobile?'8px':'5px'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleMenu(menu.id),style:{width:'100%',padding:isMobile?'14px 20px':isSidebarOpen?'12px 20px':'12px',background:'transparent',border:'none',color:'white',display:'flex',alignItems:'center',justifyContent:isSidebarOpen?'space-between':'center',cursor:'pointer',transition:'all 0.2s',fontSize:isMobile?'15px':'14px',minHeight:isMobile?'50px':'44px'},onMouseEnter:e=>{e.currentTarget.style.background='rgba(255,255,255,0.1)';e.currentTarget.style.transform='translateX(2px)';},onMouseLeave:e=>{e.currentTarget.style.background='transparent';e.currentTarget.style.transform='translateX(0)';},title:!isSidebarOpen?menu.title:'',children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:isMobile?'20px':'18px'},children:menu.icon}),isSidebarOpen&&/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'500'},children:menu.title})]}),isSidebarOpen&&menu.submenu&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:isMobile?'14px':'12px',transition:'transform 0.2s',transform:expandedMenus.includes(menu.id)?'rotate(90deg)':'rotate(0)'},children:\"\\u25B6\"})]}),isSidebarOpen&&expandedMenus.includes(menu.id)&&menu.submenu&&/*#__PURE__*/_jsx(\"div\",{style:{background:'rgba(0,0,0,0.2)',marginTop:'2px'},children:menu.submenu.map(item=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{if(item.view){onViewChange(item.view);}else if(item.tab){setActiveTab(item.tab);}if(isMobile)setIsSidebarOpen(false);},style:{width:'100%',padding:isMobile?'14px 20px 14px 20px':'12px 20px 12px 20px',margin:'0 10px',width:'calc(100% - 20px)',borderRadius:'10px',background:item.tab&&activeTab===item.tab||item.view&&currentView===item.view?'rgba(59, 130, 246, 0.3)':'transparent',border:'none',borderLeft:item.tab&&activeTab===item.tab||item.view&&currentView===item.view?'4px solid #3b82f6':'4px solid transparent',color:'white',display:'flex',alignItems:'center',justifyContent:'space-between',cursor:'pointer',transition:'all 0.2s',fontSize:isMobile?'14px':'13px',textAlign:'left',minHeight:isMobile?'44px':'38px'},onMouseEnter:e=>{if(!(item.tab&&activeTab===item.tab||item.view&&currentView===item.view)){e.currentTarget.style.background='rgba(102, 126, 234, 0.1)';e.currentTarget.style.transform='translateX(5px)';e.currentTarget.style.transition='all 0.3s ease';}},onMouseLeave:e=>{if(!(item.tab&&activeTab===item.tab||item.view&&currentView===item.view)){e.currentTarget.style.background='transparent';e.currentTarget.style.transform='translateX(0)';}},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:isMobile?'16px':'14px'},children:item.icon}),/*#__PURE__*/_jsx(\"span\",{children:item.title})]}),item.badge>0&&/*#__PURE__*/_jsx(\"span\",{style:{background:item.badgeType==='alert'?'linear-gradient(135deg, #ff6b6b, #ee5a24)':'linear-gradient(135deg, #667eea, #764ba2)',color:'white',padding:'4px 10px',borderRadius:'20px',fontSize:isMobile?'12px':'11px',fontWeight:'bold',minWidth:'24px',textAlign:'center',boxShadow:'0 2px 4px rgba(0,0,0,0.2)'},children:item.badge})]},item.id))})]},menu.id))}),/*#__PURE__*/_jsx(\"div\",{style:{padding:isMobile?'20px':isSidebarOpen?'24px':'10px',borderTop:'none',background:'transparent',marginTop:'auto'},children:isSidebarOpen?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:isMobile?'12px':'10px',marginBottom:'15px',color:'white'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:isMobile?'44px':'40px',height:isMobile?'44px':'40px',background:'rgba(255,255,255,0.2)',borderRadius:'50%',display:'flex',alignItems:'center',justifyContent:'center',fontSize:isMobile?'20px':'18px',flexShrink:0},children:\"\\uD83D\\uDC64\"}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:0},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:isMobile?'15px':'14px',fontWeight:'500',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:currentUser.name||'Super Admin'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:isMobile?'13px':'12px',opacity:0.7,overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:currentUser.email})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{onLogout();if(isMobile)setIsSidebarOpen(false);},style:{width:'calc(100% - 20px)',margin:'0 10px',padding:isMobile?'14px':'12px',background:'linear-gradient(135deg, #667eea, #764ba2)',borderRadius:'10px',color:'white',border:'none',borderRadius:isMobile?'8px':'6px',cursor:'pointer',fontSize:isMobile?'15px':'14px',fontWeight:'500',display:'flex',alignItems:'center',justifyContent:'center',gap:'8px',transition:'all 0.2s',minHeight:isMobile?'44px':'40px'},onMouseEnter:e=>{e.currentTarget.style.background='#dc2626';e.currentTarget.style.transform='scale(1.02)';},onMouseLeave:e=>{e.currentTarget.style.background='#ef4444';e.currentTarget.style.transform='scale(1)';},children:\"\\uD83D\\uDEAA Cerrar Sesi\\xF3n\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:onLogout,style:{width:'40px',height:'40px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'18px',margin:'0 auto',display:'block',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.background='#dc2626';e.currentTarget.style.transform='scale(1.05)';},onMouseLeave:e=>{e.currentTarget.style.background='#ef4444';e.currentTarget.style.transform='scale(1)';},title:\"Cerrar Sesi\\xF3n\",children:\"\\uD83D\\uDEAA\"})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,overflow:'auto',position:'relative'},children:[isMobile&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'15px',borderBottom:'1px solid #e5e7eb',display:'flex',alignItems:'center',gap:'15px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsSidebarOpen(true),style:{background:'#1e293b',color:'white',border:'none',padding:'8px',borderRadius:'6px',cursor:'pointer',fontSize:'20px'},children:\"\\u2630\"}),/*#__PURE__*/_jsx(\"h1\",{style:{margin:0,fontSize:'18px',color:'#1e293b'},children:\"Panel de Control\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:isMobile?'15px':'30px'},children:false&&showWelcomeScreen?/*#__PURE__*/_jsx(WelcomeScreen,{currentUser:currentUser,onClose:()=>setShowWelcomeScreen(false),stats:{totalUsers:users.length,totalVehicles:vehiculos.length,pendingSolicitudes:solicitudes.filter(s=>s.estado==='pendiente').length}}):/*#__PURE__*/_jsxs(_Fragment,{children:[message.text&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'12px',borderRadius:'8px',marginBottom:'20px',background:message.type==='success'?'#dcfce7':'#fee2e2',border:`1px solid ${message.type==='success'?'#86efac':'#fecaca'}`,color:message.type==='success'?'#166534':'#991b1b'},children:message.text}),solicitudParaZona&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',borderRadius:'8px',marginBottom:'20px',background:'#dbeafe',border:'2px solid #3b82f6',display:'flex',justifyContent:'space-between',alignItems:'center',flexWrap:'wrap',gap:'10px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"strong\",{style:{color:'#1e40af'},children:[\"\\u2705 Solicitud aprobada: \",solicitudParaZona.asunto]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'5px 0 0 0',fontSize:'14px',color:'#1e3a8a'},children:\"Ahora puedes crear una zona de trabajo basada en esta solicitud\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:crearZonaDesdeSolicitud,style:{padding:'10px 20px',background:'#22c55e',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600'},children:\"\\uD83D\\uDDFA\\uFE0F Crear Zona\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSolicitudParaZona(null),style:{padding:'10px 20px',background:'#6b7280',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'14px'},children:\"Cancelar\"})]})]}),activeTab==='inicio'&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',minHeight:'calc(100vh - 200px)',padding:'40px 20px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',animation:'fadeIn 0.5s ease-in'},children:[/*#__PURE__*/_jsx(\"style\",{children:`\n          @keyframes fadeIn {\n            from { opacity: 0; transform: scale(0.95); }\n            to { opacity: 1; transform: scale(1); }\n          }\n        `}),/*#__PURE__*/_jsx(\"img\",{src:\"/logoQuillon.jpg\"// REEMPLAZA CON TU LOGO\n,alt:\"Municipalidad de Quill\\xF3n\",style:{width:'300px',height:'auto',objectFit:'contain',marginBottom:'30px',filter:'drop-shadow(0 10px 30px rgba(0,0,0,0.1))'},onError:e=>{// Si no encuentra el logo, muestra un placeholder\ne.target.style.display='none';e.target.parentElement.innerHTML+=`\n            <div style=\"\n              width: 300px;\n              height: 300px;\n              margin: 0 auto 30px;\n              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n              border-radius: 20px;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              box-shadow: 0 20px 40px rgba(102, 126, 234, 0.2);\n            \">\n              <span style=\"font-size: 120px; color: white;\">🏛️</span>\n            </div>\n          `;}}),/*#__PURE__*/_jsx(\"h1\",{style:{margin:'0 0 20px 0',fontSize:'48px',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',fontWeight:'700'},children:\"Panel Super Admin\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'20px',color:'#64748b',margin:0},children:\"Municipalidad de Quill\\xF3n\"})]})}),activeTab==='users'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:'0 0 30px 0',color:'#1e293b',fontSize:'28px',fontWeight:'600'},children:\"\\uD83D\\uDC65 Gesti\\xF3n de Usuarios\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fit, minmax(${isMobile?'150px':'200px'}, 1fr))`,gap:'20px',marginBottom:'30px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'20px',borderRadius:'12px',boxShadow:'0 2px 8px rgba(0,0,0,0.05)',borderLeft:'4px solid #667eea'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'32px',fontWeight:'bold',color:'#1f2937'},children:getUserStats().total}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'14px'},children:\"Total Usuarios\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'20px',borderRadius:'12px',boxShadow:'0 2px 8px rgba(0,0,0,0.05)',borderLeft:'4px solid #3b82f6'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'32px',fontWeight:'bold',color:'#1f2937'},children:getUserStats().admins}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'14px'},children:\"Administradores\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'20px',borderRadius:'12px',boxShadow:'0 2px 8px rgba(0,0,0,0.05)',borderLeft:'4px solid #22c55e'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'32px',fontWeight:'bold',color:'#1f2937'},children:getUserStats().trabajadores}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'14px'},children:\"Trabajadores\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'20px',borderRadius:'12px',boxShadow:'0 2px 8px rgba(0,0,0,0.05)',borderLeft:'4px solid #6b7280'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'32px',fontWeight:'bold',color:'#1f2937'},children:getUserStats().monitores}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'14px'},children:\"Monitores\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',flexWrap:'wrap',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowCreateForm(!showCreateForm);setShowEditUserForm(false);setEditingUser(null);setFormData({rut:'',email:'',password:'',name:'',role:'trabajador',phone:'',vehicleId:'',localidad:'',recoveryPin:'',licenciaConducir:'',fechaVencimientoLicencia:''// AGREGAR ESTOS DOS CAMPOS\n});},style:{padding:'12px 24px',background:showCreateForm?'linear-gradient(135deg, #6b7280 0%, #4b5563 100%)':'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',fontWeight:'500',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px',transition:'all 0.3s ease',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 4px 8px rgba(0,0,0,0.15)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 2px 4px rgba(0,0,0,0.1)';},children:showCreateForm?'✖ Cancelar':'➕ Crear Nuevo Usuario'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportUsersPDF,style:{padding:'12px 24px',background:'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',fontWeight:'500',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px',transition:'all 0.3s ease',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 4px 8px rgba(0,0,0,0.15)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 2px 4px rgba(0,0,0,0.1)';},children:\"\\uD83D\\uDCC4 Exportar a PDF\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// Aquí puedes agregar exportación a Excel en el futuro\nsetMessage({type:'info',text:'📊 Función de exportación a Excel próximamente disponible'});},style:{padding:'12px 24px',background:'linear-gradient(135deg, #10b981 0%, #059669 100%)',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',fontWeight:'500',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px',transition:'all 0.3s ease',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 4px 8px rgba(0,0,0,0.15)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 2px 4px rgba(0,0,0,0.1)';},children:\"\\uD83D\\uDCCA Exportar a Excel\"}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'12px 24px',background:'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',borderRadius:'8px',display:'flex',alignItems:'center',gap:'8px',marginLeft:'auto'},children:/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'14px',color:'#6b7280'},children:[\"Total: \",/*#__PURE__*/_jsx(\"strong\",{style:{color:'#1f2937'},children:users.length}),\" usuarios\"]})})]}),showCreateForm&&!showEditUserForm&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'30px',borderRadius:'12px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:'0 0 20px 0',color:'#1f2937',fontSize:'20px'},children:\"Crear Nuevo Usuario\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateUser,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fit, minmax(${isMobile?'100%':'250px'}, 1fr))`,gap:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"RUT *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.rut,onChange:e=>{const rutFormateado=formatearRUT(e.target.value);setFormData({...formData,rut:rutFormateado});},onBlur:e=>{if(formData.rut&&!validarRUT(formData.rut)){setMessage({type:'error',text:'RUT inválido. Verifique el dígito verificador.'});}else{setMessage({type:'',text:''});}},placeholder:\"12.345.678-9\",maxLength:\"12\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Nombre Completo *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.name,onChange:e=>setFormData({...formData,name:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Correo Electr\\xF3nico *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,value:formData.email,onChange:e=>setFormData({...formData,email:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"PIN de Recuperaci\\xF3n (4 d\\xEDgitos) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,maxLength:\"4\",pattern:\"[0-9]{4}\",value:formData.recoveryPin,onChange:e=>{const value=e.target.value.replace(/\\D/g,'');setFormData({...formData,recoveryPin:value});},placeholder:\"Ej: 1234\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}}),/*#__PURE__*/_jsx(\"small\",{style:{color:'#6b7280',fontSize:'11px'},children:\"Este PIN se usar\\xE1 para recuperar la contrase\\xF1a\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{gridColumn:isMobile?'span 1':'span 2'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:[\"Licencias de Conducir\",/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px',fontSize:'12px',color:'#6b7280'},children:\"(Puede seleccionar m\\xFAltiples)\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'10px',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',background:'#f9fafb'},children:['B','C','A1','A2','A3','A4','A5','D','E','F'].map(licencia=>{var _formData$licenciasCo,_formData$licenciasCo2,_formData$licenciasCo3;return/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'5px',padding:'5px 10px',background:(_formData$licenciasCo=formData.licenciasConducir)!==null&&_formData$licenciasCo!==void 0&&_formData$licenciasCo.includes(licencia)?'#3b82f6':'white',color:(_formData$licenciasCo2=formData.licenciasConducir)!==null&&_formData$licenciasCo2!==void 0&&_formData$licenciasCo2.includes(licencia)?'white':'#374151',borderRadius:'4px',cursor:'pointer',border:'1px solid #d1d5db',transition:'all 0.2s'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:licencia,checked:((_formData$licenciasCo3=formData.licenciasConducir)===null||_formData$licenciasCo3===void 0?void 0:_formData$licenciasCo3.includes(licencia))||false,onChange:e=>{const newLicencias=e.target.checked?[...(formData.licenciasConducir||[]),licencia]:formData.licenciasConducir.filter(l=>l!==licencia);setFormData({...formData,licenciasConducir:newLicencias});},style:{display:'none'}}),/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'500'},children:[\"Clase \",licencia]})]},licencia);})}),/*#__PURE__*/_jsx(\"small\",{style:{color:'#6b7280',fontSize:'11px',display:'block',marginTop:'5px'},children:\"B: Particulares | C: Motos | A1-A5: Profesionales | D: Maquinaria | E: Tracci\\xF3n animal | F: Discapacidad\"})]}),formData.licenciasConducir&&formData.licenciasConducir.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:[\"Fecha Vencimiento Licencia\",/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px',fontSize:'12px',color:'#6b7280'},children:\"(Se enviar\\xE1 alerta 2 semanas antes)\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.fechaVencimientoLicencia,onChange:e=>{setFormData({...formData,fechaVencimientoLicencia:e.target.value});// Verificar si está próxima a vencer\nconst fechaVencimiento=new Date(e.target.value);const hoy=new Date();const diasRestantes=Math.ceil((fechaVencimiento-hoy)/(1000*60*60*24));if(diasRestantes<=14&&diasRestantes>=0){setMessage({type:'warning',text:`⚠️ La licencia vence en ${diasRestantes} días`});}else if(diasRestantes<0){setMessage({type:'error',text:'❌ La licencia está vencida'});}},min:new Date().toISOString().split('T')[0],style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),formData.licenciasConducir&&formData.licenciasConducir.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{gridColumn:isMobile?'span 1':'span 2'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:[\"Observaciones/Restricciones de Licencia\",/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px',fontSize:'12px',color:'#6b7280'},children:\"(Lentes, aud\\xEDfonos, restricciones m\\xE9dicas, etc.)\"})]}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.observacionesLicencia,onChange:e=>setFormData({...formData,observacionesLicencia:e.target.value}),placeholder:\"Ej: Debe usar lentes, Restricci\\xF3n horaria nocturna, Solo veh\\xEDculos autom\\xE1ticos, etc.\",rows:3,style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px',resize:'none',overflow:'auto',minHeight:'80px',maxHeight:'200px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',display:'flex',flexWrap:'wrap',gap:'10px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#6b7280'},children:\"Agregar r\\xE1pido:\"}),['Usa lentes 👓','Usa audífonos 🦻','Solo automático 🚗','Sin nocturno 🌙'].map(restriccion=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{const currentObs=formData.observacionesLicencia||'';const newObs=currentObs?`${currentObs}, ${restriccion}`:restriccion;setFormData({...formData,observacionesLicencia:newObs});},style:{padding:'4px 8px',background:'#f3f4f6',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:restriccion},restriccion))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{gridColumn:isMobile?'span 1':'span 2'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"\\uD83D\\uDCF8 Foto de Perfil\"}),(_formData$fotoPerfil=formData.fotoPerfil)!==null&&_formData$fotoPerfil!==void 0&&_formData$fotoPerfil.url?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'15px',alignItems:'center',padding:'15px',background:'#f9fafb',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"img\",{src:formData.fotoPerfil.url,alt:\"Foto de perfil\",style:{width:'80px',height:'80px',borderRadius:'50%',objectFit:'cover'}}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 10px 0',fontSize:'13px',color:'#374151'},children:\"Foto cargada exitosamente\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setFormData(prev=>({...prev,fotoPerfil:{url:'',publicId:'',fecha:''}})),style:{padding:'6px 12px',background:'#ef4444',color:'white',border:'none',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"fotoPerfil\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleUserFileUpload(e.target.files[0],'fotoPerfil',editingUser===null||editingUser===void 0?void 0:editingUser.id),style:{display:'none'}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"fotoPerfil\",style:{display:'block',padding:'30px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'8px',textAlign:'center',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'40px',marginBottom:'10px'},children:\"\\uD83D\\uDC64\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#374151'},children:\"Click para subir foto\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#6b7280',marginTop:'5px'},children:\"JPG o PNG - M\\xE1x. 10MB\"})]})]})]}),formData.licenciasConducir&&formData.licenciasConducir.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{gridColumn:isMobile?'span 1':'span 2'},children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',background:formData.licenciaBloqueada?'#fee2e2':'#f9fafb',borderRadius:'8px',border:formData.licenciaBloqueada?'2px solid #ef4444':'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:formData.licenciaBloqueada?'10px':'0'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'10px',fontSize:'14px',fontWeight:'500',color:formData.licenciaBloqueada?'#991b1b':'#374151'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.licenciaBloqueada,onChange:e=>{setFormData({...formData,licenciaBloqueada:e.target.checked,fechaBloqueo:e.target.checked?new Date().toISOString():''});},style:{width:'20px',height:'20px',cursor:'pointer'}}),formData.licenciaBloqueada?'🚫 LICENCIA BLOQUEADA':'✅ Licencia Habilitada']}),formData.licenciaBloqueada&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#991b1b',fontWeight:'600'},children:\"\\u26A0\\uFE0F NO PUEDE CONDUCIR\"})]}),formData.licenciaBloqueada&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'13px',fontWeight:'500',color:'#991b1b'},children:\"Motivo del bloqueo *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.motivoBloqueo,onChange:e=>setFormData({...formData,motivoBloqueo:e.target.value}),required:formData.licenciaBloqueada,style:{width:'100%',padding:'8px',border:'1px solid #ef4444',borderRadius:'4px',fontSize:'13px',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Seleccionar motivo --\"}),/*#__PURE__*/_jsx(\"option\",{value:\"parte_pendiente\",children:\"Parte/Multa pendiente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"suspension_judicial\",children:\"Suspensi\\xF3n judicial\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vencida\",children:\"Licencia vencida\"}),/*#__PURE__*/_jsx(\"option\",{value:\"examen_medico\",children:\"Pendiente examen m\\xE9dico\"}),/*#__PURE__*/_jsx(\"option\",{value:\"incapacidad_temporal\",children:\"Incapacidad temporal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"investigacion\",children:\"Bajo investigaci\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"otro\",children:\"Otro motivo\"})]}),formData.motivoBloqueo==='otro'&&/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Especifique el motivo del bloqueo...\",required:true,rows:2,style:{width:'100%',padding:'8px',border:'1px solid #ef4444',borderRadius:'4px',fontSize:'13px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',padding:'10px',background:'#fef2f2',borderRadius:'4px',fontSize:'12px',color:'#7f1d1d'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u26A0\\uFE0F Importante:\"}),\" Al bloquear la licencia, el usuario no podr\\xE1 ser asignado a ning\\xFAn veh\\xEDculo hasta que se desbloquee.\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Contrase\\xF1a *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,minLength:\"6\",value:formData.password,onChange:e=>setFormData({...formData,password:e.target.value}),placeholder:\"M\\xEDnimo 6 caracteres\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Rol *\"}),/*#__PURE__*/_jsxs(\"select\",{required:true,value:formData.role,onChange:e=>setFormData({...formData,role:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"trabajador\",children:\"\\uD83D\\uDC77 Trabajador\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"\\uD83D\\uDC68\\u200D\\uD83D\\uDCBC Administrador\"}),/*#__PURE__*/_jsx(\"option\",{value:\"superadmin\",children:\"\\uD83D\\uDD10 Super Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"monitor\",children:\"\\uD83D\\uDCCA Monitor\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:formData.phone,onChange:e=>setFormData({...formData,phone:e.target.value}),placeholder:\"+56 9 XXXX XXXX\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),formData.role==='junta_vecinos'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Localidad/Sector *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:formData.role==='junta_vecinos',value:formData.localidad||'',onChange:e=>setFormData({...formData,localidad:e.target.value}),placeholder:\"Ej: Sector Norte, Villa Los Aromos\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||formData.licenciaBloqueada&&!formData.motivoBloqueo,style:{marginTop:'20px',padding:'12px 24px',background:loading||formData.licenciaBloqueada&&!formData.motivoBloqueo?'#9ca3af':'#22c55e',color:'white',border:'none',borderRadius:'6px',fontSize:'16px',fontWeight:'500',cursor:loading||formData.licenciaBloqueada&&!formData.motivoBloqueo?'not-allowed':'pointer'},children:loading?'Creando...':'✅ Crear Usuario'})]})]}),showEditUserForm&&editingUser&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'30px',borderRadius:'12px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:'0 0 20px 0',color:'#1f2937',fontSize:'20px'},children:\"\\u270F\\uFE0F Editar Usuario\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdateUser,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fit, minmax(${isMobile?'100%':'250px'}, 1fr))`,gap:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"RUT *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.rut,onChange:e=>{const rutFormateado=formatearRUT(e.target.value);setFormData({...formData,rut:rutFormateado});},onBlur:e=>{if(formData.rut&&!validarRUT(formData.rut)){setMessage({type:'error',text:'RUT inválido. Verifique el dígito verificador.'});}else{setMessage({type:'',text:''});}},placeholder:\"12.345.678-9\",maxLength:\"12\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Nombre Completo *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.name,onChange:e=>setFormData({...formData,name:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Correo Electr\\xF3nico\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:formData.email,disabled:true,style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px',background:'#f3f4f6',cursor:'not-allowed'}}),/*#__PURE__*/_jsx(\"small\",{style:{color:'#6b7280',fontSize:'12px'},children:\"El email no se puede modificar\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Nuevo PIN de Recuperaci\\xF3n (Opcional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",maxLength:\"4\",pattern:\"[0-9]{4}\",value:formData.recoveryPin,onChange:e=>{const value=e.target.value.replace(/\\D/g,'');setFormData({...formData,recoveryPin:value});},placeholder:\"Dejar vac\\xEDo para mantener el actual\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}}),/*#__PURE__*/_jsx(\"small\",{style:{color:'#6b7280',fontSize:'11px'},children:\"Solo ingrese si desea cambiar el PIN actual\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{gridColumn:isMobile?'span 1':'span 2'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:[\"Licencias de Conducir\",/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px',fontSize:'12px',color:'#6b7280'},children:\"(Puede seleccionar m\\xFAltiples)\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'10px',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',background:'#f9fafb'},children:['B','C','A1','A2','A3','A4','A5','D','E','F'].map(licencia=>{var _formData$licenciasCo4,_formData$licenciasCo5,_formData$licenciasCo6;return/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'5px',padding:'5px 10px',background:(_formData$licenciasCo4=formData.licenciasConducir)!==null&&_formData$licenciasCo4!==void 0&&_formData$licenciasCo4.includes(licencia)?'#3b82f6':'white',color:(_formData$licenciasCo5=formData.licenciasConducir)!==null&&_formData$licenciasCo5!==void 0&&_formData$licenciasCo5.includes(licencia)?'white':'#374151',borderRadius:'4px',cursor:'pointer',border:'1px solid #d1d5db',transition:'all 0.2s'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:licencia,checked:((_formData$licenciasCo6=formData.licenciasConducir)===null||_formData$licenciasCo6===void 0?void 0:_formData$licenciasCo6.includes(licencia))||false,onChange:e=>{const newLicencias=e.target.checked?[...(formData.licenciasConducir||[]),licencia]:formData.licenciasConducir.filter(l=>l!==licencia);setFormData({...formData,licenciasConducir:newLicencias});},style:{display:'none'}}),/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'500'},children:[\"Clase \",licencia]})]},licencia);})}),/*#__PURE__*/_jsx(\"small\",{style:{color:'#6b7280',fontSize:'11px',display:'block',marginTop:'5px'},children:\"B: Particulares | C: Motos | A1-A5: Profesionales | D: Maquinaria | E: Tracci\\xF3n animal | F: Discapacidad\"})]}),formData.licenciasConducir&&formData.licenciasConducir.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:[\"Fecha Vencimiento Licencia\",/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px',fontSize:'12px',color:'#6b7280'},children:\"(Se enviar\\xE1 alerta 2 semanas antes)\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.fechaVencimientoLicencia,onChange:e=>{setFormData({...formData,fechaVencimientoLicencia:e.target.value});// Verificar si está próxima a vencer\nconst fechaVencimiento=new Date(e.target.value);const hoy=new Date();const diasRestantes=Math.ceil((fechaVencimiento-hoy)/(1000*60*60*24));if(diasRestantes<=14&&diasRestantes>=0){setMessage({type:'warning',text:`⚠️ La licencia vence en ${diasRestantes} días`});}else if(diasRestantes<0){setMessage({type:'error',text:'❌ La licencia está vencida'});}},min:new Date().toISOString().split('T')[0],style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),formData.licenciasConducir&&formData.licenciasConducir.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{gridColumn:isMobile?'span 1':'span 2'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:[\"Observaciones/Restricciones de Licencia\",/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px',fontSize:'12px',color:'#6b7280'},children:\"(Lentes, aud\\xEDfonos, restricciones m\\xE9dicas, etc.)\"})]}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.observacionesLicencia,onChange:e=>setFormData({...formData,observacionesLicencia:e.target.value}),placeholder:\"Ej: Debe usar lentes, Restricci\\xF3n horaria nocturna, Solo veh\\xEDculos autom\\xE1ticos, etc.\",rows:3,style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px',resize:'none'}}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',display:'flex',flexWrap:'wrap',gap:'10px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#6b7280'},children:\"Agregar r\\xE1pido:\"}),['Usa lentes 👓','Usa audífonos 🦻','Solo automático 🚗','Sin nocturno 🌙'].map(restriccion=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{const currentObs=formData.observacionesLicencia||'';const newObs=currentObs?`${currentObs}, ${restriccion}`:restriccion;setFormData({...formData,observacionesLicencia:newObs});},style:{padding:'4px 8px',background:'#f3f4f6',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:restriccion},restriccion))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{gridColumn:isMobile?'span 1':'span 2'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"\\uD83D\\uDCF8 Foto de Perfil\"}),(_formData$fotoPerfil2=formData.fotoPerfil)!==null&&_formData$fotoPerfil2!==void 0&&_formData$fotoPerfil2.url?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'15px',alignItems:'center',padding:'15px',background:'#f9fafb',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"img\",{src:formData.fotoPerfil.url,alt:\"Foto de perfil\",style:{width:'80px',height:'80px',borderRadius:'50%',objectFit:'cover'}}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 10px 0',fontSize:'13px',color:'#374151'},children:\"Foto actual\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setFormData(prev=>({...prev,fotoPerfil:{url:'',publicId:'',fecha:''}})),style:{padding:'6px 12px',background:'#ef4444',color:'white',border:'none',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"fotoPerfilEdit\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleUserFileUpload(e.target.files[0],'fotoPerfil',editingUser===null||editingUser===void 0?void 0:editingUser.id),style:{display:'none'}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"fotoPerfilEdit\",style:{display:'block',padding:'30px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'8px',textAlign:'center',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'40px',marginBottom:'10px'},children:\"\\uD83D\\uDC64\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#374151'},children:\"Click para subir foto\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#6b7280',marginTop:'5px'},children:\"JPG o PNG - M\\xE1x. 10MB\"})]})]})]}),formData.licenciasConducir&&formData.licenciasConducir.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{gridColumn:isMobile?'span 1':'span 2'},children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',background:formData.licenciaBloqueada?'#fee2e2':'#f9fafb',borderRadius:'8px',border:formData.licenciaBloqueada?'2px solid #ef4444':'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:formData.licenciaBloqueada?'10px':'0'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'10px',fontSize:'14px',fontWeight:'500',color:formData.licenciaBloqueada?'#991b1b':'#374151'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.licenciaBloqueada,onChange:e=>{setFormData({...formData,licenciaBloqueada:e.target.checked,fechaBloqueo:e.target.checked?new Date().toISOString():''});},style:{width:'20px',height:'20px',cursor:'pointer'}}),formData.licenciaBloqueada?'🚫 LICENCIA BLOQUEADA':'✅ Licencia Habilitada']}),formData.licenciaBloqueada&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#991b1b',fontWeight:'600'},children:\"\\u26A0\\uFE0F NO PUEDE CONDUCIR\"})]}),formData.licenciaBloqueada&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'13px',fontWeight:'500',color:'#991b1b'},children:\"Motivo del bloqueo *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.motivoBloqueo,onChange:e=>setFormData({...formData,motivoBloqueo:e.target.value}),required:formData.licenciaBloqueada,style:{width:'100%',padding:'8px',border:'1px solid #ef4444',borderRadius:'4px',fontSize:'13px',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Seleccionar motivo --\"}),/*#__PURE__*/_jsx(\"option\",{value:\"parte_pendiente\",children:\"Parte/Multa pendiente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"suspension_judicial\",children:\"Suspensi\\xF3n judicial\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vencida\",children:\"Licencia vencida\"}),/*#__PURE__*/_jsx(\"option\",{value:\"examen_medico\",children:\"Pendiente examen m\\xE9dico\"}),/*#__PURE__*/_jsx(\"option\",{value:\"incapacidad_temporal\",children:\"Incapacidad temporal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"investigacion\",children:\"Bajo investigaci\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"otro\",children:\"Otro motivo\"})]}),formData.motivoBloqueo==='otro'&&/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Especifique el motivo del bloqueo...\",required:true,rows:2,style:{width:'100%',padding:'8px',border:'1px solid #ef4444',borderRadius:'4px',fontSize:'13px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',padding:'10px',background:'#fef2f2',borderRadius:'4px',fontSize:'12px',color:'#7f1d1d'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u26A0\\uFE0F Importante:\"}),\" Al bloquear la licencia, el usuario no podr\\xE1 ser asignado a ning\\xFAn veh\\xEDculo hasta que se desbloquee.\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Rol *\"}),/*#__PURE__*/_jsxs(\"select\",{required:true,value:formData.role,onChange:e=>setFormData({...formData,role:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"trabajador\",children:\"\\uD83D\\uDC77 Trabajador\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"\\uD83D\\uDC68\\u200D\\uD83D\\uDCBC Administrador\"}),/*#__PURE__*/_jsx(\"option\",{value:\"superadmin\",children:\"\\uD83D\\uDD10 Super Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"monitor\",children:\"\\uD83D\\uDCCA Monitor\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:formData.phone,onChange:e=>setFormData({...formData,phone:e.target.value}),placeholder:\"+56 9 XXXX XXXX\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),formData.role==='junta_vecinos'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Localidad/Sector\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.localidad||'',onChange:e=>setFormData({...formData,localidad:e.target.value}),placeholder:\"Ej: Sector Norte, Villa Los Aromos\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||formData.licenciaBloqueada&&!formData.motivoBloqueo,style:{padding:'12px 24px',background:loading||formData.licenciaBloqueada&&!formData.motivoBloqueo?'#9ca3af':'#22c55e',color:'white',border:'none',borderRadius:'6px',fontSize:'16px',fontWeight:'500',cursor:loading||formData.licenciaBloqueada&&!formData.motivoBloqueo?'not-allowed':'pointer'},children:loading?'Actualizando...':'✅ Guardar Cambios'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowEditUserForm(false);setEditingUser(null);setFormData({email:'',password:'',name:'',role:'trabajador',phone:'',vehicleId:'',localidad:'',recoveryPin:'',rut:'',licenciaConducir:'',licenciasConducir:[],fechaVencimientoLicencia:'',observacionesLicencia:'',licenciaBloqueada:false,motivoBloqueo:'',fechaBloqueo:''});},style:{padding:'12px 24px',background:'#6b7280',color:'white',border:'none',borderRadius:'6px',fontSize:'16px',fontWeight:'500',cursor:'pointer'},children:\"Cancelar\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',overflow:'hidden'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',borderBottom:'1px solid #e5e7eb',background:'linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,color:'#1f2937',fontSize:'20px'},children:\"\\uD83D\\uDCCB Lista de Usuarios\"}),isMobile&&/*#__PURE__*/_jsx(\"p\",{style:{margin:'5px 0 0 0',fontSize:'12px',color:'#6b7280'},children:\"\\u2190 Desliza para ver m\\xE1s \\u2192\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{overflowX:'auto',WebkitOverflowScrolling:'touch'// Para scroll suave en iOS\n},children:[/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',minWidth:isMobile?'700px':'100%'// Ancho mínimo para móvil\n},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:'#f9fafb'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 20px',textAlign:'left',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 20px',textAlign:'left',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 20px',textAlign:'left',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"Rol\"}),users.some(u=>u.role==='junta_vecinos')&&/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 20px',textAlign:'left',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"Localidad\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 20px',textAlign:'left',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 20px',textAlign:'center',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>{var _user$fotoPerfil;// Calcular estado de licencia DENTRO del map para cada usuario\nlet estadoLicencia=null;if(user.fechaVencimientoLicencia&&(user.licenciaConducir||user.licenciasConducir&&user.licenciasConducir.length>0)){const fechaVencimiento=new Date(user.fechaVencimientoLicencia);const hoy=new Date();const diasRestantes=Math.ceil((fechaVencimiento-hoy)/(1000*60*60*24));if(diasRestantes<0){estadoLicencia={tipo:'vencida',texto:'VENCIDA',color:'#ef4444'};}else if(diasRestantes<=14){estadoLicencia={tipo:'porVencer',texto:`${diasRestantes} días`,color:'#f59e0b'};}else{estadoLicencia={tipo:'vigente',texto:'Vigente',color:'#22c55e'};}}return/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid #e5e7eb',background:user.habilitado===false?'#fef2f2':'transparent',opacity:user.habilitado===false?0.7:1},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'16px 20px',fontSize:'14px',color:'#1f2937'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[user.name,user.habilitado===false&&/*#__PURE__*/_jsx(\"span\",{style:{padding:'2px 6px',borderRadius:'4px',fontSize:'10px',fontWeight:'600',background:'#ef4444',color:'white'},children:\"DESHABILITADO\"})]})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'16px 20px',fontSize:'14px',color:'#6b7280'},children:user.email}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'16px 20px'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',borderRadius:'4px',fontSize:'12px',fontWeight:'500',background:user.role==='superadmin'?'#ede9fe':user.role==='admin'?'#dbeafe':user.role==='monitor'?'#f3f4f6':user.role==='junta_vecinos'?'#fef3c7':'#dcfce7',color:user.role==='superadmin'?'#6b21a8':user.role==='admin'?'#1e40af':user.role==='monitor'?'#374151':user.role==='junta_vecinos'?'#92400e':'#15803d'},children:user.role==='superadmin'?'🔐 Super Admin':user.role==='admin'?'👨‍💼 Admin':user.role==='monitor'?'📊 Monitor':user.role==='junta_vecinos'?'🏘️ Junta Vecinos':'👷 Trabajador'})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'16px 20px'},children:user.licenciaConducir||user.licenciasConducir&&user.licenciasConducir.length>0?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',fontWeight:'500'},children:user.licenciasConducir?user.licenciasConducir.join(', '):`Clase ${user.licenciaConducir}`}),user.licenciaBloqueada&&/*#__PURE__*/_jsx(\"span\",{style:{padding:'2px 6px',borderRadius:'4px',fontSize:'11px',fontWeight:'600',background:'#ef4444',color:'white'},children:\"\\uD83D\\uDEAB BLOQUEADA\"}),user.observacionesLicencia&&user.observacionesLicencia.includes('lentes')&&/*#__PURE__*/_jsx(\"span\",{title:user.observacionesLicencia,children:\"\\uD83D\\uDC53\"}),estadoLicencia&&!user.licenciaBloqueada&&/*#__PURE__*/_jsxs(\"span\",{style:{padding:'2px 6px',borderRadius:'4px',fontSize:'11px',fontWeight:'600',background:estadoLicencia.color+'20',color:estadoLicencia.color,border:`1px solid ${estadoLicencia.color}`},children:[estadoLicencia.tipo==='vencida'&&'⚠️',\" \",estadoLicencia.texto]})]}):/*#__PURE__*/_jsx(\"span\",{style:{color:'#9ca3af',fontSize:'12px'},children:\"Sin licencia\"})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'16px 20px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[(_user$fotoPerfil=user.fotoPerfil)!==null&&_user$fotoPerfil!==void 0&&_user$fotoPerfil.url?/*#__PURE__*/_jsx(\"img\",{src:user.fotoPerfil.url,alt:user.name,style:{width:'32px',height:'32px',borderRadius:'50%',objectFit:'cover'}}):/*#__PURE__*/_jsx(\"div\",{style:{width:'32px',height:'32px',borderRadius:'50%',background:'#e5e7eb',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'14px'},children:\"\\uD83D\\uDC64\"}),/*#__PURE__*/_jsx(\"span\",{children:user.name})]})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'16px 20px',fontSize:'14px',color:'#6b7280'},children:user.phone||'-'}),/*#__PURE__*/_jsx(\"td\",{style:{padding:isMobile?'12px 10px':'16px 20px',textAlign:'center'},children:user.id!==currentUser.uid?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:isMobile?'4px':'8px',justifyContent:'center',flexWrap:isMobile?'wrap':'nowrap'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleToggleUserStatus(user.id,user.email),style:{padding:isMobile?'5px 8px':'6px 12px',background:user.habilitado!==false?'#f59e0b':'#22c55e',color:'white',border:'none',borderRadius:'4px',fontSize:isMobile?'11px':'12px',cursor:'pointer',whiteSpace:'nowrap'},title:user.habilitado!==false?'Deshabilitar usuario':'Habilitar usuario',children:isMobile?user.habilitado!==false?'🚫':'✅':user.habilitado!==false?'🚫 Deshabilitar':'✅ Habilitar'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditUser(user),style:{padding:isMobile?'5px 8px':'6px 12px',background:'#3b82f6',color:'white',border:'none',borderRadius:'4px',fontSize:isMobile?'11px':'12px',cursor:'pointer',whiteSpace:'nowrap'},children:isMobile?'✏️':'✏️ Editar'}),user.habilitado===false?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteUser(user.id),style:{padding:isMobile?'5px 8px':'6px 12px',background:'#ef4444',color:'white',border:'none',borderRadius:'4px',fontSize:isMobile?'11px':'12px',cursor:'pointer',whiteSpace:'nowrap'},children:isMobile?'🗑️':'🗑️ Eliminar'}):/*#__PURE__*/_jsx(\"button\",{disabled:true,style:{padding:isMobile?'5px 8px':'6px 12px',background:'#d1d5db',color:'#9ca3af',border:'none',borderRadius:'4px',fontSize:isMobile?'11px':'12px',cursor:'not-allowed',whiteSpace:'nowrap'},title:\"Deshabilitar usuario primero para eliminar\",children:isMobile?'🗑️':'🗑️ Eliminar'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleExportSingleUserPDF(user),style:{padding:isMobile?'5px 8px':'6px 12px',background:'#10b981',color:'white',border:'none',borderRadius:'4px',fontSize:isMobile?'11px':'12px',cursor:'pointer',whiteSpace:'nowrap'},children:isMobile?'📄':'📄 Exportar'})]}):/*#__PURE__*/_jsx(\"span\",{style:{padding:'6px 12px',background:'#e5e7eb',color:'#6b7280',borderRadius:'4px',fontSize:'12px'},children:\"Usuario actual\"})})]},user.id);})})]}),users.length===0&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'40px',textAlign:'center',color:'#6b7280'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'10px'},children:\"\\uD83D\\uDC65\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'16px'},children:\"No hay usuarios registrados\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px'},children:\"Haz clic en \\\"Crear Nuevo Usuario\\\" para comenzar\"})]})]})]})]}),activeTab==='vehicles'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:'0 0 30px 0',color:'#1e293b',fontSize:'28px',fontWeight:'600'},children:\"\\uD83D\\uDE9B Gesti\\xF3n de Veh\\xEDculos y Maquinaria\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fit, minmax(${isMobile?'150px':'200px'}, 1fr))`,gap:'15px',marginBottom:'30px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'20px',borderRadius:'12px',boxShadow:'0 2px 8px rgba(0,0,0,0.05)',borderLeft:'4px solid #3b82f6'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'28px',fontWeight:'bold',color:'#1f2937'},children:getVehicleStats().total}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'13px'},children:\"\\uD83D\\uDCCA Total\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'20px',borderRadius:'12px',boxShadow:'0 2px 8px rgba(0,0,0,0.05)',borderLeft:'4px solid #22c55e'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'28px',fontWeight:'bold',color:'#1f2937'},children:getVehicleStats().disponibles}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'13px'},children:\"\\u2705 Disponibles\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'20px',borderRadius:'12px',boxShadow:'0 2px 8px rgba(0,0,0,0.05)',borderLeft:'4px solid #f59e0b'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'28px',fontWeight:'bold',color:'#1f2937'},children:getVehicleStats().enUso}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'13px'},children:\"\\uD83D\\uDD27 En Uso\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'20px',borderRadius:'12px',boxShadow:'0 2px 8px rgba(0,0,0,0.05)',borderLeft:'4px solid #ef4444'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'28px',fontWeight:'bold',color:'#1f2937'},children:getVehicleStats().mantenimiento}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'13px'},children:\"\\uD83D\\uDD27 Mantenimiento\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',flexWrap:'wrap',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowVehicleForm(!showVehicleForm);if(showVehicleForm){setEditingVehicle(null);setVehicleFormData({nombre:'',tipo:'',marca:'',modelo:'',año:new Date().getFullYear(),patente:'',color:'',numeroChasis:'',numeroMotor:'',kilometraje:0,capacidadCombustible:0,tipoCombustible:'gasolina',ultimoMantenimiento:'',proximoMantenimiento:'',kilometrajeUltimoMantenimiento:0,kilometrajeProximoMantenimiento:0,fechaRevisionTecnica:'',fechaSeguro:'',fechaPermisoCirculacion:'',operadorAsignado:'',estado:'disponible',lat:null,lng:null,observaciones:''});}},style:{padding:'12px 24px',background:'linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',fontWeight:'500',cursor:'pointer'},children:showVehicleForm?'✖ Cancelar':'➕ Registrar Nuevo Vehículo'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowTipoModal(true),style:{padding:'12px 24px',background:'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',fontWeight:'500',cursor:'pointer'},children:\"\\u2699\\uFE0F Gestionar Tipos de Veh\\xEDculos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportVehiclesPDF,style:{padding:'12px 24px',background:'linear-gradient(135deg, #dd8b2cff 0%, #ee1f10ff 100%)',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',fontWeight:'500',cursor:'pointer'},children:\"\\uD83D\\uDCD5 Exportar a PDF\"})]}),showVehicleForm&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'30px',borderRadius:'12px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:'0 0 20px 0',color:'#1f2937',fontSize:'20px'},children:editingVehicle?'✏️ Editar Vehículo':'🚛 Registrar Nuevo Vehículo'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateOrUpdateVehicle,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'25px',paddingBottom:'20px',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 15px 0',color:'#374151',fontSize:'16px'},children:\"\\uD83D\\uDCCB Datos Generales\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fit, minmax(${isMobile?'100%':'250px'}, 1fr))`,gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Nombre/Identificaci\\xF3n *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:vehicleFormData.nombre,onChange:e=>setVehicleFormData({...vehicleFormData,nombre:e.target.value}),placeholder:\"Ej: Cami\\xF3n 01, Retroexcavadora 02\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Tipo de Veh\\xEDculo *\"}),/*#__PURE__*/_jsxs(\"select\",{required:true,value:vehicleFormData.tipo,onChange:e=>setVehicleFormData({...vehicleFormData,tipo:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Seleccionar tipo --\"}),tiposVehiculo.map(tipo=>/*#__PURE__*/_jsxs(\"option\",{value:tipo.id,children:[tipo.icon,\" \",tipo.nombre]},tipo.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Marca *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:vehicleFormData.marca,onChange:e=>setVehicleFormData({...vehicleFormData,marca:e.target.value}),placeholder:\"Ej: Toyota, Caterpillar\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Modelo *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:vehicleFormData.modelo,onChange:e=>setVehicleFormData({...vehicleFormData,modelo:e.target.value}),placeholder:\"Ej: Hilux, 320D\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"A\\xF1o\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:vehicleFormData.año,onChange:e=>setVehicleFormData({...vehicleFormData,año:parseInt(e.target.value)}),min:\"1990\",max:new Date().getFullYear()+1,style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Patente *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:vehicleFormData.patente,onChange:e=>setVehicleFormData({...vehicleFormData,patente:e.target.value}),placeholder:\"Ej: XX-XX-99\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"N\\xB0 VIN/Chasis\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:vehicleFormData.vin,onChange:e=>setVehicleFormData({...vehicleFormData,vin:e.target.value}),placeholder:\"N\\xFAmero de chasis\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"N\\xB0 Motor\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:vehicleFormData.numeroMotor,onChange:e=>setVehicleFormData({...vehicleFormData,numeroMotor:e.target.value}),placeholder:\"N\\xFAmero de motor\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Color\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:vehicleFormData.color,onChange:e=>setVehicleFormData({...vehicleFormData,color:e.target.value}),placeholder:\"Ej: Blanco\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Modalidad de Adquisici\\xF3n\"}),/*#__PURE__*/_jsxs(\"select\",{value:vehicleFormData.modalidadAdquisicion,onChange:e=>setVehicleFormData({...vehicleFormData,modalidadAdquisicion:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"compra\",children:\"Compra\"}),/*#__PURE__*/_jsx(\"option\",{value:\"leasing\",children:\"Leasing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"arriendo\",children:\"Arriendo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"donacion\",children:\"Donaci\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"comodato\",children:\"Comodato\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Proveedor\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:vehicleFormData.proveedor,onChange:e=>setVehicleFormData({...vehicleFormData,proveedor:e.target.value}),placeholder:\"Nombre del proveedor\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Valor de Adquisici\\xF3n (CLP)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:vehicleFormData.valorAdquisicion,onChange:e=>setVehicleFormData({...vehicleFormData,valorAdquisicion:parseInt(e.target.value)}),placeholder:\"0\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'25px',paddingBottom:'20px',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0 0 15px 0',color:'#374151',fontSize:'16px',display:'flex',alignItems:'center',gap:'8px'},children:[\"\\uD83D\\uDE97 Licencias Requeridas para Operar\",/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#6b7280',fontWeight:'400'},children:\"(El operador debe tener al menos una de estas licencias)\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',background:'#f9fafb',borderRadius:'8px',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'10px',marginBottom:'10px'},children:['B','C','A1','A2','A3','A4','A5','D','E','F'].map(licencia=>{var _vehicleFormData$lice,_vehicleFormData$lice2,_vehicleFormData$lice3,_vehicleFormData$lice4;return/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'5px',padding:'8px 15px',background:(_vehicleFormData$lice=vehicleFormData.licenciasRequeridas)!==null&&_vehicleFormData$lice!==void 0&&_vehicleFormData$lice.includes(licencia)?'#3b82f6':'white',color:(_vehicleFormData$lice2=vehicleFormData.licenciasRequeridas)!==null&&_vehicleFormData$lice2!==void 0&&_vehicleFormData$lice2.includes(licencia)?'white':'#374151',borderRadius:'6px',cursor:'pointer',border:'2px solid',borderColor:(_vehicleFormData$lice3=vehicleFormData.licenciasRequeridas)!==null&&_vehicleFormData$lice3!==void 0&&_vehicleFormData$lice3.includes(licencia)?'#3b82f6':'#d1d5db',transition:'all 0.2s',fontWeight:'500'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:licencia,checked:((_vehicleFormData$lice4=vehicleFormData.licenciasRequeridas)===null||_vehicleFormData$lice4===void 0?void 0:_vehicleFormData$lice4.includes(licencia))||false,onChange:e=>{const newLicencias=e.target.checked?[...(vehicleFormData.licenciasRequeridas||[]),licencia]:vehicleFormData.licenciasRequeridas.filter(l=>l!==licencia);setVehicleFormData({...vehicleFormData,licenciasRequeridas:newLicencias});},style:{display:'none'}}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Clase \",licencia]})]},licencia);})}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',background:'#fef3c7',borderRadius:'6px',fontSize:'13px',color:'#92400e'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u26A0\\uFE0F Importante:\"}),\" Solo los trabajadores con al menos una de las licencias seleccionadas podr\\xE1n ser asignados a este veh\\xEDculo.\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',padding:'10px',background:'white',borderRadius:'6px',fontSize:'12px',color:'#6b7280'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',marginBottom:'5px'},children:\"\\uD83D\\uDCD6 Referencia de Clases:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(2, 1fr)',gap:'5px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"B:\"}),\" Veh\\xEDculos particulares\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"C:\"}),\" Motocicletas\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"A1:\"}),\" Taxis\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"A2:\"}),\" Buses peque\\xF1os\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"A3:\"}),\" Taxis y ambulancias\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"A4:\"}),\" Transporte de carga\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"A5:\"}),\" Todo tipo de veh\\xEDculos\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"D:\"}),\" Maquinaria automotriz\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"E:\"}),\" Tracci\\xF3n animal\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"F:\"}),\" Veh\\xEDculos adaptados\"]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'25px',paddingBottom:'20px',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 15px 0',color:'#374151',fontSize:'16px'},children:\"\\u2699\\uFE0F Especificaciones T\\xE9cnicas\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fit, minmax(${isMobile?'100%':'250px'}, 1fr))`,gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"\\uD83D\\uDEE2\\uFE0F Tipo de Aceite de Motor\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:vehicleFormData.tipoAceite,onChange:e=>setVehicleFormData({...vehicleFormData,tipoAceite:e.target.value}),placeholder:\"Ej: 15W-40, 5W-30, SAE 40\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Tipo de Combustible\"}),/*#__PURE__*/_jsxs(\"select\",{value:vehicleFormData.tipoCombustible,onChange:e=>setVehicleFormData({...vehicleFormData,tipoCombustible:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"gasolina\",children:\"Gasolina\"}),/*#__PURE__*/_jsx(\"option\",{value:\"diesel\",children:\"Diesel\"}),/*#__PURE__*/_jsx(\"option\",{value:\"electrico\",children:\"El\\xE9ctrico\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hibrido\",children:\"H\\xEDbrido\"}),/*#__PURE__*/_jsx(\"option\",{value:\"gas\",children:\"Gas\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Cilindrada (cc)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:vehicleFormData.cilindrada,onChange:e=>setVehicleFormData({...vehicleFormData,cilindrada:e.target.value}),placeholder:\"Ej: 2400\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Potencia (HP)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:vehicleFormData.potencia,onChange:e=>setVehicleFormData({...vehicleFormData,potencia:e.target.value}),placeholder:\"Ej: 150\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Transmisi\\xF3n\"}),/*#__PURE__*/_jsxs(\"select\",{value:vehicleFormData.transmision,onChange:e=>setVehicleFormData({...vehicleFormData,transmision:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"manual\",children:\"Manual\"}),/*#__PURE__*/_jsx(\"option\",{value:\"automatica\",children:\"Autom\\xE1tica\"}),/*#__PURE__*/_jsx(\"option\",{value:\"secuencial\",children:\"Secuencial\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Tracci\\xF3n\"}),/*#__PURE__*/_jsxs(\"select\",{value:vehicleFormData.traccion,onChange:e=>setVehicleFormData({...vehicleFormData,traccion:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"4x2\",children:\"4x2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4x4\",children:\"4x4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6x4\",children:\"6x4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6x6\",children:\"6x6\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Capacidad de Pasajeros\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:vehicleFormData.capacidadPasajeros,onChange:e=>setVehicleFormData({...vehicleFormData,capacidadPasajeros:parseInt(e.target.value)}),placeholder:\"0\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Capacidad de Carga (kg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:vehicleFormData.capacidadCarga,onChange:e=>setVehicleFormData({...vehicleFormData,capacidadCarga:parseInt(e.target.value)}),placeholder:\"0\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Equipamiento Adicional\"}),/*#__PURE__*/_jsx(\"textarea\",{value:vehicleFormData.equipamientoAdicional,onChange:e=>setVehicleFormData({...vehicleFormData,equipamientoAdicional:e.target.value}),placeholder:\"Ej: Barra de luces, winche, etc.\",rows:2,style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'25px',paddingBottom:'20px',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 15px 0',color:'#374151',fontSize:'16px'},children:\"\\uD83D\\uDCC4 Documentaci\\xF3n Legal\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fit, minmax(${isMobile?'100%':'250px'}, 1fr))`,gap:'15px',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"N\\xB0 Permiso Circulaci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:vehicleFormData.numeroPermisoCirculacion,onChange:e=>setVehicleFormData({...vehicleFormData,numeroPermisoCirculacion:e.target.value}),placeholder:\"N\\xFAmero de permiso\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"\\uD83E\\uDDEF Fecha Vencimiento Extintor\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:vehicleFormData.fechaVencimientoExtintor,onChange:e=>{setVehicleFormData({...vehicleFormData,fechaVencimientoExtintor:e.target.value});// Verificar si está próximo a vencer\nconst fechaVencimiento=new Date(e.target.value);const hoy=new Date();const diasRestantes=Math.ceil((fechaVencimiento-hoy)/(1000*60*60*24));if(diasRestantes<=30&&diasRestantes>=0){setMessage({type:'warning',text:`⚠️ El extintor vence en ${diasRestantes} días. Programar recarga.`});}else if(diasRestantes<0){setMessage({type:'error',text:'🚨 EXTINTOR VENCIDO - Requiere recarga inmediata'});}},style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Vigencia Permiso Circulaci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:vehicleFormData.vigenciaPermisoCirculacion,onChange:e=>setVehicleFormData({...vehicleFormData,vigenciaPermisoCirculacion:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Fecha Revisi\\xF3n T\\xE9cnica\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:vehicleFormData.fechaRevisionTecnica,onChange:e=>setVehicleFormData({...vehicleFormData,fechaRevisionTecnica:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Vigencia SOAP\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:vehicleFormData.vigenciaSOAP,onChange:e=>setVehicleFormData({...vehicleFormData,vigenciaSOAP:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"\\xBFTiene Seguro Complementario?\"}),/*#__PURE__*/_jsxs(\"select\",{value:vehicleFormData.seguroComplementario,onChange:e=>setVehicleFormData({...vehicleFormData,seguroComplementario:e.target.value==='true'}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"No\"}),/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"S\\xED\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',padding:'20px',background:'#f0f9ff',borderRadius:'8px',border:'1px solid #0284c7',gridColumn:isMobile?'span 1':'span 2'// <-- AÑADE ESTA LÍNEA\n},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{margin:'0 0 15px 0',color:'#0c4a6e',fontSize:'15px',fontWeight:'600',display:'flex',alignItems:'center',gap:'8px'},children:[\"\\uD83D\\uDEE1\\uFE0F P\\xF3liza de Seguro del Veh\\xEDculo\",/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#64748b',fontWeight:'400'},children:\"(Documentaci\\xF3n del seguro obligatorio o adicional)\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fit, minmax(${isMobile?'100%':'200px'}, 1fr))`,gap:'15px',marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'13px',color:'#374151'},children:\"Tipo de Seguro\"}),/*#__PURE__*/_jsxs(\"select\",{value:((_vehicleFormData$poli=vehicleFormData.polizaSeguroVehiculo)===null||_vehicleFormData$poli===void 0?void 0:_vehicleFormData$poli.tipoSeguro)||'',onChange:e=>setVehicleFormData(prev=>({...prev,polizaSeguroVehiculo:{...prev.polizaSeguroVehiculo,tipoSeguro:e.target.value}})),style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'13px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Seleccionar --\"}),/*#__PURE__*/_jsx(\"option\",{value:\"soap\",children:\"SOAP (Obligatorio)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"adicional\",children:\"Seguro Adicional\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ambos\",children:\"Ambos\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'13px',color:'#374151'},children:\"N\\xB0 P\\xF3liza\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:((_vehicleFormData$poli2=vehicleFormData.polizaSeguroVehiculo)===null||_vehicleFormData$poli2===void 0?void 0:_vehicleFormData$poli2.numeroPoliza)||'',onChange:e=>setVehicleFormData(prev=>({...prev,polizaSeguroVehiculo:{...prev.polizaSeguroVehiculo,numeroPoliza:e.target.value}})),placeholder:\"N\\xFAmero de p\\xF3liza\",style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'13px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'13px',color:'#374151'},children:\"Compa\\xF1\\xEDa\"}),/*#__PURE__*/_jsxs(\"select\",{value:((_vehicleFormData$poli3=vehicleFormData.polizaSeguroVehiculo)===null||_vehicleFormData$poli3===void 0?void 0:_vehicleFormData$poli3.compania)||'',onChange:e=>setVehicleFormData(prev=>({...prev,polizaSeguroVehiculo:{...prev.polizaSeguroVehiculo,compania:e.target.value}})),style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'13px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Seleccionar --\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HDI\",children:\"HDI Seguros\"}),/*#__PURE__*/_jsx(\"option\",{value:\"MAPFRE\",children:\"MAPFRE\"}),/*#__PURE__*/_jsx(\"option\",{value:\"BCI\",children:\"BCI Seguros\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Liberty\",children:\"Liberty Seguros\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SURA\",children:\"SURA\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Chilena\",children:\"Chilena Consolidada\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Consorcio\",children:\"Consorcio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SOAP\",children:\"SOAP Gen\\xE9rico\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Otra\",children:\"Otra\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'13px',color:'#374151'},children:\"Vigencia\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:((_vehicleFormData$poli4=vehicleFormData.polizaSeguroVehiculo)===null||_vehicleFormData$poli4===void 0?void 0:_vehicleFormData$poli4.vigencia)||'',onChange:e=>setVehicleFormData(prev=>({...prev,polizaSeguroVehiculo:{...prev.polizaSeguroVehiculo,vigencia:e.target.value}})),style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'13px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{gridColumn:isMobile?'span 1':'span 2'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'13px',color:'#374151'},children:\"Cobertura\"}),/*#__PURE__*/_jsx(\"textarea\",{value:((_vehicleFormData$poli5=vehicleFormData.polizaSeguroVehiculo)===null||_vehicleFormData$poli5===void 0?void 0:_vehicleFormData$poli5.cobertura)||'',onChange:e=>setVehicleFormData(prev=>({...prev,polizaSeguroVehiculo:{...prev.polizaSeguroVehiculo,cobertura:e.target.value}})),placeholder:\"Detalle de cobertura del seguro\",rows:2,style:{width:'100%',padding:'8px',border:'1px solid #d1d5db',borderRadius:'4px',fontSize:'13px',resize:'none'}})]})]}),(_vehicleFormData$poli6=vehicleFormData.polizaSeguroVehiculo)!==null&&_vehicleFormData$poli6!==void 0&&_vehicleFormData$poli6.url?/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',background:'white',borderRadius:'6px',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,fontSize:'13px',fontWeight:'500'},children:[\"\\uD83D\\uDCC4 \",vehicleFormData.polizaSeguroVehiculo.nombre]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'2px 0 0 0',fontSize:'11px',color:'#6b7280'},children:[\"Subido: \",new Date(vehicleFormData.polizaSeguroVehiculo.fecha).toLocaleDateString('es-CL')]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"a\",{href:vehicleFormData.polizaSeguroVehiculo.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{padding:'6px 12px',background:'#3b82f6',color:'white',borderRadius:'4px',textDecoration:'none',fontSize:'12px'},children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setVehicleFormData(prev=>({...prev,polizaSeguroVehiculo:{...prev.polizaSeguroVehiculo,url:'',nombre:'',publicId:''}})),style:{padding:'6px 12px',background:'#ef4444',color:'white',border:'none',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"polizaSeguroVehiculo\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleVehiclePolizaUpload(e.target.files[0]),style:{display:'none'}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"polizaSeguroVehiculo\",style:{display:'block',padding:'20px',background:'white',border:'2px dashed #d1d5db',borderRadius:'6px',textAlign:'center',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',marginBottom:'5px'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px'},children:\"Subir imagen de p\\xF3liza\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#6b7280',marginTop:'5px'},children:\"Solo im\\xE1genes JPG o PNG - M\\xE1x. 10MB\"})]})]})]}),vehicleFormData.seguroComplementario&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',padding:'20px',background:'#eff6ff',borderRadius:'8px',border:'1px solid #3b82f6'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 15px 0',color:'#1e40af',fontSize:'15px',fontWeight:'600'},children:\"\\uD83D\\uDEE1\\uFE0F Informaci\\xF3n del Seguro Comercial/Adicional\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fit, minmax(${isMobile?'100%':'250px'}, 1fr))`,gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px'},children:\"Compa\\xF1\\xEDa Aseguradora\"}),/*#__PURE__*/_jsxs(\"select\",{value:vehicleFormData.companiaSeguroAdicional,onChange:e=>setVehicleFormData({...vehicleFormData,companiaSeguroAdicional:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Seleccionar --\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HDI Seguros\",children:\"HDI Seguros\"}),/*#__PURE__*/_jsx(\"option\",{value:\"MAPFRE\",children:\"MAPFRE\"}),/*#__PURE__*/_jsx(\"option\",{value:\"BCI Seguros\",children:\"BCI Seguros\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Liberty Seguros\",children:\"Liberty Seguros\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SURA\",children:\"SURA\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Chilena Consolidada\",children:\"Chilena Consolidada\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Consorcio\",children:\"Consorcio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Otra\",children:\"Otra\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px'},children:\"N\\xB0 de P\\xF3liza\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:vehicleFormData.numeroPolizaAdicional,onChange:e=>setVehicleFormData({...vehicleFormData,numeroPolizaAdicional:e.target.value}),placeholder:\"N\\xFAmero de p\\xF3liza\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px'},children:\"Vigencia del Seguro\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:vehicleFormData.vigenciaSeguroAdicional,onChange:e=>setVehicleFormData({...vehicleFormData,vigenciaSeguroAdicional:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px'},children:\"Tipo de Cobertura\"}),/*#__PURE__*/_jsxs(\"select\",{value:vehicleFormData.coberturaSeguroAdicional,onChange:e=>setVehicleFormData({...vehicleFormData,coberturaSeguroAdicional:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Seleccionar --\"}),/*#__PURE__*/_jsx(\"option\",{value:\"basica\",children:\"B\\xE1sica (Da\\xF1os a terceros)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completa\",children:\"Completa (Todo riesgo)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"parcial\",children:\"Parcial (Robo + Da\\xF1os a terceros)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"personalizada\",children:\"Personalizada\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{gridColumn:isMobile?'span 1':'span 2'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',fontSize:'14px'},children:\"Detalles de Cobertura\"}),/*#__PURE__*/_jsx(\"textarea\",{value:vehicleFormData.seguroAdicional,onChange:e=>setVehicleFormData({...vehicleFormData,seguroAdicional:e.target.value}),placeholder:\"Ej: Incluye responsabilidad civil, robo, da\\xF1os propios, asistencia en ruta, etc.\",rows:3,style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',resize:'none'}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Multas Registradas\"}),/*#__PURE__*/_jsx(\"textarea\",{value:vehicleFormData.multasRegistradas,onChange:e=>setVehicleFormData({...vehicleFormData,multasRegistradas:e.target.value}),placeholder:\"Detalle de multas si existen\",rows:2,style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'25px',padding:'20px',background:'#f9fafb',borderRadius:'8px'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{margin:'0 0 15px 0',fontSize:'15px',fontWeight:'600',color:'#1f2937',display:'flex',alignItems:'center',gap:'8px'},children:[\"\\uD83D\\uDCC1 Documentos Digitalizados\",/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#6b7280',fontWeight:'400'},children:\"(\\\"(Solo im\\xE1genes JPG o PNG - M\\xE1x. 10MB)\\\" JPG o PNG - M\\xE1x. 10MB)\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',background:'#fef3c7',border:'2px solid #f59e0b',borderRadius:'8px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 10px 0',color:'#92400e',fontSize:'16px'},children:\"\\uD83D\\uDCF8 IMPORTANTE: Solo se aceptan IM\\xC1GENES\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 10px 0',fontSize:'14px',color:'#78350f'},children:\"Los archivos PDF no est\\xE1n soportados. Si tienes documentos en PDF:\"}),/*#__PURE__*/_jsxs(\"ol\",{style:{margin:'0',paddingLeft:'20px',fontSize:'14px',color:'#78350f'},children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDCF1 Toma una \",/*#__PURE__*/_jsx(\"strong\",{children:\"FOTO\"}),\" del documento con tu celular\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDCBB Haz una \",/*#__PURE__*/_jsx(\"strong\",{children:\"CAPTURA DE PANTALLA\"}),\" del PDF\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDD04 Convierte el PDF a JPG en: \",/*#__PURE__*/_jsx(\"a\",{href:\"https://www.ilovepdf.com/pdf_to_jpg\",target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#f59e0b'},children:\"iLovePDF.com\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fit, minmax(${isMobile?'100%':'280px'}, 1fr))`,gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'8px',padding:'15px',background:(_vehicleFormData$docu=vehicleFormData.documentos)!==null&&_vehicleFormData$docu!==void 0&&(_vehicleFormData$docu2=_vehicleFormData$docu.permisoCirculacion)!==null&&_vehicleFormData$docu2!==void 0&&_vehicleFormData$docu2.url?'#f0fdf4':'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:0,fontSize:'13px',fontWeight:'600',color:'#374151'},children:\"\\uD83D\\uDCCB Permiso Circulaci\\xF3n\"}),((_vehicleFormData$docu3=vehicleFormData.documentos)===null||_vehicleFormData$docu3===void 0?void 0:(_vehicleFormData$docu4=_vehicleFormData$docu3.permisoCirculacion)===null||_vehicleFormData$docu4===void 0?void 0:_vehicleFormData$docu4.url)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',padding:'2px 6px',background:'#22c55e',color:'white',borderRadius:'4px'},children:\"\\u2713 Cargado\"})]}),(_vehicleFormData$docu5=vehicleFormData.documentos)!==null&&_vehicleFormData$docu5!==void 0&&(_vehicleFormData$docu6=_vehicleFormData$docu5.permisoCirculacion)!==null&&_vehicleFormData$docu6!==void 0&&_vehicleFormData$docu6.url?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',background:'#f9fafb',borderRadius:'6px',marginBottom:'8px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#1f2937',marginBottom:'3px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:vehicleFormData.documentos.permisoCirculacion.nombre}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'11px'},children:new Date(vehicleFormData.documentos.permisoCirculacion.fecha).toLocaleDateString('es-CL')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"a\",{href:vehicleFormData.documentos.permisoCirculacion.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{flex:1,padding:'6px',background:'#3b82f6',color:'white',textAlign:'center',borderRadius:'6px',textDecoration:'none',fontSize:'12px'},children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('permisoCirculacion'),style:{flex:1,padding:'6px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'12px'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"permisoCirculacion\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'permisoCirculacion',editingVehicle===null||editingVehicle===void 0?void 0:editingVehicle.id),style:{display:'none'}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"permisoCirculacion\",style:{display:'block',padding:'20px 10px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'6px',textAlign:'center',cursor:'pointer',fontSize:'12px',color:'#6b7280',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#3b82f6';e.currentTarget.style.background='#eff6ff';},onMouseLeave:e=>{e.currentTarget.style.borderColor='#d1d5db';e.currentTarget.style.background='#f9fafb';},children:uploadProgress.permisoCirculacion?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'5px'},children:[\"Subiendo... \",uploadProgress.permisoCirculacion,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'4px',background:'#e5e7eb',borderRadius:'2px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:`${uploadProgress.permisoCirculacion}%`,height:'100%',background:'#3b82f6',transition:'width 0.3s'}})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',marginBottom:'5px'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Click para subir\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'8px',padding:'15px',background:(_vehicleFormData$docu7=vehicleFormData.documentos)!==null&&_vehicleFormData$docu7!==void 0&&(_vehicleFormData$docu8=_vehicleFormData$docu7.extintor)!==null&&_vehicleFormData$docu8!==void 0&&_vehicleFormData$docu8.url?'#f0fdf4':'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:0,fontSize:'13px',fontWeight:'600',color:'#374151'},children:\"\\uD83E\\uDDEF Certificado de Extintor\"}),((_vehicleFormData$docu9=vehicleFormData.documentos)===null||_vehicleFormData$docu9===void 0?void 0:(_vehicleFormData$docu0=_vehicleFormData$docu9.extintor)===null||_vehicleFormData$docu0===void 0?void 0:_vehicleFormData$docu0.url)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',padding:'2px 6px',background:'#22c55e',color:'white',borderRadius:'4px'},children:\"\\u2713 Cargado\"})]}),(_vehicleFormData$docu1=vehicleFormData.documentos)!==null&&_vehicleFormData$docu1!==void 0&&(_vehicleFormData$docu10=_vehicleFormData$docu1.extintor)!==null&&_vehicleFormData$docu10!==void 0&&_vehicleFormData$docu10.url?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',background:'#f9fafb',borderRadius:'6px',marginBottom:'8px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#1f2937',marginBottom:'3px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:vehicleFormData.documentos.extintor.nombre}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'11px'},children:new Date(vehicleFormData.documentos.extintor.fecha).toLocaleDateString('es-CL')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"a\",{href:vehicleFormData.documentos.extintor.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{flex:1,padding:'6px',background:'#3b82f6',color:'white',textAlign:'center',borderRadius:'6px',textDecoration:'none',fontSize:'12px'},children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('extintor'),style:{flex:1,padding:'6px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'12px'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"extintor\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'extintor',editingVehicle===null||editingVehicle===void 0?void 0:editingVehicle.id),style:{display:'none'}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"extintor\",style:{display:'block',padding:'20px 10px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'6px',textAlign:'center',cursor:'pointer',fontSize:'12px',color:'#6b7280',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#3b82f6';e.currentTarget.style.background='#eff6ff';},onMouseLeave:e=>{e.currentTarget.style.borderColor='#d1d5db';e.currentTarget.style.background='#f9fafb';},children:uploadProgress.extintor?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'5px'},children:[\"Subiendo... \",uploadProgress.extintor,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'4px',background:'#e5e7eb',borderRadius:'2px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:`${uploadProgress.extintor}%`,height:'100%',background:'#3b82f6',transition:'width 0.3s'}})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',marginBottom:'5px'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Click para subir\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',marginTop:'5px',color:'#9ca3af'},children:\"Foto del extintor y etiqueta de vencimiento\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'8px',padding:'15px',background:(_vehicleFormData$docu11=vehicleFormData.documentos)!==null&&_vehicleFormData$docu11!==void 0&&(_vehicleFormData$docu12=_vehicleFormData$docu11.revisionTecnica)!==null&&_vehicleFormData$docu12!==void 0&&_vehicleFormData$docu12.url?'#f0fdf4':'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:0,fontSize:'13px',fontWeight:'600',color:'#374151'},children:\"\\uD83D\\uDD27 Revisi\\xF3n T\\xE9cnica\"}),((_vehicleFormData$docu13=vehicleFormData.documentos)===null||_vehicleFormData$docu13===void 0?void 0:(_vehicleFormData$docu14=_vehicleFormData$docu13.revisionTecnica)===null||_vehicleFormData$docu14===void 0?void 0:_vehicleFormData$docu14.url)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',padding:'2px 6px',background:'#22c55e',color:'white',borderRadius:'4px'},children:\"\\u2713 Cargado\"})]}),(_vehicleFormData$docu15=vehicleFormData.documentos)!==null&&_vehicleFormData$docu15!==void 0&&(_vehicleFormData$docu16=_vehicleFormData$docu15.revisionTecnica)!==null&&_vehicleFormData$docu16!==void 0&&_vehicleFormData$docu16.url?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',background:'#f9fafb',borderRadius:'6px',marginBottom:'8px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#1f2937',marginBottom:'3px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:vehicleFormData.documentos.revisionTecnica.nombre}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'11px'},children:new Date(vehicleFormData.documentos.revisionTecnica.fecha).toLocaleDateString('es-CL')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"a\",{href:vehicleFormData.documentos.revisionTecnica.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{flex:1,padding:'6px',background:'#3b82f6',color:'white',textAlign:'center',borderRadius:'6px',textDecoration:'none',fontSize:'12px'},children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('revisionTecnica'),style:{flex:1,padding:'6px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'12px'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"revisionTecnica\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'revisionTecnica',editingVehicle===null||editingVehicle===void 0?void 0:editingVehicle.id),style:{display:'none'}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"revisionTecnica\",style:{display:'block',padding:'20px 10px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'6px',textAlign:'center',cursor:'pointer',fontSize:'12px',color:'#6b7280',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#3b82f6';e.currentTarget.style.background='#eff6ff';},onMouseLeave:e=>{e.currentTarget.style.borderColor='#d1d5db';e.currentTarget.style.background='#f9fafb';},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',marginBottom:'5px'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Click para subir\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'8px',padding:'15px',background:(_vehicleFormData$docu17=vehicleFormData.documentos)!==null&&_vehicleFormData$docu17!==void 0&&(_vehicleFormData$docu18=_vehicleFormData$docu17.certificadoGases)!==null&&_vehicleFormData$docu18!==void 0&&_vehicleFormData$docu18.url?'#f0fdf4':'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:0,fontSize:'13px',fontWeight:'600',color:'#374151'},children:\"\\uD83D\\uDCA8 Certificado de Gases\"}),((_vehicleFormData$docu19=vehicleFormData.documentos)===null||_vehicleFormData$docu19===void 0?void 0:(_vehicleFormData$docu20=_vehicleFormData$docu19.certificadoGases)===null||_vehicleFormData$docu20===void 0?void 0:_vehicleFormData$docu20.url)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',padding:'2px 6px',background:'#22c55e',color:'white',borderRadius:'4px'},children:\"\\u2713 Cargado\"})]}),(_vehicleFormData$docu21=vehicleFormData.documentos)!==null&&_vehicleFormData$docu21!==void 0&&(_vehicleFormData$docu22=_vehicleFormData$docu21.certificadoGases)!==null&&_vehicleFormData$docu22!==void 0&&_vehicleFormData$docu22.url?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',background:'#f9fafb',borderRadius:'6px',marginBottom:'8px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#1f2937',marginBottom:'3px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:vehicleFormData.documentos.certificadoGases.nombre}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'11px'},children:new Date(vehicleFormData.documentos.certificadoGases.fecha).toLocaleDateString('es-CL')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"a\",{href:vehicleFormData.documentos.certificadoGases.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{flex:1,padding:'6px',background:'#3b82f6',color:'white',textAlign:'center',borderRadius:'6px',textDecoration:'none',fontSize:'12px'},children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('certificadoGases'),style:{flex:1,padding:'6px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'12px'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"certificadoGases\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'certificadoGases',editingVehicle===null||editingVehicle===void 0?void 0:editingVehicle.id),style:{display:'none'}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"certificadoGases\",style:{display:'block',padding:'20px 10px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'6px',textAlign:'center',cursor:'pointer',fontSize:'12px',color:'#6b7280',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#3b82f6';e.currentTarget.style.background='#eff6ff';},onMouseLeave:e=>{e.currentTarget.style.borderColor='#d1d5db';e.currentTarget.style.background='#f9fafb';},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',marginBottom:'5px'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Click para subir\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'8px',padding:'15px',background:(_vehicleFormData$docu23=vehicleFormData.documentos)!==null&&_vehicleFormData$docu23!==void 0&&(_vehicleFormData$docu24=_vehicleFormData$docu23.soap)!==null&&_vehicleFormData$docu24!==void 0&&_vehicleFormData$docu24.url?'#f0fdf4':'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:0,fontSize:'13px',fontWeight:'600',color:'#374151'},children:\"\\uD83D\\uDEE1\\uFE0F SOAP\"}),((_vehicleFormData$docu25=vehicleFormData.documentos)===null||_vehicleFormData$docu25===void 0?void 0:(_vehicleFormData$docu26=_vehicleFormData$docu25.soap)===null||_vehicleFormData$docu26===void 0?void 0:_vehicleFormData$docu26.url)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',padding:'2px 6px',background:'#22c55e',color:'white',borderRadius:'4px'},children:\"\\u2713 Cargado\"})]}),(_vehicleFormData$docu27=vehicleFormData.documentos)!==null&&_vehicleFormData$docu27!==void 0&&(_vehicleFormData$docu28=_vehicleFormData$docu27.soap)!==null&&_vehicleFormData$docu28!==void 0&&_vehicleFormData$docu28.url?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',background:'#f9fafb',borderRadius:'6px',marginBottom:'8px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#1f2937',marginBottom:'3px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:vehicleFormData.documentos.soap.nombre}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'11px'},children:new Date(vehicleFormData.documentos.soap.fecha).toLocaleDateString('es-CL')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"a\",{href:vehicleFormData.documentos.soap.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{flex:1,padding:'6px',background:'#3b82f6',color:'white',textAlign:'center',borderRadius:'6px',textDecoration:'none',fontSize:'12px'},children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('soap'),style:{flex:1,padding:'6px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'12px'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"soap\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'soap',editingVehicle===null||editingVehicle===void 0?void 0:editingVehicle.id),style:{display:'none'}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"soap\",style:{display:'block',padding:'20px 10px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'6px',textAlign:'center',cursor:'pointer',fontSize:'12px',color:'#6b7280',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#3b82f6';e.currentTarget.style.background='#eff6ff';},onMouseLeave:e=>{e.currentTarget.style.borderColor='#d1d5db';e.currentTarget.style.background='#f9fafb';},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',marginBottom:'5px'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Click para subir\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'8px',padding:'15px',background:(_vehicleFormData$docu29=vehicleFormData.documentos)!==null&&_vehicleFormData$docu29!==void 0&&(_vehicleFormData$docu30=_vehicleFormData$docu29.seguroComplementario)!==null&&_vehicleFormData$docu30!==void 0&&_vehicleFormData$docu30.url?'#f0fdf4':'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:0,fontSize:'13px',fontWeight:'600',color:'#374151'},children:\"\\uD83D\\uDCD1 Seguro Complementario\"}),((_vehicleFormData$docu31=vehicleFormData.documentos)===null||_vehicleFormData$docu31===void 0?void 0:(_vehicleFormData$docu32=_vehicleFormData$docu31.seguroComplementario)===null||_vehicleFormData$docu32===void 0?void 0:_vehicleFormData$docu32.url)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',padding:'2px 6px',background:'#22c55e',color:'white',borderRadius:'4px'},children:\"\\u2713 Cargado\"})]}),(_vehicleFormData$docu33=vehicleFormData.documentos)!==null&&_vehicleFormData$docu33!==void 0&&(_vehicleFormData$docu34=_vehicleFormData$docu33.seguroComplementario)!==null&&_vehicleFormData$docu34!==void 0&&_vehicleFormData$docu34.url?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',background:'#f9fafb',borderRadius:'6px',marginBottom:'8px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#1f2937',marginBottom:'3px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:vehicleFormData.documentos.seguroComplementario.nombre}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'11px'},children:new Date(vehicleFormData.documentos.seguroComplementario.fecha).toLocaleDateString('es-CL')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"a\",{href:vehicleFormData.documentos.seguroComplementario.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{flex:1,padding:'6px',background:'#3b82f6',color:'white',textAlign:'center',borderRadius:'6px',textDecoration:'none',fontSize:'12px'},children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('seguroComplementario'),style:{flex:1,padding:'6px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'12px'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"seguroComplementario\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'seguroComplementario',editingVehicle===null||editingVehicle===void 0?void 0:editingVehicle.id),style:{display:'none'}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"seguroComplementario\",style:{display:'block',padding:'20px 10px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'6px',textAlign:'center',cursor:'pointer',fontSize:'12px',color:'#6b7280',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#3b82f6';e.currentTarget.style.background='#eff6ff';},onMouseLeave:e=>{e.currentTarget.style.borderColor='#d1d5db';e.currentTarget.style.background='#f9fafb';},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',marginBottom:'5px'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Click para subir\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'8px',padding:'15px',background:(_vehicleFormData$docu35=vehicleFormData.documentos)!==null&&_vehicleFormData$docu35!==void 0&&(_vehicleFormData$docu36=_vehicleFormData$docu35.padronMunicipal)!==null&&_vehicleFormData$docu36!==void 0&&_vehicleFormData$docu36.url?'#f0fdf4':'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:0,fontSize:'13px',fontWeight:'600',color:'#374151'},children:\"\\uD83C\\uDFDB\\uFE0F Padr\\xF3n Municipal\"}),((_vehicleFormData$docu37=vehicleFormData.documentos)===null||_vehicleFormData$docu37===void 0?void 0:(_vehicleFormData$docu38=_vehicleFormData$docu37.padronMunicipal)===null||_vehicleFormData$docu38===void 0?void 0:_vehicleFormData$docu38.url)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',padding:'2px 6px',background:'#22c55e',color:'white',borderRadius:'4px'},children:\"\\u2713 Cargado\"})]}),(_vehicleFormData$docu39=vehicleFormData.documentos)!==null&&_vehicleFormData$docu39!==void 0&&(_vehicleFormData$docu40=_vehicleFormData$docu39.padronMunicipal)!==null&&_vehicleFormData$docu40!==void 0&&_vehicleFormData$docu40.url?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',background:'#f9fafb',borderRadius:'6px',marginBottom:'8px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#1f2937',marginBottom:'3px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:vehicleFormData.documentos.padronMunicipal.nombre}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'11px'},children:new Date(vehicleFormData.documentos.padronMunicipal.fecha).toLocaleDateString('es-CL')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"a\",{href:vehicleFormData.documentos.padronMunicipal.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{flex:1,padding:'6px',background:'#3b82f6',color:'white',textAlign:'center',borderRadius:'6px',textDecoration:'none',fontSize:'12px'},children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('padronMunicipal'),style:{flex:1,padding:'6px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'12px'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"padronMunicipal\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'padronMunicipal',editingVehicle===null||editingVehicle===void 0?void 0:editingVehicle.id),style:{display:'none'}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"padronMunicipal\",style:{display:'block',padding:'20px 10px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'6px',textAlign:'center',cursor:'pointer',fontSize:'12px',color:'#6b7280',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#3b82f6';e.currentTarget.style.background='#eff6ff';},onMouseLeave:e=>{e.currentTarget.style.borderColor='#d1d5db';e.currentTarget.style.background='#f9fafb';},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',marginBottom:'5px'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Click para subir\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',padding:'15px',background:'white',borderRadius:'8px',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:'0 0 12px 0',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"\\uD83D\\uDCC2 Otros Documentos\"}),((_vehicleFormData$docu41=vehicleFormData.documentos)===null||_vehicleFormData$docu41===void 0?void 0:(_vehicleFormData$docu42=_vehicleFormData$docu41.otros)===null||_vehicleFormData$docu42===void 0?void 0:_vehicleFormData$docu42.length)>0&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'12px'},children:vehicleFormData.documentos.otros.map((doc,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',background:'#f9fafb',borderRadius:'6px',marginBottom:'8px',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:0},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'500',fontSize:'13px',color:'#1f2937',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:[\"\\uD83D\\uDCC4 \",doc.nombre]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6b7280',fontSize:'11px',marginTop:'2px'},children:[formatFileSize(doc.tamaño),\" \\u2022 \",new Date(doc.fecha).toLocaleDateString('es-CL')]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'6px',marginLeft:'10px'},children:[/*#__PURE__*/_jsx(\"a\",{href:doc.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{padding:'4px 8px',background:'#3b82f6',color:'white',borderRadius:'4px',textDecoration:'none',fontSize:'11px'},children:\"Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('otros',index),style:{padding:'4px 8px',background:'#ef4444',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'11px'},children:\"Eliminar\"})]})]},index))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"otrosDocumentos\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'otros',editingVehicle===null||editingVehicle===void 0?void 0:editingVehicle.id),style:{display:'none'},disabled:uploadingFile}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"otrosDocumentos\",style:{display:'inline-block',padding:'8px 16px',background:uploadingFile?'#9ca3af':'#10b981',color:'white',borderRadius:'6px',cursor:uploadingFile?'not-allowed':'pointer',fontSize:'13px',fontWeight:'500'},children:uploadingFile?'⏳ Subiendo...':'➕ Agregar Documento'})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'25px',paddingBottom:'20px',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 15px 0',color:'#374151',fontSize:'16px'},children:\"\\uD83D\\uDCCA Control de Operaci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fit, minmax(${isMobile?'100%':'250px'}, 1fr))`,gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Kilometraje Actual\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:vehicleFormData.kilometraje,onChange:e=>setVehicleFormData({...vehicleFormData,kilometraje:parseInt(e.target.value)}),placeholder:\"0\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Horas de Uso (Maquinaria)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:vehicleFormData.horasUso,onChange:e=>setVehicleFormData({...vehicleFormData,horasUso:parseInt(e.target.value)}),placeholder:\"0\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Consumo Promedio (L/100km)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:vehicleFormData.consumoPromedio,onChange:e=>setVehicleFormData({...vehicleFormData,consumoPromedio:parseFloat(e.target.value)}),placeholder:\"0\",step:\"0.1\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"\\xBFTiene GPS/Telemetr\\xEDa?\"}),/*#__PURE__*/_jsxs(\"select\",{value:vehicleFormData.tieneGPS,onChange:e=>setVehicleFormData({...vehicleFormData,tieneGPS:e.target.value==='true'}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"No\"}),/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"S\\xED\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'25px',paddingBottom:'20px',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 15px 0',color:'#374151',fontSize:'16px'},children:\"\\uD83D\\uDD27 Mantenimiento y Estado\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fit, minmax(${isMobile?'100%':'250px'}, 1fr))`,gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Estado Actual *\"}),/*#__PURE__*/_jsxs(\"select\",{required:true,value:vehicleFormData.estado,onChange:e=>setVehicleFormData({...vehicleFormData,estado:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"disponible\",children:\"\\u2705 Disponible\"}),/*#__PURE__*/_jsx(\"option\",{value:\"en_uso\",children:\"\\uD83D\\uDD27 En Uso\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mantenimiento\",children:\"\\uD83D\\uDD27 En Mantenimiento\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fuera_servicio\",children:\"\\u274C Fuera de Servicio\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"\\xDAltima Mantenci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:vehicleFormData.ultimoMantenimiento,onChange:e=>setVehicleFormData({...vehicleFormData,ultimoMantenimiento:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Pr\\xF3xima Mantenci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:vehicleFormData.proximoMantenimiento,onChange:e=>setVehicleFormData({...vehicleFormData,proximoMantenimiento:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Taller de Mantenci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:vehicleFormData.tallerMantenimiento,onChange:e=>setVehicleFormData({...vehicleFormData,tallerMantenimiento:e.target.value}),placeholder:\"Nombre del taller\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'25px',paddingBottom:'20px',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 15px 0',color:'#374151',fontSize:'16px'},children:\"\\uD83D\\uDCB0 Costos y Ciclo de Vida\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fit, minmax(${isMobile?'100%':'250px'}, 1fr))`,gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Costo Combustible Mensual (CLP)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:vehicleFormData.costoCombustibleMensual,onChange:e=>setVehicleFormData({...vehicleFormData,costoCombustibleMensual:parseInt(e.target.value)}),placeholder:\"0\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Costo Seguro Anual (CLP)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:vehicleFormData.costoSeguroAnual,onChange:e=>setVehicleFormData({...vehicleFormData,costoSeguroAnual:parseInt(e.target.value)}),placeholder:\"0\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Vida \\xDAtil Estimada (a\\xF1os)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:vehicleFormData.vidaUtilEstimada,onChange:e=>setVehicleFormData({...vehicleFormData,vidaUtilEstimada:parseInt(e.target.value)}),placeholder:\"10\",style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"Estado Patrimonial\"}),/*#__PURE__*/_jsxs(\"select\",{value:vehicleFormData.estadoPatrimonial,onChange:e=>setVehicleFormData({...vehicleFormData,estadoPatrimonial:e.target.value}),style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"activo\",children:\"Activo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"baja\",children:\"Baja\"}),/*#__PURE__*/_jsx(\"option\",{value:\"en_proceso_baja\",children:\"En Proceso de Baja\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'25px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'6px',color:'#374151',fontSize:'14px',fontWeight:'500'},children:\"\\uD83D\\uDCDD Observaciones Generales\"}),/*#__PURE__*/_jsx(\"textarea\",{value:vehicleFormData.observaciones,onChange:e=>setVehicleFormData({...vehicleFormData,observaciones:e.target.value}),placeholder:\"Notas adicionales sobre el veh\\xEDculo...\",rows:4,style:{width:'100%',padding:'10px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{padding:'12px 24px',background:loading?'#9ca3af':'#22c55e',color:'white',border:'none',borderRadius:'6px',fontSize:'16px',fontWeight:'500',cursor:loading?'not-allowed':'pointer'},children:loading?'Guardando...':editingVehicle?'✅ Actualizar Vehículo':'✅ Registrar Vehículo'}),editingVehicle&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setEditingVehicle(null);setShowVehicleForm(false);// Resetear formulario con todos los campos nuevos\nsetVehicleFormData({// ... todos los campos iniciales\n});},style:{padding:'12px 24px',background:'#6b7280',color:'white',border:'none',borderRadius:'6px',fontSize:'16px',fontWeight:'500',cursor:'pointer'},children:\"Cancelar Edici\\xF3n\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',borderBottom:'1px solid #e5e7eb'},children:/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,color:'#1f2937',fontSize:'20px'},children:\"\\uD83D\\uDE9B Lista de Veh\\xEDculos y Maquinaria\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{overflowX:'auto'},children:[/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:'#f9fafb'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 20px',textAlign:'left',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 20px',textAlign:'left',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"Tipo\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 20px',textAlign:'left',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"Marca/Modelo\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 20px',textAlign:'left',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"Estado\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 20px',textAlign:'center',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:vehiculos.map(vehiculo=>/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'16px 20px',fontSize:'14px',color:'#1f2937',fontWeight:'500'},children:vehiculo.nombre}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'16px 20px'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',borderRadius:'4px',fontSize:'12px',fontWeight:'500',background:'#e0f2fe',color:'#075985'},children:(()=>{const tipo=tiposVehiculo.find(t=>t.id===vehiculo.tipo);return tipo?`${tipo.icon} ${tipo.nombre}`:vehiculo.tipo;})()})}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'16px 20px',fontSize:'14px',color:'#6b7280'},children:[vehiculo.marca,\" \",vehiculo.modelo]}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'16px 20px'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',borderRadius:'4px',fontSize:'12px',fontWeight:'500',background:vehiculo.estado==='disponible'?'#dcfce7':vehiculo.estado==='en_uso'?'#dbeafe':vehiculo.estado==='mantenimiento'?'#fef3c7':'#fee2e2',color:vehiculo.estado==='disponible'?'#15803d':vehiculo.estado==='en_uso'?'#1e40af':vehiculo.estado==='mantenimiento'?'#92400e':'#991b1b'},children:vehiculo.estado==='disponible'?'✅ Disponible':vehiculo.estado==='en_uso'?'🔧 En Uso':vehiculo.estado==='mantenimiento'?'🔧 Mantenimiento':'❌ Fuera Servicio'})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'16px 20px',textAlign:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',justifyContent:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleToggleVehicleStatus(vehiculo.id),style:{padding:'6px 12px',background:vehiculo.habilitado!==false?'#f59e0b':'#22c55e',color:'white',border:'none',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},title:vehiculo.habilitado!==false?'Deshabilitar vehículo':'Habilitar vehículo',children:vehiculo.habilitado!==false?'🚫 Deshabilitar':'✅ Habilitar'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditVehicle(vehiculo),style:{padding:'6px 12px',background:'#3b82f6',color:'white',border:'none',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:\"\\u270F\\uFE0F Editar\"}),vehiculo.habilitado===false?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteVehicle(vehiculo.id),style:{padding:'6px 12px',background:'#ef4444',color:'white',border:'none',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"}):/*#__PURE__*/_jsx(\"button\",{disabled:true,style:{padding:'6px 12px',background:'#d1d5db',color:'#9ca3af',border:'none',borderRadius:'4px',fontSize:'12px',cursor:'not-allowed'},title:\"Deshabilitar veh\\xEDculo primero para eliminar\",children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})})]},vehiculo.id))})]}),vehiculos.length===0&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'40px',textAlign:'center',color:'#6b7280'},children:\"No hay veh\\xEDculos registrados. Haz clic en \\\"Registrar Nuevo Veh\\xEDculo\\\" para comenzar.\"})]})]})]}),activeTab==='workers'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:'0 0 30px 0',color:'#1e293b',fontSize:'28px',fontWeight:'600'},children:\"\\uD83D\\uDC77 Gesti\\xF3n de Trabajadores\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:`repeat(auto-fill, minmax(${isMobile?'100%':'350px'}, 1fr))`,gap:'20px'},children:trabajadores.filter(t=>t.role==='trabajador').map(trabajador=>{const vehiculo=vehiculos.find(v=>v.operadorAsignado===trabajador.id);return/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'20px',boxShadow:'0 2px 8px rgba(0,0,0,0.05)'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0 0 15px 0'},children:[\"\\uD83D\\uDC77 \",trabajador.nombre]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'8px',fontSize:'14px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCE7 Email: \",trabajador.email]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCF1 Tel\\xE9fono: \",trabajador.telefono||'N/A']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDE9B Veh\\xEDculo: \",(vehiculo===null||vehiculo===void 0?void 0:vehiculo.nombre)||'Sin asignar']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCCD Estado: \",trabajador.estado||'disponible']})]})]},trabajador.id);})})]}),activeTab==='maintenance'&&/*#__PURE__*/_jsx(VehicleMaintenanceModule,{vehiculos:vehiculos,currentUser:currentUser,isMobile:isMobile}),activeTab==='supplies'&&/*#__PURE__*/_jsx(PreventiveMaintenanceModule,{vehiculos:vehiculos,currentUser:currentUser,isMobile:isMobile}),activeTab==='solicitudes'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:'0 0 30px 0',color:'#1e293b',fontSize:'28px',fontWeight:'600'},children:\"\\uD83D\\uDCCB Gesti\\xF3n de Solicitudes\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:'white',padding:'40px',borderRadius:'12px',textAlign:'center',color:'#6b7280'},children:\"Contenido de solicitudes aqu\\xED...\"})]})]})})]})]});};export default SuperAdmin;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","initializeApp","deleteApp","getAuth","getSecondaryAuth","createUserWithEmailAndPassword","signOut","secondarySignOut","auth","firestore","database","storage","firebaseConfig","doc","setDoc","collection","getDocs","deleteDoc","updateDoc","WelcomeScreen","NotificationSystem","VehicleMaintenanceModule","PreventiveMaintenanceModule","ref","databaseRef","set","databaseSet","push","update","remove","onValue","off","storageRef","uploadBytes","getDownloadURL","deleteObject","listAll","pdfExportService","cloudinaryConfig","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TiposVehiculoModal","memo","_ref","showTipoModal","setShowTipoModal","editingTipo","setEditingTipo","tipoFormData","setTipoFormData","handleSaveTipoVehiculo","handleEditTipo","handleDeleteTipoVehiculo","tiposVehiculo","vehiculos","loading","isMobile","style","position","top","left","right","bottom","background","display","justifyContent","alignItems","zIndex","padding","children","borderRadius","maxWidth","width","maxHeight","overflow","marginBottom","margin","color","fontSize","onClick","nombre","icon","descripcion","categoria","border","cursor","onSubmit","gridTemplateColumns","gap","fontWeight","type","required","value","onChange","e","prev","target","placeholder","flex","label","height","marginTop","disabled","length","textAlign","map","tipo","vehiculosConTipo","filter","v","id","paddingTop","borderTop","opacity","title","SuperAdmin","_ref2","_formData$fotoPerfil","_formData$fotoPerfil2","_vehicleFormData$poli","_vehicleFormData$poli2","_vehicleFormData$poli3","_vehicleFormData$poli4","_vehicleFormData$poli5","_vehicleFormData$poli6","_vehicleFormData$docu","_vehicleFormData$docu2","_vehicleFormData$docu3","_vehicleFormData$docu4","_vehicleFormData$docu5","_vehicleFormData$docu6","_vehicleFormData$docu7","_vehicleFormData$docu8","_vehicleFormData$docu9","_vehicleFormData$docu0","_vehicleFormData$docu1","_vehicleFormData$docu10","_vehicleFormData$docu11","_vehicleFormData$docu12","_vehicleFormData$docu13","_vehicleFormData$docu14","_vehicleFormData$docu15","_vehicleFormData$docu16","_vehicleFormData$docu17","_vehicleFormData$docu18","_vehicleFormData$docu19","_vehicleFormData$docu20","_vehicleFormData$docu21","_vehicleFormData$docu22","_vehicleFormData$docu23","_vehicleFormData$docu24","_vehicleFormData$docu25","_vehicleFormData$docu26","_vehicleFormData$docu27","_vehicleFormData$docu28","_vehicleFormData$docu29","_vehicleFormData$docu30","_vehicleFormData$docu31","_vehicleFormData$docu32","_vehicleFormData$docu33","_vehicleFormData$docu34","_vehicleFormData$docu35","_vehicleFormData$docu36","_vehicleFormData$docu37","_vehicleFormData$docu38","_vehicleFormData$docu39","_vehicleFormData$docu40","_vehicleFormData$docu41","_vehicleFormData$docu42","currentUser","onLogout","onViewChange","currentView","solicitudParaZona","setSolicitudParaZona","formData","setFormData","email","password","name","role","phone","vehicleId","localidad","recoveryPin","rut","fotoPerfil","url","publicId","fecha","licenciaConducir","licenciasConducir","fechaVencimientoLicencia","observacionesLicencia","licenciaBloqueada","motivoBloqueo","fechaBloqueo","notificationCount","setNotificationCount","trabajadores","setTrabajadores","users","setUsers","setLoading","message","setMessage","text","editingUser","setEditingUser","activeTab","setActiveTab","savedTab","localStorage","getItem","isSidebarOpen","setIsSidebarOpen","saved","window","innerWidth","JSON","parse","expandedMenus","setExpandedMenus","showCreateForm","setShowCreateForm","showVehicleForm","setShowVehicleForm","setIsMobile","showEditUserForm","setShowEditUserForm","setVehiculos","editingVehicle","setEditingVehicle","vehicleFormData","setVehicleFormData","marca","modelo","año","Date","getFullYear","patente","numeroChasis","numeroMotor","kilometraje","capacidadCombustible","tipoCombustible","tipoAceite","fechaVencimientoExtintor","imagenVehiculo","seguroAdicional","companiaSeguroAdicional","numeroPolizaAdicional","vigenciaSeguroAdicional","coberturaSeguroAdicional","ultimoMantenimiento","proximoMantenimiento","kilometrajeUltimoMantenimiento","kilometrajeProximoMantenimiento","fechaRevisionTecnica","fechaSeguro","fechaPermisoCirculacion","operadorAsignado","estado","lat","lng","observaciones","licenciasRequeridas","vin","proveedor","modalidadAdquisicion","valorAdquisicion","fechaAdquisicion","cilindrada","potencia","transmision","traccion","capacidadPasajeros","capacidadCarga","pesoBrutoVehicular","largo","ancho","alto","numeroEjes","equipamientoAdicional","numeroPermisoCirculacion","vigenciaPermisoCirculacion","fechaRevisionGases","resultadoRevisionTecnica","vigenciaSOAP","numeroPolizaSOAP","seguroComplementario","numeroPolizaComplementario","vigenciaSeguroComplementario","multasRegistradas","documentos","permisoCirculacion","revisionTecnica","certificadoGases","soap","padronMunicipal","facturaCompra","contratoLeasing","otros","polizaSeguroVehiculo","numeroPoliza","vigencia","compania","cobertura","tipoSeguro","horasUso","promedioUsoMensual","consumoPromedio","proveedorCombustible","tieneGPS","dispositivoGPS","tallerMantenimiento","costoUltimoMantenimiento","historialReparaciones","costoMantencionAcumulado","costoCombustibleMensual","costoCombustibleAnual","costoSeguroAnual","vidaUtilEstimada","fechaEstimadaReemplazo","estadoPatrimonial","setTiposVehiculo","uploadingFile","setUploadingFile","uploadProgress","setUploadProgress","solicitudes","setSolicitudes","showSolicitudDetails","setShowSolicitudDetails","showWelcomeScreen","setShowWelcomeScreen","welcomeShown","sessionStorage","handleFileUpload","file","tipoDocumento","vehiculoId","alert","allowedTypes","includes","size","FormData","append","now","timestamp","cleanFileName","split","replace","response","fetch","cloudName","method","body","data","json","console","log","documentData","secure_url","public_id","toISOString","tamaño","_prev$documentos","setTimeout","error","handleVehiclePolizaUpload","uploadFormData","ok","_data$error","Error","handleUserFileUpload","userId","userIdentifier","_data$error2","polizaSeguro","handleDeleteDocument","index","arguments","undefined","confirm","_","i","formatFileSize","bytes","k","sizes","Math","floor","round","pow","checkMobile","mobile","addEventListener","removeEventListener","loadUsers","unsubscribeVehiculos","loadVehiculos","unsubscribeSolicitudes","loadSolicitudes","unsubscribeTipos","loadTiposVehiculo","unsubscribeTrabajadores","loadTrabajadores","setItem","stringify","usersSnapshot","usersList","forEach","userData","vehiculosRef","unsubscribe","snapshot","val","vehiculosArray","Object","entries","_ref3","vehiculo","trabajadoresRef","trabajadoresArray","_ref4","trabajador","solicitudesRef","solicitudesArray","_ref5","sol","sort","a","b","fechaSolicitud","tiposRef","tiposArray","_ref6","preventDefault","trim","tipoRef","updatedAt","updatedBy","uid","tipoId","toLowerCase","normalize","createdAt","createdBy","handleResponseSolicitud","solicitudId","respuesta","solicitudRef","fechaRespuesta","respondidoPor","visto","solicitud","find","s","notificacionRef","mensaje","asunto","destinatario","solicitanteId","leido","crearZonaDesdeSolicitud","nombreSolicitante","telefonoContacto","direccion","ubicacion","prioridad","fechaLimite","fechaNecesaria","tipoMaquinaria","duracionEstimada","handleCreateUser","secondaryApp","secondaryAuth","validarRUT","userCredential","user","btoa","habilitado","fechaDeshabilitado","motivoDeshabilitado","deshabilitadoPor","active","firstLogin","trabajadorRef","telefono","vehiculoAsignado","ultimoTrabajo","zonaDestino","vehiculoRef","ultimaActualizacion","actualizadoPor","errorMessage","code","handleToggleUserStatus","userEmail","u","nuevoEstado","handleToggleVehicleStatus","estaDeshabilitado","habilitarVehiculo","estadoAnterior","handleResetUserPassword","newPassword","tempPassword","requirePasswordChange","needsAuthSync","passwordResetAt","passwordResetBy","handleEditUser","handleUpdateUser","updateData","handleDeleteUser","handleCreateOrUpdateVehicle","estadoValido","vehicleDataToSave","documentosParaGuardar","keys","tipoDoc","Array","isArray","d","vehicleRef","newVehicleRef","resetVehicleForm","rutLimpio","toUpperCase","cuerpo","slice","dv","suma","multiplicador","parseInt","dvCalculado","dvFinal","toString","formatearRUT","handleEditVehicle","vehicle","extintor","handleQuickMaintenanceToggle","fechaMantenimiento","handleCompleteMaintenance","hoy","hoyFormateado","kilometrajeActual","proximaFecha","setMonth","getMonth","proximoKm","toLocaleDateString","toLocaleString","handleDeleteVehicle","getUserStats","stats","total","admins","superadmins","monitores","getVehicleStats","disponibles","enUso","mantenimiento","activos","fueraServicio","toggleMenu","menuId","handleExportUsersPDF","exportUsersToPDF","handleExportSingleUserPDF","exportSingleUserToPDF","handleExportVehiclesPDF","exportVehiclesToPDF","getMaintenanceAlerts","proxima","dias","ceil","menuItems","submenu","tab","view","badge","t","badgeType","transition","boxShadow","flexDirection","overflowY","overflowX","borderBottom","minHeight","letterSpacing","minWidth","onMouseEnter","currentTarget","transform","onMouseLeave","inSidebar","isCollapsed","onNotificationCountChange","sidebarZIndex","pointerEvents","WebkitOverflowScrolling","menu","item","borderLeft","flexShrink","textOverflow","whiteSpace","onClose","totalUsers","totalVehicles","pendingSolicitudes","flexWrap","animation","src","alt","objectFit","onError","parentElement","innerHTML","WebkitBackgroundClip","WebkitTextFillColor","marginLeft","rutFormateado","onBlur","maxLength","pattern","gridColumn","licencia","_formData$licenciasCo","_formData$licenciasCo2","_formData$licenciasCo3","checked","newLicencias","l","fechaVencimiento","diasRestantes","min","rows","resize","restriccion","currentObs","newObs","accept","files","htmlFor","minLength","_formData$licenciasCo4","_formData$licenciasCo5","_formData$licenciasCo6","borderCollapse","some","_user$fotoPerfil","estadoLicencia","texto","join","paddingBottom","max","_vehicleFormData$lice","_vehicleFormData$lice2","_vehicleFormData$lice3","_vehicleFormData$lice4","borderColor","href","rel","textDecoration","paddingLeft","parseFloat","step"],"sources":["C:/Users/Izan/Desktop/AppReact/mapa-quillon/src/components/SuperAdmin.js"],"sourcesContent":["// src/components/SuperAdmin.js\r\n\r\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { initializeApp, deleteApp } from 'firebase/app';\r\nimport { getAuth as getSecondaryAuth, createUserWithEmailAndPassword, signOut as secondarySignOut } from 'firebase/auth';\r\nimport { auth, firestore, database, storage, firebaseConfig } from '../config/firebase';\r\nimport { doc, setDoc, collection, getDocs, deleteDoc, updateDoc } from 'firebase/firestore';\r\nimport WelcomeScreen from './WelcomeScreen';\r\nimport NotificationSystem from './NotificationSystem';\r\nimport VehicleMaintenanceModule from './VehicleMaintenanceModule';\r\nimport PreventiveMaintenanceModule from './PreventiveMaintenanceModule';\r\n\r\nimport {\r\n  ref as databaseRef,     // Alias para database ref\r\n  set as databaseSet,     // Alias para database set\r\n  push,\r\n  update,\r\n  remove,\r\n  onValue,\r\n  off\r\n} from 'firebase/database';\r\nimport {\r\n  ref as storageRef,      // Alias para storage ref\r\n  uploadBytes,\r\n  getDownloadURL,\r\n  deleteObject,\r\n  listAll\r\n} from 'firebase/storage';\r\nimport { pdfExportService } from '../services/pdfExportService';\r\nimport { cloudinaryConfig } from '../config/cloudinary'; // Comenta si no usas Cloudinary aún\r\n\r\n// COMPONENTE MODAL SEPARADO - FUERA DEL COMPONENTE PRINCIPAL\r\nconst TiposVehiculoModal = React.memo(({\r\n  showTipoModal,\r\n  setShowTipoModal,\r\n  editingTipo,\r\n  setEditingTipo,\r\n  tipoFormData,\r\n  setTipoFormData,\r\n  handleSaveTipoVehiculo,\r\n  handleEditTipo,\r\n  handleDeleteTipoVehiculo,\r\n  tiposVehiculo,\r\n  vehiculos,\r\n  loading,\r\n  isMobile\r\n}) => {\r\n  if (!showTipoModal) return null;\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      background: 'rgba(0,0,0,0.5)',\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      zIndex: 1000,\r\n      padding: '20px'\r\n    }}>\r\n      <div style={{\r\n        background: 'white',\r\n        borderRadius: '12px',\r\n        maxWidth: '900px',\r\n        width: '100%',\r\n        maxHeight: '90vh',\r\n        overflow: 'auto',\r\n        padding: '30px'\r\n      }}>\r\n        <div style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n          marginBottom: '25px'\r\n        }}>\r\n          <h2 style={{ margin: 0, color: '#1f2937', fontSize: '24px' }}>\r\n            ⚙️ Gestión de Tipos de Vehículos\r\n          </h2>\r\n          <button\r\n            onClick={() => {\r\n              setShowTipoModal(false);\r\n              setEditingTipo(null);\r\n              setTipoFormData({\r\n                nombre: '',\r\n                icon: '🚛',\r\n                descripcion: '',\r\n                categoria: 'general'\r\n              });\r\n            }}\r\n            style={{\r\n              padding: '8px',\r\n              background: '#6b7280',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '6px',\r\n              cursor: 'pointer',\r\n              fontSize: '18px'\r\n            }}\r\n          >\r\n            ✖\r\n          </button>\r\n        </div>\r\n\r\n        <div style={{\r\n          background: '#f9fafb',\r\n          padding: '20px',\r\n          borderRadius: '8px',\r\n          marginBottom: '25px'\r\n        }}>\r\n          <h3 style={{\r\n            margin: '0 0 15px 0',\r\n            color: '#374151',\r\n            fontSize: '18px'\r\n          }}>\r\n            {editingTipo ? '✏️ Editar Tipo' : '➕ Crear Nuevo Tipo'}\r\n          </h3>\r\n\r\n          <form onSubmit={handleSaveTipoVehiculo}>\r\n            <div style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: isMobile ? '1fr' : '1fr 1fr',\r\n              gap: '15px'\r\n            }}>\r\n              <div>\r\n                <label style={{\r\n                  display: 'block',\r\n                  marginBottom: '6px',\r\n                  color: '#374151',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500'\r\n                }}>\r\n                  Nombre del Tipo *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  required\r\n                  value={tipoFormData.nombre}\r\n                  onChange={(e) => setTipoFormData(prev => ({ ...prev, nombre: e.target.value }))}\r\n                  placeholder=\"Ej: Retroexcavadora, Camión Tolva, etc.\"\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '10px',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '6px',\r\n                    fontSize: '14px'\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label style={{\r\n                  display: 'block',\r\n                  marginBottom: '6px',\r\n                  color: '#374151',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500'\r\n                }}>\r\n                  Ícono\r\n                </label>\r\n                <div style={{ display: 'flex', gap: '10px' }}>\r\n                  <select\r\n                    value={tipoFormData.icon}\r\n                    onChange={(e) => setTipoFormData(prev => ({ ...prev, icon: e.target.value }))}\r\n                    style={{\r\n                      flex: 1,\r\n                      padding: '10px',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '6px',\r\n                      fontSize: '16px'\r\n                    }}\r\n                  >\r\n                    <optgroup label=\"Vehículos\">\r\n                      <option value=\"🚗\">🚗 Auto</option>\r\n                      <option value=\"🚚\">🚚 Camión</option>\r\n                      <option value=\"🚛\">🚛 Camión Grande</option>\r\n                    </optgroup>\r\n                    <optgroup label=\"Maquinaria\">\r\n                      <option value=\"🚜\">🚜 Maquinaria Pesada</option>\r\n                    </optgroup>\r\n                  </select>\r\n                  <div style={{\r\n                    width: '50px',\r\n                    height: '42px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    background: '#f3f4f6',\r\n                    borderRadius: '6px',\r\n                    fontSize: '24px'\r\n                  }}>\r\n                    {tipoFormData.icon}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label style={{\r\n                  display: 'block',\r\n                  marginBottom: '6px',\r\n                  color: '#374151',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500'\r\n                }}>\r\n                  Categoría\r\n                </label>\r\n                <select\r\n                  value={tipoFormData.categoria}\r\n                  onChange={(e) => setTipoFormData(prev => ({ ...prev, categoria: e.target.value }))}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '10px',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '6px',\r\n                    fontSize: '14px'\r\n                  }}\r\n                >\r\n                  <option value=\"general\">General</option>\r\n                  <option value=\"liviano\">Vehículo Liviano</option>\r\n                  <option value=\"pesado\">Vehículo Pesado</option>\r\n                  <option value=\"maquinaria\">Maquinaria</option>\r\n                  <option value=\"especial\">Especial</option>\r\n                  <option value=\"emergencia\">Emergencia</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label style={{\r\n                  display: 'block',\r\n                  marginBottom: '6px',\r\n                  color: '#374151',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500'\r\n                }}>\r\n                  Descripción (Opcional)\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={tipoFormData.descripcion}\r\n                  onChange={(e) => setTipoFormData(prev => ({ ...prev, descripcion: e.target.value }))}\r\n                  placeholder=\"Descripción breve del tipo\"\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '10px',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '6px',\r\n                    fontSize: '14px'\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginTop: '20px', display: 'flex', gap: '10px' }}>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                style={{\r\n                  padding: '10px 20px',\r\n                  background: loading ? '#9ca3af' : '#22c55e',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500',\r\n                  cursor: loading ? 'not-allowed' : 'pointer'\r\n                }}\r\n              >\r\n                {loading ? 'Guardando...' : editingTipo ? '✅ Actualizar' : '✅ Crear Tipo'}\r\n              </button>\r\n\r\n              {editingTipo && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    setEditingTipo(null);\r\n                    setTipoFormData({\r\n                      nombre: '',\r\n                      icon: '🚛',\r\n                      descripcion: '',\r\n                      categoria: 'general'\r\n                    });\r\n                  }}\r\n                  style={{\r\n                    padding: '10px 20px',\r\n                    background: '#6b7280',\r\n                    color: 'white',\r\n                    border: 'none',\r\n                    borderRadius: '6px',\r\n                    fontSize: '14px',\r\n                    fontWeight: '500',\r\n                    cursor: 'pointer'\r\n                  }}\r\n                >\r\n                  Cancelar Edición\r\n                </button>\r\n              )}\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 style={{\r\n            margin: '0 0 15px 0',\r\n            color: '#374151',\r\n            fontSize: '18px'\r\n          }}>\r\n            📋 Tipos Existentes ({tiposVehiculo.length})\r\n          </h3>\r\n\r\n          {tiposVehiculo.length === 0 ? (\r\n            <div style={{\r\n              padding: '40px',\r\n              textAlign: 'center',\r\n              background: '#f9fafb',\r\n              borderRadius: '8px',\r\n              color: '#6b7280'\r\n            }}>\r\n              <p style={{ fontSize: '16px', marginBottom: '10px' }}>\r\n                No hay tipos de vehículos creados\r\n              </p>\r\n              <p style={{ fontSize: '14px' }}>\r\n                Crea tu primer tipo usando el formulario de arriba\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fill, minmax(250px, 1fr))',\r\n              gap: '15px'\r\n            }}>\r\n              {tiposVehiculo.map(tipo => {\r\n                const vehiculosConTipo = vehiculos.filter(v => v.tipo === tipo.id).length;\r\n\r\n                return (\r\n                  <div key={tipo.id} style={{\r\n                    background: 'white',\r\n                    border: '1px solid #e5e7eb',\r\n                    borderRadius: '8px',\r\n                    padding: '15px',\r\n                    position: 'relative'\r\n                  }}>\r\n                    <div style={{\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '10px',\r\n                      marginBottom: '10px'\r\n                    }}>\r\n                      <span style={{ fontSize: '24px' }}>{tipo.icon}</span>\r\n                      <div style={{ flex: 1 }}>\r\n                        <h4 style={{\r\n                          margin: 0,\r\n                          fontSize: '16px',\r\n                          color: '#1f2937'\r\n                        }}>\r\n                          {tipo.nombre}\r\n                        </h4>\r\n                        {tipo.categoria && (\r\n                          <span style={{\r\n                            fontSize: '12px',\r\n                            color: '#6b7280',\r\n                            background: '#f3f4f6',\r\n                            padding: '2px 6px',\r\n                            borderRadius: '4px',\r\n                            display: 'inline-block',\r\n                            marginTop: '4px'\r\n                          }}>\r\n                            {tipo.categoria}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {tipo.descripcion && (\r\n                      <p style={{\r\n                        margin: '0 0 10px 0',\r\n                        fontSize: '13px',\r\n                        color: '#6b7280'\r\n                      }}>\r\n                        {tipo.descripcion}\r\n                      </p>\r\n                    )}\r\n\r\n                    <div style={{\r\n                      display: 'flex',\r\n                      justifyContent: 'space-between',\r\n                      alignItems: 'center',\r\n                      paddingTop: '10px',\r\n                      borderTop: '1px solid #f3f4f6'\r\n                    }}>\r\n                      <span style={{\r\n                        fontSize: '12px',\r\n                        color: '#6b7280'\r\n                      }}>\r\n                        {vehiculosConTipo} vehículo(s)\r\n                      </span>\r\n\r\n                      <div style={{ display: 'flex', gap: '5px' }}>\r\n                        <button\r\n                          onClick={() => handleEditTipo(tipo)}\r\n                          style={{\r\n                            padding: '6px 10px',\r\n                            background: '#3b82f6',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            fontSize: '12px',\r\n                            cursor: 'pointer'\r\n                          }}\r\n                        >\r\n                          ✏️\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDeleteTipoVehiculo(tipo)}\r\n                          disabled={vehiculosConTipo > 0}\r\n                          style={{\r\n                            padding: '6px 10px',\r\n                            background: vehiculosConTipo > 0 ? '#d1d5db' : '#ef4444',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            fontSize: '12px',\r\n                            cursor: vehiculosConTipo > 0 ? 'not-allowed' : 'pointer',\r\n                            opacity: vehiculosConTipo > 0 ? 0.5 : 1\r\n                          }}\r\n                          title={vehiculosConTipo > 0 ? 'No se puede eliminar, hay vehículos usando este tipo' : 'Eliminar tipo'}\r\n                        >\r\n                          🗑️\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst SuperAdmin = ({ currentUser, onLogout, onViewChange, currentView = 'admin' }) => {\r\n\r\n  // ========== ESTADOS PARA USUARIOS ==========\r\n  const [solicitudParaZona, setSolicitudParaZona] = useState(null);\r\n  // En la línea ~90, actualiza el estado inicial de formData:\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n    name: '',\r\n    role: 'trabajador',\r\n    phone: '',\r\n    vehicleId: '',\r\n    localidad: '',\r\n    recoveryPin: '',\r\n    rut: '',\r\n    fotoPerfil: {\r\n      url: '',\r\n      publicId: '',\r\n      fecha: ''\r\n    },\r\n    // REMOVER polizaSeguro de aquí\r\n    licenciaConducir: '',\r\n    licenciasConducir: [],\r\n    fechaVencimientoLicencia: '',\r\n    observacionesLicencia: '',\r\n    licenciaBloqueada: false,\r\n    motivoBloqueo: '',\r\n    fechaBloqueo: ''\r\n  });\r\n  const [notificationCount, setNotificationCount] = useState(0);\r\n  const [trabajadores, setTrabajadores] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  const [editingUser, setEditingUser] = useState(null);\r\n  const [activeTab, setActiveTab] = useState(() => {\r\n    const savedTab = localStorage.getItem('superAdminActiveTab');\r\n    return savedTab || 'inicio'; // CAMBIAR de 'users' a 'inicio'\r\n  });\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(() => {\r\n    const saved = localStorage.getItem('superAdminSidebarOpen');\r\n    if (window.innerWidth <= 768) return false;\r\n    return saved !== null ? JSON.parse(saved) : true;\r\n  });\r\n  const [expandedMenus, setExpandedMenus] = useState(() => {\r\n    const saved = localStorage.getItem('superAdminExpandedMenus');\r\n    return saved ? JSON.parse(saved) : ['gestion'];\r\n  });\r\n\r\n  // Estado para mostrar/ocultar formularios con persistencia\r\n\r\n  const [showCreateForm, setShowCreateForm] = useState(() => {\r\n    const saved = localStorage.getItem('superAdminShowCreateForm');\r\n    return saved ? JSON.parse(saved) : false;\r\n  });\r\n\r\n  const [showVehicleForm, setShowVehicleForm] = useState(() => {\r\n    const saved = localStorage.getItem('superAdminShowVehicleForm');\r\n    return saved ? JSON.parse(saved) : false;\r\n  });\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [showEditUserForm, setShowEditUserForm] = useState(false);\r\n\r\n  // ========== ESTADOS PARA VEHÍCULOS ==========\r\n  const [vehiculos, setVehiculos] = useState([]);\r\n  const [editingVehicle, setEditingVehicle] = useState(null);\r\n  const [vehicleFormData, setVehicleFormData] = useState({\r\n    // DATOS EXISTENTES\r\n    nombre: '',\r\n    tipo: '',\r\n    marca: '',\r\n    modelo: '',\r\n    año: new Date().getFullYear(),\r\n    patente: '',\r\n    color: '',\r\n    numeroChasis: '',\r\n    numeroMotor: '',\r\n    kilometraje: 0,\r\n    capacidadCombustible: 0,\r\n    tipoCombustible: 'gasolina',\r\n    tipoAceite: '', // NUEVO: Tipo de aceite del motor\r\n    fechaVencimientoExtintor: '', // NUEVO: Fecha de vencimiento del extintor\r\n    imagenVehiculo: '', // NUEVO: URL de la imagen del vehículo\r\n    seguroAdicional: '', // NUEVO: Información del seguro adicional/comercial\r\n    companiaSeguroAdicional: '', // NUEVO: Compañía del seguro adicional\r\n    numeroPolizaAdicional: '', // NUEVO: Número de póliza del seguro adicional\r\n    vigenciaSeguroAdicional: '', // NUEVO: Vigencia del seguro adicional\r\n    coberturaSeguroAdicional: '', // NUEVO: Tipo de cobertura\r\n    ultimoMantenimiento: '',\r\n    proximoMantenimiento: '',\r\n    kilometrajeUltimoMantenimiento: 0,\r\n    kilometrajeProximoMantenimiento: 0,\r\n    fechaRevisionTecnica: '',\r\n    fechaSeguro: '',\r\n    fechaPermisoCirculacion: '',\r\n    operadorAsignado: '',\r\n    estado: 'disponible',\r\n    lat: null,\r\n    lng: null,\r\n    observaciones: '',\r\n    licenciasRequeridas: [],\r\n\r\n    // NUEVOS CAMPOS - DATOS GENERALES\r\n    vin: '',\r\n    proveedor: '',\r\n    modalidadAdquisicion: 'compra',\r\n    valorAdquisicion: 0,\r\n    fechaAdquisicion: '',\r\n\r\n    // ESPECIFICACIONES TÉCNICAS\r\n    cilindrada: '',\r\n    potencia: '',\r\n    transmision: 'manual',\r\n    traccion: '4x2',\r\n    capacidadPasajeros: 0,\r\n    capacidadCarga: 0,\r\n    pesoBrutoVehicular: 0,\r\n    largo: 0,\r\n    ancho: 0,\r\n    alto: 0,\r\n    numeroEjes: 2,\r\n    equipamientoAdicional: '',\r\n\r\n    // DOCUMENTACIÓN LEGAL\r\n    numeroPermisoCirculacion: '',\r\n    vigenciaPermisoCirculacion: '',\r\n    fechaRevisionGases: '',\r\n    resultadoRevisionTecnica: 'aprobado',\r\n    vigenciaSOAP: '',\r\n    numeroPolizaSOAP: '',\r\n    seguroComplementario: false,\r\n    numeroPolizaComplementario: '',\r\n    vigenciaSeguroComplementario: '',\r\n    multasRegistradas: '',\r\n    documentos: {\r\n      permisoCirculacion: { url: '', nombre: '', fecha: '' },\r\n      revisionTecnica: { url: '', nombre: '', fecha: '' },\r\n      certificadoGases: { url: '', nombre: '', fecha: '' },\r\n      soap: { url: '', nombre: '', fecha: '' },\r\n      seguroComplementario: { url: '', nombre: '', fecha: '' },\r\n      padronMunicipal: { url: '', nombre: '', fecha: '' },\r\n      facturaCompra: { url: '', nombre: '', fecha: '' },\r\n      contratoLeasing: { url: '', nombre: '', fecha: '' },\r\n      otros: []\r\n    },\r\n    polizaSeguroVehiculo: {\r\n      url: '',\r\n      nombre: '',\r\n      fecha: '',\r\n      publicId: '',\r\n      numeroPoliza: '',\r\n      vigencia: '',\r\n      compania: '',\r\n      cobertura: '',\r\n      tipoSeguro: ''  // obligatorio o adicional\r\n    },\r\n\r\n    // CONTROL DE OPERACIÓN\r\n    horasUso: 0,\r\n    promedioUsoMensual: 0,\r\n    consumoPromedio: 0,\r\n    proveedorCombustible: '',\r\n    tieneGPS: false,\r\n    dispositivoGPS: '',\r\n\r\n    // MANTENIMIENTO\r\n    tallerMantenimiento: '',\r\n    costoUltimoMantenimiento: 0,\r\n    historialReparaciones: [],\r\n\r\n    // COSTOS Y CICLO DE VIDA\r\n    costoMantencionAcumulado: 0,\r\n    costoCombustibleMensual: 0,\r\n    costoCombustibleAnual: 0,\r\n    costoSeguroAnual: 0,\r\n    vidaUtilEstimada: 10,\r\n    fechaEstimadaReemplazo: '',\r\n    estadoPatrimonial: 'activo'\r\n  });\r\n\r\n  // ========== ESTADOS PARA TIPOS DE VEHÍCULOS DINÁMICOS ==========\r\n  const [tiposVehiculo, setTiposVehiculo] = useState([]);\r\n  const [showTipoModal, setShowTipoModal] = useState(false);\r\n  const [editingTipo, setEditingTipo] = useState(null);\r\n  const [uploadingFile, setUploadingFile] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState({});\r\n  const [tipoFormData, setTipoFormData] = useState({\r\n    nombre: '',\r\n    icon: '🚛',\r\n    descripcion: '',\r\n    categoria: 'general'\r\n  });\r\n\r\n  // ========== ESTADOS PARA SOLICITUDES ==========\r\n  const [solicitudes, setSolicitudes] = useState([]);\r\n  const [showSolicitudDetails, setShowSolicitudDetails] = useState(null);\r\n  // NUEVO ESTADO: Para controlar la pantalla de bienvenida\r\n  const [showWelcomeScreen, setShowWelcomeScreen] = useState(() => {\r\n    const welcomeShown = sessionStorage.getItem('superAdminWelcomeShown');\r\n    return !welcomeShown;\r\n  });\r\n  // ========== FUNCIONES PARA MANEJO DE DOCUMENTOS ==========\r\n\r\n  const handleFileUpload = async (file, tipoDocumento, vehiculoId) => {\r\n    if (!file) return;\r\n\r\n    // ⚠️ RECHAZAR PDFs COMPLETAMENTE\r\n    if (file.type === 'application/pdf') {\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ NO se permiten PDFs. Por favor, sube una FOTO o IMAGEN del documento (JPG/PNG).'\r\n      });\r\n\r\n      // Mostrar alternativas\r\n      alert(\r\n        '📸 ALTERNATIVAS PARA SUBIR TU DOCUMENTO:\\n\\n' +\r\n        '1. Toma una FOTO con tu celular\\n' +\r\n        '2. Haz una CAPTURA DE PANTALLA del PDF\\n' +\r\n        '3. Usa un escáner que guarde como JPG\\n' +\r\n        '4. Convierte el PDF a imagen en: https://www.ilovepdf.com/pdf_to_jpg'\r\n      );\r\n\r\n      return; // DETENER AQUÍ\r\n    }\r\n\r\n    // Solo aceptar imágenes\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/jpg'];\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ Solo se permiten imágenes JPG y PNG'\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Validar tamaño\r\n    if (file.size > 10 * 1024 * 1024) {\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ El archivo no puede superar los 10MB'\r\n      });\r\n      return;\r\n    }\r\n\r\n    setUploadingFile(true);\r\n    setUploadProgress({ [tipoDocumento]: 0 });\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      formData.append('upload_preset', 'vehiculos_docs');\r\n\r\n      const vehicleId = vehiculoId || `temp_${Date.now()}`;\r\n      const timestamp = Date.now();\r\n      const cleanFileName = file.name.split('.')[0].replace(/[^a-zA-Z0-9_-]/g, '_');\r\n\r\n      formData.append('folder', `municipalidad/vehiculos/${vehicleId}/${tipoDocumento}`);\r\n      formData.append('public_id', `${timestamp}_${cleanFileName}`);\r\n\r\n      setUploadProgress({ [tipoDocumento]: 30 });\r\n\r\n      // ✅ SIEMPRE subir como IMAGEN (nunca como raw)\r\n      const response = await fetch(\r\n        `https://api.cloudinary.com/v1_1/${cloudinaryConfig.cloudName}/image/upload`,\r\n        {\r\n          method: 'POST',\r\n          body: formData\r\n        }\r\n      );\r\n\r\n      setUploadProgress({ [tipoDocumento]: 60 });\r\n\r\n      const data = await response.json();\r\n      console.log('✅ Imagen subida:', data);\r\n\r\n      setUploadProgress({ [tipoDocumento]: 90 });\r\n\r\n      const documentData = {\r\n        url: data.secure_url, // Las imágenes SÍ funcionan con HTTPS\r\n        publicId: data.public_id,\r\n        nombre: file.name,\r\n        fecha: new Date().toISOString(),\r\n        tamaño: file.size,\r\n        tipo: file.type\r\n      };\r\n\r\n      // Actualizar estado\r\n      if (tipoDocumento === 'otros') {\r\n        setVehicleFormData(prev => ({\r\n          ...prev,\r\n          documentos: {\r\n            ...prev.documentos,\r\n            otros: [...(prev.documentos?.otros || []), documentData]\r\n          }\r\n        }));\r\n      } else {\r\n        setVehicleFormData(prev => ({\r\n          ...prev,\r\n          documentos: {\r\n            ...prev.documentos,\r\n            [tipoDocumento]: documentData\r\n          }\r\n        }));\r\n      }\r\n\r\n      setUploadProgress({ [tipoDocumento]: 100 });\r\n      setMessage({\r\n        type: 'success',\r\n        text: `✅ ${file.name} subido exitosamente`\r\n      });\r\n\r\n      setTimeout(() => setUploadProgress({}), 1000);\r\n\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ Error al subir la imagen'\r\n      });\r\n    } finally {\r\n      setUploadingFile(false);\r\n    }\r\n  };\r\n\r\n  // Agregar después de handleFileUpload (alrededor de línea 450)\r\n  const handleVehiclePolizaUpload = async (file) => {\r\n    if (!file) return;\r\n\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/jpg'];\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ Solo se permiten imágenes JPG y PNG'\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (file.size > 10 * 1024 * 1024) {\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ El archivo no puede superar los 10MB'\r\n      });\r\n      return;\r\n    }\r\n\r\n    setUploadingFile(true);\r\n\r\n    try {\r\n      const uploadFormData = new FormData();\r\n      uploadFormData.append('file', file);\r\n      uploadFormData.append('upload_preset', 'vehiculos_docs');\r\n\r\n      const vehicleId = editingVehicle?.id || `temp_${Date.now()}`;\r\n      const timestamp = Date.now();\r\n      const cleanFileName = file.name.split('.')[0].replace(/[^a-zA-Z0-9_-]/g, '_');\r\n\r\n      uploadFormData.append('folder', `municipalidad/vehiculos/${vehicleId}/poliza`);\r\n      uploadFormData.append('public_id', `${timestamp}_${cleanFileName}`);\r\n\r\n      const response = await fetch(\r\n        `https://api.cloudinary.com/v1_1/${cloudinaryConfig.cloudName}/image/upload`,\r\n        {\r\n          method: 'POST',\r\n          body: uploadFormData\r\n        }\r\n      );\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error?.message || 'Error al subir archivo');\r\n      }\r\n\r\n      setVehicleFormData(prev => ({\r\n        ...prev,\r\n        polizaSeguroVehiculo: {\r\n          ...prev.polizaSeguroVehiculo,\r\n          url: data.secure_url,\r\n          publicId: data.public_id,\r\n          nombre: file.name,\r\n          fecha: new Date().toISOString()\r\n        }\r\n      }));\r\n\r\n      setMessage({\r\n        type: 'success',\r\n        text: '✅ Póliza de seguro subida exitosamente'\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error('Error al subir:', error);\r\n      setMessage({\r\n        type: 'error',\r\n        text: `❌ Error al subir la imagen: ${error.message}`\r\n      });\r\n    } finally {\r\n      setUploadingFile(false);\r\n    }\r\n  };\r\n  const handleUserFileUpload = async (file, tipoDocumento, userId) => {\r\n    if (!file) return;\r\n\r\n    // Validaciones\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/jpg'];\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ Solo se permiten imágenes JPG y PNG'\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (file.size > 10 * 1024 * 1024) {\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ El archivo no puede superar los 10MB'\r\n      });\r\n      return;\r\n    }\r\n\r\n    setUploadingFile(true);\r\n\r\n    try {\r\n      const uploadFormData = new FormData(); // CAMBIO: Renombrar para evitar conflicto\r\n      uploadFormData.append('file', file);\r\n      uploadFormData.append('upload_preset', 'vehiculos_docs'); // CAMBIO: Usar el mismo preset que ya funciona\r\n\r\n      // CAMBIO: Usar el email del estado formData correctamente\r\n      const userIdentifier = userId || formData.email || `temp_${Date.now()}`;\r\n      const timestamp = Date.now();\r\n      const cleanFileName = file.name.split('.')[0].replace(/[^a-zA-Z0-9_-]/g, '_');\r\n\r\n      uploadFormData.append('folder', `municipalidad/usuarios/${userIdentifier}/${tipoDocumento}`);\r\n      uploadFormData.append('public_id', `${timestamp}_${cleanFileName}`);\r\n\r\n      const response = await fetch(\r\n        `https://api.cloudinary.com/v1_1/${cloudinaryConfig.cloudName}/image/upload`,\r\n        {\r\n          method: 'POST',\r\n          body: uploadFormData // CAMBIO: Usar uploadFormData\r\n        }\r\n      );\r\n\r\n      const data = await response.json();\r\n\r\n      // AGREGAR: Verificar si la respuesta fue exitosa\r\n      if (!response.ok) {\r\n        throw new Error(data.error?.message || 'Error al subir archivo');\r\n      }\r\n\r\n      console.log('✅ Imagen subida:', data); // Debug\r\n\r\n      if (tipoDocumento === 'fotoPerfil') {\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          fotoPerfil: {\r\n            url: data.secure_url,\r\n            publicId: data.public_id,\r\n            fecha: new Date().toISOString()\r\n          }\r\n        }));\r\n      } else if (tipoDocumento === 'polizaSeguro') {\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          polizaSeguro: {\r\n            ...prev.polizaSeguro,\r\n            url: data.secure_url,\r\n            publicId: data.public_id,\r\n            nombre: file.name,\r\n            fecha: new Date().toISOString()\r\n          }\r\n        }));\r\n      }\r\n\r\n      setMessage({\r\n        type: 'success',\r\n        text: `✅ ${tipoDocumento === 'fotoPerfil' ? 'Foto de perfil' : 'Póliza'} subida exitosamente`\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error('Error al subir:', error);\r\n      setMessage({\r\n        type: 'error',\r\n        text: `❌ Error al subir la imagen: ${error.message}`\r\n      });\r\n    } finally {\r\n      setUploadingFile(false);\r\n    }\r\n  };\r\n\r\n  // REEMPLAZA tu función handleDeleteDocument con esta:\r\n  const handleDeleteDocument = async (tipoDocumento, index = null) => {\r\n    if (!window.confirm('¿Estás seguro de eliminar este documento?')) return;\r\n\r\n    try {\r\n      let documentData;\r\n\r\n      if (tipoDocumento === 'otros' && index !== null) {\r\n        documentData = vehicleFormData.documentos.otros[index];\r\n        // Eliminar del array\r\n        setVehicleFormData(prev => ({\r\n          ...prev,\r\n          documentos: {\r\n            ...prev.documentos,\r\n            otros: prev.documentos.otros.filter((_, i) => i !== index)\r\n          }\r\n        }));\r\n      } else {\r\n        documentData = vehicleFormData.documentos[tipoDocumento];\r\n        // Limpiar documento específico\r\n        setVehicleFormData(prev => ({\r\n          ...prev,\r\n          documentos: {\r\n            ...prev.documentos,\r\n            [tipoDocumento]: { url: '', nombre: '', fecha: '' }\r\n          }\r\n        }));\r\n      }\r\n\r\n      setMessage({\r\n        type: 'success',\r\n        text: '✅ Documento eliminado'\r\n      });\r\n\r\n      // Nota: El archivo queda en Cloudinary pero sin referencia en tu BD\r\n      console.log('Documento removido. Para eliminar de Cloudinary necesitas backend.');\r\n\r\n    } catch (error) {\r\n      console.error('Error al eliminar documento:', error);\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ Error al eliminar el documento'\r\n      });\r\n    }\r\n  };\r\n\r\n  const formatFileSize = (bytes) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\r\n  };\r\n\r\n  // ========== DETECTAR SI ES MÓVIL ==========\r\n  // ========== DETECTAR SI ES MÓVIL ==========\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      const mobile = window.innerWidth <= 768;\r\n      setIsMobile(mobile);\r\n      if (mobile) {\r\n        setIsSidebarOpen(false);\r\n      }\r\n    };\r\n\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  // ========== CARGAR DATOS INICIALES ==========\r\n  // ========== CARGAR DATOS INICIALES ==========\r\n  useEffect(() => {\r\n    loadUsers();\r\n\r\n    // Suscripciones a Firebase\r\n    const unsubscribeVehiculos = loadVehiculos();\r\n    const unsubscribeSolicitudes = loadSolicitudes();\r\n    const unsubscribeTipos = loadTiposVehiculo();\r\n    const unsubscribeTrabajadores = loadTrabajadores(); // AGREGAR ESTA LÍNEA\r\n\r\n\r\n    // Cleanup\r\n    return () => {\r\n      if (unsubscribeVehiculos) unsubscribeVehiculos();\r\n      if (unsubscribeSolicitudes) unsubscribeSolicitudes();\r\n      if (unsubscribeTipos) unsubscribeTipos();\r\n      if (unsubscribeTrabajadores) unsubscribeTrabajadores(); // AGREGAR ESTA LÍNEA\r\n\r\n    };\r\n  }, []); // Solo ejecutar al montar\r\n\r\n  // ========== PERSISTENCIA DE ESTADOS ==========\r\n\r\n\r\n\r\n  // Guardar pestaña activa\r\n  useEffect(() => {\r\n    localStorage.setItem('superAdminActiveTab', activeTab);\r\n  }, [activeTab]);\r\n\r\n  // Guardar estado del sidebar (solo en desktop)\r\n  useEffect(() => {\r\n    if (!isMobile) {\r\n      localStorage.setItem('superAdminSidebarOpen', JSON.stringify(isSidebarOpen));\r\n    }\r\n  }, [isSidebarOpen, isMobile]);\r\n\r\n  // Guardar menús expandidos\r\n  useEffect(() => {\r\n    localStorage.setItem('superAdminExpandedMenus', JSON.stringify(expandedMenus));\r\n  }, [expandedMenus]);\r\n\r\n  // Guardar estado de formulario de creación\r\n  useEffect(() => {\r\n    localStorage.setItem('superAdminShowCreateForm', JSON.stringify(showCreateForm));\r\n  }, [showCreateForm]);\r\n\r\n  // Guardar estado de formulario de vehículos\r\n  useEffect(() => {\r\n    localStorage.setItem('superAdminShowVehicleForm', JSON.stringify(showVehicleForm));\r\n  }, [showVehicleForm]);\r\n\r\n  // ========== LIMPIAR LOCALSTORAGE AL DESMONTAR (OPCIONAL) ==========\r\n  useEffect(() => {\r\n    return () => {\r\n      // Opcional: Si quieres limpiar cuando el componente se desmonta\r\n      // Comenta estas líneas si quieres que persista incluso después de logout\r\n      /*\r\n      localStorage.removeItem('superAdminShowCreateForm');\r\n      localStorage.removeItem('superAdminShowVehicleForm');\r\n      */\r\n    };\r\n  }, []);\r\n\r\n  // NUEVO USEEFFECT: Para marcar que ya se mostró la bienvenida\r\n  useEffect(() => {\r\n    if (!showWelcomeScreen) {\r\n      sessionStorage.setItem('superAdminWelcomeShown', 'true');\r\n    }\r\n  }, [showWelcomeScreen]);\r\n\r\n  // ========== FUNCIONES DE CARGA DE DATOS ==========\r\n  const loadUsers = async () => {\r\n    try {\r\n      const usersSnapshot = await getDocs(collection(firestore, 'users'));\r\n      const usersList = [];\r\n\r\n      usersSnapshot.forEach((doc) => {\r\n        const userData = { id: doc.id, ...doc.data() };\r\n        usersList.push(userData);\r\n      });\r\n\r\n      setUsers(usersList);\r\n\r\n    } catch (error) {\r\n      console.error('Error al cargar usuarios:', error);\r\n    }\r\n  };\r\n\r\n  const loadVehiculos = useCallback(() => {\r\n    const vehiculosRef = databaseRef(database, 'vehiculos');\r\n    const unsubscribe = onValue(vehiculosRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const vehiculosArray = Object.entries(data).map(([id, vehiculo]) => ({\r\n          id,\r\n          ...vehiculo\r\n        }));\r\n\r\n        // DEBUG: Ver si los documentos vienen de Firebase\r\n        console.log('🚛 Vehículos cargados con documentos:', vehiculosArray);\r\n        vehiculosArray.forEach(v => {\r\n          if (v.documentos) {\r\n            console.log(`📄 Documentos de ${v.nombre}:`, v.documentos);\r\n          }\r\n        });\r\n\r\n        setVehiculos(vehiculosArray);\r\n      } else {\r\n        setVehiculos([]);\r\n      }\r\n    });\r\n\r\n    return () => off(vehiculosRef);\r\n  }, []);\r\n  const loadTrabajadores = useCallback(() => {\r\n    const trabajadoresRef = databaseRef(database, 'trabajadores');\r\n    const unsubscribe = onValue(trabajadoresRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const trabajadoresArray = Object.entries(data).map(([id, trabajador]) => ({\r\n          id,\r\n          ...trabajador\r\n        }));\r\n        setTrabajadores(trabajadoresArray);\r\n      } else {\r\n        setTrabajadores([]);\r\n      }\r\n    });\r\n\r\n    return () => off(trabajadoresRef);\r\n  }, []);\r\n\r\n  const loadSolicitudes = useCallback(() => {\r\n    const solicitudesRef = databaseRef(database, 'solicitudes_maquinaria');\r\n    const unsubscribe = onValue(solicitudesRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const solicitudesArray = Object.entries(data)\r\n          .map(([id, sol]) => ({ id, ...sol }))\r\n          .sort((a, b) => {\r\n            if (a.estado === 'pendiente' && b.estado !== 'pendiente') return -1;\r\n            if (a.estado !== 'pendiente' && b.estado === 'pendiente') return 1;\r\n            return new Date(b.fechaSolicitud) - new Date(a.fechaSolicitud);\r\n          });\r\n        setSolicitudes(solicitudesArray);\r\n      } else {\r\n        setSolicitudes([]);\r\n      }\r\n    });\r\n\r\n    return () => off(solicitudesRef);\r\n  }, []);\r\n\r\n  const loadTiposVehiculo = useCallback(() => {\r\n    const tiposRef = databaseRef(database, 'tipos_vehiculo');\r\n    const unsubscribe = onValue(tiposRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const tiposArray = Object.entries(data).map(([id, tipo]) => ({\r\n          id,\r\n          ...tipo\r\n        }));\r\n        setTiposVehiculo(tiposArray);\r\n      } else {\r\n        setTiposVehiculo([]);\r\n      }\r\n    });\r\n\r\n    return () => off(tiposRef);\r\n  }, []);\r\n\r\n  // ========== FUNCIONES PARA TIPOS DE VEHÍCULOS - MEMOIZADAS ==========\r\n  const handleSaveTipoVehiculo = useCallback(async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!tipoFormData.nombre.trim()) {\r\n      setMessage({ type: 'error', text: 'El nombre del tipo es requerido' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      if (editingTipo) {\r\n        const tipoRef = databaseRef(database, `tipos_vehiculo/${editingTipo.id}`);\r\n        await update(tipoRef, {\r\n          nombre: tipoFormData.nombre,\r\n          icon: tipoFormData.icon,\r\n          descripcion: tipoFormData.descripcion || '',\r\n          categoria: tipoFormData.categoria || 'general',\r\n          updatedAt: new Date().toISOString(),\r\n          updatedBy: currentUser.uid\r\n        });\r\n\r\n        setMessage({\r\n          type: 'success',\r\n          text: `✅ Tipo \"${tipoFormData.nombre}\" actualizado exitosamente`\r\n        });\r\n      } else {\r\n        const tipoId = tipoFormData.nombre.toLowerCase()\r\n          .normalize(\"NFD\")\r\n          .replace(/[\\u0300-\\u036f]/g, \"\")\r\n          .replace(/\\s+/g, '_')\r\n          .replace(/[^a-z0-9_]/g, '');\r\n\r\n        const tipoRef = databaseRef(database, `tipos_vehiculo/${tipoId}`);\r\n        await databaseSet(tipoRef, {\r\n          nombre: tipoFormData.nombre,\r\n          icon: tipoFormData.icon,\r\n          descripcion: tipoFormData.descripcion || '',\r\n          categoria: tipoFormData.categoria || 'general',\r\n          createdAt: new Date().toISOString(),\r\n          createdBy: currentUser.uid\r\n        });\r\n\r\n        setMessage({\r\n          type: 'success',\r\n          text: `✅ Tipo \"${tipoFormData.nombre}\" creado exitosamente`\r\n        });\r\n      }\r\n\r\n      setTipoFormData({\r\n        nombre: '',\r\n        icon: '🚛',\r\n        descripcion: '',\r\n        categoria: 'general'\r\n      });\r\n      setEditingTipo(null);\r\n      setShowTipoModal(false);\r\n\r\n    } catch (error) {\r\n      console.error('Error al guardar tipo:', error);\r\n      setMessage({\r\n        type: 'error',\r\n        text: 'Error al guardar el tipo de vehículo'\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [tipoFormData, editingTipo, currentUser.uid]);\r\n\r\n  const handleDeleteTipoVehiculo = useCallback(async (tipo) => {\r\n    const vehiculosConTipo = vehiculos.filter(v => v.tipo === tipo.id);\r\n\r\n    if (vehiculosConTipo.length > 0) {\r\n      setMessage({\r\n        type: 'error',\r\n        text: `❌ No se puede eliminar \"${tipo.nombre}\". Hay ${vehiculosConTipo.length} vehículo(s) usando este tipo`\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (window.confirm(`¿Estás seguro de eliminar el tipo \"${tipo.nombre}\"?`)) {\r\n      try {\r\n        const tipoRef = databaseRef(database, `tipos_vehiculo/${tipo.id}`);\r\n        await remove(tipoRef);\r\n\r\n        setMessage({\r\n          type: 'success',\r\n          text: `✅ Tipo \"${tipo.nombre}\" eliminado exitosamente`\r\n        });\r\n      } catch (error) {\r\n        console.error('Error al eliminar tipo:', error);\r\n        setMessage({\r\n          type: 'error',\r\n          text: 'Error al eliminar el tipo de vehículo'\r\n        });\r\n      }\r\n    }\r\n  }, [vehiculos]);\r\n\r\n  const handleEditTipo = useCallback((tipo) => {\r\n    setEditingTipo(tipo);\r\n    setTipoFormData({\r\n      nombre: tipo.nombre,\r\n      icon: tipo.icon || '🚛',\r\n      descripcion: tipo.descripcion || '',\r\n      categoria: tipo.categoria || 'general'\r\n    });\r\n    setShowTipoModal(true);\r\n  }, []);\r\n\r\n  // ========== FUNCIONES PARA SOLICITUDES ==========\r\n  const handleResponseSolicitud = async (solicitudId, estado, respuesta) => {\r\n    try {\r\n      const solicitudRef = databaseRef(database, `solicitudes_maquinaria/${solicitudId}`);\r\n      await update(solicitudRef, {\r\n        estado,\r\n        respuesta,\r\n        fechaRespuesta: new Date().toISOString(),\r\n        respondidoPor: currentUser.uid,\r\n        visto: true\r\n      });\r\n\r\n      const solicitud = solicitudes.find(s => s.id === solicitudId);\r\n      if (solicitud) {\r\n        const notificacionRef = databaseRef(database, 'notificaciones');\r\n        await push(notificacionRef, {\r\n          tipo: 'respuesta_solicitud',\r\n          mensaje: `Tu solicitud \"${solicitud.asunto}\" ha sido ${estado}`,\r\n          destinatario: solicitud.solicitanteId,\r\n          timestamp: new Date().toISOString(),\r\n          leido: false\r\n        });\r\n\r\n        if (estado === 'aprobada') {\r\n          setSolicitudParaZona(solicitud);\r\n        }\r\n      }\r\n\r\n      setMessage({\r\n        type: 'success',\r\n        text: `✅ Solicitud ${estado} exitosamente`\r\n      });\r\n      setShowSolicitudDetails(null);\r\n\r\n      if (estado === 'rechazada') {\r\n        setSolicitudParaZona(null);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al responder solicitud:', error);\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ Error al procesar la solicitud'\r\n      });\r\n    }\r\n  };\r\n\r\n  const crearZonaDesdeSolicitud = () => {\r\n    if (!solicitudParaZona) return;\r\n\r\n    localStorage.setItem('solicitudParaZona', JSON.stringify({\r\n      nombre: `Trabajo: ${solicitudParaZona.asunto}`,\r\n      descripcion: `${solicitudParaZona.descripcion}\\n\\nSolicitante: ${solicitudParaZona.nombreSolicitante}\\nTeléfono: ${solicitudParaZona.telefonoContacto}\\nLocalidad: ${solicitudParaZona.localidad || 'No especificada'}`,\r\n      direccion: `Solicitado por ${solicitudParaZona.localidad || 'Junta de Vecinos'}`,\r\n      lat: solicitudParaZona.ubicacion.lat,\r\n      lng: solicitudParaZona.ubicacion.lng,\r\n      prioridad: solicitudParaZona.prioridad,\r\n      fechaLimite: solicitudParaZona.fechaNecesaria,\r\n      tipoMaquinaria: solicitudParaZona.tipoMaquinaria,\r\n      duracionEstimada: solicitudParaZona.duracionEstimada,\r\n      solicitudId: solicitudParaZona.id\r\n    }));\r\n\r\n    setSolicitudParaZona(null);\r\n    onViewChange('zones');\r\n  };\r\n\r\n  const handleCreateUser = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage({ type: '', text: '' });\r\n\r\n    // Variables para la app secundaria\r\n    let secondaryApp;\r\n    let secondaryAuth;\r\n\r\n    try {\r\n      // Validar RUT\r\n      if (!validarRUT(formData.rut)) {\r\n        setMessage({ type: 'error', text: 'RUT inválido' });\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // CREAR APP SECUNDARIA TEMPORAL\r\n      secondaryApp = initializeApp(firebaseConfig, `Secondary_${Date.now()}`);\r\n      secondaryAuth = getSecondaryAuth(secondaryApp);\r\n\r\n      // CREAR EL NUEVO USUARIO CON LA APP SECUNDARIA\r\n      const userCredential = await createUserWithEmailAndPassword(\r\n        secondaryAuth,\r\n        formData.email,\r\n        formData.password\r\n      );\r\n\r\n      // Cerrar sesión en la app secundaria inmediatamente\r\n      await secondarySignOut(secondaryAuth);\r\n\r\n      // GUARDAR DATOS EN FIRESTORE CON FECHA DE VENCIMIENTO DE LICENCIA\r\n      await setDoc(doc(firestore, 'users', userCredential.user.uid), {\r\n        email: formData.email,\r\n        name: formData.name,\r\n        role: formData.role,\r\n        phone: formData.phone,\r\n        vehicleId: formData.vehicleId || null,\r\n        localidad: formData.localidad || null,\r\n        recoveryPin: btoa(formData.recoveryPin),\r\n        rut: formData.rut || null,\r\n        licenciaConducir: formData.licenciaConducir || null, // Mantener por compatibilidad\r\n        licenciasConducir: formData.licenciasConducir || [], // NUEVO: Array de licencias\r\n        fechaVencimientoLicencia: formData.fechaVencimientoLicencia || null,\r\n        observacionesLicencia: formData.observacionesLicencia || '', // NUEVO\r\n        licenciaBloqueada: formData.licenciaBloqueada || false, // NUEVO\r\n        motivoBloqueo: formData.motivoBloqueo || '', // NUEVO\r\n        fechaBloqueo: formData.fechaBloqueo || '', // NUEVO\r\n        fotoPerfil: formData.fotoPerfil || null,\r\n        polizaSeguro: formData.polizaSeguro || null,\r\n        habilitado: true, // NUEVO: Usuario habilitado por defecto\r\n        fechaDeshabilitado: null,\r\n        motivoDeshabilitado: '',\r\n        deshabilitadoPor: null,\r\n        createdAt: new Date().toISOString(),\r\n        createdBy: currentUser.uid,\r\n        active: true,\r\n        firstLogin: true\r\n      });\r\n\r\n      // SINCRONIZACIÓN CON REALTIME DATABASE PARA TRABAJADORES\r\n      if (formData.role === 'trabajador') {\r\n        console.log('🔄 Sincronizando trabajador en Realtime Database...');\r\n\r\n        const trabajadorRef = databaseRef(database, `trabajadores/${userCredential.user.uid}`);\r\n        await databaseSet(trabajadorRef, {\r\n          nombre: formData.name,\r\n          email: formData.email,\r\n          telefono: formData.phone || '',\r\n          rut: formData.rut || null,\r\n          vehiculoAsignado: formData.vehicleId || null,\r\n          estado: 'disponible',\r\n          licenciaConducir: formData.licenciaConducir || null,\r\n          licenciasConducir: formData.licenciasConducir || [],\r\n          fechaVencimientoLicencia: formData.fechaVencimientoLicencia || null,\r\n          observacionesLicencia: formData.observacionesLicencia || '',\r\n          licenciaBloqueada: formData.licenciaBloqueada || false,\r\n          motivoBloqueo: formData.motivoBloqueo || '',\r\n          fechaBloqueo: formData.fechaBloqueo || '',\r\n          ubicacion: null, // Inicialmente sin ubicación GPS\r\n          ultimoTrabajo: null,\r\n          zonaDestino: null,\r\n          createdAt: new Date().toISOString(),\r\n          createdBy: currentUser.uid\r\n        });\r\n\r\n        console.log('✅ Trabajador sincronizado en Realtime Database');\r\n      }\r\n\r\n      // Si se asignó un vehículo, actualizar el vehículo también\r\n      if (formData.vehicleId && formData.role === 'trabajador') {\r\n        const vehiculoRef = databaseRef(database, `vehiculos/${formData.vehicleId}`);\r\n        await update(vehiculoRef, {\r\n          operadorAsignado: userCredential.user.uid,\r\n          ultimaActualizacion: new Date().toISOString(),\r\n          actualizadoPor: currentUser.uid\r\n        });\r\n\r\n        console.log('✅ Vehículo actualizado con operador asignado');\r\n      }\r\n\r\n      // Mensaje de éxito\r\n      setMessage({\r\n        type: 'success',\r\n        text: `✅ Usuario ${formData.name} creado exitosamente${formData.role === 'trabajador' ? ' y sincronizado en panel de flota' : ''}`\r\n      });\r\n\r\n      // Resetear formulario\r\n      // En el reseteo del formulario después de crear usuario exitosamente\r\n      setFormData({\r\n        email: '',\r\n        password: '',\r\n        name: '',\r\n        role: 'trabajador',\r\n        phone: '',\r\n        vehicleId: '',\r\n        localidad: '',\r\n        recoveryPin: '',\r\n        rut: '',\r\n        licenciaConducir: '',\r\n        licenciasConducir: [],\r\n        fechaVencimientoLicencia: '',\r\n        observacionesLicencia: '',\r\n        licenciaBloqueada: false,\r\n        motivoBloqueo: '',\r\n        fechaBloqueo: '',\r\n        // AGREGAR:\r\n        fotoPerfil: {\r\n          url: '',\r\n          publicId: '',\r\n          fecha: ''\r\n        },\r\n        polizaSeguro: {\r\n          url: '',\r\n          nombre: '',\r\n          fecha: '',\r\n          publicId: '',\r\n          numeroPoliza: '',\r\n          vigencia: '',\r\n          compania: '',\r\n          cobertura: ''\r\n        }\r\n      });\r\n\r\n      // Recargar lista de usuarios\r\n      loadUsers();\r\n      setShowCreateForm(false);\r\n\r\n    } catch (error) {\r\n      console.error('Error al crear usuario:', error);\r\n\r\n      // Manejo de errores específicos\r\n      let errorMessage = 'Error al crear usuario';\r\n      switch (error.code) {\r\n        case 'auth/email-already-in-use':\r\n          errorMessage = 'Este correo ya está registrado';\r\n          break;\r\n        case 'auth/invalid-email':\r\n          errorMessage = 'Correo electrónico inválido';\r\n          break;\r\n        case 'auth/weak-password':\r\n          errorMessage = 'La contraseña debe tener al menos 6 caracteres';\r\n          break;\r\n        case 'auth/network-request-failed':\r\n          errorMessage = 'Error de conexión. Verifica tu internet';\r\n          break;\r\n        default:\r\n          errorMessage = error.message;\r\n      }\r\n\r\n      setMessage({ type: 'error', text: errorMessage });\r\n\r\n    } finally {\r\n      // MUY IMPORTANTE: Limpiar la app secundaria\r\n      if (secondaryApp) {\r\n        await deleteApp(secondaryApp);\r\n      }\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleUserStatus = async (userId, userEmail) => {\r\n    const user = users.find(u => u.id === userId);\r\n    const nuevoEstado = !user.habilitado;\r\n\r\n    try {\r\n      await updateDoc(doc(firestore, 'users', userId), {\r\n        habilitado: nuevoEstado,\r\n        fechaDeshabilitado: nuevoEstado ? null : new Date().toISOString(),\r\n        motivoDeshabilitado: nuevoEstado ? '' : 'Deshabilitado por administrador',\r\n        deshabilitadoPor: nuevoEstado ? null : currentUser.uid,\r\n        updatedAt: new Date().toISOString(),\r\n        updatedBy: currentUser.uid\r\n      });\r\n\r\n      // Si el usuario es trabajador, actualizar en Realtime Database\r\n      if (user.role === 'trabajador') {\r\n        const trabajadorRef = databaseRef(database, `trabajadores/${userId}`);\r\n        await update(trabajadorRef, {\r\n          habilitado: nuevoEstado,\r\n          fechaDeshabilitado: nuevoEstado ? null : new Date().toISOString(),\r\n          ultimaActualizacion: new Date().toISOString()\r\n        });\r\n\r\n        // Si se deshabilita y tiene vehículo asignado, liberar el vehículo\r\n        if (!nuevoEstado && user.vehicleId) {\r\n          const vehiculoRef = databaseRef(database, `vehiculos/${user.vehicleId}`);\r\n          await update(vehiculoRef, {\r\n            operadorAsignado: null,\r\n            ultimaActualizacion: new Date().toISOString()\r\n          });\r\n        }\r\n      }\r\n\r\n      setMessage({\r\n        type: 'success',\r\n        text: `✅ Usuario ${nuevoEstado ? 'habilitado' : 'deshabilitado'} exitosamente`\r\n      });\r\n\r\n      loadUsers();\r\n    } catch (error) {\r\n      console.error('Error al cambiar estado del usuario:', error);\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ Error al cambiar estado del usuario'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleToggleVehicleStatus = async (vehiculoId) => {\r\n    console.log('🔧 Intentando cambiar estado del vehículo:', vehiculoId);\r\n\r\n    const vehiculo = vehiculos.find(v => v.id === vehiculoId);\r\n    console.log('📋 Vehículo encontrado:', vehiculo);\r\n\r\n    if (!vehiculo) {\r\n      console.error('❌ No se encontró el vehículo con ID:', vehiculoId);\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ No se encontró el vehículo'\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Determinar el nuevo estado (invertir el actual)\r\n    const estaDeshabilitado = vehiculo.habilitado === false;\r\n    const habilitarVehiculo = estaDeshabilitado; // Si está deshabilitado, lo habilitamos\r\n\r\n    console.log('🔄 Estado actual:', estaDeshabilitado ? 'deshabilitado' : 'habilitado');\r\n    console.log('🔄 Nuevo estado será:', habilitarVehiculo ? 'habilitado' : 'deshabilitado');\r\n\r\n    try {\r\n      const vehiculoRef = databaseRef(database, `vehiculos/${vehiculoId}`);\r\n\r\n      if (habilitarVehiculo) {\r\n        // HABILITAR vehículo\r\n        await update(vehiculoRef, {\r\n          habilitado: true,\r\n          estado: vehiculo.estadoAnterior || 'disponible',\r\n          estadoAnterior: null,\r\n          fechaDeshabilitado: null,\r\n          motivoDeshabilitado: '',\r\n          deshabilitadoPor: null,\r\n          ultimaActualizacion: new Date().toISOString(),\r\n          actualizadoPor: currentUser.uid\r\n        });\r\n\r\n        console.log('✅ Vehículo habilitado exitosamente');\r\n      } else {\r\n        // DESHABILITAR vehículo\r\n        await update(vehiculoRef, {\r\n          habilitado: false,\r\n          estadoAnterior: vehiculo.estado,\r\n          estado: 'fuera_servicio',\r\n          fechaDeshabilitado: new Date().toISOString(),\r\n          motivoDeshabilitado: 'Deshabilitado por administrador',\r\n          deshabilitadoPor: currentUser.uid,\r\n          operadorAsignado: null,\r\n          ultimaActualizacion: new Date().toISOString(),\r\n          actualizadoPor: currentUser.uid\r\n        });\r\n\r\n        console.log('🚫 Vehículo deshabilitado exitosamente');\r\n      }\r\n\r\n      setMessage({\r\n        type: 'success',\r\n        text: `✅ Vehículo ${habilitarVehiculo ? 'habilitado' : 'deshabilitado'} exitosamente`\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error('❌ Error al cambiar estado del vehículo:', error);\r\n      setMessage({\r\n        type: 'error',\r\n        text: `❌ Error al cambiar estado del vehículo: ${error.message}`\r\n      });\r\n    }\r\n  };\r\n\r\n  // ========================================================\r\n  // OPCIONAL: Si también quieres actualizar handleUpdateUser\r\n  // para cambiar contraseñas sin perder sesión\r\n  // ========================================================\r\n\r\n  const handleResetUserPassword = async (userId, userEmail, newPassword) => {\r\n    let secondaryApp;\r\n    let secondaryAuth;\r\n\r\n    try {\r\n      // Crear app secundaria\r\n      secondaryApp = initializeApp(firebaseConfig, `Secondary_Reset_${Date.now()}`);\r\n      secondaryAuth = getSecondaryAuth(secondaryApp);\r\n\r\n      // Aquí podrías implementar lógica para resetear contraseña\r\n      // usando Firebase Admin SDK (requiere backend) o\r\n      // simplemente actualizar la contraseña temporal en Firestore\r\n\r\n      // Opción simple: Guardar nueva contraseña temporal\r\n      await updateDoc(doc(firestore, 'users', userId), {\r\n        tempPassword: btoa(newPassword),\r\n        requirePasswordChange: true,\r\n        needsAuthSync: true,\r\n        passwordResetAt: new Date().toISOString(),\r\n        passwordResetBy: currentUser.uid\r\n      });\r\n\r\n      setMessage({\r\n        type: 'success',\r\n        text: `✅ Contraseña reseteada para ${userEmail}. El usuario deberá cambiarla en su próximo inicio de sesión.`\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error('Error al resetear contraseña:', error);\r\n      setMessage({\r\n        type: 'error',\r\n        text: 'Error al resetear la contraseña'\r\n      });\r\n    } finally {\r\n      if (secondaryApp) {\r\n        await deleteApp(secondaryApp);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleEditUser = (user) => {\r\n    setEditingUser(user);\r\n    setFormData({\r\n      email: user.email,\r\n      password: '',\r\n      name: user.name || '',\r\n      role: user.role || 'trabajador',\r\n      phone: user.phone || '',\r\n      vehicleId: user.vehicleId || '',\r\n      localidad: user.localidad || '',\r\n      recoveryPin: '', // No mostrar el PIN actual por seguridad\r\n      rut: user.rut || '',\r\n      licenciaConducir: user.licenciaConducir || '', // Mantener por compatibilidad\r\n      licenciasConducir: user.licenciasConducir || [], // CARGAR ARRAY DE LICENCIAS\r\n      fechaVencimientoLicencia: user.fechaVencimientoLicencia || '',\r\n      observacionesLicencia: user.observacionesLicencia || '',\r\n\r\n      fotoPerfil: user.fotoPerfil || { url: '', publicId: '', fecha: '' },\r\n      polizaSeguro: user.polizaSeguro || {\r\n        url: '',\r\n        nombre: '',\r\n        fecha: '',\r\n        publicId: '',\r\n        numeroPoliza: '',\r\n        vigencia: '',\r\n        compania: '',\r\n        cobertura: ''\r\n      },\r\n      licenciaBloqueada: user.licenciaBloqueada || false,\r\n      motivoBloqueo: user.motivoBloqueo || '',\r\n      fechaBloqueo: user.fechaBloqueo || ''\r\n    });\r\n    setShowEditUserForm(true);\r\n    setShowCreateForm(false);\r\n  };\r\n\r\n  const handleUpdateUser = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage({ type: '', text: '' });\r\n\r\n    try {\r\n      // Validar RUT si se proporciona\r\n      if (formData.rut && !validarRUT(formData.rut)) {\r\n        setMessage({ type: 'error', text: 'RUT inválido' });\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const updateData = {\r\n        name: formData.name,\r\n        role: formData.role,\r\n        phone: formData.phone,\r\n        vehicleId: formData.vehicleId || null,\r\n        localidad: formData.localidad || null,\r\n        rut: formData.rut || null,\r\n        licenciaConducir: formData.licenciaConducir || null, // Mantener por compatibilidad\r\n        licenciasConducir: formData.licenciasConducir || [], // ACTUALIZAR ARRAY\r\n        fechaVencimientoLicencia: formData.fechaVencimientoLicencia || null,\r\n        observacionesLicencia: formData.observacionesLicencia || '',\r\n        licenciaBloqueada: formData.licenciaBloqueada || false,\r\n        motivoBloqueo: formData.motivoBloqueo || '',\r\n        fechaBloqueo: formData.fechaBloqueo || '',\r\n        fotoPerfil: formData.fotoPerfil || null,\r\n        polizaSeguro: formData.polizaSeguro || null,\r\n        updatedAt: new Date().toISOString(),\r\n        updatedBy: currentUser.uid\r\n      };\r\n\r\n      // Solo actualizar el PIN si se proporcionó uno nuevo\r\n      if (formData.recoveryPin && formData.recoveryPin.length === 4) {\r\n        updateData.recoveryPin = btoa(formData.recoveryPin);\r\n      }\r\n\r\n      await updateDoc(doc(firestore, 'users', editingUser.id), updateData);\r\n\r\n      setMessage({\r\n        type: 'success',\r\n        text: `✅ Usuario ${formData.name} actualizado exitosamente`\r\n      });\r\n\r\n      // Resetear formulario\r\n      setFormData({\r\n        email: '',\r\n        password: '',\r\n        name: '',\r\n        role: 'trabajador',\r\n        phone: '',\r\n        vehicleId: '',\r\n        localidad: '',\r\n        recoveryPin: '',\r\n        rut: '',\r\n        licenciaConducir: '',\r\n        fechaVencimientoLicencia: '' // RESETEAR NUEVO CAMPO\r\n      });\r\n\r\n      loadUsers();\r\n      setShowEditUserForm(false);\r\n      setEditingUser(null);\r\n\r\n    } catch (error) {\r\n      console.error('Error al actualizar usuario:', error);\r\n      setMessage({ type: 'error', text: 'Error al actualizar usuario: ' + error.message });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteUser = async (userId) => {\r\n    if (window.confirm('¿Estás seguro de eliminar este usuario?')) {\r\n      try {\r\n        await deleteDoc(doc(firestore, 'users', userId));\r\n        setMessage({ type: 'success', text: '✅ Usuario eliminado' });\r\n        loadUsers();\r\n      } catch (error) {\r\n        setMessage({ type: 'error', text: 'Error al eliminar usuario' });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCreateOrUpdateVehicle = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage({ type: '', text: '' });\r\n\r\n    try {\r\n      const estadoValido = ['disponible', 'en_uso', 'mantenimiento', 'fuera_servicio'].includes(vehicleFormData.estado)\r\n        ? vehicleFormData.estado\r\n        : 'disponible';\r\n\r\n      // Preparar datos del vehículo\r\n      const vehicleDataToSave = {\r\n        // Campos básicos\r\n        nombre: vehicleFormData.nombre || '',\r\n        tipo: vehicleFormData.tipo || '',\r\n        marca: vehicleFormData.marca || '',\r\n        modelo: vehicleFormData.modelo || '',\r\n        año: vehicleFormData.año || new Date().getFullYear(),\r\n        patente: vehicleFormData.patente || '',\r\n        color: vehicleFormData.color || '',\r\n        numeroChasis: vehicleFormData.numeroChasis || '',\r\n        numeroMotor: vehicleFormData.numeroMotor || '',\r\n        kilometraje: vehicleFormData.kilometraje || 0,\r\n        capacidadCombustible: vehicleFormData.capacidadCombustible || 0,\r\n        tipoCombustible: vehicleFormData.tipoCombustible || 'gasolina',\r\n        estado: estadoValido,\r\n        licenciasRequeridas: vehicleFormData.licenciasRequeridas || [],\r\n        polizaSeguroVehiculo: vehicleFormData.polizaSeguroVehiculo || null,\r\n\r\n        // Mantenimiento\r\n        ultimoMantenimiento: vehicleFormData.ultimoMantenimiento || '',\r\n        proximoMantenimiento: vehicleFormData.proximoMantenimiento || '',\r\n        kilometrajeUltimoMantenimiento: vehicleFormData.kilometrajeUltimoMantenimiento || 0,\r\n        kilometrajeProximoMantenimiento: vehicleFormData.kilometrajeProximoMantenimiento || 0,\r\n\r\n        // Documentación\r\n        fechaRevisionTecnica: vehicleFormData.fechaRevisionTecnica || '',\r\n        fechaSeguro: vehicleFormData.fechaSeguro || '',\r\n        fechaPermisoCirculacion: vehicleFormData.fechaPermisoCirculacion || '',\r\n\r\n        // Ubicación\r\n        lat: vehicleFormData.lat || null,\r\n        lng: vehicleFormData.lng || null,\r\n\r\n        // Observaciones\r\n        observaciones: vehicleFormData.observaciones || '',\r\n\r\n        // Timestamps\r\n        ultimaActualizacion: new Date().toISOString(),\r\n        actualizadoPor: currentUser.uid\r\n      };\r\n\r\n      // ⚠️ IMPORTANTE: INCLUIR DOCUMENTOS SI EXISTEN\r\n      if (vehicleFormData.documentos) {\r\n        const documentosParaGuardar = {};\r\n\r\n        // Guardar cada tipo de documento\r\n        Object.keys(vehicleFormData.documentos).forEach(tipoDoc => {\r\n          const doc = vehicleFormData.documentos[tipoDoc];\r\n\r\n          if (tipoDoc === 'otros' && Array.isArray(doc) && doc.length > 0) {\r\n            // Para array de otros documentos\r\n            documentosParaGuardar.otros = doc.map(d => ({\r\n              url: d.url || '',\r\n              nombre: d.nombre || '',\r\n              fecha: d.fecha || '',\r\n              publicId: d.publicId || '',\r\n              tamaño: d.tamaño || 0,\r\n              tipo: d.tipo || ''\r\n            }));\r\n          } else if (doc && doc.url) {\r\n            // Para documentos individuales con URL\r\n            documentosParaGuardar[tipoDoc] = {\r\n              url: doc.url || '',\r\n              nombre: doc.nombre || '',\r\n              fecha: doc.fecha || '',\r\n              publicId: doc.publicId || '',\r\n              tamaño: doc.tamaño || 0,\r\n              tipo: doc.tipo || ''\r\n            };\r\n          }\r\n        });\r\n\r\n        // Solo agregar documentos si hay alguno\r\n        if (Object.keys(documentosParaGuardar).length > 0) {\r\n          vehicleDataToSave.documentos = documentosParaGuardar;\r\n          console.log('📄 Guardando documentos:', documentosParaGuardar);\r\n        }\r\n      }\r\n\r\n      // Agregar otros campos nuevos si están presentes\r\n      if (vehicleFormData.vin) vehicleDataToSave.vin = vehicleFormData.vin;\r\n      if (vehicleFormData.proveedor) vehicleDataToSave.proveedor = vehicleFormData.proveedor;\r\n      // ... agregar más campos según necesites\r\n\r\n      console.log('💾 Datos a guardar:', vehicleDataToSave);\r\n\r\n      if (editingVehicle) {\r\n        // ACTUALIZAR vehículo existente\r\n        const vehicleRef = databaseRef(database, `vehiculos/${editingVehicle.id}`);\r\n        await update(vehicleRef, vehicleDataToSave);\r\n\r\n        setMessage({\r\n          type: 'success',\r\n          text: `✅ Vehículo ${vehicleFormData.nombre} actualizado exitosamente`\r\n        });\r\n      } else {\r\n        // CREAR nuevo vehículo\r\n        vehicleDataToSave.createdAt = new Date().toISOString();\r\n        vehicleDataToSave.createdBy = currentUser.uid;\r\n\r\n        const vehiculosRef = databaseRef(database, 'vehiculos');\r\n        const newVehicleRef = push(vehiculosRef);\r\n        await databaseSet(newVehicleRef, vehicleDataToSave);\r\n\r\n        setMessage({\r\n          type: 'success',\r\n          text: `✅ Vehículo ${vehicleFormData.nombre} creado exitosamente`\r\n        });\r\n      }\r\n\r\n\r\n      // Al resetear el formulario, siempre incluir estructura de documentos\r\n      const resetVehicleForm = () => {\r\n        setVehicleFormData({\r\n          nombre: '',\r\n          tipo: '',\r\n          marca: '',\r\n          modelo: '',\r\n          año: new Date().getFullYear(),\r\n          patente: '',\r\n          color: '',\r\n          numeroChasis: '',\r\n          numeroMotor: '',\r\n          kilometraje: 0,\r\n          capacidadCombustible: 0,\r\n          tipoCombustible: 'gasolina',\r\n          ultimoMantenimiento: '',\r\n          proximoMantenimiento: '',\r\n          kilometrajeUltimoMantenimiento: 0,\r\n          kilometrajeProximoMantenimiento: 0,\r\n          fechaRevisionTecnica: '',\r\n          fechaSeguro: '',\r\n          fechaPermisoCirculacion: '',\r\n          operadorAsignado: '',\r\n          estado: 'disponible',\r\n          lat: null,\r\n          lng: null,\r\n          observaciones: '',\r\n\r\n          // IMPORTANTE: Siempre incluir estructura de documentos\r\n          documentos: {\r\n            permisoCirculacion: { url: '', nombre: '', fecha: '' },\r\n            revisionTecnica: { url: '', nombre: '', fecha: '' },\r\n            certificadoGases: { url: '', nombre: '', fecha: '' },\r\n            soap: { url: '', nombre: '', fecha: '' },\r\n            seguroComplementario: { url: '', nombre: '', fecha: '' },\r\n            padronMunicipal: { url: '', nombre: '', fecha: '' },\r\n            facturaCompra: { url: '', nombre: '', fecha: '' },\r\n            contratoLeasing: { url: '', nombre: '', fecha: '' },\r\n            otros: []\r\n          },\r\n\r\n          // ... resto de campos\r\n        });\r\n      };\r\n\r\n\r\n      setShowVehicleForm(false);\r\n      setEditingVehicle(null);\r\n\r\n    } catch (error) {\r\n      console.error('Error al guardar vehículo:', error);\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ Error al guardar el vehículo: ' + error.message\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  // Función para validar RUT chileno\r\n  const validarRUT = (rut) => {\r\n    // Limpiar RUT\r\n    const rutLimpio = rut.replace(/[^0-9kK]/g, '').toUpperCase();\r\n\r\n    if (rutLimpio.length < 8 || rutLimpio.length > 9) {\r\n      return false;\r\n    }\r\n\r\n    const cuerpo = rutLimpio.slice(0, -1);\r\n    const dv = rutLimpio.slice(-1);\r\n\r\n    // Calcular dígito verificador\r\n    let suma = 0;\r\n    let multiplicador = 2;\r\n\r\n    for (let i = cuerpo.length - 1; i >= 0; i--) {\r\n      suma += parseInt(cuerpo[i]) * multiplicador;\r\n      multiplicador = multiplicador === 7 ? 2 : multiplicador + 1;\r\n    }\r\n\r\n    const dvCalculado = 11 - (suma % 11);\r\n    const dvFinal = dvCalculado === 11 ? '0' : dvCalculado === 10 ? 'K' : dvCalculado.toString();\r\n\r\n    return dv === dvFinal;\r\n  };\r\n\r\n  // Función para formatear RUT mientras se escribe\r\n  const formatearRUT = (value) => {\r\n    // Eliminar caracteres no válidos\r\n    let rut = value.replace(/[^0-9kK]/g, '').toUpperCase();\r\n\r\n    // Limitar longitud\r\n    if (rut.length > 9) {\r\n      rut = rut.slice(0, 9);\r\n    }\r\n\r\n    // Si tiene más de 1 carácter, formatear\r\n    if (rut.length > 1) {\r\n      // Separar dígito verificador\r\n      const dv = rut.slice(-1);\r\n      let cuerpo = rut.slice(0, -1);\r\n\r\n      // Agregar puntos cada 3 dígitos\r\n      cuerpo = cuerpo.replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\r\n\r\n      // Unir cuerpo y dígito verificador con guión\r\n      rut = `${cuerpo}-${dv}`;\r\n    }\r\n\r\n    return rut;\r\n  };\r\n\r\n  const handleEditVehicle = (vehicle) => {\r\n    setEditingVehicle(vehicle);\r\n    setVehicleFormData({\r\n      // Campos existentes\r\n      nombre: vehicle.nombre || '',\r\n      tipo: vehicle.tipo || '',\r\n      marca: vehicle.marca || '',\r\n      modelo: vehicle.modelo || '',\r\n      año: vehicle.año || new Date().getFullYear(),\r\n      patente: vehicle.patente || '',\r\n      color: vehicle.color || '',\r\n      numeroChasis: vehicle.numeroChasis || '',\r\n      numeroMotor: vehicle.numeroMotor || '',\r\n      kilometraje: vehicle.kilometraje || 0,\r\n      capacidadCombustible: vehicle.capacidadCombustible || 0,\r\n      tipoCombustible: vehicle.tipoCombustible || 'gasolina',\r\n      ultimoMantenimiento: vehicle.ultimoMantenimiento || '',\r\n      proximoMantenimiento: vehicle.proximoMantenimiento || '',\r\n      kilometrajeUltimoMantenimiento: vehicle.kilometrajeUltimoMantenimiento || 0,\r\n      kilometrajeProximoMantenimiento: vehicle.kilometrajeProximoMantenimiento || 0,\r\n      fechaRevisionTecnica: vehicle.fechaRevisionTecnica || '',\r\n      fechaSeguro: vehicle.fechaSeguro || '',\r\n      fechaPermisoCirculacion: vehicle.fechaPermisoCirculacion || '',\r\n      operadorAsignado: vehicle.operadorAsignado || '',\r\n      estado: vehicle.estado || 'disponible',\r\n      lat: vehicle.lat || null,\r\n      lng: vehicle.lng || null,\r\n      observaciones: vehicle.observaciones || '',\r\n      licenciasRequeridas: vehicle.licenciasRequeridas || [],\r\n\r\n      // ⚠️ IMPORTANTE: CARGAR DOCUMENTOS EXISTENTES\r\n      documentos: {\r\n        permisoCirculacion: { url: '', nombre: '', fecha: '' },\r\n        revisionTecnica: { url: '', nombre: '', fecha: '' },\r\n        certificadoGases: { url: '', nombre: '', fecha: '' },\r\n        soap: { url: '', nombre: '', fecha: '' },\r\n        seguroComplementario: { url: '', nombre: '', fecha: '' },\r\n        padronMunicipal: { url: '', nombre: '', fecha: '' },\r\n        facturaCompra: { url: '', nombre: '', fecha: '' },\r\n        contratoLeasing: { url: '', nombre: '', fecha: '' },\r\n        extintor: { url: '', nombre: '', fecha: '' }, // AGREGAR ESTA LÍNEA\r\n        otros: []\r\n      },\r\n\r\n      // Nuevos campos\r\n      vin: vehicle.vin || '',\r\n      proveedor: vehicle.proveedor || '',\r\n      modalidadAdquisicion: vehicle.modalidadAdquisicion || 'compra',\r\n      valorAdquisicion: vehicle.valorAdquisicion || 0,\r\n      fechaAdquisicion: vehicle.fechaAdquisicion || '',\r\n      cilindrada: vehicle.cilindrada || '',\r\n      potencia: vehicle.potencia || '',\r\n      transmision: vehicle.transmision || 'manual',\r\n      traccion: vehicle.traccion || '4x2',\r\n      capacidadPasajeros: vehicle.capacidadPasajeros || 0,\r\n      capacidadCarga: vehicle.capacidadCarga || 0,\r\n      pesoBrutoVehicular: vehicle.pesoBrutoVehicular || 0,\r\n      largo: vehicle.largo || 0,\r\n      ancho: vehicle.ancho || 0,\r\n      alto: vehicle.alto || 0,\r\n      numeroEjes: vehicle.numeroEjes || 2,\r\n      equipamientoAdicional: vehicle.equipamientoAdicional || '',\r\n      numeroPermisoCirculacion: vehicle.numeroPermisoCirculacion || '',\r\n      vigenciaPermisoCirculacion: vehicle.vigenciaPermisoCirculacion || '',\r\n      fechaRevisionGases: vehicle.fechaRevisionGases || '',\r\n      resultadoRevisionTecnica: vehicle.resultadoRevisionTecnica || 'aprobado',\r\n      vigenciaSOAP: vehicle.vigenciaSOAP || '',\r\n      numeroPolizaSOAP: vehicle.numeroPolizaSOAP || '',\r\n      seguroComplementario: vehicle.seguroComplementario || false,\r\n      numeroPolizaComplementario: vehicle.numeroPolizaComplementario || '',\r\n      vigenciaSeguroComplementario: vehicle.vigenciaSeguroComplementario || '',\r\n      multasRegistradas: vehicle.multasRegistradas || '',\r\n      horasUso: vehicle.horasUso || 0,\r\n      promedioUsoMensual: vehicle.promedioUsoMensual || 0,\r\n      consumoPromedio: vehicle.consumoPromedio || 0,\r\n      proveedorCombustible: vehicle.proveedorCombustible || '',\r\n      tieneGPS: vehicle.tieneGPS || false,\r\n      dispositivoGPS: vehicle.dispositivoGPS || '',\r\n      tallerMantenimiento: vehicle.tallerMantenimiento || '',\r\n      costoUltimoMantenimiento: vehicle.costoUltimoMantenimiento || 0,\r\n      historialReparaciones: vehicle.historialReparaciones || [],\r\n      costoMantencionAcumulado: vehicle.costoMantencionAcumulado || 0,\r\n      costoCombustibleMensual: vehicle.costoCombustibleMensual || 0,\r\n      costoCombustibleAnual: vehicle.costoCombustibleAnual || 0,\r\n      costoSeguroAnual: vehicle.costoSeguroAnual || 0,\r\n      vidaUtilEstimada: vehicle.vidaUtilEstimada || 10,\r\n      fechaEstimadaReemplazo: vehicle.fechaEstimadaReemplazo || '',\r\n      estadoPatrimonial: vehicle.estadoPatrimonial || 'activo'\r\n    });\r\n    setShowVehicleForm(true);\r\n  };\r\n\r\n  const handleQuickMaintenanceToggle = async (vehiculo) => {\r\n    try {\r\n      const nuevoEstado = vehiculo.estado === 'mantenimiento' ? 'disponible' : 'mantenimiento';\r\n      const vehicleRef = databaseRef(database, `vehiculos/${vehiculo.id}`);\r\n\r\n      const updateData = {\r\n        estado: nuevoEstado,\r\n        ultimaActualizacion: new Date().toISOString(),\r\n        fechaMantenimiento: nuevoEstado === 'mantenimiento' ? new Date().toISOString() : null\r\n      };\r\n\r\n      await update(vehicleRef, updateData);\r\n\r\n      setMessage({\r\n        type: 'success',\r\n        text: `✅ Vehículo ${vehiculo.nombre} marcado como ${nuevoEstado === 'mantenimiento' ? 'En Mantenimiento 🔧' : 'Disponible ✅'}`\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error('Error al cambiar estado:', error);\r\n      setMessage({ type: 'error', text: 'Error al cambiar estado del vehículo' });\r\n    }\r\n  };\r\n\r\n  const handleCompleteMaintenance = async (vehiculo) => {\r\n    try {\r\n      const hoy = new Date();\r\n      const hoyFormateado = hoy.toISOString().split('T')[0];\r\n      const kilometrajeActual = vehiculo.kilometraje || 0;\r\n\r\n      const proximaFecha = new Date();\r\n      proximaFecha.setMonth(proximaFecha.getMonth() + 3);\r\n      const proximoKm = kilometrajeActual + 5000;\r\n\r\n      const vehicleRef = databaseRef(database, `vehiculos/${vehiculo.id}`);\r\n      const updateData = {\r\n        estado: 'disponible',\r\n        ultimoMantenimiento: hoyFormateado,\r\n        kilometrajeUltimoMantenimiento: kilometrajeActual,\r\n        proximoMantenimiento: proximaFecha.toISOString().split('T')[0],\r\n        kilometrajeProximoMantenimiento: proximoKm,\r\n        ultimaActualizacion: new Date().toISOString(),\r\n        fechaMantenimiento: null\r\n      };\r\n\r\n      await update(vehicleRef, updateData);\r\n\r\n      setMessage({\r\n        type: 'success',\r\n        text: `✅ Mantenimiento completado para ${vehiculo.nombre}. Próximo mantenimiento: ${proximaFecha.toLocaleDateString('es-CL')} o ${proximoKm.toLocaleString()} km`\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error('Error al completar mantenimiento:', error);\r\n      setMessage({ type: 'error', text: 'Error al completar el mantenimiento' });\r\n    }\r\n  };\r\n\r\n  const handleDeleteVehicle = async (vehicleId) => {\r\n    if (window.confirm('¿Estás seguro de eliminar este vehículo? Esta acción no se puede deshacer.')) {\r\n      try {\r\n        const vehicleRef = databaseRef(database, `vehiculos/${vehicleId}`);\r\n        await remove(vehicleRef);\r\n        setMessage({ type: 'success', text: '✅ Vehículo eliminado exitosamente' });\r\n      } catch (error) {\r\n        setMessage({ type: 'error', text: 'Error al eliminar el vehículo' });\r\n      }\r\n    }\r\n  };\r\n\r\n  // ========== FUNCIONES DE ESTADÍSTICAS ==========\r\n  const getUserStats = () => {\r\n    const stats = {\r\n      total: users.length,\r\n      admins: users.filter(u => u.role === 'admin').length,\r\n      trabajadores: users.filter(u => u.role === 'trabajador').length,\r\n      superadmins: users.filter(u => u.role === 'superadmin').length,\r\n      monitores: users.filter(u => u.role === 'monitor').length // AGREGAR ESTA LÍNEA\r\n    };\r\n    return stats;\r\n  };\r\n  const getVehicleStats = () => {\r\n    const stats = {\r\n      total: vehiculos.length,\r\n      disponibles: vehiculos.filter(v => v.estado === 'disponible').length,\r\n      enUso: vehiculos.filter(v => v.estado === 'en_uso').length,\r\n      mantenimiento: vehiculos.filter(v => v.estado === 'mantenimiento').length,\r\n      activos: vehiculos.filter(v => v.estado === 'disponible' || v.estado === 'en_uso').length,\r\n      fueraServicio: vehiculos.filter(v => v.estado === 'fuera_servicio').length\r\n    };\r\n    return stats;\r\n  };\r\n\r\n  // ========== FUNCIONES DEL SIDEBAR ==========\r\n  const toggleMenu = (menuId) => {\r\n    setExpandedMenus(prev =>\r\n      prev.includes(menuId)\r\n        ? prev.filter(id => id !== menuId)\r\n        : [...prev, menuId]\r\n    );\r\n  };\r\n  const handleExportUsersPDF = () => {\r\n    setMessage({ type: 'info', text: 'Generando PDF de usuarios...' });\r\n\r\n    try {\r\n      pdfExportService.exportUsersToPDF(users, currentUser);\r\n      setMessage({\r\n        type: 'success',\r\n        text: '✅ PDF de usuarios generado exitosamente'\r\n      });\r\n    } catch (error) {\r\n      console.error('Error al generar PDF:', error);\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ Error al generar el PDF'\r\n      });\r\n    }\r\n  };\r\n  // Función para exportar un usuario individual a PDF\r\n  // AGREGAR CONSOLE.LOG PARA DEBUGGING\r\n  const handleExportSingleUserPDF = (user) => {\r\n    // DEBUGGING: Ver qué datos tiene el usuario\r\n    console.log('Usuario a exportar:', user);\r\n    console.log('Datos del usuario:', {\r\n      id: user.id,\r\n      name: user.name,\r\n      email: user.email,\r\n      role: user.role,\r\n      phone: user.phone,\r\n      localidad: user.localidad,\r\n      active: user.active\r\n    });\r\n\r\n    if (!user || !user.email) {\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ Error: Datos del usuario incompletos'\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Asegurarse de pasar el objeto completo\r\n      pdfExportService.exportSingleUserToPDF(user, currentUser);\r\n\r\n      setMessage({\r\n        type: 'success',\r\n        text: `✅ PDF de ${user.name || user.email} generado`\r\n      });\r\n    } catch (error) {\r\n      console.error('Error al generar PDF:', error);\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ Error al generar el PDF'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleExportVehiclesPDF = () => {\r\n    setMessage({ type: 'info', text: 'Generando PDF de vehículos...' });\r\n\r\n    try {\r\n      pdfExportService.exportVehiclesToPDF(vehiculos, tiposVehiculo, currentUser);\r\n      setMessage({\r\n        type: 'success',\r\n        text: '✅ PDF de vehículos generado exitosamente'\r\n      });\r\n    } catch (error) {\r\n      console.error('Error al generar PDF:', error);\r\n      setMessage({\r\n        type: 'error',\r\n        text: '❌ Error al generar el PDF'\r\n      });\r\n    }\r\n  };\r\n  const getMaintenanceAlerts = () => {\r\n    const hoy = new Date();\r\n    return vehiculos.filter(v => {\r\n      if (!v.proximoMantenimiento) return false;\r\n      const proxima = new Date(v.proximoMantenimiento);\r\n      const dias = Math.ceil((proxima - hoy) / (1000 * 60 * 60 * 24));\r\n      return dias <= 7; // Alertas para mantenimientos en 7 días o menos\r\n    }).length;\r\n  };\r\n\r\n  const menuItems = useMemo(() => [\r\n    {\r\n      id: 'principal',\r\n      icon: '🏠',\r\n      title: 'Principal',\r\n      submenu: [\r\n        {\r\n          id: 'inicio',\r\n          icon: '🏛️',\r\n          title: 'Inicio',\r\n          tab: 'inicio'\r\n        },\r\n        { id: 'fleet', icon: '🚛', title: 'Panel Flota', view: 'fleet' }\r\n      ]\r\n    },\r\n    {\r\n      id: 'flota',\r\n      icon: '🚛',\r\n      title: 'Gestión de Flota',\r\n      submenu: [\r\n        {\r\n          id: 'vehicles',\r\n          icon: '🚗',\r\n          title: 'Vehículos',\r\n          tab: 'vehicles',\r\n          badge: getVehicleStats().total\r\n        },\r\n        {\r\n          id: 'workers',\r\n          icon: '👷',\r\n          title: 'Trabajadores',\r\n          tab: 'workers',\r\n          badge: trabajadores.filter(t => t.role === 'trabajador').length\r\n        },\r\n        {\r\n          id: 'admins',\r\n          icon: '👨‍💼',\r\n          title: 'Administradores',\r\n          tab: 'admins',\r\n          badge: users.filter(u => u.role === 'admin').length\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'gestion',\r\n      icon: '⚙️',\r\n      title: 'Gestión Sistema',\r\n      submenu: [\r\n        {\r\n          id: 'users',\r\n          icon: '👥',\r\n          title: 'Usuarios',\r\n          tab: 'users',\r\n          badge: getUserStats().total\r\n        },\r\n        {\r\n          id: 'vehicles',\r\n          icon: '🚛',\r\n          title: 'Vehículos',\r\n          tab: 'vehicles',\r\n          badge: getVehicleStats().total\r\n        },\r\n        {\r\n          id: 'maintenance',\r\n          icon: '🔧',\r\n          title: 'Mantenimientos',\r\n          tab: 'maintenance',\r\n          badge: getMaintenanceAlerts(),\r\n          badgeType: getMaintenanceAlerts() > 0 ? 'alert' : null\r\n        },\r\n        {\r\n          id: 'supplies',\r\n          icon: '⛽',\r\n          title: 'Suministros',\r\n          tab: 'supplies'\r\n        },\r\n\r\n        {\r\n          id: 'solicitudes',\r\n          icon: '📋',\r\n          title: 'Solicitudes',\r\n          tab: 'solicitudes',\r\n          badge: solicitudes.filter(s => s.estado === 'pendiente').length,\r\n          badgeType: 'alert'\r\n        }\r\n      ]\r\n    }\r\n  ], [getUserStats().total, getVehicleStats().total, solicitudes, trabajadores, users]);\r\n\r\n  // ========== RENDER PRINCIPAL ==========\r\n  return (\r\n    <div style={{ display: 'flex', height: '100vh', background: '#f3f4f6' }}>\r\n      {/* Modal de Tipos de Vehículos - FUERA del componente principal */}\r\n      <TiposVehiculoModal\r\n        showTipoModal={showTipoModal}\r\n        setShowTipoModal={setShowTipoModal}\r\n        editingTipo={editingTipo}\r\n        setEditingTipo={setEditingTipo}\r\n        tipoFormData={tipoFormData}\r\n        setTipoFormData={setTipoFormData}\r\n        handleSaveTipoVehiculo={handleSaveTipoVehiculo}\r\n        handleEditTipo={handleEditTipo}\r\n        handleDeleteTipoVehiculo={handleDeleteTipoVehiculo}\r\n        tiposVehiculo={tiposVehiculo}\r\n        vehiculos={vehiculos}\r\n        loading={loading}\r\n        isMobile={isMobile}\r\n      />\r\n\r\n      {/* Overlay para móvil */}\r\n      {isMobile && isSidebarOpen && (\r\n        <div\r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            background: 'rgba(0,0,0,0.5)',\r\n            zIndex: 998\r\n          }}\r\n          onClick={() => setIsSidebarOpen(false)}\r\n        />\r\n      )}\r\n\r\n      {/* SIDEBAR MEJORADO MOBILE-FIRST */}\r\n      <div style={{\r\n        width: isMobile ? '280px' : (isSidebarOpen ? '260px' : '70px'),\r\n        background: 'linear-gradient(180deg, #1a1d2e 0%, #16213e 100%)',\r\n        transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n        position: isMobile ? 'fixed' : 'relative',\r\n        height: '100vh',\r\n        zIndex: 999,\r\n        left: isMobile ? (isSidebarOpen ? '0' : '-280px') : '0',\r\n        boxShadow: isMobile ? '4px 0 20px rgba(0,0,0,0.3)' : '2px 0 10px rgba(0,0,0,0.1)',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        overflowY: 'auto',\r\n        overflowX: 'visible', // CAMBIAR de 'hidden' a 'visible' para permitir que el dropdown se muestre\r\n        overflow: 'visible' // Para permitir que el dropdown sobresalga\r\n      }}>\r\n        {/* Header del Sidebar - Mobile First */}\r\n        <div style={{\r\n          padding: isMobile ? '20px' : (isSidebarOpen ? '24px' : '20px 10px'),\r\n          borderBottom: 'none',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n          minHeight: isMobile ? '60px' : '70px',\r\n          background: 'rgba(0,0,0,0.2)'\r\n        }}>\r\n          <div style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: isMobile ? '12px' : '10px',\r\n            flex: 1\r\n          }}>\r\n            {(isSidebarOpen || !isMobile) ? (\r\n              <>\r\n                <span style={{\r\n                  fontSize: isMobile ? '28px' : '24px',\r\n                  filter: 'drop-shadow(0 2px 4px rgba(0,0,0,0.2))'\r\n                }}>\r\n                  🔐\r\n                </span>\r\n                {isSidebarOpen && (\r\n                  <div>\r\n                    <h2 style={{\r\n                      margin: 0,\r\n                      color: 'white',\r\n                      fontSize: isMobile ? '18px' : '16px',\r\n                      fontWeight: '600',\r\n                      letterSpacing: '0.5px'\r\n                    }}>\r\n                      Super Admin\r\n                    </h2>\r\n                    <p style={{\r\n                      margin: 0,\r\n                      color: 'rgba(255,255,255,0.7)',\r\n                      fontSize: isMobile ? '13px' : '12px'\r\n                    }}>\r\n                      Panel de Control\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <span style={{\r\n                fontSize: '24px',\r\n                margin: '0 auto',\r\n                filter: 'drop-shadow(0 2px 4px rgba(0,0,0,0.2))'\r\n              }}>\r\n                🔐\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          {/* Botón de toggle - Diferente para móvil y desktop */}\r\n          {isMobile ? (\r\n            <button\r\n              onClick={() => setIsSidebarOpen(false)}\r\n              style={{\r\n                background: 'rgba(255,255,255,0.1)',\r\n                border: 'none',\r\n                color: 'white',\r\n                padding: '10px',\r\n                borderRadius: '8px',\r\n                cursor: 'pointer',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                transition: 'all 0.2s',\r\n                minWidth: '40px',\r\n                height: '40px',\r\n                fontSize: '20px'\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.currentTarget.style.background = 'rgba(255,255,255,0.2)';\r\n                e.currentTarget.style.transform = 'scale(1.05)';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.currentTarget.style.background = 'rgba(255,255,255,0.1)';\r\n                e.currentTarget.style.transform = 'scale(1)';\r\n              }}\r\n            >\r\n              ✕\r\n            </button>\r\n          ) : (\r\n            isSidebarOpen && (\r\n              <button\r\n                onClick={() => setIsSidebarOpen(!isSidebarOpen)}\r\n                style={{\r\n                  background: 'rgba(255,255,255,0.1)',\r\n                  border: 'none',\r\n                  color: 'white',\r\n                  padding: '8px',\r\n                  borderRadius: '6px',\r\n                  cursor: 'pointer',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  transition: 'all 0.2s',\r\n                  minWidth: '32px',\r\n                  height: '32px'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.background = 'rgba(255,255,255,0.2)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.background = 'rgba(255,255,255,0.1)';\r\n                }}\r\n              >\r\n                ◀\r\n              </button>\r\n            )\r\n          )}\r\n        </div>\r\n\r\n        {/* Botón de expandir cuando está colapsado - Solo Desktop */}\r\n        {!isMobile && !isSidebarOpen && (\r\n          <div style={{ padding: '10px 5px' }}>\r\n            <button\r\n              onClick={() => setIsSidebarOpen(true)}\r\n              style={{\r\n                background: 'rgba(255,255,255,0.1)',\r\n                border: 'none',\r\n                color: 'white',\r\n                padding: '8px',\r\n                borderRadius: '6px',\r\n                cursor: 'pointer',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                width: '100%',\r\n                transition: 'all 0.2s'\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.currentTarget.style.background = 'rgba(255,255,255,0.2)';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.currentTarget.style.background = 'rgba(255,255,255,0.1)';\r\n              }}\r\n              title=\"Expandir menú\"\r\n            >\r\n              ▶\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* SECCIÓN DE NOTIFICACIONES - Mejorada para móvil */}\r\n        <div style={{\r\n          padding: isMobile ? '12px' : (isSidebarOpen ? '10px' : '10px 5px'),\r\n          borderBottom: '1px solid rgba(255,255,255,0.1)',\r\n          position: 'relative', // IMPORTANTE: Agregar position relative\r\n          zIndex: 1000 // Asegurar que el contenedor tenga un z-index apropiado\r\n        }}>\r\n          <div style={{\r\n            background: 'rgba(255,255,255,0.1)',\r\n            borderRadius: isMobile ? '10px' : '8px',\r\n            padding: isMobile ? '12px' : (isSidebarOpen ? '10px' : '8px'),\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: isSidebarOpen ? 'flex-start' : 'center',\r\n            gap: '10px',\r\n            cursor: 'pointer',\r\n            transition: 'all 0.2s',\r\n            minHeight: isMobile ? '48px' : '40px',\r\n            position: 'relative', // IMPORTANTE: Agregar position relative\r\n            overflow: 'visible' // Importante: permitir que el dropdown se muestre fuera\r\n          }}\r\n            onMouseEnter={(e) => {\r\n              e.currentTarget.style.background = 'rgba(255,255,255,0.2)';\r\n              if (!isMobile) { // Solo aplicar transform en desktop\r\n                e.currentTarget.style.transform = 'translateX(2px)';\r\n              }\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              e.currentTarget.style.background = 'rgba(255,255,255,0.1)';\r\n              if (!isMobile) { // Solo aplicar transform en desktop\r\n                e.currentTarget.style.transform = 'translateX(0)';\r\n              }\r\n            }}\r\n          >\r\n            <div style={{\r\n              position: 'relative',\r\n              zIndex: 1 // Asegurar que el contenedor esté por debajo del dropdown\r\n            }}></div>\r\n            <NotificationSystem\r\n              currentUser={currentUser}\r\n              isMobile={isMobile}\r\n              inSidebar={true}\r\n              isCollapsed={!isSidebarOpen}\r\n              onNotificationCountChange={setNotificationCount}\r\n              sidebarZIndex={999} // Pasar el z-index del sidebar al componente\r\n            />\r\n            {isSidebarOpen && (\r\n              <div style={{ color: 'white', pointerEvents: 'none' }}>\r\n                {notificationCount > 0 && (\r\n                  <div style={{\r\n                    fontSize: isMobile ? '12px' : '11px',\r\n                    color: 'rgba(255,255,255,0.7)'\r\n                  }}>\r\n                    {notificationCount} sin leer\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {/* Menú del Sidebar - Mejorado para móvil */}\r\n        <div style={{\r\n          flex: 1,\r\n          overflowY: 'auto',\r\n          overflowX: 'hidden',\r\n          padding: isMobile ? '12px 0' : '10px 0',\r\n          WebkitOverflowScrolling: 'touch'\r\n        }}>\r\n          {menuItems.map(menu => (\r\n            <div key={menu.id} style={{ marginBottom: isMobile ? '8px' : '5px' }}>\r\n              <button\r\n                onClick={() => toggleMenu(menu.id)}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: isMobile ? '14px 20px' : (isSidebarOpen ? '12px 20px' : '12px'),\r\n                  background: 'transparent',\r\n                  border: 'none',\r\n                  color: 'white',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: isSidebarOpen ? 'space-between' : 'center',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.2s',\r\n                  fontSize: isMobile ? '15px' : '14px',\r\n                  minHeight: isMobile ? '50px' : '44px'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.background = 'rgba(255,255,255,0.1)';\r\n                  e.currentTarget.style.transform = 'translateX(2px)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.background = 'transparent';\r\n                  e.currentTarget.style.transform = 'translateX(0)';\r\n                }}\r\n                title={!isSidebarOpen ? menu.title : ''}\r\n              >\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                  <span style={{ fontSize: isMobile ? '20px' : '18px' }}>{menu.icon}</span>\r\n                  {isSidebarOpen && (\r\n                    <span style={{ fontWeight: '500' }}>{menu.title}</span>\r\n                  )}\r\n                </div>\r\n                {isSidebarOpen && menu.submenu && (\r\n                  <span style={{\r\n                    fontSize: isMobile ? '14px' : '12px',\r\n                    transition: 'transform 0.2s',\r\n                    transform: expandedMenus.includes(menu.id) ? 'rotate(90deg)' : 'rotate(0)'\r\n                  }}>\r\n                    ▶\r\n                  </span>\r\n                )}\r\n              </button>\r\n\r\n              {/* Submenú con animación */}\r\n              {isSidebarOpen && expandedMenus.includes(menu.id) && menu.submenu && (\r\n                <div style={{\r\n                  background: 'rgba(0,0,0,0.2)',\r\n                  marginTop: '2px'\r\n                }}>\r\n                  {menu.submenu.map(item => (<button\r\n                    key={item.id}\r\n                    onClick={() => {\r\n                      if (item.view) {\r\n                        onViewChange(item.view);\r\n                      } else if (item.tab) {\r\n                        setActiveTab(item.tab);\r\n                      }\r\n                      if (isMobile) setIsSidebarOpen(false);\r\n                    }}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: isMobile ? '14px 20px 14px 20px' : '12px 20px 12px 20px',\r\n                      margin: '0 10px',\r\n                      width: 'calc(100% - 20px)',\r\n                      borderRadius: '10px',\r\n                      background: (item.tab && activeTab === item.tab) ||\r\n                        (item.view && currentView === item.view)\r\n                        ? 'rgba(59, 130, 246, 0.3)' : 'transparent',\r\n                      border: 'none',\r\n                      borderLeft: (item.tab && activeTab === item.tab) ||\r\n                        (item.view && currentView === item.view)\r\n                        ? '4px solid #3b82f6' : '4px solid transparent',\r\n                      color: 'white',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'space-between',\r\n                      cursor: 'pointer',\r\n                      transition: 'all 0.2s',\r\n                      fontSize: isMobile ? '14px' : '13px',\r\n                      textAlign: 'left',\r\n                      minHeight: isMobile ? '44px' : '38px'\r\n                    }}\r\n                    onMouseEnter={(e) => {\r\n                      if (!((item.tab && activeTab === item.tab) ||\r\n                        (item.view && currentView === item.view))) {\r\n                        e.currentTarget.style.background = 'rgba(102, 126, 234, 0.1)';\r\n                        e.currentTarget.style.transform = 'translateX(5px)';\r\n                        e.currentTarget.style.transition = 'all 0.3s ease';\r\n                      }\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      if (!((item.tab && activeTab === item.tab) ||\r\n                        (item.view && currentView === item.view))) {\r\n                        e.currentTarget.style.background = 'transparent';\r\n                        e.currentTarget.style.transform = 'translateX(0)';\r\n                      }\r\n                    }}\r\n                  >\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                      <span style={{ fontSize: isMobile ? '16px' : '14px' }}>{item.icon}</span>\r\n                      <span>{item.title}</span>\r\n                    </div>\r\n                    {item.badge > 0 && (\r\n                      <span style={{\r\n                        background: item.badgeType === 'alert' ?\r\n                          'linear-gradient(135deg, #ff6b6b, #ee5a24)' :\r\n                          'linear-gradient(135deg, #667eea, #764ba2)',\r\n                        color: 'white',\r\n                        padding: '4px 10px',\r\n                        borderRadius: '20px',\r\n                        fontSize: isMobile ? '12px' : '11px',\r\n                        fontWeight: 'bold',\r\n                        minWidth: '24px',\r\n                        textAlign: 'center',\r\n                        boxShadow: '0 2px 4px rgba(0,0,0,0.2)'\r\n                      }}>\r\n                        {item.badge}\r\n                      </span>\r\n                    )}\r\n                  </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Footer del Sidebar - Mejorado para móvil */}\r\n        <div style={{\r\n          padding: isMobile ? '20px' : (isSidebarOpen ? '24px' : '10px'),\r\n          borderTop: 'none',\r\n          background: 'transparent',\r\n          marginTop: 'auto'\r\n        }}>\r\n          {isSidebarOpen ? (\r\n            <>\r\n              <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: isMobile ? '12px' : '10px',\r\n                marginBottom: '15px',\r\n                color: 'white'\r\n              }}>\r\n                <div style={{\r\n                  width: isMobile ? '44px' : '40px',\r\n                  height: isMobile ? '44px' : '40px',\r\n                  background: 'rgba(255,255,255,0.2)',\r\n                  borderRadius: '50%',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  fontSize: isMobile ? '20px' : '18px',\r\n                  flexShrink: 0\r\n                }}>\r\n                  👤\r\n                </div>\r\n                <div style={{ flex: 1, minWidth: 0 }}>\r\n                  <div style={{\r\n                    fontSize: isMobile ? '15px' : '14px',\r\n                    fontWeight: '500',\r\n                    overflow: 'hidden',\r\n                    textOverflow: 'ellipsis',\r\n                    whiteSpace: 'nowrap'\r\n                  }}>\r\n                    {currentUser.name || 'Super Admin'}\r\n                  </div>\r\n                  <div style={{\r\n                    fontSize: isMobile ? '13px' : '12px',\r\n                    opacity: 0.7,\r\n                    overflow: 'hidden',\r\n                    textOverflow: 'ellipsis',\r\n                    whiteSpace: 'nowrap'\r\n                  }}>\r\n                    {currentUser.email}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={() => {\r\n                  onLogout();\r\n                  if (isMobile) setIsSidebarOpen(false);\r\n                }}\r\n                style={{\r\n                  width: 'calc(100% - 20px)',\r\n                  margin: '0 10px',\r\n                  padding: isMobile ? '14px' : '12px',\r\n                  background: 'linear-gradient(135deg, #667eea, #764ba2)',\r\n                  borderRadius: '10px',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: isMobile ? '8px' : '6px',\r\n                  cursor: 'pointer',\r\n                  fontSize: isMobile ? '15px' : '14px',\r\n                  fontWeight: '500',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  gap: '8px',\r\n                  transition: 'all 0.2s',\r\n                  minHeight: isMobile ? '44px' : '40px'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.background = '#dc2626';\r\n                  e.currentTarget.style.transform = 'scale(1.02)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.background = '#ef4444';\r\n                  e.currentTarget.style.transform = 'scale(1)';\r\n                }}\r\n              >\r\n                🚪 Cerrar Sesión\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <button\r\n              onClick={onLogout}\r\n              style={{\r\n                width: '40px',\r\n                height: '40px',\r\n                background: '#ef4444',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '6px',\r\n                cursor: 'pointer',\r\n                fontSize: '18px',\r\n                margin: '0 auto',\r\n                display: 'block',\r\n                transition: 'all 0.2s'\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.currentTarget.style.background = '#dc2626';\r\n                e.currentTarget.style.transform = 'scale(1.05)';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.currentTarget.style.background = '#ef4444';\r\n                e.currentTarget.style.transform = 'scale(1)';\r\n              }}\r\n              title=\"Cerrar Sesión\"\r\n            >\r\n              🚪\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Contenido Principal */}\r\n      <div style={{\r\n        flex: 1,\r\n        overflow: 'auto',\r\n        position: 'relative'\r\n      }}>\r\n        {/* Header móvil */}\r\n        {isMobile && (\r\n          <div style={{\r\n            background: 'white',\r\n            padding: '15px',\r\n            borderBottom: '1px solid #e5e7eb',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '15px'\r\n          }}>\r\n            <button\r\n              onClick={() => setIsSidebarOpen(true)}\r\n              style={{\r\n                background: '#1e293b',\r\n                color: 'white',\r\n                border: 'none',\r\n                padding: '8px',\r\n                borderRadius: '6px',\r\n                cursor: 'pointer',\r\n                fontSize: '20px'\r\n              }}\r\n            >\r\n              ☰\r\n            </button>\r\n            <h1 style={{\r\n              margin: 0,\r\n              fontSize: '18px',\r\n              color: '#1e293b'\r\n            }}>\r\n              Panel de Control\r\n            </h1>\r\n          </div>\r\n        )}\r\n\r\n        <div style={{ padding: isMobile ? '15px' : '30px' }}>\r\n          {/* MOSTRAR WELCOME SCREEN O CONTENIDO NORMAL */}\r\n          {false && showWelcomeScreen ? (\r\n            <WelcomeScreen\r\n              currentUser={currentUser}\r\n              onClose={() => setShowWelcomeScreen(false)}\r\n              stats={{\r\n                totalUsers: users.length,\r\n                totalVehicles: vehiculos.length,\r\n                pendingSolicitudes: solicitudes.filter(s => s.estado === 'pendiente').length\r\n              }}\r\n            />\r\n          ) : (\r\n            <>\r\n              {/* Mensajes */}\r\n              {message.text && (\r\n                <div style={{\r\n                  padding: '12px',\r\n                  borderRadius: '8px',\r\n                  marginBottom: '20px',\r\n                  background: message.type === 'success' ? '#dcfce7' : '#fee2e2',\r\n                  border: `1px solid ${message.type === 'success' ? '#86efac' : '#fecaca'}`,\r\n                  color: message.type === 'success' ? '#166534' : '#991b1b'\r\n                }}>\r\n                  {message.text}\r\n                </div>\r\n              )}\r\n\r\n              {/* Mensaje para crear zona desde solicitud */}\r\n              {solicitudParaZona && (\r\n                <div style={{\r\n                  padding: '15px',\r\n                  borderRadius: '8px',\r\n                  marginBottom: '20px',\r\n                  background: '#dbeafe',\r\n                  border: '2px solid #3b82f6',\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  alignItems: 'center',\r\n                  flexWrap: 'wrap',\r\n                  gap: '10px'\r\n                }}>\r\n                  <div>\r\n                    <strong style={{ color: '#1e40af' }}>\r\n                      ✅ Solicitud aprobada: {solicitudParaZona.asunto}\r\n                    </strong>\r\n                    <p style={{ margin: '5px 0 0 0', fontSize: '14px', color: '#1e3a8a' }}>\r\n                      Ahora puedes crear una zona de trabajo basada en esta solicitud\r\n                    </p>\r\n                  </div>\r\n                  <div style={{ display: 'flex', gap: '10px' }}>\r\n                    <button\r\n                      onClick={crearZonaDesdeSolicitud}\r\n                      style={{\r\n                        padding: '10px 20px',\r\n                        background: '#22c55e',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '6px',\r\n                        cursor: 'pointer',\r\n                        fontSize: '14px',\r\n                        fontWeight: '600'\r\n                      }}\r\n                    >\r\n                      🗺️ Crear Zona\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setSolicitudParaZona(null)}\r\n                      style={{\r\n                        padding: '10px 20px',\r\n                        background: '#6b7280',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '6px',\r\n                        cursor: 'pointer',\r\n                        fontSize: '14px'\r\n                      }}\r\n                    >\r\n                      Cancelar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {/* CONTENIDO DE INICIO */}\r\n              {activeTab === 'inicio' && (\r\n                <div style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  minHeight: 'calc(100vh - 200px)',\r\n                  padding: '40px 20px'\r\n                }}>\r\n                  <div style={{\r\n                    textAlign: 'center',\r\n                    animation: 'fadeIn 0.5s ease-in'\r\n                  }}>\r\n                    <style>\r\n                      {`\r\n          @keyframes fadeIn {\r\n            from { opacity: 0; transform: scale(0.95); }\r\n            to { opacity: 1; transform: scale(1); }\r\n          }\r\n        `}\r\n                    </style>\r\n\r\n                    {/* Logo de la Municipalidad */}\r\n                    <img\r\n                      src=\"/logoQuillon.jpg\" // REEMPLAZA CON TU LOGO\r\n                      alt=\"Municipalidad de Quillón\"\r\n                      style={{\r\n                        width: '300px',\r\n                        height: 'auto',\r\n                        objectFit: 'contain',\r\n                        marginBottom: '30px',\r\n                        filter: 'drop-shadow(0 10px 30px rgba(0,0,0,0.1))'\r\n                      }}\r\n                      onError={(e) => {\r\n                        // Si no encuentra el logo, muestra un placeholder\r\n                        e.target.style.display = 'none';\r\n                        e.target.parentElement.innerHTML += `\r\n            <div style=\"\r\n              width: 300px;\r\n              height: 300px;\r\n              margin: 0 auto 30px;\r\n              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n              border-radius: 20px;\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: center;\r\n              box-shadow: 0 20px 40px rgba(102, 126, 234, 0.2);\r\n            \">\r\n              <span style=\"font-size: 120px; color: white;\">🏛️</span>\r\n            </div>\r\n          `;\r\n                      }}\r\n                    />\r\n                    <h1 style={{\r\n                      margin: '0 0 20px 0',\r\n                      fontSize: '48px',\r\n                      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                      WebkitBackgroundClip: 'text',\r\n                      WebkitTextFillColor: 'transparent',\r\n                      fontWeight: '700'\r\n                    }}>\r\n                      Panel Super Admin\r\n                    </h1>\r\n                    <p style={{\r\n                      fontSize: '20px',\r\n                      color: '#64748b',\r\n                      margin: 0\r\n                    }}>\r\n                      Municipalidad de Quillón\r\n                    </p>\r\n\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {/* CONTENIDO DE USUARIOS */}\r\n              {activeTab === 'users' && (\r\n                <>\r\n                  <h1 style={{\r\n                    margin: '0 0 30px 0',\r\n                    color: '#1e293b',\r\n                    fontSize: '28px',\r\n                    fontWeight: '600'\r\n                  }}>\r\n                    👥 Gestión de Usuarios\r\n                  </h1>\r\n\r\n                  {/* Estadísticas de usuarios */}\r\n                  <div style={{\r\n                    display: 'grid',\r\n                    gridTemplateColumns: `repeat(auto-fit, minmax(${isMobile ? '150px' : '200px'}, 1fr))`,\r\n                    gap: '20px',\r\n                    marginBottom: '30px'\r\n                  }}>\r\n                    <div style={{\r\n                      background: 'white',\r\n                      padding: '20px',\r\n                      borderRadius: '12px',\r\n                      boxShadow: '0 2px 8px rgba(0,0,0,0.05)',\r\n                      borderLeft: '4px solid #667eea'\r\n                    }}>\r\n                      <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#1f2937' }}>\r\n                        {getUserStats().total}\r\n                      </div>\r\n                      <div style={{ color: '#6b7280', fontSize: '14px' }}>Total Usuarios</div>\r\n                    </div>\r\n\r\n                    <div style={{\r\n                      background: 'white',\r\n                      padding: '20px',\r\n                      borderRadius: '12px',\r\n                      boxShadow: '0 2px 8px rgba(0,0,0,0.05)',\r\n                      borderLeft: '4px solid #3b82f6'\r\n                    }}>\r\n                      <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#1f2937' }}>\r\n                        {getUserStats().admins}\r\n                      </div>\r\n                      <div style={{ color: '#6b7280', fontSize: '14px' }}>Administradores</div>\r\n                    </div>\r\n\r\n                    <div style={{\r\n                      background: 'white',\r\n                      padding: '20px',\r\n                      borderRadius: '12px',\r\n                      boxShadow: '0 2px 8px rgba(0,0,0,0.05)',\r\n                      borderLeft: '4px solid #22c55e'\r\n                    }}>\r\n                      <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#1f2937' }}>\r\n                        {getUserStats().trabajadores}\r\n                      </div>\r\n                      <div style={{ color: '#6b7280', fontSize: '14px' }}>Trabajadores</div>\r\n                    </div>\r\n\r\n                    <div style={{\r\n                      background: 'white',\r\n                      padding: '20px',\r\n                      borderRadius: '12px',\r\n                      boxShadow: '0 2px 8px rgba(0,0,0,0.05)',\r\n                      borderLeft: '4px solid #6b7280'\r\n                    }}>\r\n                      <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#1f2937' }}>\r\n                        {getUserStats().monitores}\r\n                      </div>\r\n                      <div style={{ color: '#6b7280', fontSize: '14px' }}>Monitores</div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* SECCIÓN DE BOTONES CON EXPORTACIÓN PDF */}\r\n                  <div style={{\r\n                    display: 'flex',\r\n                    gap: '10px',\r\n                    flexWrap: 'wrap',\r\n                    marginBottom: '20px'\r\n                  }}>\r\n                    {/* Botón crear usuario */}\r\n                    <button\r\n                      onClick={() => {\r\n                        setShowCreateForm(!showCreateForm);\r\n                        setShowEditUserForm(false);\r\n                        setEditingUser(null);\r\n                        setFormData({\r\n                          rut: '',\r\n                          email: '',\r\n                          password: '',\r\n                          name: '',\r\n                          role: 'trabajador',\r\n                          phone: '',\r\n                          vehicleId: '',\r\n                          localidad: '',\r\n                          recoveryPin: '',\r\n                          licenciaConducir: '',\r\n                          fechaVencimientoLicencia: '' // AGREGAR ESTOS DOS CAMPOS\r\n                        });\r\n                      }}\r\n                      style={{\r\n                        padding: '12px 24px',\r\n                        background: showCreateForm\r\n                          ? 'linear-gradient(135deg, #6b7280 0%, #4b5563 100%)'\r\n                          : 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '8px',\r\n                        fontSize: '16px',\r\n                        fontWeight: '500',\r\n                        cursor: 'pointer',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '8px',\r\n                        transition: 'all 0.3s ease',\r\n                        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                      }}\r\n                      onMouseEnter={(e) => {\r\n                        e.currentTarget.style.transform = 'translateY(-2px)';\r\n                        e.currentTarget.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        e.currentTarget.style.transform = 'translateY(0)';\r\n                        e.currentTarget.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';\r\n                      }}\r\n                    >\r\n                      {showCreateForm ? '✖ Cancelar' : '➕ Crear Nuevo Usuario'}\r\n                    </button>\r\n\r\n                    {/* NUEVO BOTÓN DE EXPORTACIÓN A PDF */}\r\n                    <button\r\n                      onClick={handleExportUsersPDF}\r\n                      style={{\r\n                        padding: '12px 24px',\r\n                        background: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '8px',\r\n                        fontSize: '16px',\r\n                        fontWeight: '500',\r\n                        cursor: 'pointer',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '8px',\r\n                        transition: 'all 0.3s ease',\r\n                        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                      }}\r\n                      onMouseEnter={(e) => {\r\n                        e.currentTarget.style.transform = 'translateY(-2px)';\r\n                        e.currentTarget.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        e.currentTarget.style.transform = 'translateY(0)';\r\n                        e.currentTarget.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';\r\n                      }}\r\n                    >\r\n                      📄 Exportar a PDF\r\n                    </button>\r\n\r\n                    {/* OPCIONAL: Botón de exportación a Excel */}\r\n                    <button\r\n                      onClick={() => {\r\n                        // Aquí puedes agregar exportación a Excel en el futuro\r\n                        setMessage({\r\n                          type: 'info',\r\n                          text: '📊 Función de exportación a Excel próximamente disponible'\r\n                        });\r\n                      }}\r\n                      style={{\r\n                        padding: '12px 24px',\r\n                        background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '8px',\r\n                        fontSize: '16px',\r\n                        fontWeight: '500',\r\n                        cursor: 'pointer',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '8px',\r\n                        transition: 'all 0.3s ease',\r\n                        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                      }}\r\n                      onMouseEnter={(e) => {\r\n                        e.currentTarget.style.transform = 'translateY(-2px)';\r\n                        e.currentTarget.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        e.currentTarget.style.transform = 'translateY(0)';\r\n                        e.currentTarget.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';\r\n                      }}\r\n                    >\r\n                      📊 Exportar a Excel\r\n                    </button>\r\n\r\n                    {/* Contador de registros */}\r\n                    <div style={{\r\n                      padding: '12px 24px',\r\n                      background: 'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',\r\n                      borderRadius: '8px',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '8px',\r\n                      marginLeft: 'auto'\r\n                    }}>\r\n                      <span style={{ fontSize: '14px', color: '#6b7280' }}>\r\n                        Total: <strong style={{ color: '#1f2937' }}>{users.length}</strong> usuarios\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Formulario de creación de usuario */}\r\n                  {showCreateForm && !showEditUserForm && (\r\n                    <div style={{\r\n                      background: 'white',\r\n                      padding: '30px',\r\n                      borderRadius: '12px',\r\n                      boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n                      marginBottom: '30px'\r\n                    }}>\r\n                      <h2 style={{ margin: '0 0 20px 0', color: '#1f2937', fontSize: '20px' }}>\r\n                        Crear Nuevo Usuario\r\n                      </h2>\r\n\r\n                      <form onSubmit={handleCreateUser}>\r\n                        <div style={{\r\n                          display: 'grid',\r\n                          gridTemplateColumns: `repeat(auto-fit, minmax(${isMobile ? '100%' : '250px'}, 1fr))`,\r\n                          gap: '20px'\r\n                        }}>\r\n                          {/* RUT */}\r\n                          <div>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              RUT *\r\n                            </label>\r\n                            <input\r\n                              type=\"text\"\r\n                              required\r\n                              value={formData.rut}\r\n                              onChange={(e) => {\r\n                                const rutFormateado = formatearRUT(e.target.value);\r\n                                setFormData({ ...formData, rut: rutFormateado });\r\n                              }}\r\n                              onBlur={(e) => {\r\n                                if (formData.rut && !validarRUT(formData.rut)) {\r\n                                  setMessage({ type: 'error', text: 'RUT inválido. Verifique el dígito verificador.' });\r\n                                } else {\r\n                                  setMessage({ type: '', text: '' });\r\n                                }\r\n                              }}\r\n                              placeholder=\"12.345.678-9\"\r\n                              maxLength=\"12\"\r\n                              style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                              }}\r\n                            />\r\n                          </div>\r\n\r\n                          {/* Nombre Completo */}\r\n                          <div>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              Nombre Completo *\r\n                            </label>\r\n                            <input\r\n                              type=\"text\"\r\n                              required\r\n                              value={formData.name}\r\n                              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                              style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                              }}\r\n                            />\r\n                          </div>\r\n\r\n                          {/* Correo Electrónico */}\r\n                          <div>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              Correo Electrónico *\r\n                            </label>\r\n                            <input\r\n                              type=\"email\"\r\n                              required\r\n                              value={formData.email}\r\n                              onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n                              style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                              }}\r\n                            />\r\n                          </div>\r\n\r\n                          {/* PIN de Recuperación */}\r\n                          <div>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              PIN de Recuperación (4 dígitos) *\r\n                            </label>\r\n                            <input\r\n                              type=\"text\"\r\n                              required\r\n                              maxLength=\"4\"\r\n                              pattern=\"[0-9]{4}\"\r\n                              value={formData.recoveryPin}\r\n                              onChange={(e) => {\r\n                                const value = e.target.value.replace(/\\D/g, '');\r\n                                setFormData({ ...formData, recoveryPin: value });\r\n                              }}\r\n                              placeholder=\"Ej: 1234\"\r\n                              style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                              }}\r\n                            />\r\n                            <small style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                              Este PIN se usará para recuperar la contraseña\r\n                            </small>\r\n                          </div>\r\n\r\n                          {/* SECCIÓN DE LICENCIAS MÚLTIPLES */}\r\n                          <div style={{ gridColumn: isMobile ? 'span 1' : 'span 2' }}>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              Licencias de Conducir\r\n                              <span style={{\r\n                                marginLeft: '8px',\r\n                                fontSize: '12px',\r\n                                color: '#6b7280'\r\n                              }}>\r\n                                (Puede seleccionar múltiples)\r\n                              </span>\r\n                            </label>\r\n\r\n                            <div style={{\r\n                              display: 'flex',\r\n                              flexWrap: 'wrap',\r\n                              gap: '10px',\r\n                              padding: '10px',\r\n                              border: '1px solid #d1d5db',\r\n                              borderRadius: '6px',\r\n                              background: '#f9fafb'\r\n                            }}>\r\n                              {['B', 'C', 'A1', 'A2', 'A3', 'A4', 'A5', 'D', 'E', 'F'].map(licencia => (\r\n                                <label key={licencia} style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  gap: '5px',\r\n                                  padding: '5px 10px',\r\n                                  background: formData.licenciasConducir?.includes(licencia) ? '#3b82f6' : 'white',\r\n                                  color: formData.licenciasConducir?.includes(licencia) ? 'white' : '#374151',\r\n                                  borderRadius: '4px',\r\n                                  cursor: 'pointer',\r\n                                  border: '1px solid #d1d5db',\r\n                                  transition: 'all 0.2s'\r\n                                }}>\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    value={licencia}\r\n                                    checked={formData.licenciasConducir?.includes(licencia) || false}\r\n                                    onChange={(e) => {\r\n                                      const newLicencias = e.target.checked\r\n                                        ? [...(formData.licenciasConducir || []), licencia]\r\n                                        : formData.licenciasConducir.filter(l => l !== licencia);\r\n                                      setFormData({ ...formData, licenciasConducir: newLicencias });\r\n                                    }}\r\n                                    style={{ display: 'none' }}\r\n                                  />\r\n                                  <span style={{ fontWeight: '500' }}>\r\n                                    Clase {licencia}\r\n                                  </span>\r\n                                </label>\r\n                              ))}\r\n                            </div>\r\n                            <small style={{ color: '#6b7280', fontSize: '11px', display: 'block', marginTop: '5px' }}>\r\n                              B: Particulares | C: Motos | A1-A5: Profesionales | D: Maquinaria | E: Tracción animal | F: Discapacidad\r\n                            </small>\r\n                          </div>\r\n\r\n                          {/* FECHA DE VENCIMIENTO DE LICENCIA */}\r\n                          {formData.licenciasConducir && formData.licenciasConducir.length > 0 && (\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '8px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Fecha Vencimiento Licencia\r\n                                <span style={{\r\n                                  marginLeft: '8px',\r\n                                  fontSize: '12px',\r\n                                  color: '#6b7280'\r\n                                }}>\r\n                                  (Se enviará alerta 2 semanas antes)\r\n                                </span>\r\n                              </label>\r\n                              <input\r\n                                type=\"date\"\r\n                                value={formData.fechaVencimientoLicencia}\r\n                                onChange={(e) => {\r\n                                  setFormData({ ...formData, fechaVencimientoLicencia: e.target.value });\r\n\r\n                                  // Verificar si está próxima a vencer\r\n                                  const fechaVencimiento = new Date(e.target.value);\r\n                                  const hoy = new Date();\r\n                                  const diasRestantes = Math.ceil((fechaVencimiento - hoy) / (1000 * 60 * 60 * 24));\r\n\r\n                                  if (diasRestantes <= 14 && diasRestantes >= 0) {\r\n                                    setMessage({\r\n                                      type: 'warning',\r\n                                      text: `⚠️ La licencia vence en ${diasRestantes} días`\r\n                                    });\r\n                                  } else if (diasRestantes < 0) {\r\n                                    setMessage({\r\n                                      type: 'error',\r\n                                      text: '❌ La licencia está vencida'\r\n                                    });\r\n                                  }\r\n                                }}\r\n                                min={new Date().toISOString().split('T')[0]}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* OBSERVACIONES DE LICENCIA - NUEVO */}\r\n                          {formData.licenciasConducir && formData.licenciasConducir.length > 0 && (\r\n                            <div style={{ gridColumn: isMobile ? 'span 1' : 'span 2' }}>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '8px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Observaciones/Restricciones de Licencia\r\n                                <span style={{\r\n                                  marginLeft: '8px',\r\n                                  fontSize: '12px',\r\n                                  color: '#6b7280'\r\n                                }}>\r\n                                  (Lentes, audífonos, restricciones médicas, etc.)\r\n                                </span>\r\n                              </label>\r\n                              <textarea\r\n                                value={formData.observacionesLicencia}\r\n                                onChange={(e) => setFormData({ ...formData, observacionesLicencia: e.target.value })}\r\n                                placeholder=\"Ej: Debe usar lentes, Restricción horaria nocturna, Solo vehículos automáticos, etc.\"\r\n                                rows={3}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px',\r\n                                  resize: 'none',\r\n                                  overflow: 'auto',\r\n                                  minHeight: '80px',\r\n                                  maxHeight: '200px'\r\n                                }}\r\n                              />\r\n                              <div style={{\r\n                                marginTop: '10px',\r\n                                display: 'flex',\r\n                                flexWrap: 'wrap',\r\n                                gap: '10px'\r\n                              }}>\r\n                                {/* Botones rápidos para restricciones comunes */}\r\n                                <span style={{ fontSize: '12px', color: '#6b7280' }}>Agregar rápido:</span>\r\n                                {['Usa lentes 👓', 'Usa audífonos 🦻', 'Solo automático 🚗', 'Sin nocturno 🌙'].map(restriccion => (\r\n                                  <button\r\n                                    key={restriccion}\r\n                                    type=\"button\"\r\n                                    onClick={() => {\r\n                                      const currentObs = formData.observacionesLicencia || '';\r\n                                      const newObs = currentObs ? `${currentObs}, ${restriccion}` : restriccion;\r\n                                      setFormData({ ...formData, observacionesLicencia: newObs });\r\n                                    }}\r\n                                    style={{\r\n                                      padding: '4px 8px',\r\n                                      background: '#f3f4f6',\r\n                                      border: '1px solid #d1d5db',\r\n                                      borderRadius: '4px',\r\n                                      fontSize: '12px',\r\n                                      cursor: 'pointer'\r\n                                    }}\r\n                                  >\r\n                                    {restriccion}\r\n                                  </button>\r\n                                ))}\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                          {/* FOTO DE PERFIL - NUEVO */}\r\n                          <div style={{ gridColumn: isMobile ? 'span 1' : 'span 2' }}>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              📸 Foto de Perfil\r\n                            </label>\r\n\r\n                            {formData.fotoPerfil?.url ? (\r\n                              <div style={{\r\n                                display: 'flex',\r\n                                gap: '15px',\r\n                                alignItems: 'center',\r\n                                padding: '15px',\r\n                                background: '#f9fafb',\r\n                                borderRadius: '8px'\r\n                              }}>\r\n                                <img\r\n                                  src={formData.fotoPerfil.url}\r\n                                  alt=\"Foto de perfil\"\r\n                                  style={{\r\n                                    width: '80px',\r\n                                    height: '80px',\r\n                                    borderRadius: '50%',\r\n                                    objectFit: 'cover'\r\n                                  }}\r\n                                />\r\n                                <div style={{ flex: 1 }}>\r\n                                  <p style={{ margin: '0 0 10px 0', fontSize: '13px', color: '#374151' }}>\r\n                                    Foto cargada exitosamente\r\n                                  </p>\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setFormData(prev => ({\r\n                                      ...prev,\r\n                                      fotoPerfil: { url: '', publicId: '', fecha: '' }\r\n                                    }))}\r\n                                    style={{\r\n                                      padding: '6px 12px',\r\n                                      background: '#ef4444',\r\n                                      color: 'white',\r\n                                      border: 'none',\r\n                                      borderRadius: '4px',\r\n                                      fontSize: '12px',\r\n                                      cursor: 'pointer'\r\n                                    }}\r\n                                  >\r\n                                    🗑️ Eliminar\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            ) : (\r\n                              <div>\r\n                                <input\r\n                                  type=\"file\"\r\n                                  id=\"fotoPerfil\"\r\n                                  accept=\".jpg,.jpeg,.png\"\r\n                                  onChange={(e) => handleUserFileUpload(e.target.files[0], 'fotoPerfil', editingUser?.id)}\r\n                                  style={{ display: 'none' }}\r\n                                />\r\n                                <label\r\n                                  htmlFor=\"fotoPerfil\"\r\n                                  style={{\r\n                                    display: 'block',\r\n                                    padding: '30px',\r\n                                    background: '#f9fafb',\r\n                                    border: '2px dashed #d1d5db',\r\n                                    borderRadius: '8px',\r\n                                    textAlign: 'center',\r\n                                    cursor: 'pointer'\r\n                                  }}\r\n                                >\r\n                                  <div style={{ fontSize: '40px', marginBottom: '10px' }}>👤</div>\r\n                                  <div style={{ color: '#374151' }}>Click para subir foto</div>\r\n                                  <div style={{ fontSize: '12px', color: '#6b7280', marginTop: '5px' }}>\r\n                                    JPG o PNG - Máx. 10MB\r\n                                  </div>\r\n                                </label>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n\r\n                          {/* ESTADO DE BLOQUEO - NUEVO */}\r\n                          {formData.licenciasConducir && formData.licenciasConducir.length > 0 && (\r\n                            <div style={{ gridColumn: isMobile ? 'span 1' : 'span 2' }}>\r\n                              <div style={{\r\n                                padding: '15px',\r\n                                background: formData.licenciaBloqueada ? '#fee2e2' : '#f9fafb',\r\n                                borderRadius: '8px',\r\n                                border: formData.licenciaBloqueada ? '2px solid #ef4444' : '1px solid #e5e7eb'\r\n                              }}>\r\n                                <div style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  justifyContent: 'space-between',\r\n                                  marginBottom: formData.licenciaBloqueada ? '10px' : '0'\r\n                                }}>\r\n                                  <label style={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '10px',\r\n                                    fontSize: '14px',\r\n                                    fontWeight: '500',\r\n                                    color: formData.licenciaBloqueada ? '#991b1b' : '#374151'\r\n                                  }}>\r\n                                    <input\r\n                                      type=\"checkbox\"\r\n                                      checked={formData.licenciaBloqueada}\r\n                                      onChange={(e) => {\r\n                                        setFormData({\r\n                                          ...formData,\r\n                                          licenciaBloqueada: e.target.checked,\r\n                                          fechaBloqueo: e.target.checked ? new Date().toISOString() : ''\r\n                                        });\r\n                                      }}\r\n                                      style={{\r\n                                        width: '20px',\r\n                                        height: '20px',\r\n                                        cursor: 'pointer'\r\n                                      }}\r\n                                    />\r\n                                    {formData.licenciaBloqueada ? '🚫 LICENCIA BLOQUEADA' : '✅ Licencia Habilitada'}\r\n                                  </label>\r\n                                  {formData.licenciaBloqueada && (\r\n                                    <span style={{\r\n                                      fontSize: '12px',\r\n                                      color: '#991b1b',\r\n                                      fontWeight: '600'\r\n                                    }}>\r\n                                      ⚠️ NO PUEDE CONDUCIR\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n\r\n                                {formData.licenciaBloqueada && (\r\n                                  <div>\r\n                                    <label style={{\r\n                                      display: 'block',\r\n                                      marginBottom: '6px',\r\n                                      fontSize: '13px',\r\n                                      fontWeight: '500',\r\n                                      color: '#991b1b'\r\n                                    }}>\r\n                                      Motivo del bloqueo *\r\n                                    </label>\r\n                                    <select\r\n                                      value={formData.motivoBloqueo}\r\n                                      onChange={(e) => setFormData({ ...formData, motivoBloqueo: e.target.value })}\r\n                                      required={formData.licenciaBloqueada}\r\n                                      style={{\r\n                                        width: '100%',\r\n                                        padding: '8px',\r\n                                        border: '1px solid #ef4444',\r\n                                        borderRadius: '4px',\r\n                                        fontSize: '13px',\r\n                                        marginBottom: '10px'\r\n                                      }}\r\n                                    >\r\n                                      <option value=\"\">-- Seleccionar motivo --</option>\r\n                                      <option value=\"parte_pendiente\">Parte/Multa pendiente</option>\r\n                                      <option value=\"suspension_judicial\">Suspensión judicial</option>\r\n                                      <option value=\"vencida\">Licencia vencida</option>\r\n                                      <option value=\"examen_medico\">Pendiente examen médico</option>\r\n                                      <option value=\"incapacidad_temporal\">Incapacidad temporal</option>\r\n                                      <option value=\"investigacion\">Bajo investigación</option>\r\n                                      <option value=\"otro\">Otro motivo</option>\r\n                                    </select>\r\n\r\n                                    {formData.motivoBloqueo === 'otro' && (\r\n                                      <textarea\r\n                                        placeholder=\"Especifique el motivo del bloqueo...\"\r\n                                        required\r\n                                        rows={2}\r\n                                        style={{\r\n                                          width: '100%',\r\n                                          padding: '8px',\r\n                                          border: '1px solid #ef4444',\r\n                                          borderRadius: '4px',\r\n                                          fontSize: '13px'\r\n                                        }}\r\n                                      />\r\n                                    )}\r\n\r\n                                    <div style={{\r\n                                      marginTop: '10px',\r\n                                      padding: '10px',\r\n                                      background: '#fef2f2',\r\n                                      borderRadius: '4px',\r\n                                      fontSize: '12px',\r\n                                      color: '#7f1d1d'\r\n                                    }}>\r\n                                      <strong>⚠️ Importante:</strong> Al bloquear la licencia, el usuario no podrá ser asignado a ningún vehículo hasta que se desbloquee.\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Contraseña */}\r\n                          <div>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              Contraseña *\r\n                            </label>\r\n                            <input\r\n                              type=\"password\"\r\n                              required\r\n                              minLength=\"6\"\r\n                              value={formData.password}\r\n                              onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n                              placeholder=\"Mínimo 6 caracteres\"\r\n                              style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                              }}\r\n                            />\r\n                          </div>\r\n\r\n                          {/* Rol */}\r\n                          <div>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              Rol *\r\n                            </label>\r\n                            <select\r\n                              required\r\n                              value={formData.role}\r\n                              onChange={(e) => setFormData({ ...formData, role: e.target.value })}\r\n                              style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                              }}\r\n                            >\r\n                              <option value=\"trabajador\">👷 Trabajador</option>\r\n                              <option value=\"admin\">👨‍💼 Administrador</option>\r\n                              <option value=\"superadmin\">🔐 Super Admin</option>\r\n                              <option value=\"monitor\">📊 Monitor</option>\r\n                            </select>\r\n                          </div>\r\n\r\n                          {/* Teléfono */}\r\n                          <div>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              Teléfono\r\n                            </label>\r\n                            <input\r\n                              type=\"tel\"\r\n                              value={formData.phone}\r\n                              onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\r\n                              placeholder=\"+56 9 XXXX XXXX\"\r\n                              style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                              }}\r\n                            />\r\n                          </div>\r\n\r\n                          {/* Localidad (solo para Junta de Vecinos) */}\r\n                          {formData.role === 'junta_vecinos' && (\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '8px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Localidad/Sector *\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                required={formData.role === 'junta_vecinos'}\r\n                                value={formData.localidad || ''}\r\n                                onChange={(e) => setFormData({ ...formData, localidad: e.target.value })}\r\n                                placeholder=\"Ej: Sector Norte, Villa Los Aromos\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n\r\n                        <button\r\n                          type=\"submit\"\r\n                          disabled={loading || (formData.licenciaBloqueada && !formData.motivoBloqueo)}\r\n                          style={{\r\n                            marginTop: '20px',\r\n                            padding: '12px 24px',\r\n                            background: loading || (formData.licenciaBloqueada && !formData.motivoBloqueo) ? '#9ca3af' : '#22c55e',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '6px',\r\n                            fontSize: '16px',\r\n                            fontWeight: '500',\r\n                            cursor: loading || (formData.licenciaBloqueada && !formData.motivoBloqueo) ? 'not-allowed' : 'pointer'\r\n                          }}\r\n                        >\r\n                          {loading ? 'Creando...' : '✅ Crear Usuario'}\r\n                        </button>\r\n                      </form>\r\n                    </div>\r\n                  )}\r\n\r\n\r\n                  {/* Formulario de edición de usuario ACTUALIZADO */}\r\n                  {showEditUserForm && editingUser && (\r\n                    <div style={{\r\n                      background: 'white',\r\n                      padding: '30px',\r\n                      borderRadius: '12px',\r\n                      boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n                      marginBottom: '30px'\r\n                    }}>\r\n                      <h2 style={{ margin: '0 0 20px 0', color: '#1f2937', fontSize: '20px' }}>\r\n                        ✏️ Editar Usuario\r\n                      </h2>\r\n\r\n                      <form onSubmit={handleUpdateUser}>\r\n                        <div style={{\r\n                          display: 'grid',\r\n                          gridTemplateColumns: `repeat(auto-fit, minmax(${isMobile ? '100%' : '250px'}, 1fr))`,\r\n                          gap: '20px'\r\n                        }}>\r\n                          {/* RUT */}\r\n                          <div>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              RUT *\r\n                            </label>\r\n                            <input\r\n                              type=\"text\"\r\n                              required\r\n                              value={formData.rut}\r\n                              onChange={(e) => {\r\n                                const rutFormateado = formatearRUT(e.target.value);\r\n                                setFormData({ ...formData, rut: rutFormateado });\r\n                              }}\r\n                              onBlur={(e) => {\r\n                                if (formData.rut && !validarRUT(formData.rut)) {\r\n                                  setMessage({ type: 'error', text: 'RUT inválido. Verifique el dígito verificador.' });\r\n                                } else {\r\n                                  setMessage({ type: '', text: '' });\r\n                                }\r\n                              }}\r\n                              placeholder=\"12.345.678-9\"\r\n                              maxLength=\"12\"\r\n                              style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                              }}\r\n                            />\r\n                          </div>\r\n\r\n                          {/* Nombre Completo */}\r\n                          <div>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              Nombre Completo *\r\n                            </label>\r\n                            <input\r\n                              type=\"text\"\r\n                              required\r\n                              value={formData.name}\r\n                              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                              style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                              }}\r\n                            />\r\n                          </div>\r\n\r\n                          {/* Correo Electrónico */}\r\n                          <div>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              Correo Electrónico\r\n                            </label>\r\n                            <input\r\n                              type=\"email\"\r\n                              value={formData.email}\r\n                              disabled\r\n                              style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px',\r\n                                background: '#f3f4f6',\r\n                                cursor: 'not-allowed'\r\n                              }}\r\n                            />\r\n                            <small style={{ color: '#6b7280', fontSize: '12px' }}>\r\n                              El email no se puede modificar\r\n                            </small>\r\n                          </div>\r\n\r\n                          {/* PIN de Recuperación */}\r\n                          <div>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              Nuevo PIN de Recuperación (Opcional)\r\n                            </label>\r\n                            <input\r\n                              type=\"text\"\r\n                              maxLength=\"4\"\r\n                              pattern=\"[0-9]{4}\"\r\n                              value={formData.recoveryPin}\r\n                              onChange={(e) => {\r\n                                const value = e.target.value.replace(/\\D/g, '');\r\n                                setFormData({ ...formData, recoveryPin: value });\r\n                              }}\r\n                              placeholder=\"Dejar vacío para mantener el actual\"\r\n                              style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                              }}\r\n                            />\r\n                            <small style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                              Solo ingrese si desea cambiar el PIN actual\r\n                            </small>\r\n                          </div>\r\n\r\n                          {/* SECCIÓN DE LICENCIAS MÚLTIPLES - AGREGADO */}\r\n                          <div style={{ gridColumn: isMobile ? 'span 1' : 'span 2' }}>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              Licencias de Conducir\r\n                              <span style={{\r\n                                marginLeft: '8px',\r\n                                fontSize: '12px',\r\n                                color: '#6b7280'\r\n                              }}>\r\n                                (Puede seleccionar múltiples)\r\n                              </span>\r\n                            </label>\r\n\r\n                            <div style={{\r\n                              display: 'flex',\r\n                              flexWrap: 'wrap',\r\n                              gap: '10px',\r\n                              padding: '10px',\r\n                              border: '1px solid #d1d5db',\r\n                              borderRadius: '6px',\r\n                              background: '#f9fafb'\r\n                            }}>\r\n                              {['B', 'C', 'A1', 'A2', 'A3', 'A4', 'A5', 'D', 'E', 'F'].map(licencia => (\r\n                                <label key={licencia} style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  gap: '5px',\r\n                                  padding: '5px 10px',\r\n                                  background: formData.licenciasConducir?.includes(licencia) ? '#3b82f6' : 'white',\r\n                                  color: formData.licenciasConducir?.includes(licencia) ? 'white' : '#374151',\r\n                                  borderRadius: '4px',\r\n                                  cursor: 'pointer',\r\n                                  border: '1px solid #d1d5db',\r\n                                  transition: 'all 0.2s'\r\n                                }}>\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    value={licencia}\r\n                                    checked={formData.licenciasConducir?.includes(licencia) || false}\r\n                                    onChange={(e) => {\r\n                                      const newLicencias = e.target.checked\r\n                                        ? [...(formData.licenciasConducir || []), licencia]\r\n                                        : formData.licenciasConducir.filter(l => l !== licencia);\r\n                                      setFormData({ ...formData, licenciasConducir: newLicencias });\r\n                                    }}\r\n                                    style={{ display: 'none' }}\r\n                                  />\r\n                                  <span style={{ fontWeight: '500' }}>\r\n                                    Clase {licencia}\r\n                                  </span>\r\n                                </label>\r\n                              ))}\r\n                            </div>\r\n                            <small style={{ color: '#6b7280', fontSize: '11px', display: 'block', marginTop: '5px' }}>\r\n                              B: Particulares | C: Motos | A1-A5: Profesionales | D: Maquinaria | E: Tracción animal | F: Discapacidad\r\n                            </small>\r\n                          </div>\r\n\r\n                          {/* FECHA DE VENCIMIENTO DE LICENCIA - AGREGADO */}\r\n                          {formData.licenciasConducir && formData.licenciasConducir.length > 0 && (\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '8px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Fecha Vencimiento Licencia\r\n                                <span style={{\r\n                                  marginLeft: '8px',\r\n                                  fontSize: '12px',\r\n                                  color: '#6b7280'\r\n                                }}>\r\n                                  (Se enviará alerta 2 semanas antes)\r\n                                </span>\r\n                              </label>\r\n                              <input\r\n                                type=\"date\"\r\n                                value={formData.fechaVencimientoLicencia}\r\n                                onChange={(e) => {\r\n                                  setFormData({ ...formData, fechaVencimientoLicencia: e.target.value });\r\n\r\n                                  // Verificar si está próxima a vencer\r\n                                  const fechaVencimiento = new Date(e.target.value);\r\n                                  const hoy = new Date();\r\n                                  const diasRestantes = Math.ceil((fechaVencimiento - hoy) / (1000 * 60 * 60 * 24));\r\n\r\n                                  if (diasRestantes <= 14 && diasRestantes >= 0) {\r\n                                    setMessage({\r\n                                      type: 'warning',\r\n                                      text: `⚠️ La licencia vence en ${diasRestantes} días`\r\n                                    });\r\n                                  } else if (diasRestantes < 0) {\r\n                                    setMessage({\r\n                                      type: 'error',\r\n                                      text: '❌ La licencia está vencida'\r\n                                    });\r\n                                  }\r\n                                }}\r\n                                min={new Date().toISOString().split('T')[0]}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* OBSERVACIONES DE LICENCIA - AGREGADO */}\r\n                          {formData.licenciasConducir && formData.licenciasConducir.length > 0 && (\r\n                            <div style={{ gridColumn: isMobile ? 'span 1' : 'span 2' }}>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '8px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Observaciones/Restricciones de Licencia\r\n                                <span style={{\r\n                                  marginLeft: '8px',\r\n                                  fontSize: '12px',\r\n                                  color: '#6b7280'\r\n                                }}>\r\n                                  (Lentes, audífonos, restricciones médicas, etc.)\r\n                                </span>\r\n                              </label>\r\n                              <textarea\r\n                                value={formData.observacionesLicencia}\r\n                                onChange={(e) => setFormData({ ...formData, observacionesLicencia: e.target.value })}\r\n                                placeholder=\"Ej: Debe usar lentes, Restricción horaria nocturna, Solo vehículos automáticos, etc.\"\r\n                                rows={3}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px',\r\n                                  resize: 'none'\r\n                                }}\r\n                              />\r\n                              <div style={{\r\n                                marginTop: '10px',\r\n                                display: 'flex',\r\n                                flexWrap: 'wrap',\r\n                                gap: '10px'\r\n                              }}>\r\n                                <span style={{ fontSize: '12px', color: '#6b7280' }}>Agregar rápido:</span>\r\n                                {['Usa lentes 👓', 'Usa audífonos 🦻', 'Solo automático 🚗', 'Sin nocturno 🌙'].map(restriccion => (\r\n                                  <button\r\n                                    key={restriccion}\r\n                                    type=\"button\"\r\n                                    onClick={() => {\r\n                                      const currentObs = formData.observacionesLicencia || '';\r\n                                      const newObs = currentObs ? `${currentObs}, ${restriccion}` : restriccion;\r\n                                      setFormData({ ...formData, observacionesLicencia: newObs });\r\n                                    }}\r\n                                    style={{\r\n                                      padding: '4px 8px',\r\n                                      background: '#f3f4f6',\r\n                                      border: '1px solid #d1d5db',\r\n                                      borderRadius: '4px',\r\n                                      fontSize: '12px',\r\n                                      cursor: 'pointer'\r\n                                    }}\r\n                                  >\r\n                                    {restriccion}\r\n                                  </button>\r\n                                ))}\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                          {/* 🆕 NUEVO CAMPO - FOTO DE PERFIL */}\r\n                          <div style={{ gridColumn: isMobile ? 'span 1' : 'span 2' }}>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              📸 Foto de Perfil\r\n                            </label>\r\n\r\n                            {formData.fotoPerfil?.url ? (\r\n                              <div style={{\r\n                                display: 'flex',\r\n                                gap: '15px',\r\n                                alignItems: 'center',\r\n                                padding: '15px',\r\n                                background: '#f9fafb',\r\n                                borderRadius: '8px'\r\n                              }}>\r\n                                <img\r\n                                  src={formData.fotoPerfil.url}\r\n                                  alt=\"Foto de perfil\"\r\n                                  style={{\r\n                                    width: '80px',\r\n                                    height: '80px',\r\n                                    borderRadius: '50%',\r\n                                    objectFit: 'cover'\r\n                                  }}\r\n                                />\r\n                                <div style={{ flex: 1 }}>\r\n                                  <p style={{ margin: '0 0 10px 0', fontSize: '13px', color: '#374151' }}>\r\n                                    Foto actual\r\n                                  </p>\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setFormData(prev => ({\r\n                                      ...prev,\r\n                                      fotoPerfil: { url: '', publicId: '', fecha: '' }\r\n                                    }))}\r\n                                    style={{\r\n                                      padding: '6px 12px',\r\n                                      background: '#ef4444',\r\n                                      color: 'white',\r\n                                      border: 'none',\r\n                                      borderRadius: '4px',\r\n                                      fontSize: '12px',\r\n                                      cursor: 'pointer'\r\n                                    }}\r\n                                  >\r\n                                    🗑️ Eliminar\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            ) : (\r\n                              <div>\r\n                                <input\r\n                                  type=\"file\"\r\n                                  id=\"fotoPerfilEdit\"\r\n                                  accept=\".jpg,.jpeg,.png\"\r\n                                  onChange={(e) => handleUserFileUpload(e.target.files[0], 'fotoPerfil', editingUser?.id)}\r\n                                  style={{ display: 'none' }}\r\n                                />\r\n                                <label\r\n                                  htmlFor=\"fotoPerfilEdit\"\r\n                                  style={{\r\n                                    display: 'block',\r\n                                    padding: '30px',\r\n                                    background: '#f9fafb',\r\n                                    border: '2px dashed #d1d5db',\r\n                                    borderRadius: '8px',\r\n                                    textAlign: 'center',\r\n                                    cursor: 'pointer'\r\n                                  }}\r\n                                >\r\n                                  <div style={{ fontSize: '40px', marginBottom: '10px' }}>👤</div>\r\n                                  <div style={{ color: '#374151' }}>Click para subir foto</div>\r\n                                  <div style={{ fontSize: '12px', color: '#6b7280', marginTop: '5px' }}>\r\n                                    JPG o PNG - Máx. 10MB\r\n                                  </div>\r\n                                </label>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          {/* 🆕 FIN FOTO DE PERFIL */}\r\n\r\n                          {/* ESTADO DE BLOQUEO - AGREGADO */}\r\n                          {formData.licenciasConducir && formData.licenciasConducir.length > 0 && (\r\n                            <div style={{ gridColumn: isMobile ? 'span 1' : 'span 2' }}>\r\n                              <div style={{\r\n                                padding: '15px',\r\n                                background: formData.licenciaBloqueada ? '#fee2e2' : '#f9fafb',\r\n                                borderRadius: '8px',\r\n                                border: formData.licenciaBloqueada ? '2px solid #ef4444' : '1px solid #e5e7eb'\r\n                              }}>\r\n                                <div style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  justifyContent: 'space-between',\r\n                                  marginBottom: formData.licenciaBloqueada ? '10px' : '0'\r\n                                }}>\r\n                                  <label style={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '10px',\r\n                                    fontSize: '14px',\r\n                                    fontWeight: '500',\r\n                                    color: formData.licenciaBloqueada ? '#991b1b' : '#374151'\r\n                                  }}>\r\n                                    <input\r\n                                      type=\"checkbox\"\r\n                                      checked={formData.licenciaBloqueada}\r\n                                      onChange={(e) => {\r\n                                        setFormData({\r\n                                          ...formData,\r\n                                          licenciaBloqueada: e.target.checked,\r\n                                          fechaBloqueo: e.target.checked ? new Date().toISOString() : ''\r\n                                        });\r\n                                      }}\r\n                                      style={{\r\n                                        width: '20px',\r\n                                        height: '20px',\r\n                                        cursor: 'pointer'\r\n                                      }}\r\n                                    />\r\n                                    {formData.licenciaBloqueada ? '🚫 LICENCIA BLOQUEADA' : '✅ Licencia Habilitada'}\r\n                                  </label>\r\n                                  {formData.licenciaBloqueada && (\r\n                                    <span style={{\r\n                                      fontSize: '12px',\r\n                                      color: '#991b1b',\r\n                                      fontWeight: '600'\r\n                                    }}>\r\n                                      ⚠️ NO PUEDE CONDUCIR\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n\r\n                                {formData.licenciaBloqueada && (\r\n                                  <div>\r\n                                    <label style={{\r\n                                      display: 'block',\r\n                                      marginBottom: '6px',\r\n                                      fontSize: '13px',\r\n                                      fontWeight: '500',\r\n                                      color: '#991b1b'\r\n                                    }}>\r\n                                      Motivo del bloqueo *\r\n                                    </label>\r\n                                    <select\r\n                                      value={formData.motivoBloqueo}\r\n                                      onChange={(e) => setFormData({ ...formData, motivoBloqueo: e.target.value })}\r\n                                      required={formData.licenciaBloqueada}\r\n                                      style={{\r\n                                        width: '100%',\r\n                                        padding: '8px',\r\n                                        border: '1px solid #ef4444',\r\n                                        borderRadius: '4px',\r\n                                        fontSize: '13px',\r\n                                        marginBottom: '10px'\r\n                                      }}\r\n                                    >\r\n                                      <option value=\"\">-- Seleccionar motivo --</option>\r\n                                      <option value=\"parte_pendiente\">Parte/Multa pendiente</option>\r\n                                      <option value=\"suspension_judicial\">Suspensión judicial</option>\r\n                                      <option value=\"vencida\">Licencia vencida</option>\r\n                                      <option value=\"examen_medico\">Pendiente examen médico</option>\r\n                                      <option value=\"incapacidad_temporal\">Incapacidad temporal</option>\r\n                                      <option value=\"investigacion\">Bajo investigación</option>\r\n                                      <option value=\"otro\">Otro motivo</option>\r\n                                    </select>\r\n\r\n                                    {formData.motivoBloqueo === 'otro' && (\r\n                                      <textarea\r\n                                        placeholder=\"Especifique el motivo del bloqueo...\"\r\n                                        required\r\n                                        rows={2}\r\n                                        style={{\r\n                                          width: '100%',\r\n                                          padding: '8px',\r\n                                          border: '1px solid #ef4444',\r\n                                          borderRadius: '4px',\r\n                                          fontSize: '13px'\r\n                                        }}\r\n                                      />\r\n                                    )}\r\n\r\n                                    <div style={{\r\n                                      marginTop: '10px',\r\n                                      padding: '10px',\r\n                                      background: '#fef2f2',\r\n                                      borderRadius: '4px',\r\n                                      fontSize: '12px',\r\n                                      color: '#7f1d1d'\r\n                                    }}>\r\n                                      <strong>⚠️ Importante:</strong> Al bloquear la licencia, el usuario no podrá ser asignado a ningún vehículo hasta que se desbloquee.\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Rol */}\r\n                          <div>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              Rol *\r\n                            </label>\r\n                            <select\r\n                              required\r\n                              value={formData.role}\r\n                              onChange={(e) => setFormData({ ...formData, role: e.target.value })}\r\n                              style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                              }}\r\n                            >\r\n                              <option value=\"trabajador\">👷 Trabajador</option>\r\n                              <option value=\"admin\">👨‍💼 Administrador</option>\r\n                              <option value=\"superadmin\">🔐 Super Admin</option>\r\n                              <option value=\"monitor\">📊 Monitor</option>\r\n                            </select>\r\n                          </div>\r\n\r\n                          {/* Teléfono */}\r\n                          <div>\r\n                            <label style={{\r\n                              display: 'block',\r\n                              marginBottom: '8px',\r\n                              color: '#374151',\r\n                              fontSize: '14px',\r\n                              fontWeight: '500'\r\n                            }}>\r\n                              Teléfono\r\n                            </label>\r\n                            <input\r\n                              type=\"tel\"\r\n                              value={formData.phone}\r\n                              onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\r\n                              placeholder=\"+56 9 XXXX XXXX\"\r\n                              style={{\r\n                                width: '100%',\r\n                                padding: '10px',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '6px',\r\n                                fontSize: '14px'\r\n                              }}\r\n                            />\r\n                          </div>\r\n\r\n                          {/* Localidad (solo para Junta de Vecinos) - AGREGADO */}\r\n                          {formData.role === 'junta_vecinos' && (\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '8px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Localidad/Sector\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                value={formData.localidad || ''}\r\n                                onChange={(e) => setFormData({ ...formData, localidad: e.target.value })}\r\n                                placeholder=\"Ej: Sector Norte, Villa Los Aromos\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n\r\n                        <div style={{ display: 'flex', gap: '10px', marginTop: '20px' }}>\r\n                          <button\r\n                            type=\"submit\"\r\n                            disabled={loading || (formData.licenciaBloqueada && !formData.motivoBloqueo)}\r\n                            style={{\r\n                              padding: '12px 24px',\r\n                              background: loading || (formData.licenciaBloqueada && !formData.motivoBloqueo) ? '#9ca3af' : '#22c55e',\r\n                              color: 'white',\r\n                              border: 'none',\r\n                              borderRadius: '6px',\r\n                              fontSize: '16px',\r\n                              fontWeight: '500',\r\n                              cursor: loading || (formData.licenciaBloqueada && !formData.motivoBloqueo) ? 'not-allowed' : 'pointer'\r\n                            }}\r\n                          >\r\n                            {loading ? 'Actualizando...' : '✅ Guardar Cambios'}\r\n                          </button>\r\n\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                              setShowEditUserForm(false);\r\n                              setEditingUser(null);\r\n                              setFormData({\r\n                                email: '',\r\n                                password: '',\r\n                                name: '',\r\n                                role: 'trabajador',\r\n                                phone: '',\r\n                                vehicleId: '',\r\n                                localidad: '',\r\n                                recoveryPin: '',\r\n                                rut: '',\r\n                                licenciaConducir: '',\r\n                                licenciasConducir: [],\r\n                                fechaVencimientoLicencia: '',\r\n                                observacionesLicencia: '',\r\n                                licenciaBloqueada: false,\r\n                                motivoBloqueo: '',\r\n                                fechaBloqueo: ''\r\n                              });\r\n                            }}\r\n                            style={{\r\n                              padding: '12px 24px',\r\n                              background: '#6b7280',\r\n                              color: 'white',\r\n                              border: 'none',\r\n                              borderRadius: '6px',\r\n                              fontSize: '16px',\r\n                              fontWeight: '500',\r\n                              cursor: 'pointer'\r\n                            }}\r\n                          >\r\n                            Cancelar\r\n                          </button>\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Lista de usuarios */}\r\n                  <div style={{\r\n                    background: 'white',\r\n                    borderRadius: '12px',\r\n                    boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n                    overflow: 'hidden'\r\n                  }}>\r\n                    <div style={{\r\n                      padding: '20px',\r\n                      borderBottom: '1px solid #e5e7eb',\r\n                      background: 'linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)'\r\n                    }}>\r\n                      <h2 style={{ margin: 0, color: '#1f2937', fontSize: '20px' }}>\r\n                        📋 Lista de Usuarios\r\n                      </h2>\r\n                      {isMobile && (\r\n                        <p style={{\r\n                          margin: '5px 0 0 0',\r\n                          fontSize: '12px',\r\n                          color: '#6b7280'\r\n                        }}>\r\n                          ← Desliza para ver más →\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div style={{\r\n                      overflowX: 'auto',\r\n                      WebkitOverflowScrolling: 'touch' // Para scroll suave en iOS\r\n                    }}>\r\n                      <table style={{\r\n                        width: '100%',\r\n                        borderCollapse: 'collapse',\r\n                        minWidth: isMobile ? '700px' : '100%' // Ancho mínimo para móvil\r\n                      }}>\r\n                        <thead>\r\n                          <tr style={{ background: '#f9fafb' }}>\r\n                            <th style={{ padding: '12px 20px', textAlign: 'left', fontSize: '14px', fontWeight: '600', color: '#374151' }}>\r\n                              Nombre\r\n                            </th>\r\n                            <th style={{ padding: '12px 20px', textAlign: 'left', fontSize: '14px', fontWeight: '600', color: '#374151' }}>\r\n                              Email\r\n                            </th>\r\n                            <th style={{ padding: '12px 20px', textAlign: 'left', fontSize: '14px', fontWeight: '600', color: '#374151' }}>\r\n                              Rol\r\n                            </th>\r\n                            {users.some(u => u.role === 'junta_vecinos') && (\r\n                              <th style={{ padding: '12px 20px', textAlign: 'left', fontSize: '14px', fontWeight: '600', color: '#374151' }}>\r\n                                Localidad\r\n                              </th>\r\n                            )}\r\n                            <th style={{ padding: '12px 20px', textAlign: 'left', fontSize: '14px', fontWeight: '600', color: '#374151' }}>\r\n                              Teléfono\r\n                            </th>\r\n                            <th style={{ padding: '12px 20px', textAlign: 'center', fontSize: '14px', fontWeight: '600', color: '#374151' }}>\r\n                              Acciones\r\n                            </th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {users.map((user) => {\r\n                            // Calcular estado de licencia DENTRO del map para cada usuario\r\n                            let estadoLicencia = null;\r\n                            if (user.fechaVencimientoLicencia && (user.licenciaConducir || (user.licenciasConducir && user.licenciasConducir.length > 0))) {\r\n                              const fechaVencimiento = new Date(user.fechaVencimientoLicencia);\r\n                              const hoy = new Date();\r\n                              const diasRestantes = Math.ceil((fechaVencimiento - hoy) / (1000 * 60 * 60 * 24));\r\n\r\n                              if (diasRestantes < 0) {\r\n                                estadoLicencia = { tipo: 'vencida', texto: 'VENCIDA', color: '#ef4444' };\r\n                              } else if (diasRestantes <= 14) {\r\n                                estadoLicencia = { tipo: 'porVencer', texto: `${diasRestantes} días`, color: '#f59e0b' };\r\n                              } else {\r\n                                estadoLicencia = { tipo: 'vigente', texto: 'Vigente', color: '#22c55e' };\r\n                              }\r\n                            }\r\n\r\n                            return (\r\n                              <tr key={user.id} style={{\r\n                                borderBottom: '1px solid #e5e7eb',\r\n                                background: user.habilitado === false ? '#fef2f2' : 'transparent',\r\n                                opacity: user.habilitado === false ? 0.7 : 1\r\n                              }}>\r\n                                <td style={{ padding: '16px 20px', fontSize: '14px', color: '#1f2937' }}>\r\n                                  <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                                    {user.name}\r\n                                    {user.habilitado === false && (\r\n                                      <span style={{\r\n                                        padding: '2px 6px',\r\n                                        borderRadius: '4px',\r\n                                        fontSize: '10px',\r\n                                        fontWeight: '600',\r\n                                        background: '#ef4444',\r\n                                        color: 'white'\r\n                                      }}>\r\n                                        DESHABILITADO\r\n                                      </span>\r\n                                    )}\r\n                                  </div>\r\n                                </td>\r\n                                <td style={{ padding: '16px 20px', fontSize: '14px', color: '#6b7280' }}>\r\n                                  {user.email}\r\n                                </td>\r\n                                <td style={{ padding: '16px 20px' }}>\r\n                                  <span style={{\r\n                                    padding: '4px 8px',\r\n                                    borderRadius: '4px',\r\n                                    fontSize: '12px',\r\n                                    fontWeight: '500',\r\n                                    background: user.role === 'superadmin' ? '#ede9fe' :\r\n                                      user.role === 'admin' ? '#dbeafe' :\r\n                                        user.role === 'monitor' ? '#f3f4f6' :\r\n                                          user.role === 'junta_vecinos' ? '#fef3c7' : '#dcfce7',\r\n                                    color: user.role === 'superadmin' ? '#6b21a8' :\r\n                                      user.role === 'admin' ? '#1e40af' :\r\n                                        user.role === 'monitor' ? '#374151' :\r\n                                          user.role === 'junta_vecinos' ? '#92400e' : '#15803d'\r\n                                  }}>\r\n                                    {user.role === 'superadmin' ? '🔐 Super Admin' :\r\n                                      user.role === 'admin' ? '👨‍💼 Admin' :\r\n                                        user.role === 'monitor' ? '📊 Monitor' :\r\n                                          user.role === 'junta_vecinos' ? '🏘️ Junta Vecinos' : '👷 Trabajador'}\r\n                                  </span>\r\n                                </td>\r\n                                <td style={{ padding: '16px 20px' }}>\r\n                                  {/* Columna de Licencia con todos los indicadores */}\r\n                                  {(user.licenciaConducir || (user.licenciasConducir && user.licenciasConducir.length > 0)) ? (\r\n                                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                                      <span style={{ fontSize: '12px', fontWeight: '500' }}>\r\n                                        {user.licenciasConducir ? user.licenciasConducir.join(', ') : `Clase ${user.licenciaConducir}`}\r\n                                      </span>\r\n\r\n                                      {/* Indicador de licencia bloqueada */}\r\n                                      {user.licenciaBloqueada && (\r\n                                        <span style={{\r\n                                          padding: '2px 6px',\r\n                                          borderRadius: '4px',\r\n                                          fontSize: '11px',\r\n                                          fontWeight: '600',\r\n                                          background: '#ef4444',\r\n                                          color: 'white'\r\n                                        }}>\r\n                                          🚫 BLOQUEADA\r\n                                        </span>\r\n                                      )}\r\n\r\n                                      {/* Indicador de lentes */}\r\n                                      {user.observacionesLicencia && user.observacionesLicencia.includes('lentes') && (\r\n                                        <span title={user.observacionesLicencia}>👓</span>\r\n                                      )}\r\n\r\n                                      {/* Estado de vencimiento */}\r\n                                      {estadoLicencia && !user.licenciaBloqueada && (\r\n                                        <span style={{\r\n                                          padding: '2px 6px',\r\n                                          borderRadius: '4px',\r\n                                          fontSize: '11px',\r\n                                          fontWeight: '600',\r\n                                          background: estadoLicencia.color + '20',\r\n                                          color: estadoLicencia.color,\r\n                                          border: `1px solid ${estadoLicencia.color}`\r\n                                        }}>\r\n                                          {estadoLicencia.tipo === 'vencida' && '⚠️'} {estadoLicencia.texto}\r\n                                        </span>\r\n                                      )}\r\n                                    </div>\r\n                                  ) : (\r\n                                    <span style={{ color: '#9ca3af', fontSize: '12px' }}>Sin licencia</span>\r\n                                  )}\r\n                                </td>\r\n                                <td style={{ padding: '16px 20px' }}>\r\n                                  <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                                    {user.fotoPerfil?.url ? (\r\n                                      <img\r\n                                        src={user.fotoPerfil.url}\r\n                                        alt={user.name}\r\n                                        style={{\r\n                                          width: '32px',\r\n                                          height: '32px',\r\n                                          borderRadius: '50%',\r\n                                          objectFit: 'cover'\r\n                                        }}\r\n                                      />\r\n                                    ) : (\r\n                                      <div style={{\r\n                                        width: '32px',\r\n                                        height: '32px',\r\n                                        borderRadius: '50%',\r\n                                        background: '#e5e7eb',\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        justifyContent: 'center',\r\n                                        fontSize: '14px'\r\n                                      }}>\r\n                                        👤\r\n                                      </div>\r\n                                    )}\r\n                                    <span>{user.name}</span>\r\n                                  </div>\r\n                                </td>\r\n                                <td style={{ padding: '16px 20px', fontSize: '14px', color: '#6b7280' }}>\r\n                                  {user.phone || '-'}\r\n                                </td>\r\n                                <td style={{\r\n                                  padding: isMobile ? '12px 10px' : '16px 20px',\r\n                                  textAlign: 'center'\r\n                                }}>\r\n                                  {user.id !== currentUser.uid ? (\r\n                                    <div style={{\r\n                                      display: 'flex',\r\n                                      gap: isMobile ? '4px' : '8px',\r\n                                      justifyContent: 'center',\r\n                                      flexWrap: isMobile ? 'wrap' : 'nowrap'\r\n                                    }}>\r\n                                      {/* Botón de habilitar/deshabilitar */}\r\n                                      <button\r\n                                        onClick={() => handleToggleUserStatus(user.id, user.email)}\r\n                                        style={{\r\n                                          padding: isMobile ? '5px 8px' : '6px 12px',\r\n                                          background: user.habilitado !== false ? '#f59e0b' : '#22c55e',\r\n                                          color: 'white',\r\n                                          border: 'none',\r\n                                          borderRadius: '4px',\r\n                                          fontSize: isMobile ? '11px' : '12px',\r\n                                          cursor: 'pointer',\r\n                                          whiteSpace: 'nowrap'\r\n                                        }}\r\n                                        title={user.habilitado !== false ? 'Deshabilitar usuario' : 'Habilitar usuario'}\r\n                                      >\r\n                                        {isMobile ?\r\n                                          (user.habilitado !== false ? '🚫' : '✅') :\r\n                                          (user.habilitado !== false ? '🚫 Deshabilitar' : '✅ Habilitar')\r\n                                        }\r\n                                      </button>\r\n\r\n                                      <button\r\n                                        onClick={() => handleEditUser(user)}\r\n                                        style={{\r\n                                          padding: isMobile ? '5px 8px' : '6px 12px',\r\n                                          background: '#3b82f6',\r\n                                          color: 'white',\r\n                                          border: 'none',\r\n                                          borderRadius: '4px',\r\n                                          fontSize: isMobile ? '11px' : '12px',\r\n                                          cursor: 'pointer',\r\n                                          whiteSpace: 'nowrap'\r\n                                        }}\r\n                                      >\r\n                                        {isMobile ? '✏️' : '✏️ Editar'}\r\n                                      </button>\r\n\r\n                                      {/* Solo mostrar eliminar si está deshabilitado */}\r\n                                      {user.habilitado === false ? (\r\n                                        <button\r\n                                          onClick={() => handleDeleteUser(user.id)}\r\n                                          style={{\r\n                                            padding: isMobile ? '5px 8px' : '6px 12px',\r\n                                            background: '#ef4444',\r\n                                            color: 'white',\r\n                                            border: 'none',\r\n                                            borderRadius: '4px',\r\n                                            fontSize: isMobile ? '11px' : '12px',\r\n                                            cursor: 'pointer',\r\n                                            whiteSpace: 'nowrap'\r\n                                          }}\r\n                                        >\r\n                                          {isMobile ? '🗑️' : '🗑️ Eliminar'}\r\n                                        </button>\r\n                                      ) : (\r\n                                        <button\r\n                                          disabled\r\n                                          style={{\r\n                                            padding: isMobile ? '5px 8px' : '6px 12px',\r\n                                            background: '#d1d5db',\r\n                                            color: '#9ca3af',\r\n                                            border: 'none',\r\n                                            borderRadius: '4px',\r\n                                            fontSize: isMobile ? '11px' : '12px',\r\n                                            cursor: 'not-allowed',\r\n                                            whiteSpace: 'nowrap'\r\n                                          }}\r\n                                          title=\"Deshabilitar usuario primero para eliminar\"\r\n                                        >\r\n                                          {isMobile ? '🗑️' : '🗑️ Eliminar'}\r\n                                        </button>\r\n                                      )}\r\n\r\n                                      <button\r\n                                        onClick={() => handleExportSingleUserPDF(user)}\r\n                                        style={{\r\n                                          padding: isMobile ? '5px 8px' : '6px 12px',\r\n                                          background: '#10b981',\r\n                                          color: 'white',\r\n                                          border: 'none',\r\n                                          borderRadius: '4px',\r\n                                          fontSize: isMobile ? '11px' : '12px',\r\n                                          cursor: 'pointer',\r\n                                          whiteSpace: 'nowrap'\r\n                                        }}\r\n                                      >\r\n                                        {isMobile ? '📄' : '📄 Exportar'}\r\n                                      </button>\r\n                                    </div>\r\n                                  ) : (\r\n                                    <span style={{\r\n                                      padding: '6px 12px',\r\n                                      background: '#e5e7eb',\r\n                                      color: '#6b7280',\r\n                                      borderRadius: '4px',\r\n                                      fontSize: '12px'\r\n                                    }}>\r\n                                      Usuario actual\r\n                                    </span>\r\n                                  )}\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                        </tbody>\r\n                      </table>\r\n\r\n                      {users.length === 0 && (\r\n                        <div style={{\r\n                          padding: '40px',\r\n                          textAlign: 'center',\r\n                          color: '#6b7280'\r\n                        }}>\r\n                          <div style={{ fontSize: '48px', marginBottom: '10px' }}>👥</div>\r\n                          <p style={{ fontSize: '16px' }}>No hay usuarios registrados</p>\r\n                          <p style={{ fontSize: '14px' }}>Haz clic en \"Crear Nuevo Usuario\" para comenzar</p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {/* CONTENIDO DE VEHÍCULOS */}\r\n              {activeTab === 'vehicles' && (\r\n                <>\r\n                  <h1 style={{\r\n                    margin: '0 0 30px 0',\r\n                    color: '#1e293b',\r\n                    fontSize: '28px',\r\n                    fontWeight: '600'\r\n                  }}>\r\n                    🚛 Gestión de Vehículos y Maquinaria\r\n                  </h1>\r\n\r\n                  {/* Estadísticas de vehículos */}\r\n                  <div style={{\r\n                    display: 'grid',\r\n                    gridTemplateColumns: `repeat(auto-fit, minmax(${isMobile ? '150px' : '200px'}, 1fr))`,\r\n                    gap: '15px',\r\n                    marginBottom: '30px'\r\n                  }}>\r\n                    <div style={{\r\n                      background: 'white',\r\n                      padding: '20px',\r\n                      borderRadius: '12px',\r\n                      boxShadow: '0 2px 8px rgba(0,0,0,0.05)',\r\n                      borderLeft: '4px solid #3b82f6'\r\n                    }}>\r\n                      <div style={{ fontSize: '28px', fontWeight: 'bold', color: '#1f2937' }}>\r\n                        {getVehicleStats().total}\r\n                      </div>\r\n                      <div style={{ color: '#6b7280', fontSize: '13px' }}>📊 Total</div>\r\n                    </div>\r\n\r\n                    <div style={{\r\n                      background: 'white',\r\n                      padding: '20px',\r\n                      borderRadius: '12px',\r\n                      boxShadow: '0 2px 8px rgba(0,0,0,0.05)',\r\n                      borderLeft: '4px solid #22c55e'\r\n                    }}>\r\n                      <div style={{ fontSize: '28px', fontWeight: 'bold', color: '#1f2937' }}>\r\n                        {getVehicleStats().disponibles}\r\n                      </div>\r\n                      <div style={{ color: '#6b7280', fontSize: '13px' }}>✅ Disponibles</div>\r\n                    </div>\r\n\r\n                    <div style={{\r\n                      background: 'white',\r\n                      padding: '20px',\r\n                      borderRadius: '12px',\r\n                      boxShadow: '0 2px 8px rgba(0,0,0,0.05)',\r\n                      borderLeft: '4px solid #f59e0b'\r\n                    }}>\r\n                      <div style={{ fontSize: '28px', fontWeight: 'bold', color: '#1f2937' }}>\r\n                        {getVehicleStats().enUso}\r\n                      </div>\r\n                      <div style={{ color: '#6b7280', fontSize: '13px' }}>🔧 En Uso</div>\r\n                    </div>\r\n\r\n                    <div style={{\r\n                      background: 'white',\r\n                      padding: '20px',\r\n                      borderRadius: '12px',\r\n                      boxShadow: '0 2px 8px rgba(0,0,0,0.05)',\r\n                      borderLeft: '4px solid #ef4444'\r\n                    }}>\r\n                      <div style={{ fontSize: '28px', fontWeight: 'bold', color: '#1f2937' }}>\r\n                        {getVehicleStats().mantenimiento}\r\n                      </div>\r\n                      <div style={{ color: '#6b7280', fontSize: '13px' }}>🔧 Mantenimiento</div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Botones de acción */}\r\n                  <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap', marginBottom: '20px' }}>\r\n                    <button\r\n                      onClick={() => {\r\n                        setShowVehicleForm(!showVehicleForm);\r\n                        if (showVehicleForm) {\r\n                          setEditingVehicle(null);\r\n                          setVehicleFormData({\r\n                            nombre: '',\r\n                            tipo: '',\r\n                            marca: '',\r\n                            modelo: '',\r\n                            año: new Date().getFullYear(),\r\n                            patente: '',\r\n                            color: '',\r\n                            numeroChasis: '',\r\n                            numeroMotor: '',\r\n                            kilometraje: 0,\r\n                            capacidadCombustible: 0,\r\n                            tipoCombustible: 'gasolina',\r\n                            ultimoMantenimiento: '',\r\n                            proximoMantenimiento: '',\r\n                            kilometrajeUltimoMantenimiento: 0,\r\n                            kilometrajeProximoMantenimiento: 0,\r\n                            fechaRevisionTecnica: '',\r\n                            fechaSeguro: '',\r\n                            fechaPermisoCirculacion: '',\r\n                            operadorAsignado: '',\r\n                            estado: 'disponible',\r\n                            lat: null,\r\n                            lng: null,\r\n                            observaciones: ''\r\n                          });\r\n                        }\r\n                      }}\r\n                      style={{\r\n                        padding: '12px 24px',\r\n                        background: 'linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '8px',\r\n                        fontSize: '16px',\r\n                        fontWeight: '500',\r\n                        cursor: 'pointer'\r\n                      }}\r\n                    >\r\n                      {showVehicleForm ? '✖ Cancelar' : '➕ Registrar Nuevo Vehículo'}\r\n                    </button>\r\n\r\n                    <button\r\n                      onClick={() => setShowTipoModal(true)}\r\n                      style={{\r\n                        padding: '12px 24px',\r\n                        background: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '8px',\r\n                        fontSize: '16px',\r\n                        fontWeight: '500',\r\n                        cursor: 'pointer'\r\n                      }}\r\n                    >\r\n                      ⚙️ Gestionar Tipos de Vehículos\r\n                    </button>\r\n                    <button\r\n                      onClick={handleExportVehiclesPDF}\r\n                      style={{\r\n                        padding: '12px 24px',\r\n                        background: 'linear-gradient(135deg, #dd8b2cff 0%, #ee1f10ff 100%)',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '8px',\r\n                        fontSize: '16px',\r\n                        fontWeight: '500',\r\n                        cursor: 'pointer'\r\n                      }}\r\n                    >\r\n                      📕 Exportar a PDF\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Formulario de vehículo */}\r\n                  {/* Formulario de vehículo AMPLIADO */}\r\n                  {showVehicleForm && (\r\n                    <div style={{\r\n                      background: 'white',\r\n                      padding: '30px',\r\n                      borderRadius: '12px',\r\n                      boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n                      marginBottom: '30px'\r\n                    }}>\r\n                      <h2 style={{ margin: '0 0 20px 0', color: '#1f2937', fontSize: '20px' }}>\r\n                        {editingVehicle ? '✏️ Editar Vehículo' : '🚛 Registrar Nuevo Vehículo'}\r\n                      </h2>\r\n\r\n                      <form onSubmit={handleCreateOrUpdateVehicle}>\r\n                        {/* SECCIÓN 1: DATOS GENERALES */}\r\n                        <div style={{\r\n                          marginBottom: '25px',\r\n                          paddingBottom: '20px',\r\n                          borderBottom: '1px solid #e5e7eb'\r\n                        }}>\r\n                          <h3 style={{ margin: '0 0 15px 0', color: '#374151', fontSize: '16px' }}>\r\n                            📋 Datos Generales\r\n                          </h3>\r\n                          <div style={{\r\n                            display: 'grid',\r\n                            gridTemplateColumns: `repeat(auto-fit, minmax(${isMobile ? '100%' : '250px'}, 1fr))`,\r\n                            gap: '15px'\r\n                          }}>\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Nombre/Identificación *\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                required\r\n                                value={vehicleFormData.nombre}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, nombre: e.target.value })}\r\n                                placeholder=\"Ej: Camión 01, Retroexcavadora 02\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Tipo de Vehículo *\r\n                              </label>\r\n                              <select\r\n                                required\r\n                                value={vehicleFormData.tipo}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, tipo: e.target.value })}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              >\r\n                                <option value=\"\">-- Seleccionar tipo --</option>\r\n                                {tiposVehiculo.map(tipo => (\r\n                                  <option key={tipo.id} value={tipo.id}>\r\n                                    {tipo.icon} {tipo.nombre}\r\n                                  </option>\r\n                                ))}\r\n                              </select>\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Marca *\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                required\r\n                                value={vehicleFormData.marca}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, marca: e.target.value })}\r\n                                placeholder=\"Ej: Toyota, Caterpillar\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Modelo *\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                required\r\n                                value={vehicleFormData.modelo}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, modelo: e.target.value })}\r\n                                placeholder=\"Ej: Hilux, 320D\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Año\r\n                              </label>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={vehicleFormData.año}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, año: parseInt(e.target.value) })}\r\n                                min=\"1990\"\r\n                                max={new Date().getFullYear() + 1}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Patente *\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                required\r\n                                value={vehicleFormData.patente}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, patente: e.target.value })}\r\n                                placeholder=\"Ej: XX-XX-99\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                N° VIN/Chasis\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                value={vehicleFormData.vin}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, vin: e.target.value })}\r\n                                placeholder=\"Número de chasis\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                N° Motor\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                value={vehicleFormData.numeroMotor}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, numeroMotor: e.target.value })}\r\n                                placeholder=\"Número de motor\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Color\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                value={vehicleFormData.color}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, color: e.target.value })}\r\n                                placeholder=\"Ej: Blanco\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Modalidad de Adquisición\r\n                              </label>\r\n                              <select\r\n                                value={vehicleFormData.modalidadAdquisicion}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, modalidadAdquisicion: e.target.value })}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              >\r\n                                <option value=\"compra\">Compra</option>\r\n                                <option value=\"leasing\">Leasing</option>\r\n                                <option value=\"arriendo\">Arriendo</option>\r\n                                <option value=\"donacion\">Donación</option>\r\n                                <option value=\"comodato\">Comodato</option>\r\n                              </select>\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Proveedor\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                value={vehicleFormData.proveedor}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, proveedor: e.target.value })}\r\n                                placeholder=\"Nombre del proveedor\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Valor de Adquisición (CLP)\r\n                              </label>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={vehicleFormData.valorAdquisicion}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, valorAdquisicion: parseInt(e.target.value) })}\r\n                                placeholder=\"0\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        {/* SECCIÓN DE LICENCIAS REQUERIDAS - NUEVO */}\r\n                        <div style={{\r\n                          marginBottom: '25px',\r\n                          paddingBottom: '20px',\r\n                          borderBottom: '1px solid #e5e7eb'\r\n                        }}>\r\n                          <h3 style={{\r\n                            margin: '0 0 15px 0',\r\n                            color: '#374151',\r\n                            fontSize: '16px',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            gap: '8px'\r\n                          }}>\r\n                            🚗 Licencias Requeridas para Operar\r\n                            <span style={{\r\n                              fontSize: '12px',\r\n                              color: '#6b7280',\r\n                              fontWeight: '400'\r\n                            }}>\r\n                              (El operador debe tener al menos una de estas licencias)\r\n                            </span>\r\n                          </h3>\r\n\r\n                          <div style={{\r\n                            padding: '15px',\r\n                            background: '#f9fafb',\r\n                            borderRadius: '8px',\r\n                            border: '1px solid #e5e7eb'\r\n                          }}>\r\n                            <div style={{\r\n                              display: 'flex',\r\n                              flexWrap: 'wrap',\r\n                              gap: '10px',\r\n                              marginBottom: '10px'\r\n                            }}>\r\n                              {['B', 'C', 'A1', 'A2', 'A3', 'A4', 'A5', 'D', 'E', 'F'].map(licencia => (\r\n                                <label key={licencia} style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  gap: '5px',\r\n                                  padding: '8px 15px',\r\n                                  background: vehicleFormData.licenciasRequeridas?.includes(licencia) ? '#3b82f6' : 'white',\r\n                                  color: vehicleFormData.licenciasRequeridas?.includes(licencia) ? 'white' : '#374151',\r\n                                  borderRadius: '6px',\r\n                                  cursor: 'pointer',\r\n                                  border: '2px solid',\r\n                                  borderColor: vehicleFormData.licenciasRequeridas?.includes(licencia) ? '#3b82f6' : '#d1d5db',\r\n                                  transition: 'all 0.2s',\r\n                                  fontWeight: '500'\r\n                                }}>\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    value={licencia}\r\n                                    checked={vehicleFormData.licenciasRequeridas?.includes(licencia) || false}\r\n                                    onChange={(e) => {\r\n                                      const newLicencias = e.target.checked\r\n                                        ? [...(vehicleFormData.licenciasRequeridas || []), licencia]\r\n                                        : vehicleFormData.licenciasRequeridas.filter(l => l !== licencia);\r\n                                      setVehicleFormData({ ...vehicleFormData, licenciasRequeridas: newLicencias });\r\n                                    }}\r\n                                    style={{ display: 'none' }}\r\n                                  />\r\n                                  <span>Clase {licencia}</span>\r\n                                </label>\r\n                              ))}\r\n                            </div>\r\n\r\n                            <div style={{\r\n                              padding: '10px',\r\n                              background: '#fef3c7',\r\n                              borderRadius: '6px',\r\n                              fontSize: '13px',\r\n                              color: '#92400e'\r\n                            }}>\r\n                              <strong>⚠️ Importante:</strong> Solo los trabajadores con al menos una de las licencias seleccionadas podrán ser asignados a este vehículo.\r\n                            </div>\r\n\r\n                            {/* Referencia de tipos de licencia */}\r\n                            <div style={{\r\n                              marginTop: '10px',\r\n                              padding: '10px',\r\n                              background: 'white',\r\n                              borderRadius: '6px',\r\n                              fontSize: '12px',\r\n                              color: '#6b7280'\r\n                            }}>\r\n                              <div style={{ fontWeight: '600', marginBottom: '5px' }}>📖 Referencia de Clases:</div>\r\n                              <div style={{ display: 'grid', gridTemplateColumns: isMobile ? '1fr' : 'repeat(2, 1fr)', gap: '5px' }}>\r\n                                <div>• <strong>B:</strong> Vehículos particulares</div>\r\n                                <div>• <strong>C:</strong> Motocicletas</div>\r\n                                <div>• <strong>A1:</strong> Taxis</div>\r\n                                <div>• <strong>A2:</strong> Buses pequeños</div>\r\n                                <div>• <strong>A3:</strong> Taxis y ambulancias</div>\r\n                                <div>• <strong>A4:</strong> Transporte de carga</div>\r\n                                <div>• <strong>A5:</strong> Todo tipo de vehículos</div>\r\n                                <div>• <strong>D:</strong> Maquinaria automotriz</div>\r\n                                <div>• <strong>E:</strong> Tracción animal</div>\r\n                                <div>• <strong>F:</strong> Vehículos adaptados</div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* SECCIÓN 2: ESPECIFICACIONES TÉCNICAS */}\r\n                        <div style={{\r\n                          marginBottom: '25px',\r\n                          paddingBottom: '20px',\r\n                          borderBottom: '1px solid #e5e7eb'\r\n                        }}>\r\n                          <h3 style={{ margin: '0 0 15px 0', color: '#374151', fontSize: '16px' }}>\r\n                            ⚙️ Especificaciones Técnicas\r\n                          </h3>\r\n                          <div style={{\r\n                            display: 'grid',\r\n                            gridTemplateColumns: `repeat(auto-fit, minmax(${isMobile ? '100%' : '250px'}, 1fr))`,\r\n                            gap: '15px'\r\n                          }}>\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                🛢️ Tipo de Aceite de Motor\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                value={vehicleFormData.tipoAceite}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, tipoAceite: e.target.value })}\r\n                                placeholder=\"Ej: 15W-40, 5W-30, SAE 40\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Tipo de Combustible\r\n                              </label>\r\n                              <select\r\n                                value={vehicleFormData.tipoCombustible}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, tipoCombustible: e.target.value })}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              >\r\n                                <option value=\"gasolina\">Gasolina</option>\r\n                                <option value=\"diesel\">Diesel</option>\r\n                                <option value=\"electrico\">Eléctrico</option>\r\n                                <option value=\"hibrido\">Híbrido</option>\r\n                                <option value=\"gas\">Gas</option>\r\n                              </select>\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Cilindrada (cc)\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                value={vehicleFormData.cilindrada}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, cilindrada: e.target.value })}\r\n                                placeholder=\"Ej: 2400\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Potencia (HP)\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                value={vehicleFormData.potencia}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, potencia: e.target.value })}\r\n                                placeholder=\"Ej: 150\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Transmisión\r\n                              </label>\r\n                              <select\r\n                                value={vehicleFormData.transmision}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, transmision: e.target.value })}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              >\r\n                                <option value=\"manual\">Manual</option>\r\n                                <option value=\"automatica\">Automática</option>\r\n                                <option value=\"secuencial\">Secuencial</option>\r\n                              </select>\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Tracción\r\n                              </label>\r\n                              <select\r\n                                value={vehicleFormData.traccion}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, traccion: e.target.value })}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              >\r\n                                <option value=\"4x2\">4x2</option>\r\n                                <option value=\"4x4\">4x4</option>\r\n                                <option value=\"6x4\">6x4</option>\r\n                                <option value=\"6x6\">6x6</option>\r\n                              </select>\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Capacidad de Pasajeros\r\n                              </label>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={vehicleFormData.capacidadPasajeros}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, capacidadPasajeros: parseInt(e.target.value) })}\r\n                                placeholder=\"0\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Capacidad de Carga (kg)\r\n                              </label>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={vehicleFormData.capacidadCarga}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, capacidadCarga: parseInt(e.target.value) })}\r\n                                placeholder=\"0\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Equipamiento Adicional\r\n                              </label>\r\n                              <textarea\r\n                                value={vehicleFormData.equipamientoAdicional}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, equipamientoAdicional: e.target.value })}\r\n                                placeholder=\"Ej: Barra de luces, winche, etc.\"\r\n                                rows={2}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        {/* SECCIÓN 3: DOCUMENTACIÓN LEGAL */}\r\n                        <div style={{\r\n                          marginBottom: '25px',\r\n                          paddingBottom: '20px',\r\n                          borderBottom: '1px solid #e5e7eb'\r\n                        }}>\r\n                          <h3 style={{ margin: '0 0 15px 0', color: '#374151', fontSize: '16px' }}>\r\n                            📄 Documentación Legal\r\n                          </h3>\r\n\r\n                          {/* PARTE 1: CAMPOS DE INFORMACIÓN */}\r\n                          <div style={{\r\n                            display: 'grid',\r\n                            gridTemplateColumns: `repeat(auto-fit, minmax(${isMobile ? '100%' : '250px'}, 1fr))`,\r\n                            gap: '15px',\r\n                            marginBottom: '20px'\r\n                          }}>\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                N° Permiso Circulación\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                value={vehicleFormData.numeroPermisoCirculacion}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, numeroPermisoCirculacion: e.target.value })}\r\n                                placeholder=\"Número de permiso\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                🧯 Fecha Vencimiento Extintor\r\n                              </label>\r\n                              <input\r\n                                type=\"date\"\r\n                                value={vehicleFormData.fechaVencimientoExtintor}\r\n                                onChange={(e) => {\r\n                                  setVehicleFormData({ ...vehicleFormData, fechaVencimientoExtintor: e.target.value });\r\n\r\n                                  // Verificar si está próximo a vencer\r\n                                  const fechaVencimiento = new Date(e.target.value);\r\n                                  const hoy = new Date();\r\n                                  const diasRestantes = Math.ceil((fechaVencimiento - hoy) / (1000 * 60 * 60 * 24));\r\n\r\n                                  if (diasRestantes <= 30 && diasRestantes >= 0) {\r\n                                    setMessage({\r\n                                      type: 'warning',\r\n                                      text: `⚠️ El extintor vence en ${diasRestantes} días. Programar recarga.`\r\n                                    });\r\n                                  } else if (diasRestantes < 0) {\r\n                                    setMessage({\r\n                                      type: 'error',\r\n                                      text: '🚨 EXTINTOR VENCIDO - Requiere recarga inmediata'\r\n                                    });\r\n                                  }\r\n                                }}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Vigencia Permiso Circulación\r\n                              </label>\r\n                              <input\r\n                                type=\"date\"\r\n                                value={vehicleFormData.vigenciaPermisoCirculacion}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, vigenciaPermisoCirculacion: e.target.value })}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Fecha Revisión Técnica\r\n                              </label>\r\n                              <input\r\n                                type=\"date\"\r\n                                value={vehicleFormData.fechaRevisionTecnica}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, fechaRevisionTecnica: e.target.value })}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Vigencia SOAP\r\n                              </label>\r\n                              <input\r\n                                type=\"date\"\r\n                                value={vehicleFormData.vigenciaSOAP}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, vigenciaSOAP: e.target.value })}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                ¿Tiene Seguro Complementario?\r\n                              </label>\r\n                              <select\r\n                                value={vehicleFormData.seguroComplementario}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, seguroComplementario: e.target.value === 'true' })}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              >\r\n                                <option value=\"false\">No</option>\r\n                                <option value=\"true\">Sí</option>\r\n                              </select>\r\n                            </div>\r\n                            {/* SECCIÓN DE SEGURO COMERCIAL/ADICIONAL */}\r\n                            {/* SECCIÓN DE PÓLIZA DE SEGURO DEL VEHÍCULO */}\r\n                            <div style={{\r\n                              marginTop: '20px',\r\n                              padding: '20px',\r\n                              background: '#f0f9ff',\r\n                              borderRadius: '8px',\r\n                              border: '1px solid #0284c7',\r\n                              gridColumn: isMobile ? 'span 1' : 'span 2'  // <-- AÑADE ESTA LÍNEA\r\n\r\n                            }}>\r\n                              <h4 style={{\r\n                                margin: '0 0 15px 0',\r\n                                color: '#0c4a6e',\r\n                                fontSize: '15px',\r\n                                fontWeight: '600',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                gap: '8px'\r\n                              }}>\r\n                                🛡️ Póliza de Seguro del Vehículo\r\n                                <span style={{\r\n                                  fontSize: '12px',\r\n                                  color: '#64748b',\r\n                                  fontWeight: '400'\r\n                                }}>\r\n                                  (Documentación del seguro obligatorio o adicional)\r\n                                </span>\r\n                              </h4>\r\n\r\n                              <div style={{\r\n                                display: 'grid',\r\n                                gridTemplateColumns: `repeat(auto-fit, minmax(${isMobile ? '100%' : '200px'}, 1fr))`,\r\n                                gap: '15px',\r\n                                marginBottom: '15px'\r\n                              }}>\r\n                                <div>\r\n                                  <label style={{ display: 'block', marginBottom: '6px', fontSize: '13px', color: '#374151' }}>\r\n                                    Tipo de Seguro\r\n                                  </label>\r\n                                  <select\r\n                                    value={vehicleFormData.polizaSeguroVehiculo?.tipoSeguro || ''}\r\n                                    onChange={(e) => setVehicleFormData(prev => ({\r\n                                      ...prev,\r\n                                      polizaSeguroVehiculo: { ...prev.polizaSeguroVehiculo, tipoSeguro: e.target.value }\r\n                                    }))}\r\n                                    style={{\r\n                                      width: '100%',\r\n                                      padding: '8px',\r\n                                      border: '1px solid #d1d5db',\r\n                                      borderRadius: '4px',\r\n                                      fontSize: '13px'\r\n                                    }}\r\n                                  >\r\n                                    <option value=\"\">-- Seleccionar --</option>\r\n                                    <option value=\"soap\">SOAP (Obligatorio)</option>\r\n                                    <option value=\"adicional\">Seguro Adicional</option>\r\n                                    <option value=\"ambos\">Ambos</option>\r\n                                  </select>\r\n                                </div>\r\n\r\n                                <div>\r\n                                  <label style={{ display: 'block', marginBottom: '6px', fontSize: '13px', color: '#374151' }}>\r\n                                    N° Póliza\r\n                                  </label>\r\n                                  <input\r\n                                    type=\"text\"\r\n                                    value={vehicleFormData.polizaSeguroVehiculo?.numeroPoliza || ''}\r\n                                    onChange={(e) => setVehicleFormData(prev => ({\r\n                                      ...prev,\r\n                                      polizaSeguroVehiculo: { ...prev.polizaSeguroVehiculo, numeroPoliza: e.target.value }\r\n                                    }))}\r\n                                    placeholder=\"Número de póliza\"\r\n                                    style={{\r\n                                      width: '100%',\r\n                                      padding: '8px',\r\n                                      border: '1px solid #d1d5db',\r\n                                      borderRadius: '4px',\r\n                                      fontSize: '13px'\r\n                                    }}\r\n                                  />\r\n                                </div>\r\n\r\n                                <div>\r\n                                  <label style={{ display: 'block', marginBottom: '6px', fontSize: '13px', color: '#374151' }}>\r\n                                    Compañía\r\n                                  </label>\r\n                                  <select\r\n                                    value={vehicleFormData.polizaSeguroVehiculo?.compania || ''}\r\n                                    onChange={(e) => setVehicleFormData(prev => ({\r\n                                      ...prev,\r\n                                      polizaSeguroVehiculo: { ...prev.polizaSeguroVehiculo, compania: e.target.value }\r\n                                    }))}\r\n                                    style={{\r\n                                      width: '100%',\r\n                                      padding: '8px',\r\n                                      border: '1px solid #d1d5db',\r\n                                      borderRadius: '4px',\r\n                                      fontSize: '13px'\r\n                                    }}\r\n                                  >\r\n                                    <option value=\"\">-- Seleccionar --</option>\r\n                                    <option value=\"HDI\">HDI Seguros</option>\r\n                                    <option value=\"MAPFRE\">MAPFRE</option>\r\n                                    <option value=\"BCI\">BCI Seguros</option>\r\n                                    <option value=\"Liberty\">Liberty Seguros</option>\r\n                                    <option value=\"SURA\">SURA</option>\r\n                                    <option value=\"Chilena\">Chilena Consolidada</option>\r\n                                    <option value=\"Consorcio\">Consorcio</option>\r\n                                    <option value=\"SOAP\">SOAP Genérico</option>\r\n                                    <option value=\"Otra\">Otra</option>\r\n                                  </select>\r\n                                </div>\r\n\r\n                                <div>\r\n                                  <label style={{ display: 'block', marginBottom: '6px', fontSize: '13px', color: '#374151' }}>\r\n                                    Vigencia\r\n                                  </label>\r\n                                  <input\r\n                                    type=\"date\"\r\n                                    value={vehicleFormData.polizaSeguroVehiculo?.vigencia || ''}\r\n                                    onChange={(e) => setVehicleFormData(prev => ({\r\n                                      ...prev,\r\n                                      polizaSeguroVehiculo: { ...prev.polizaSeguroVehiculo, vigencia: e.target.value }\r\n                                    }))}\r\n                                    style={{\r\n                                      width: '100%',\r\n                                      padding: '8px',\r\n                                      border: '1px solid #d1d5db',\r\n                                      borderRadius: '4px',\r\n                                      fontSize: '13px'\r\n                                    }}\r\n                                  />\r\n                                </div>\r\n\r\n                                <div style={{ gridColumn: isMobile ? 'span 1' : 'span 2' }}>\r\n                                  <label style={{ display: 'block', marginBottom: '6px', fontSize: '13px', color: '#374151' }}>\r\n                                    Cobertura\r\n                                  </label>\r\n                                  <textarea\r\n                                    value={vehicleFormData.polizaSeguroVehiculo?.cobertura || ''}\r\n                                    onChange={(e) => setVehicleFormData(prev => ({\r\n                                      ...prev,\r\n                                      polizaSeguroVehiculo: { ...prev.polizaSeguroVehiculo, cobertura: e.target.value }\r\n                                    }))}\r\n                                    placeholder=\"Detalle de cobertura del seguro\"\r\n                                    rows={2}\r\n                                    style={{\r\n                                      width: '100%',\r\n                                      padding: '8px',\r\n                                      border: '1px solid #d1d5db',\r\n                                      borderRadius: '4px',\r\n                                      fontSize: '13px',\r\n                                      resize: 'none'\r\n                                    }}\r\n                                  />\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Subir documento de póliza */}\r\n                              {vehicleFormData.polizaSeguroVehiculo?.url ? (\r\n                                <div style={{\r\n                                  padding: '10px',\r\n                                  background: 'white',\r\n                                  borderRadius: '6px',\r\n                                  display: 'flex',\r\n                                  justifyContent: 'space-between',\r\n                                  alignItems: 'center'\r\n                                }}>\r\n                                  <div>\r\n                                    <p style={{ margin: 0, fontSize: '13px', fontWeight: '500' }}>\r\n                                      📄 {vehicleFormData.polizaSeguroVehiculo.nombre}\r\n                                    </p>\r\n                                    <p style={{ margin: '2px 0 0 0', fontSize: '11px', color: '#6b7280' }}>\r\n                                      Subido: {new Date(vehicleFormData.polizaSeguroVehiculo.fecha).toLocaleDateString('es-CL')}\r\n                                    </p>\r\n                                  </div>\r\n                                  <div style={{ display: 'flex', gap: '8px' }}>\r\n                                    <a\r\n                                      href={vehicleFormData.polizaSeguroVehiculo.url}\r\n                                      target=\"_blank\"\r\n                                      rel=\"noopener noreferrer\"\r\n                                      style={{\r\n                                        padding: '6px 12px',\r\n                                        background: '#3b82f6',\r\n                                        color: 'white',\r\n                                        borderRadius: '4px',\r\n                                        textDecoration: 'none',\r\n                                        fontSize: '12px'\r\n                                      }}\r\n                                    >\r\n                                      👁️ Ver\r\n                                    </a>\r\n                                    <button\r\n                                      type=\"button\"\r\n                                      onClick={() => setVehicleFormData(prev => ({\r\n                                        ...prev,\r\n                                        polizaSeguroVehiculo: {\r\n                                          ...prev.polizaSeguroVehiculo,\r\n                                          url: '',\r\n                                          nombre: '',\r\n                                          publicId: ''\r\n                                        }\r\n                                      }))}\r\n                                      style={{\r\n                                        padding: '6px 12px',\r\n                                        background: '#ef4444',\r\n                                        color: 'white',\r\n                                        border: 'none',\r\n                                        borderRadius: '4px',\r\n                                        fontSize: '12px',\r\n                                        cursor: 'pointer'\r\n                                      }}\r\n                                    >\r\n                                      🗑️\r\n                                    </button>\r\n                                  </div>\r\n                                </div>\r\n                              ) : (\r\n                                <div>\r\n                                  <input\r\n                                    type=\"file\"\r\n                                    id=\"polizaSeguroVehiculo\"\r\n                                    accept=\".jpg,.jpeg,.png\"\r\n                                    onChange={(e) => handleVehiclePolizaUpload(e.target.files[0])}\r\n                                    style={{ display: 'none' }}\r\n                                  />\r\n                                  <label\r\n                                    htmlFor=\"polizaSeguroVehiculo\"\r\n                                    style={{\r\n                                      display: 'block',\r\n                                      padding: '20px',\r\n                                      background: 'white',\r\n                                      border: '2px dashed #d1d5db',\r\n                                      borderRadius: '6px',\r\n                                      textAlign: 'center',\r\n                                      cursor: 'pointer'\r\n                                    }}\r\n                                  >\r\n                                    <div style={{ fontSize: '20px', marginBottom: '5px' }}>📤</div>\r\n                                    <div style={{ fontSize: '13px' }}>Subir imagen de póliza</div>\r\n                                    <div style={{ fontSize: '11px', color: '#6b7280', marginTop: '5px' }}>\r\n                                      Solo imágenes JPG o PNG - Máx. 10MB\r\n                                    </div>\r\n                                  </label>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                            {vehicleFormData.seguroComplementario && (\r\n                              <div style={{\r\n                                marginTop: '20px',\r\n                                padding: '20px',\r\n                                background: '#eff6ff',\r\n                                borderRadius: '8px',\r\n                                border: '1px solid #3b82f6'\r\n                              }}>\r\n                                <h4 style={{\r\n                                  margin: '0 0 15px 0',\r\n                                  color: '#1e40af',\r\n                                  fontSize: '15px',\r\n                                  fontWeight: '600'\r\n                                }}>\r\n                                  🛡️ Información del Seguro Comercial/Adicional\r\n                                </h4>\r\n\r\n                                <div style={{\r\n                                  display: 'grid',\r\n                                  gridTemplateColumns: `repeat(auto-fit, minmax(${isMobile ? '100%' : '250px'}, 1fr))`,\r\n                                  gap: '15px'\r\n                                }}>\r\n                                  <div>\r\n                                    <label style={{ display: 'block', marginBottom: '6px', fontSize: '14px' }}>\r\n                                      Compañía Aseguradora\r\n                                    </label>\r\n                                    <select\r\n                                      value={vehicleFormData.companiaSeguroAdicional}\r\n                                      onChange={(e) => setVehicleFormData({ ...vehicleFormData, companiaSeguroAdicional: e.target.value })}\r\n                                      style={{\r\n                                        width: '100%',\r\n                                        padding: '10px',\r\n                                        border: '1px solid #d1d5db',\r\n                                        borderRadius: '6px'\r\n                                      }}\r\n                                    >\r\n                                      <option value=\"\">-- Seleccionar --</option>\r\n                                      <option value=\"HDI Seguros\">HDI Seguros</option>\r\n                                      <option value=\"MAPFRE\">MAPFRE</option>\r\n                                      <option value=\"BCI Seguros\">BCI Seguros</option>\r\n                                      <option value=\"Liberty Seguros\">Liberty Seguros</option>\r\n                                      <option value=\"SURA\">SURA</option>\r\n                                      <option value=\"Chilena Consolidada\">Chilena Consolidada</option>\r\n                                      <option value=\"Consorcio\">Consorcio</option>\r\n                                      <option value=\"Otra\">Otra</option>\r\n                                    </select>\r\n                                  </div>\r\n\r\n                                  <div>\r\n                                    <label style={{ display: 'block', marginBottom: '6px', fontSize: '14px' }}>\r\n                                      N° de Póliza\r\n                                    </label>\r\n                                    <input\r\n                                      type=\"text\"\r\n                                      value={vehicleFormData.numeroPolizaAdicional}\r\n                                      onChange={(e) => setVehicleFormData({ ...vehicleFormData, numeroPolizaAdicional: e.target.value })}\r\n                                      placeholder=\"Número de póliza\"\r\n                                      style={{\r\n                                        width: '100%',\r\n                                        padding: '10px',\r\n                                        border: '1px solid #d1d5db',\r\n                                        borderRadius: '6px'\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n\r\n                                  <div>\r\n                                    <label style={{ display: 'block', marginBottom: '6px', fontSize: '14px' }}>\r\n                                      Vigencia del Seguro\r\n                                    </label>\r\n                                    <input\r\n                                      type=\"date\"\r\n                                      value={vehicleFormData.vigenciaSeguroAdicional}\r\n                                      onChange={(e) => setVehicleFormData({ ...vehicleFormData, vigenciaSeguroAdicional: e.target.value })}\r\n                                      style={{\r\n                                        width: '100%',\r\n                                        padding: '10px',\r\n                                        border: '1px solid #d1d5db',\r\n                                        borderRadius: '6px'\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n\r\n                                  <div>\r\n                                    <label style={{ display: 'block', marginBottom: '6px', fontSize: '14px' }}>\r\n                                      Tipo de Cobertura\r\n                                    </label>\r\n                                    <select\r\n                                      value={vehicleFormData.coberturaSeguroAdicional}\r\n                                      onChange={(e) => setVehicleFormData({ ...vehicleFormData, coberturaSeguroAdicional: e.target.value })}\r\n                                      style={{\r\n                                        width: '100%',\r\n                                        padding: '10px',\r\n                                        border: '1px solid #d1d5db',\r\n                                        borderRadius: '6px'\r\n                                      }}\r\n                                    >\r\n                                      <option value=\"\">-- Seleccionar --</option>\r\n                                      <option value=\"basica\">Básica (Daños a terceros)</option>\r\n                                      <option value=\"completa\">Completa (Todo riesgo)</option>\r\n                                      <option value=\"parcial\">Parcial (Robo + Daños a terceros)</option>\r\n                                      <option value=\"personalizada\">Personalizada</option>\r\n                                    </select>\r\n                                  </div>\r\n\r\n                                  <div style={{ gridColumn: isMobile ? 'span 1' : 'span 2' }}>\r\n                                    <label style={{ display: 'block', marginBottom: '6px', fontSize: '14px' }}>\r\n                                      Detalles de Cobertura\r\n                                    </label>\r\n                                    <textarea\r\n                                      value={vehicleFormData.seguroAdicional}\r\n                                      onChange={(e) => setVehicleFormData({ ...vehicleFormData, seguroAdicional: e.target.value })}\r\n                                      placeholder=\"Ej: Incluye responsabilidad civil, robo, daños propios, asistencia en ruta, etc.\"\r\n                                      rows={3}\r\n                                      style={{\r\n                                        width: '100%',\r\n                                        padding: '10px',\r\n                                        border: '1px solid #d1d5db',\r\n                                        borderRadius: '6px',\r\n                                        resize: 'none'\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n\r\n                            )}\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Multas Registradas\r\n                              </label>\r\n                              <textarea\r\n                                value={vehicleFormData.multasRegistradas}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, multasRegistradas: e.target.value })}\r\n                                placeholder=\"Detalle de multas si existen\"\r\n                                rows={2}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n\r\n\r\n                          {/* PARTE 2: CARGA DE DOCUMENTOS DIGITALIZADOS */}\r\n                          <div style={{\r\n                            marginTop: '25px',\r\n                            padding: '20px',\r\n                            background: '#f9fafb',\r\n                            borderRadius: '8px'\r\n                          }}>\r\n                            <h4 style={{\r\n                              margin: '0 0 15px 0',\r\n                              fontSize: '15px',\r\n                              fontWeight: '600',\r\n                              color: '#1f2937',\r\n                              display: 'flex',\r\n                              alignItems: 'center',\r\n                              gap: '8px'\r\n                            }}>\r\n                              📁 Documentos Digitalizados\r\n                              <span style={{\r\n                                fontSize: '12px',\r\n                                color: '#6b7280',\r\n                                fontWeight: '400'\r\n                              }}>\r\n                                (\"(Solo imágenes JPG o PNG - Máx. 10MB)\" JPG o PNG - Máx. 10MB)\r\n                              </span>\r\n                            </h4>\r\n                            {/* Aviso importante sobre PDFs */}\r\n                            <div style={{\r\n                              padding: '15px',\r\n                              background: '#fef3c7',\r\n                              border: '2px solid #f59e0b',\r\n                              borderRadius: '8px',\r\n                              marginBottom: '20px'\r\n                            }}>\r\n                              <h4 style={{ margin: '0 0 10px 0', color: '#92400e', fontSize: '16px' }}>\r\n                                📸 IMPORTANTE: Solo se aceptan IMÁGENES\r\n                              </h4>\r\n                              <p style={{ margin: '0 0 10px 0', fontSize: '14px', color: '#78350f' }}>\r\n                                Los archivos PDF no están soportados. Si tienes documentos en PDF:\r\n                              </p>\r\n                              <ol style={{ margin: '0', paddingLeft: '20px', fontSize: '14px', color: '#78350f' }}>\r\n                                <li>📱 Toma una <strong>FOTO</strong> del documento con tu celular</li>\r\n                                <li>💻 Haz una <strong>CAPTURA DE PANTALLA</strong> del PDF</li>\r\n                                <li>🔄 Convierte el PDF a JPG en: <a href=\"https://www.ilovepdf.com/pdf_to_jpg\" target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: '#f59e0b' }}>iLovePDF.com</a></li>\r\n                              </ol>\r\n                            </div>\r\n                            <div style={{\r\n                              display: 'grid',\r\n                              gridTemplateColumns: `repeat(auto-fit, minmax(${isMobile ? '100%' : '280px'}, 1fr))`,\r\n                              gap: '15px'\r\n                            }}>\r\n                              {/* Permiso de Circulación */}\r\n                              <div style={{\r\n                                border: '1px solid #e5e7eb',\r\n                                borderRadius: '8px',\r\n                                padding: '15px',\r\n                                background: vehicleFormData.documentos?.permisoCirculacion?.url ? '#f0fdf4' : 'white'\r\n                              }}>\r\n                                <div style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  justifyContent: 'space-between',\r\n                                  marginBottom: '10px'\r\n                                }}>\r\n                                  <h5 style={{\r\n                                    margin: 0,\r\n                                    fontSize: '13px',\r\n                                    fontWeight: '600',\r\n                                    color: '#374151'\r\n                                  }}>\r\n                                    📋 Permiso Circulación\r\n                                  </h5>\r\n                                  {vehicleFormData.documentos?.permisoCirculacion?.url && (\r\n                                    <span style={{\r\n                                      fontSize: '10px',\r\n                                      padding: '2px 6px',\r\n                                      background: '#22c55e',\r\n                                      color: 'white',\r\n                                      borderRadius: '4px'\r\n                                    }}>\r\n                                      ✓ Cargado\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n\r\n                                {vehicleFormData.documentos?.permisoCirculacion?.url ? (\r\n                                  <div>\r\n                                    <div style={{\r\n                                      padding: '8px',\r\n                                      background: '#f9fafb',\r\n                                      borderRadius: '6px',\r\n                                      marginBottom: '8px',\r\n                                      fontSize: '12px'\r\n                                    }}>\r\n                                      <div style={{\r\n                                        fontWeight: '500',\r\n                                        color: '#1f2937',\r\n                                        marginBottom: '3px',\r\n                                        overflow: 'hidden',\r\n                                        textOverflow: 'ellipsis',\r\n                                        whiteSpace: 'nowrap'\r\n                                      }}>\r\n                                        {vehicleFormData.documentos.permisoCirculacion.nombre}\r\n                                      </div>\r\n                                      <div style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                                        {new Date(vehicleFormData.documentos.permisoCirculacion.fecha).toLocaleDateString('es-CL')}\r\n                                      </div>\r\n                                    </div>\r\n                                    <div style={{ display: 'flex', gap: '8px' }}>\r\n\r\n                                      <a href={vehicleFormData.documentos.permisoCirculacion.url}\r\n                                        target=\"_blank\"\r\n                                        rel=\"noopener noreferrer\"\r\n                                        style={{\r\n                                          flex: 1,\r\n                                          padding: '6px',\r\n                                          background: '#3b82f6',\r\n                                          color: 'white',\r\n                                          textAlign: 'center',\r\n                                          borderRadius: '6px',\r\n                                          textDecoration: 'none',\r\n                                          fontSize: '12px'\r\n                                        }}\r\n                                      >\r\n                                        👁️ Ver\r\n                                      </a>\r\n\r\n                                      <button\r\n                                        type=\"button\"\r\n                                        onClick={() => handleDeleteDocument('permisoCirculacion')}\r\n                                        style={{\r\n                                          flex: 1,\r\n                                          padding: '6px',\r\n                                          background: '#ef4444',\r\n                                          color: 'white',\r\n                                          border: 'none',\r\n                                          borderRadius: '6px',\r\n                                          cursor: 'pointer',\r\n                                          fontSize: '12px'\r\n                                        }}\r\n                                      >\r\n                                        🗑️ Eliminar\r\n                                      </button>\r\n                                    </div>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div>\r\n                                    <input\r\n                                      type=\"file\"\r\n                                      id=\"permisoCirculacion\"\r\n                                      accept=\".jpg,.jpeg,.png\"\r\n                                      onChange={(e) => handleFileUpload(e.target.files[0], 'permisoCirculacion', editingVehicle?.id)}\r\n                                      style={{ display: 'none' }}\r\n                                    />\r\n                                    <label\r\n                                      htmlFor=\"permisoCirculacion\"\r\n                                      style={{\r\n                                        display: 'block',\r\n                                        padding: '20px 10px',\r\n                                        background: '#f9fafb',\r\n                                        border: '2px dashed #d1d5db',\r\n                                        borderRadius: '6px',\r\n                                        textAlign: 'center',\r\n                                        cursor: 'pointer',\r\n                                        fontSize: '12px',\r\n                                        color: '#6b7280',\r\n                                        transition: 'all 0.2s'\r\n                                      }}\r\n                                      onMouseEnter={(e) => {\r\n                                        e.currentTarget.style.borderColor = '#3b82f6';\r\n                                        e.currentTarget.style.background = '#eff6ff';\r\n                                      }}\r\n                                      onMouseLeave={(e) => {\r\n                                        e.currentTarget.style.borderColor = '#d1d5db';\r\n                                        e.currentTarget.style.background = '#f9fafb';\r\n                                      }}\r\n                                    >\r\n                                      {uploadProgress.permisoCirculacion ? (\r\n                                        <div>\r\n                                          <div style={{ marginBottom: '5px' }}>\r\n                                            Subiendo... {uploadProgress.permisoCirculacion}%\r\n                                          </div>\r\n                                          <div style={{\r\n                                            width: '100%',\r\n                                            height: '4px',\r\n                                            background: '#e5e7eb',\r\n                                            borderRadius: '2px',\r\n                                            overflow: 'hidden'\r\n                                          }}>\r\n                                            <div style={{\r\n                                              width: `${uploadProgress.permisoCirculacion}%`,\r\n                                              height: '100%',\r\n                                              background: '#3b82f6',\r\n                                              transition: 'width 0.3s'\r\n                                            }} />\r\n                                          </div>\r\n                                        </div>\r\n                                      ) : (\r\n                                        <>\r\n                                          <div style={{ fontSize: '20px', marginBottom: '5px' }}>📤</div>\r\n                                          <div>Click para subir</div>\r\n                                        </>\r\n                                      )}\r\n                                    </label>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n\r\n                              {/* Certificado/Foto del Extintor */}\r\n                              <div style={{\r\n                                border: '1px solid #e5e7eb',\r\n                                borderRadius: '8px',\r\n                                padding: '15px',\r\n                                background: vehicleFormData.documentos?.extintor?.url ? '#f0fdf4' : 'white'\r\n                              }}>\r\n                                <div style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  justifyContent: 'space-between',\r\n                                  marginBottom: '10px'\r\n                                }}>\r\n                                  <h5 style={{\r\n                                    margin: 0,\r\n                                    fontSize: '13px',\r\n                                    fontWeight: '600',\r\n                                    color: '#374151'\r\n                                  }}>\r\n                                    🧯 Certificado de Extintor\r\n                                  </h5>\r\n                                  {vehicleFormData.documentos?.extintor?.url && (\r\n                                    <span style={{\r\n                                      fontSize: '10px',\r\n                                      padding: '2px 6px',\r\n                                      background: '#22c55e',\r\n                                      color: 'white',\r\n                                      borderRadius: '4px'\r\n                                    }}>\r\n                                      ✓ Cargado\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n\r\n                                {vehicleFormData.documentos?.extintor?.url ? (\r\n                                  <div>\r\n                                    <div style={{\r\n                                      padding: '8px',\r\n                                      background: '#f9fafb',\r\n                                      borderRadius: '6px',\r\n                                      marginBottom: '8px',\r\n                                      fontSize: '12px'\r\n                                    }}>\r\n                                      <div style={{\r\n                                        fontWeight: '500',\r\n                                        color: '#1f2937',\r\n                                        marginBottom: '3px',\r\n                                        overflow: 'hidden',\r\n                                        textOverflow: 'ellipsis',\r\n                                        whiteSpace: 'nowrap'\r\n                                      }}>\r\n                                        {vehicleFormData.documentos.extintor.nombre}\r\n                                      </div>\r\n                                      <div style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                                        {new Date(vehicleFormData.documentos.extintor.fecha).toLocaleDateString('es-CL')}\r\n                                      </div>\r\n                                    </div>\r\n                                    <div style={{ display: 'flex', gap: '8px' }}>\r\n                                      <a href={vehicleFormData.documentos.extintor.url}\r\n                                        target=\"_blank\"\r\n                                        rel=\"noopener noreferrer\"\r\n                                        style={{\r\n                                          flex: 1,\r\n                                          padding: '6px',\r\n                                          background: '#3b82f6',\r\n                                          color: 'white',\r\n                                          textAlign: 'center',\r\n                                          borderRadius: '6px',\r\n                                          textDecoration: 'none',\r\n                                          fontSize: '12px'\r\n                                        }}\r\n                                      >\r\n                                        👁️ Ver\r\n                                      </a>\r\n                                      <button\r\n                                        type=\"button\"\r\n                                        onClick={() => handleDeleteDocument('extintor')}\r\n                                        style={{\r\n                                          flex: 1,\r\n                                          padding: '6px',\r\n                                          background: '#ef4444',\r\n                                          color: 'white',\r\n                                          border: 'none',\r\n                                          borderRadius: '6px',\r\n                                          cursor: 'pointer',\r\n                                          fontSize: '12px'\r\n                                        }}\r\n                                      >\r\n                                        🗑️ Eliminar\r\n                                      </button>\r\n                                    </div>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div>\r\n                                    <input\r\n                                      type=\"file\"\r\n                                      id=\"extintor\"\r\n                                      accept=\".jpg,.jpeg,.png\"\r\n                                      onChange={(e) => handleFileUpload(e.target.files[0], 'extintor', editingVehicle?.id)}\r\n                                      style={{ display: 'none' }}\r\n                                    />\r\n                                    <label\r\n                                      htmlFor=\"extintor\"\r\n                                      style={{\r\n                                        display: 'block',\r\n                                        padding: '20px 10px',\r\n                                        background: '#f9fafb',\r\n                                        border: '2px dashed #d1d5db',\r\n                                        borderRadius: '6px',\r\n                                        textAlign: 'center',\r\n                                        cursor: 'pointer',\r\n                                        fontSize: '12px',\r\n                                        color: '#6b7280',\r\n                                        transition: 'all 0.2s'\r\n                                      }}\r\n                                      onMouseEnter={(e) => {\r\n                                        e.currentTarget.style.borderColor = '#3b82f6';\r\n                                        e.currentTarget.style.background = '#eff6ff';\r\n                                      }}\r\n                                      onMouseLeave={(e) => {\r\n                                        e.currentTarget.style.borderColor = '#d1d5db';\r\n                                        e.currentTarget.style.background = '#f9fafb';\r\n                                      }}\r\n                                    >\r\n                                      {uploadProgress.extintor ? (\r\n                                        <div>\r\n                                          <div style={{ marginBottom: '5px' }}>\r\n                                            Subiendo... {uploadProgress.extintor}%\r\n                                          </div>\r\n                                          <div style={{\r\n                                            width: '100%',\r\n                                            height: '4px',\r\n                                            background: '#e5e7eb',\r\n                                            borderRadius: '2px',\r\n                                            overflow: 'hidden'\r\n                                          }}>\r\n                                            <div style={{\r\n                                              width: `${uploadProgress.extintor}%`,\r\n                                              height: '100%',\r\n                                              background: '#3b82f6',\r\n                                              transition: 'width 0.3s'\r\n                                            }} />\r\n                                          </div>\r\n                                        </div>\r\n                                      ) : (\r\n                                        <>\r\n                                          <div style={{ fontSize: '20px', marginBottom: '5px' }}>📤</div>\r\n                                          <div>Click para subir</div>\r\n                                          <div style={{ fontSize: '11px', marginTop: '5px', color: '#9ca3af' }}>\r\n                                            Foto del extintor y etiqueta de vencimiento\r\n                                          </div>\r\n                                        </>\r\n                                      )}\r\n                                    </label>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n\r\n                              {/* Revisión Técnica */}\r\n                              <div style={{\r\n                                border: '1px solid #e5e7eb',\r\n                                borderRadius: '8px',\r\n                                padding: '15px',\r\n                                background: vehicleFormData.documentos?.revisionTecnica?.url ? '#f0fdf4' : 'white'\r\n                              }}>\r\n                                <div style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  justifyContent: 'space-between',\r\n                                  marginBottom: '10px'\r\n                                }}>\r\n                                  <h5 style={{\r\n                                    margin: 0,\r\n                                    fontSize: '13px',\r\n                                    fontWeight: '600',\r\n                                    color: '#374151'\r\n                                  }}>\r\n                                    🔧 Revisión Técnica\r\n                                  </h5>\r\n                                  {vehicleFormData.documentos?.revisionTecnica?.url && (\r\n                                    <span style={{\r\n                                      fontSize: '10px',\r\n                                      padding: '2px 6px',\r\n                                      background: '#22c55e',\r\n                                      color: 'white',\r\n                                      borderRadius: '4px'\r\n                                    }}>\r\n                                      ✓ Cargado\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n\r\n                                {vehicleFormData.documentos?.revisionTecnica?.url ? (\r\n                                  <div>\r\n                                    <div style={{\r\n                                      padding: '8px',\r\n                                      background: '#f9fafb',\r\n                                      borderRadius: '6px',\r\n                                      marginBottom: '8px',\r\n                                      fontSize: '12px'\r\n                                    }}>\r\n                                      <div style={{\r\n                                        fontWeight: '500',\r\n                                        color: '#1f2937',\r\n                                        marginBottom: '3px',\r\n                                        overflow: 'hidden',\r\n                                        textOverflow: 'ellipsis',\r\n                                        whiteSpace: 'nowrap'\r\n                                      }}>\r\n                                        {vehicleFormData.documentos.revisionTecnica.nombre}\r\n                                      </div>\r\n                                      <div style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                                        {new Date(vehicleFormData.documentos.revisionTecnica.fecha).toLocaleDateString('es-CL')}\r\n                                      </div>\r\n                                    </div>\r\n                                    <div style={{ display: 'flex', gap: '8px' }}>\r\n\r\n                                      <a href={vehicleFormData.documentos.revisionTecnica.url}\r\n                                        target=\"_blank\"\r\n                                        rel=\"noopener noreferrer\"\r\n                                        style={{\r\n                                          flex: 1,\r\n                                          padding: '6px',\r\n                                          background: '#3b82f6',\r\n                                          color: 'white',\r\n                                          textAlign: 'center',\r\n                                          borderRadius: '6px',\r\n                                          textDecoration: 'none',\r\n                                          fontSize: '12px'\r\n                                        }}\r\n                                      >\r\n                                        👁️ Ver\r\n                                      </a>\r\n                                      <button\r\n                                        type=\"button\"\r\n                                        onClick={() => handleDeleteDocument('revisionTecnica')}\r\n                                        style={{\r\n                                          flex: 1,\r\n                                          padding: '6px',\r\n                                          background: '#ef4444',\r\n                                          color: 'white',\r\n                                          border: 'none',\r\n                                          borderRadius: '6px',\r\n                                          cursor: 'pointer',\r\n                                          fontSize: '12px'\r\n                                        }}\r\n                                      >\r\n                                        🗑️ Eliminar\r\n                                      </button>\r\n                                    </div>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div>\r\n                                    <input\r\n                                      type=\"file\"\r\n                                      id=\"revisionTecnica\"\r\n                                      accept=\".jpg,.jpeg,.png\"\r\n                                      onChange={(e) => handleFileUpload(e.target.files[0], 'revisionTecnica', editingVehicle?.id)}\r\n                                      style={{ display: 'none' }}\r\n                                    />\r\n                                    <label\r\n                                      htmlFor=\"revisionTecnica\"\r\n                                      style={{\r\n                                        display: 'block',\r\n                                        padding: '20px 10px',\r\n                                        background: '#f9fafb',\r\n                                        border: '2px dashed #d1d5db',\r\n                                        borderRadius: '6px',\r\n                                        textAlign: 'center',\r\n                                        cursor: 'pointer',\r\n                                        fontSize: '12px',\r\n                                        color: '#6b7280',\r\n                                        transition: 'all 0.2s'\r\n                                      }}\r\n                                      onMouseEnter={(e) => {\r\n                                        e.currentTarget.style.borderColor = '#3b82f6';\r\n                                        e.currentTarget.style.background = '#eff6ff';\r\n                                      }}\r\n                                      onMouseLeave={(e) => {\r\n                                        e.currentTarget.style.borderColor = '#d1d5db';\r\n                                        e.currentTarget.style.background = '#f9fafb';\r\n                                      }}\r\n                                    >\r\n                                      <div style={{ fontSize: '20px', marginBottom: '5px' }}>📤</div>\r\n                                      <div>Click para subir</div>\r\n                                    </label>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n\r\n                              {/* Certificado de Gases */}\r\n                              <div style={{\r\n                                border: '1px solid #e5e7eb',\r\n                                borderRadius: '8px',\r\n                                padding: '15px',\r\n                                background: vehicleFormData.documentos?.certificadoGases?.url ? '#f0fdf4' : 'white'\r\n                              }}>\r\n                                <div style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  justifyContent: 'space-between',\r\n                                  marginBottom: '10px'\r\n                                }}>\r\n                                  <h5 style={{\r\n                                    margin: 0,\r\n                                    fontSize: '13px',\r\n                                    fontWeight: '600',\r\n                                    color: '#374151'\r\n                                  }}>\r\n                                    💨 Certificado de Gases\r\n                                  </h5>\r\n                                  {vehicleFormData.documentos?.certificadoGases?.url && (\r\n                                    <span style={{\r\n                                      fontSize: '10px',\r\n                                      padding: '2px 6px',\r\n                                      background: '#22c55e',\r\n                                      color: 'white',\r\n                                      borderRadius: '4px'\r\n                                    }}>\r\n                                      ✓ Cargado\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n\r\n                                {vehicleFormData.documentos?.certificadoGases?.url ? (\r\n                                  <div>\r\n                                    <div style={{\r\n                                      padding: '8px',\r\n                                      background: '#f9fafb',\r\n                                      borderRadius: '6px',\r\n                                      marginBottom: '8px',\r\n                                      fontSize: '12px'\r\n                                    }}>\r\n                                      <div style={{\r\n                                        fontWeight: '500',\r\n                                        color: '#1f2937',\r\n                                        marginBottom: '3px',\r\n                                        overflow: 'hidden',\r\n                                        textOverflow: 'ellipsis',\r\n                                        whiteSpace: 'nowrap'\r\n                                      }}>\r\n                                        {vehicleFormData.documentos.certificadoGases.nombre}\r\n                                      </div>\r\n                                      <div style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                                        {new Date(vehicleFormData.documentos.certificadoGases.fecha).toLocaleDateString('es-CL')}\r\n                                      </div>\r\n                                    </div>\r\n                                    <div style={{ display: 'flex', gap: '8px' }}>\r\n\r\n                                      <a href={vehicleFormData.documentos.certificadoGases.url}\r\n                                        target=\"_blank\"\r\n                                        rel=\"noopener noreferrer\"\r\n                                        style={{\r\n                                          flex: 1,\r\n                                          padding: '6px',\r\n                                          background: '#3b82f6',\r\n                                          color: 'white',\r\n                                          textAlign: 'center',\r\n                                          borderRadius: '6px',\r\n                                          textDecoration: 'none',\r\n                                          fontSize: '12px'\r\n                                        }}\r\n                                      >\r\n                                        👁️ Ver\r\n                                      </a>\r\n                                      <button\r\n                                        type=\"button\"\r\n                                        onClick={() => handleDeleteDocument('certificadoGases')}\r\n                                        style={{\r\n                                          flex: 1,\r\n                                          padding: '6px',\r\n                                          background: '#ef4444',\r\n                                          color: 'white',\r\n                                          border: 'none',\r\n                                          borderRadius: '6px',\r\n                                          cursor: 'pointer',\r\n                                          fontSize: '12px'\r\n                                        }}\r\n                                      >\r\n                                        🗑️ Eliminar\r\n                                      </button>\r\n                                    </div>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div>\r\n                                    <input\r\n                                      type=\"file\"\r\n                                      id=\"certificadoGases\"\r\n                                      accept=\".jpg,.jpeg,.png\"\r\n                                      onChange={(e) => handleFileUpload(e.target.files[0], 'certificadoGases', editingVehicle?.id)}\r\n                                      style={{ display: 'none' }}\r\n                                    />\r\n                                    <label\r\n                                      htmlFor=\"certificadoGases\"\r\n                                      style={{\r\n                                        display: 'block',\r\n                                        padding: '20px 10px',\r\n                                        background: '#f9fafb',\r\n                                        border: '2px dashed #d1d5db',\r\n                                        borderRadius: '6px',\r\n                                        textAlign: 'center',\r\n                                        cursor: 'pointer',\r\n                                        fontSize: '12px',\r\n                                        color: '#6b7280',\r\n                                        transition: 'all 0.2s'\r\n                                      }}\r\n                                      onMouseEnter={(e) => {\r\n                                        e.currentTarget.style.borderColor = '#3b82f6';\r\n                                        e.currentTarget.style.background = '#eff6ff';\r\n                                      }}\r\n                                      onMouseLeave={(e) => {\r\n                                        e.currentTarget.style.borderColor = '#d1d5db';\r\n                                        e.currentTarget.style.background = '#f9fafb';\r\n                                      }}\r\n                                    >\r\n                                      <div style={{ fontSize: '20px', marginBottom: '5px' }}>📤</div>\r\n                                      <div>Click para subir</div>\r\n                                    </label>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n\r\n                              {/* SOAP */}\r\n                              <div style={{\r\n                                border: '1px solid #e5e7eb',\r\n                                borderRadius: '8px',\r\n                                padding: '15px',\r\n                                background: vehicleFormData.documentos?.soap?.url ? '#f0fdf4' : 'white'\r\n                              }}>\r\n                                <div style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  justifyContent: 'space-between',\r\n                                  marginBottom: '10px'\r\n                                }}>\r\n                                  <h5 style={{\r\n                                    margin: 0,\r\n                                    fontSize: '13px',\r\n                                    fontWeight: '600',\r\n                                    color: '#374151'\r\n                                  }}>\r\n                                    🛡️ SOAP\r\n                                  </h5>\r\n                                  {vehicleFormData.documentos?.soap?.url && (\r\n                                    <span style={{\r\n                                      fontSize: '10px',\r\n                                      padding: '2px 6px',\r\n                                      background: '#22c55e',\r\n                                      color: 'white',\r\n                                      borderRadius: '4px'\r\n                                    }}>\r\n                                      ✓ Cargado\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n\r\n                                {vehicleFormData.documentos?.soap?.url ? (\r\n                                  <div>\r\n                                    <div style={{\r\n                                      padding: '8px',\r\n                                      background: '#f9fafb',\r\n                                      borderRadius: '6px',\r\n                                      marginBottom: '8px',\r\n                                      fontSize: '12px'\r\n                                    }}>\r\n                                      <div style={{\r\n                                        fontWeight: '500',\r\n                                        color: '#1f2937',\r\n                                        marginBottom: '3px',\r\n                                        overflow: 'hidden',\r\n                                        textOverflow: 'ellipsis',\r\n                                        whiteSpace: 'nowrap'\r\n                                      }}>\r\n                                        {vehicleFormData.documentos.soap.nombre}\r\n                                      </div>\r\n                                      <div style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                                        {new Date(vehicleFormData.documentos.soap.fecha).toLocaleDateString('es-CL')}\r\n                                      </div>\r\n                                    </div>\r\n                                    <div style={{ display: 'flex', gap: '8px' }}>\r\n\r\n                                      <a href={vehicleFormData.documentos.soap.url}\r\n                                        target=\"_blank\"\r\n                                        rel=\"noopener noreferrer\"\r\n                                        style={{\r\n                                          flex: 1,\r\n                                          padding: '6px',\r\n                                          background: '#3b82f6',\r\n                                          color: 'white',\r\n                                          textAlign: 'center',\r\n                                          borderRadius: '6px',\r\n                                          textDecoration: 'none',\r\n                                          fontSize: '12px'\r\n                                        }}\r\n                                      >\r\n                                        👁️ Ver\r\n                                      </a>\r\n                                      <button\r\n                                        type=\"button\"\r\n                                        onClick={() => handleDeleteDocument('soap')}\r\n                                        style={{\r\n                                          flex: 1,\r\n                                          padding: '6px',\r\n                                          background: '#ef4444',\r\n                                          color: 'white',\r\n                                          border: 'none',\r\n                                          borderRadius: '6px',\r\n                                          cursor: 'pointer',\r\n                                          fontSize: '12px'\r\n                                        }}\r\n                                      >\r\n                                        🗑️ Eliminar\r\n                                      </button>\r\n                                    </div>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div>\r\n                                    <input\r\n                                      type=\"file\"\r\n                                      id=\"soap\"\r\n                                      accept=\".jpg,.jpeg,.png\"\r\n                                      onChange={(e) => handleFileUpload(e.target.files[0], 'soap', editingVehicle?.id)}\r\n                                      style={{ display: 'none' }}\r\n                                    />\r\n                                    <label\r\n                                      htmlFor=\"soap\"\r\n                                      style={{\r\n                                        display: 'block',\r\n                                        padding: '20px 10px',\r\n                                        background: '#f9fafb',\r\n                                        border: '2px dashed #d1d5db',\r\n                                        borderRadius: '6px',\r\n                                        textAlign: 'center',\r\n                                        cursor: 'pointer',\r\n                                        fontSize: '12px',\r\n                                        color: '#6b7280',\r\n                                        transition: 'all 0.2s'\r\n                                      }}\r\n                                      onMouseEnter={(e) => {\r\n                                        e.currentTarget.style.borderColor = '#3b82f6';\r\n                                        e.currentTarget.style.background = '#eff6ff';\r\n                                      }}\r\n                                      onMouseLeave={(e) => {\r\n                                        e.currentTarget.style.borderColor = '#d1d5db';\r\n                                        e.currentTarget.style.background = '#f9fafb';\r\n                                      }}\r\n                                    >\r\n                                      <div style={{ fontSize: '20px', marginBottom: '5px' }}>📤</div>\r\n                                      <div>Click para subir</div>\r\n                                    </label>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n\r\n                              {/* Seguro Complementario */}\r\n                              <div style={{\r\n                                border: '1px solid #e5e7eb',\r\n                                borderRadius: '8px',\r\n                                padding: '15px',\r\n                                background: vehicleFormData.documentos?.seguroComplementario?.url ? '#f0fdf4' : 'white'\r\n                              }}>\r\n                                <div style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  justifyContent: 'space-between',\r\n                                  marginBottom: '10px'\r\n                                }}>\r\n                                  <h5 style={{\r\n                                    margin: 0,\r\n                                    fontSize: '13px',\r\n                                    fontWeight: '600',\r\n                                    color: '#374151'\r\n                                  }}>\r\n                                    📑 Seguro Complementario\r\n                                  </h5>\r\n                                  {vehicleFormData.documentos?.seguroComplementario?.url && (\r\n                                    <span style={{\r\n                                      fontSize: '10px',\r\n                                      padding: '2px 6px',\r\n                                      background: '#22c55e',\r\n                                      color: 'white',\r\n                                      borderRadius: '4px'\r\n                                    }}>\r\n                                      ✓ Cargado\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n\r\n                                {vehicleFormData.documentos?.seguroComplementario?.url ? (\r\n                                  <div>\r\n                                    <div style={{\r\n                                      padding: '8px',\r\n                                      background: '#f9fafb',\r\n                                      borderRadius: '6px',\r\n                                      marginBottom: '8px',\r\n                                      fontSize: '12px'\r\n                                    }}>\r\n                                      <div style={{\r\n                                        fontWeight: '500',\r\n                                        color: '#1f2937',\r\n                                        marginBottom: '3px',\r\n                                        overflow: 'hidden',\r\n                                        textOverflow: 'ellipsis',\r\n                                        whiteSpace: 'nowrap'\r\n                                      }}>\r\n                                        {vehicleFormData.documentos.seguroComplementario.nombre}\r\n                                      </div>\r\n                                      <div style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                                        {new Date(vehicleFormData.documentos.seguroComplementario.fecha).toLocaleDateString('es-CL')}\r\n                                      </div>\r\n                                    </div>\r\n                                    <div style={{ display: 'flex', gap: '8px' }}>\r\n\r\n                                      <a href={vehicleFormData.documentos.seguroComplementario.url}\r\n                                        target=\"_blank\"\r\n                                        rel=\"noopener noreferrer\"\r\n                                        style={{\r\n                                          flex: 1,\r\n                                          padding: '6px',\r\n                                          background: '#3b82f6',\r\n                                          color: 'white',\r\n                                          textAlign: 'center',\r\n                                          borderRadius: '6px',\r\n                                          textDecoration: 'none',\r\n                                          fontSize: '12px'\r\n                                        }}\r\n                                      >\r\n                                        👁️ Ver\r\n                                      </a>\r\n                                      <button\r\n                                        type=\"button\"\r\n                                        onClick={() => handleDeleteDocument('seguroComplementario')}\r\n                                        style={{\r\n                                          flex: 1,\r\n                                          padding: '6px',\r\n                                          background: '#ef4444',\r\n                                          color: 'white',\r\n                                          border: 'none',\r\n                                          borderRadius: '6px',\r\n                                          cursor: 'pointer',\r\n                                          fontSize: '12px'\r\n                                        }}\r\n                                      >\r\n                                        🗑️ Eliminar\r\n                                      </button>\r\n                                    </div>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div>\r\n                                    <input\r\n                                      type=\"file\"\r\n                                      id=\"seguroComplementario\"\r\n                                      accept=\".jpg,.jpeg,.png\"\r\n                                      onChange={(e) => handleFileUpload(e.target.files[0], 'seguroComplementario', editingVehicle?.id)}\r\n                                      style={{ display: 'none' }}\r\n                                    />\r\n                                    <label\r\n                                      htmlFor=\"seguroComplementario\"\r\n                                      style={{\r\n                                        display: 'block',\r\n                                        padding: '20px 10px',\r\n                                        background: '#f9fafb',\r\n                                        border: '2px dashed #d1d5db',\r\n                                        borderRadius: '6px',\r\n                                        textAlign: 'center',\r\n                                        cursor: 'pointer',\r\n                                        fontSize: '12px',\r\n                                        color: '#6b7280',\r\n                                        transition: 'all 0.2s'\r\n                                      }}\r\n                                      onMouseEnter={(e) => {\r\n                                        e.currentTarget.style.borderColor = '#3b82f6';\r\n                                        e.currentTarget.style.background = '#eff6ff';\r\n                                      }}\r\n                                      onMouseLeave={(e) => {\r\n                                        e.currentTarget.style.borderColor = '#d1d5db';\r\n                                        e.currentTarget.style.background = '#f9fafb';\r\n                                      }}\r\n                                    >\r\n                                      <div style={{ fontSize: '20px', marginBottom: '5px' }}>📤</div>\r\n                                      <div>Click para subir</div>\r\n                                    </label>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n\r\n                              {/* Padrón Municipal */}\r\n                              <div style={{\r\n                                border: '1px solid #e5e7eb',\r\n                                borderRadius: '8px',\r\n                                padding: '15px',\r\n                                background: vehicleFormData.documentos?.padronMunicipal?.url ? '#f0fdf4' : 'white'\r\n                              }}>\r\n                                <div style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  justifyContent: 'space-between',\r\n                                  marginBottom: '10px'\r\n                                }}>\r\n                                  <h5 style={{\r\n                                    margin: 0,\r\n                                    fontSize: '13px',\r\n                                    fontWeight: '600',\r\n                                    color: '#374151'\r\n                                  }}>\r\n                                    🏛️ Padrón Municipal\r\n                                  </h5>\r\n                                  {vehicleFormData.documentos?.padronMunicipal?.url && (\r\n                                    <span style={{\r\n                                      fontSize: '10px',\r\n                                      padding: '2px 6px',\r\n                                      background: '#22c55e',\r\n                                      color: 'white',\r\n                                      borderRadius: '4px'\r\n                                    }}>\r\n                                      ✓ Cargado\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n\r\n                                {vehicleFormData.documentos?.padronMunicipal?.url ? (\r\n                                  <div>\r\n                                    <div style={{\r\n                                      padding: '8px',\r\n                                      background: '#f9fafb',\r\n                                      borderRadius: '6px',\r\n                                      marginBottom: '8px',\r\n                                      fontSize: '12px'\r\n                                    }}>\r\n                                      <div style={{\r\n                                        fontWeight: '500',\r\n                                        color: '#1f2937',\r\n                                        marginBottom: '3px',\r\n                                        overflow: 'hidden',\r\n                                        textOverflow: 'ellipsis',\r\n                                        whiteSpace: 'nowrap'\r\n                                      }}>\r\n                                        {vehicleFormData.documentos.padronMunicipal.nombre}\r\n                                      </div>\r\n                                      <div style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                                        {new Date(vehicleFormData.documentos.padronMunicipal.fecha).toLocaleDateString('es-CL')}\r\n                                      </div>\r\n                                    </div>\r\n                                    <div style={{ display: 'flex', gap: '8px' }}>\r\n\r\n                                      <a href={vehicleFormData.documentos.padronMunicipal.url}\r\n                                        target=\"_blank\"\r\n                                        rel=\"noopener noreferrer\"\r\n                                        style={{\r\n                                          flex: 1,\r\n                                          padding: '6px',\r\n                                          background: '#3b82f6',\r\n                                          color: 'white',\r\n                                          textAlign: 'center',\r\n                                          borderRadius: '6px',\r\n                                          textDecoration: 'none',\r\n                                          fontSize: '12px'\r\n                                        }}\r\n                                      >\r\n                                        👁️ Ver\r\n                                      </a>\r\n                                      <button\r\n                                        type=\"button\"\r\n                                        onClick={() => handleDeleteDocument('padronMunicipal')}\r\n                                        style={{\r\n                                          flex: 1,\r\n                                          padding: '6px',\r\n                                          background: '#ef4444',\r\n                                          color: 'white',\r\n                                          border: 'none',\r\n                                          borderRadius: '6px',\r\n                                          cursor: 'pointer',\r\n                                          fontSize: '12px'\r\n                                        }}\r\n                                      >\r\n                                        🗑️ Eliminar\r\n                                      </button>\r\n                                    </div>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div>\r\n                                    <input\r\n                                      type=\"file\"\r\n                                      id=\"padronMunicipal\"\r\n                                      accept=\".jpg,.jpeg,.png\"\r\n                                      onChange={(e) => handleFileUpload(e.target.files[0], 'padronMunicipal', editingVehicle?.id)}\r\n                                      style={{ display: 'none' }}\r\n                                    />\r\n                                    <label\r\n                                      htmlFor=\"padronMunicipal\"\r\n                                      style={{\r\n                                        display: 'block',\r\n                                        padding: '20px 10px',\r\n                                        background: '#f9fafb',\r\n                                        border: '2px dashed #d1d5db',\r\n                                        borderRadius: '6px',\r\n                                        textAlign: 'center',\r\n                                        cursor: 'pointer',\r\n                                        fontSize: '12px',\r\n                                        color: '#6b7280',\r\n                                        transition: 'all 0.2s'\r\n                                      }}\r\n                                      onMouseEnter={(e) => {\r\n                                        e.currentTarget.style.borderColor = '#3b82f6';\r\n                                        e.currentTarget.style.background = '#eff6ff';\r\n                                      }}\r\n                                      onMouseLeave={(e) => {\r\n                                        e.currentTarget.style.borderColor = '#d1d5db';\r\n                                        e.currentTarget.style.background = '#f9fafb';\r\n                                      }}\r\n                                    >\r\n                                      <div style={{ fontSize: '20px', marginBottom: '5px' }}>📤</div>\r\n                                      <div>Click para subir</div>\r\n                                    </label>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n\r\n                            {/* Sección de documentos adicionales */}\r\n                            <div style={{\r\n                              marginTop: '20px',\r\n                              padding: '15px',\r\n                              background: 'white',\r\n                              borderRadius: '8px',\r\n                              border: '1px solid #e5e7eb'\r\n                            }}>\r\n                              <h5 style={{\r\n                                margin: '0 0 12px 0',\r\n                                fontSize: '14px',\r\n                                fontWeight: '600',\r\n                                color: '#374151'\r\n                              }}>\r\n                                📂 Otros Documentos\r\n                              </h5>\r\n\r\n                              {/* Lista de documentos adicionales */}\r\n                              {vehicleFormData.documentos?.otros?.length > 0 && (\r\n                                <div style={{ marginBottom: '12px' }}>\r\n                                  {vehicleFormData.documentos.otros.map((doc, index) => (\r\n                                    <div key={index} style={{\r\n                                      padding: '10px',\r\n                                      background: '#f9fafb',\r\n                                      borderRadius: '6px',\r\n                                      marginBottom: '8px',\r\n                                      display: 'flex',\r\n                                      justifyContent: 'space-between',\r\n                                      alignItems: 'center'\r\n                                    }}>\r\n                                      <div style={{ flex: 1, minWidth: 0 }}>\r\n                                        <div style={{\r\n                                          fontWeight: '500',\r\n                                          fontSize: '13px',\r\n                                          color: '#1f2937',\r\n                                          overflow: 'hidden',\r\n                                          textOverflow: 'ellipsis',\r\n                                          whiteSpace: 'nowrap'\r\n                                        }}>\r\n                                          📄 {doc.nombre}\r\n                                        </div>\r\n                                        <div style={{\r\n                                          color: '#6b7280',\r\n                                          fontSize: '11px',\r\n                                          marginTop: '2px'\r\n                                        }}>\r\n                                          {formatFileSize(doc.tamaño)} • {new Date(doc.fecha).toLocaleDateString('es-CL')}\r\n                                        </div>\r\n                                      </div>\r\n                                      <div style={{ display: 'flex', gap: '6px', marginLeft: '10px' }}>\r\n\r\n                                        <a href={doc.url}\r\n                                          target=\"_blank\"\r\n                                          rel=\"noopener noreferrer\"\r\n                                          style={{\r\n                                            padding: '4px 8px',\r\n                                            background: '#3b82f6',\r\n                                            color: 'white',\r\n                                            borderRadius: '4px',\r\n                                            textDecoration: 'none',\r\n                                            fontSize: '11px'\r\n                                          }}\r\n                                        >\r\n                                          Ver\r\n                                        </a>\r\n                                        <button\r\n                                          type=\"button\"\r\n                                          onClick={() => handleDeleteDocument('otros', index)}\r\n                                          style={{\r\n                                            padding: '4px 8px',\r\n                                            background: '#ef4444',\r\n                                            color: 'white',\r\n                                            border: 'none',\r\n                                            borderRadius: '4px',\r\n                                            cursor: 'pointer',\r\n                                            fontSize: '11px'\r\n                                          }}\r\n                                        >\r\n                                          Eliminar\r\n                                        </button>\r\n                                      </div>\r\n                                    </div>\r\n                                  ))}\r\n                                </div>\r\n                              )}\r\n\r\n                              {/* Botón para agregar más documentos */}\r\n                              <div>\r\n                                <input\r\n                                  type=\"file\"\r\n                                  id=\"otrosDocumentos\"\r\n                                  accept=\".jpg,.jpeg,.png\"\r\n                                  onChange={(e) => handleFileUpload(e.target.files[0], 'otros', editingVehicle?.id)}\r\n                                  style={{ display: 'none' }}\r\n                                  disabled={uploadingFile}\r\n                                />\r\n                                <label\r\n                                  htmlFor=\"otrosDocumentos\"\r\n                                  style={{\r\n                                    display: 'inline-block',\r\n                                    padding: '8px 16px',\r\n                                    background: uploadingFile ? '#9ca3af' : '#10b981',\r\n                                    color: 'white',\r\n                                    borderRadius: '6px',\r\n                                    cursor: uploadingFile ? 'not-allowed' : 'pointer',\r\n                                    fontSize: '13px',\r\n                                    fontWeight: '500'\r\n                                  }}\r\n                                >\r\n                                  {uploadingFile ? '⏳ Subiendo...' : '➕ Agregar Documento'}\r\n                                </label>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        {/* SECCIÓN 4: CONTROL DE OPERACIÓN */}\r\n                        <div style={{\r\n                          marginBottom: '25px',\r\n                          paddingBottom: '20px',\r\n                          borderBottom: '1px solid #e5e7eb'\r\n                        }}>\r\n                          <h3 style={{ margin: '0 0 15px 0', color: '#374151', fontSize: '16px' }}>\r\n                            📊 Control de Operación\r\n                          </h3>\r\n                          <div style={{\r\n                            display: 'grid',\r\n                            gridTemplateColumns: `repeat(auto-fit, minmax(${isMobile ? '100%' : '250px'}, 1fr))`,\r\n                            gap: '15px'\r\n                          }}>\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Kilometraje Actual\r\n                              </label>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={vehicleFormData.kilometraje}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, kilometraje: parseInt(e.target.value) })}\r\n                                placeholder=\"0\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Horas de Uso (Maquinaria)\r\n                              </label>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={vehicleFormData.horasUso}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, horasUso: parseInt(e.target.value) })}\r\n                                placeholder=\"0\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Consumo Promedio (L/100km)\r\n                              </label>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={vehicleFormData.consumoPromedio}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, consumoPromedio: parseFloat(e.target.value) })}\r\n                                placeholder=\"0\"\r\n                                step=\"0.1\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                ¿Tiene GPS/Telemetría?\r\n                              </label>\r\n                              <select\r\n                                value={vehicleFormData.tieneGPS}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, tieneGPS: e.target.value === 'true' })}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              >\r\n                                <option value=\"false\">No</option>\r\n                                <option value=\"true\">Sí</option>\r\n                              </select>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* SECCIÓN 5: MANTENIMIENTO */}\r\n                        <div style={{\r\n                          marginBottom: '25px',\r\n                          paddingBottom: '20px',\r\n                          borderBottom: '1px solid #e5e7eb'\r\n                        }}>\r\n                          <h3 style={{ margin: '0 0 15px 0', color: '#374151', fontSize: '16px' }}>\r\n                            🔧 Mantenimiento y Estado\r\n                          </h3>\r\n                          <div style={{\r\n                            display: 'grid',\r\n                            gridTemplateColumns: `repeat(auto-fit, minmax(${isMobile ? '100%' : '250px'}, 1fr))`,\r\n                            gap: '15px'\r\n                          }}>\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Estado Actual *\r\n                              </label>\r\n                              <select\r\n                                required\r\n                                value={vehicleFormData.estado}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, estado: e.target.value })}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              >\r\n                                <option value=\"disponible\">✅ Disponible</option>\r\n                                <option value=\"en_uso\">🔧 En Uso</option>\r\n                                <option value=\"mantenimiento\">🔧 En Mantenimiento</option>\r\n                                <option value=\"fuera_servicio\">❌ Fuera de Servicio</option>\r\n                              </select>\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Última Mantención\r\n                              </label>\r\n                              <input\r\n                                type=\"date\"\r\n                                value={vehicleFormData.ultimoMantenimiento}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, ultimoMantenimiento: e.target.value })}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Próxima Mantención\r\n                              </label>\r\n                              <input\r\n                                type=\"date\"\r\n                                value={vehicleFormData.proximoMantenimiento}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, proximoMantenimiento: e.target.value })}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Taller de Mantención\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                value={vehicleFormData.tallerMantenimiento}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, tallerMantenimiento: e.target.value })}\r\n                                placeholder=\"Nombre del taller\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* SECCIÓN 6: COSTOS Y CICLO DE VIDA */}\r\n                        <div style={{\r\n                          marginBottom: '25px',\r\n                          paddingBottom: '20px',\r\n                          borderBottom: '1px solid #e5e7eb'\r\n                        }}>\r\n                          <h3 style={{ margin: '0 0 15px 0', color: '#374151', fontSize: '16px' }}>\r\n                            💰 Costos y Ciclo de Vida\r\n                          </h3>\r\n                          <div style={{\r\n                            display: 'grid',\r\n                            gridTemplateColumns: `repeat(auto-fit, minmax(${isMobile ? '100%' : '250px'}, 1fr))`,\r\n                            gap: '15px'\r\n                          }}>\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Costo Combustible Mensual (CLP)\r\n                              </label>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={vehicleFormData.costoCombustibleMensual}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, costoCombustibleMensual: parseInt(e.target.value) })}\r\n                                placeholder=\"0\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Costo Seguro Anual (CLP)\r\n                              </label>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={vehicleFormData.costoSeguroAnual}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, costoSeguroAnual: parseInt(e.target.value) })}\r\n                                placeholder=\"0\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Vida Útil Estimada (años)\r\n                              </label>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={vehicleFormData.vidaUtilEstimada}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, vidaUtilEstimada: parseInt(e.target.value) })}\r\n                                placeholder=\"10\"\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              />\r\n                            </div>\r\n\r\n                            <div>\r\n                              <label style={{\r\n                                display: 'block',\r\n                                marginBottom: '6px',\r\n                                color: '#374151',\r\n                                fontSize: '14px',\r\n                                fontWeight: '500'\r\n                              }}>\r\n                                Estado Patrimonial\r\n                              </label>\r\n                              <select\r\n                                value={vehicleFormData.estadoPatrimonial}\r\n                                onChange={(e) => setVehicleFormData({ ...vehicleFormData, estadoPatrimonial: e.target.value })}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '10px',\r\n                                  border: '1px solid #d1d5db',\r\n                                  borderRadius: '6px',\r\n                                  fontSize: '14px'\r\n                                }}\r\n                              >\r\n                                <option value=\"activo\">Activo</option>\r\n                                <option value=\"baja\">Baja</option>\r\n                                <option value=\"en_proceso_baja\">En Proceso de Baja</option>\r\n                              </select>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* OBSERVACIONES GENERALES */}\r\n                        <div style={{ marginBottom: '25px' }}>\r\n                          <label style={{\r\n                            display: 'block',\r\n                            marginBottom: '6px',\r\n                            color: '#374151',\r\n                            fontSize: '14px',\r\n                            fontWeight: '500'\r\n                          }}>\r\n                            📝 Observaciones Generales\r\n                          </label>\r\n                          <textarea\r\n                            value={vehicleFormData.observaciones}\r\n                            onChange={(e) => setVehicleFormData({ ...vehicleFormData, observaciones: e.target.value })}\r\n                            placeholder=\"Notas adicionales sobre el vehículo...\"\r\n                            rows={4}\r\n                            style={{\r\n                              width: '100%',\r\n                              padding: '10px',\r\n                              border: '1px solid #d1d5db',\r\n                              borderRadius: '6px',\r\n                              fontSize: '14px'\r\n                            }}\r\n                          />\r\n                        </div>\r\n\r\n                        {/* BOTONES DE ACCIÓN */}\r\n                        <div style={{ display: 'flex', gap: '10px' }}>\r\n                          <button\r\n                            type=\"submit\"\r\n                            disabled={loading}\r\n                            style={{\r\n                              padding: '12px 24px',\r\n                              background: loading ? '#9ca3af' : '#22c55e',\r\n                              color: 'white',\r\n                              border: 'none',\r\n                              borderRadius: '6px',\r\n                              fontSize: '16px',\r\n                              fontWeight: '500',\r\n                              cursor: loading ? 'not-allowed' : 'pointer'\r\n                            }}\r\n                          >\r\n                            {loading ? 'Guardando...' : editingVehicle ? '✅ Actualizar Vehículo' : '✅ Registrar Vehículo'}\r\n                          </button>\r\n\r\n                          {editingVehicle && (\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => {\r\n                                setEditingVehicle(null);\r\n                                setShowVehicleForm(false);\r\n                                // Resetear formulario con todos los campos nuevos\r\n                                setVehicleFormData({\r\n                                  // ... todos los campos iniciales\r\n                                });\r\n                              }}\r\n                              style={{\r\n                                padding: '12px 24px',\r\n                                background: '#6b7280',\r\n                                color: 'white',\r\n                                border: 'none',\r\n                                borderRadius: '6px',\r\n                                fontSize: '16px',\r\n                                fontWeight: '500',\r\n                                cursor: 'pointer'\r\n                              }}\r\n                            >\r\n                              Cancelar Edición\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Lista de vehículos */}\r\n                  <div style={{\r\n                    background: 'white',\r\n                    borderRadius: '12px',\r\n                    boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n                    overflow: 'hidden'\r\n                  }}>\r\n                    <div style={{\r\n                      padding: '20px',\r\n                      borderBottom: '1px solid #e5e7eb'\r\n                    }}>\r\n                      <h2 style={{ margin: 0, color: '#1f2937', fontSize: '20px' }}>\r\n                        🚛 Lista de Vehículos y Maquinaria\r\n                      </h2>\r\n                    </div>\r\n\r\n                    <div style={{ overflowX: 'auto' }}>\r\n                      <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                        <thead>\r\n                          <tr style={{ background: '#f9fafb' }}>\r\n                            <th style={{ padding: '12px 20px', textAlign: 'left', fontSize: '14px', fontWeight: '600', color: '#374151' }}>\r\n                              Nombre\r\n                            </th>\r\n                            <th style={{ padding: '12px 20px', textAlign: 'left', fontSize: '14px', fontWeight: '600', color: '#374151' }}>\r\n                              Tipo\r\n                            </th>\r\n                            <th style={{ padding: '12px 20px', textAlign: 'left', fontSize: '14px', fontWeight: '600', color: '#374151' }}>\r\n                              Marca/Modelo\r\n                            </th>\r\n                            <th style={{ padding: '12px 20px', textAlign: 'left', fontSize: '14px', fontWeight: '600', color: '#374151' }}>\r\n                              Estado\r\n                            </th>\r\n                            <th style={{ padding: '12px 20px', textAlign: 'center', fontSize: '14px', fontWeight: '600', color: '#374151' }}>\r\n                              Acciones\r\n                            </th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {vehiculos.map((vehiculo) => (\r\n                            <tr key={vehiculo.id} style={{ borderBottom: '1px solid #e5e7eb' }}>\r\n                              <td style={{ padding: '16px 20px', fontSize: '14px', color: '#1f2937', fontWeight: '500' }}>\r\n                                {vehiculo.nombre}\r\n                              </td>\r\n                              <td style={{ padding: '16px 20px' }}>\r\n                                <span style={{\r\n                                  padding: '4px 8px',\r\n                                  borderRadius: '4px',\r\n                                  fontSize: '12px',\r\n                                  fontWeight: '500',\r\n                                  background: '#e0f2fe',\r\n                                  color: '#075985'\r\n                                }}>\r\n                                  {(() => {\r\n                                    const tipo = tiposVehiculo.find(t => t.id === vehiculo.tipo);\r\n                                    return tipo ? `${tipo.icon} ${tipo.nombre}` : vehiculo.tipo;\r\n                                  })()}\r\n                                </span>\r\n                              </td>\r\n                              <td style={{ padding: '16px 20px', fontSize: '14px', color: '#6b7280' }}>\r\n                                {vehiculo.marca} {vehiculo.modelo}\r\n                              </td>\r\n                              <td style={{ padding: '16px 20px' }}>\r\n                                <span style={{\r\n                                  padding: '4px 8px',\r\n                                  borderRadius: '4px',\r\n                                  fontSize: '12px',\r\n                                  fontWeight: '500',\r\n                                  background: vehiculo.estado === 'disponible' ? '#dcfce7' :\r\n                                    vehiculo.estado === 'en_uso' ? '#dbeafe' :\r\n                                      vehiculo.estado === 'mantenimiento' ? '#fef3c7' : '#fee2e2',\r\n                                  color: vehiculo.estado === 'disponible' ? '#15803d' :\r\n                                    vehiculo.estado === 'en_uso' ? '#1e40af' :\r\n                                      vehiculo.estado === 'mantenimiento' ? '#92400e' : '#991b1b'\r\n                                }}>\r\n                                  {vehiculo.estado === 'disponible' ? '✅ Disponible' :\r\n                                    vehiculo.estado === 'en_uso' ? '🔧 En Uso' :\r\n                                      vehiculo.estado === 'mantenimiento' ? '🔧 Mantenimiento' : '❌ Fuera Servicio'}\r\n                                </span>\r\n                              </td>\r\n                              <td style={{ padding: '16px 20px', textAlign: 'center' }}>\r\n                                <div style={{ display: 'flex', gap: '8px', justifyContent: 'center', flexWrap: 'wrap' }}>\r\n                                  {/* Botón de habilitar/deshabilitar */}\r\n                                  <button\r\n                                    onClick={() => handleToggleVehicleStatus(vehiculo.id)}\r\n                                    style={{\r\n                                      padding: '6px 12px',\r\n                                      background: vehiculo.habilitado !== false ? '#f59e0b' : '#22c55e',\r\n                                      color: 'white',\r\n                                      border: 'none',\r\n                                      borderRadius: '4px',\r\n                                      fontSize: '12px',\r\n                                      cursor: 'pointer'\r\n                                    }}\r\n                                    title={vehiculo.habilitado !== false ? 'Deshabilitar vehículo' : 'Habilitar vehículo'}\r\n                                  >\r\n                                    {vehiculo.habilitado !== false ? '🚫 Deshabilitar' : '✅ Habilitar'}\r\n                                  </button>\r\n\r\n                                  {/* Botón de editar */}\r\n                                  <button\r\n                                    onClick={() => handleEditVehicle(vehiculo)}\r\n                                    style={{\r\n                                      padding: '6px 12px',\r\n                                      background: '#3b82f6',\r\n                                      color: 'white',\r\n                                      border: 'none',\r\n                                      borderRadius: '4px',\r\n                                      fontSize: '12px',\r\n                                      cursor: 'pointer'\r\n                                    }}\r\n                                  >\r\n                                    ✏️ Editar\r\n                                  </button>\r\n\r\n                                  {/* Botón de eliminar (solo si está deshabilitado) */}\r\n                                  {vehiculo.habilitado === false ? (\r\n                                    <button\r\n                                      onClick={() => handleDeleteVehicle(vehiculo.id)}\r\n                                      style={{\r\n                                        padding: '6px 12px',\r\n                                        background: '#ef4444',\r\n                                        color: 'white',\r\n                                        border: 'none',\r\n                                        borderRadius: '4px',\r\n                                        fontSize: '12px',\r\n                                        cursor: 'pointer'\r\n                                      }}\r\n                                    >\r\n                                      🗑️ Eliminar\r\n                                    </button>\r\n                                  ) : (\r\n                                    <button\r\n                                      disabled\r\n                                      style={{\r\n                                        padding: '6px 12px',\r\n                                        background: '#d1d5db',\r\n                                        color: '#9ca3af',\r\n                                        border: 'none',\r\n                                        borderRadius: '4px',\r\n                                        fontSize: '12px',\r\n                                        cursor: 'not-allowed'\r\n                                      }}\r\n                                      title=\"Deshabilitar vehículo primero para eliminar\"\r\n                                    >\r\n                                      🗑️ Eliminar\r\n                                    </button>\r\n                                  )}\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n\r\n                      {vehiculos.length === 0 && (\r\n                        <div style={{\r\n                          padding: '40px',\r\n                          textAlign: 'center',\r\n                          color: '#6b7280'\r\n                        }}>\r\n                          No hay vehículos registrados. Haz clic en \"Registrar Nuevo Vehículo\" para comenzar.\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </>\r\n\r\n              )}\r\n              {/* CONTENIDO DE TRABAJADORES */}\r\n              {activeTab === 'workers' && (\r\n                <>\r\n                  <h1 style={{\r\n                    margin: '0 0 30px 0',\r\n                    color: '#1e293b',\r\n                    fontSize: '28px',\r\n                    fontWeight: '600'\r\n                  }}>\r\n                    👷 Gestión de Trabajadores\r\n                  </h1>\r\n\r\n                  {/* Lista de trabajadores de Realtime Database */}\r\n                  <div style={{\r\n                    display: 'grid',\r\n                    gridTemplateColumns: `repeat(auto-fill, minmax(${isMobile ? '100%' : '350px'}, 1fr))`,\r\n                    gap: '20px'\r\n                  }}>\r\n                    {trabajadores.filter(t => t.role === 'trabajador').map(trabajador => {\r\n                      const vehiculo = vehiculos.find(v => v.operadorAsignado === trabajador.id);\r\n\r\n                      return (\r\n                        <div key={trabajador.id} style={{\r\n                          background: 'white',\r\n                          borderRadius: '12px',\r\n                          padding: '20px',\r\n                          boxShadow: '0 2px 8px rgba(0,0,0,0.05)'\r\n                        }}>\r\n                          <h3 style={{ margin: '0 0 15px 0' }}>\r\n                            👷 {trabajador.nombre}\r\n                          </h3>\r\n                          <div style={{ display: 'grid', gap: '8px', fontSize: '14px' }}>\r\n                            <div>📧 Email: {trabajador.email}</div>\r\n                            <div>📱 Teléfono: {trabajador.telefono || 'N/A'}</div>\r\n                            <div>🚛 Vehículo: {vehiculo?.nombre || 'Sin asignar'}</div>\r\n                            <div>📍 Estado: {trabajador.estado || 'disponible'}</div>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </>\r\n              )}\r\n              {/* MANTENIMIENTOS - Módulo original */}\r\n              {activeTab === 'maintenance' && (\r\n                <VehicleMaintenanceModule\r\n                  vehiculos={vehiculos}\r\n                  currentUser={currentUser}\r\n                  isMobile={isMobile}\r\n                />\r\n              )}\r\n\r\n              {/* SUMINISTROS - Módulo mejorado con pasos */}\r\n              {activeTab === 'supplies' && (\r\n                <PreventiveMaintenanceModule\r\n                  vehiculos={vehiculos}\r\n                  currentUser={currentUser}\r\n                  isMobile={isMobile}\r\n                />\r\n              )}\r\n\r\n              {/* CONTENIDO DE SOLICITUDES */}\r\n              {activeTab === 'solicitudes' && (\r\n                <>\r\n                  <h1 style={{\r\n                    margin: '0 0 30px 0',\r\n                    color: '#1e293b',\r\n                    fontSize: '28px',\r\n                    fontWeight: '600'\r\n                  }}>\r\n                    📋 Gestión de Solicitudes\r\n                  </h1>\r\n\r\n                  {/* Puedes agregar aquí el contenido de solicitudes del código original */}\r\n                  <div style={{\r\n                    background: 'white',\r\n                    padding: '40px',\r\n                    borderRadius: '12px',\r\n                    textAlign: 'center',\r\n                    color: '#6b7280'\r\n                  }}>\r\n                    Contenido de solicitudes aquí...\r\n                  </div>\r\n                </>\r\n              )}\r\n              {/* CONTENIDO DE MANTENIMIENTO */}\r\n\r\n            </>\r\n          )}\r\n        </div>\r\n      </div >\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default SuperAdmin;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}