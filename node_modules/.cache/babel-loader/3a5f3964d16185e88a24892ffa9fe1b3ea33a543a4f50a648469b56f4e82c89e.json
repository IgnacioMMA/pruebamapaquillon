{"ast":null,"code":"// src/components/DashboardTrabajador.js - VERSIÓN MEJORADA CON TODOS LOS DATOS DEL VEHÍCULO\nimport React,{useState,useEffect}from'react';import{database,firestore}from'../config/firebase';import{ref,onValue}from'firebase/database';import{doc,getDoc}from'firebase/firestore';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const DashboardTrabajador=_ref=>{var _vehiculoAsignado$kil,_vehiculoAsignado$kil2,_vehiculoAsignado$kil3;let{currentUser,onLogout,onNavigateToGPS}=_ref;const[vehiculoAsignado,setVehiculoAsignado]=useState(null);const[zonasAsignadas,setZonasAsignadas]=useState([]);const[estadisticas,setEstadisticas]=useState({tareasCompletadas:0,tareasEnProgreso:0,tareasPendientes:0,horasTrabajadas:0,kilometrosRecorridos:0});const[historialRecorridos,setHistorialRecorridos]=useState([]);const[loading,setLoading]=useState(true);const[isMobile,setIsMobile]=useState(false);const[activeSection,setActiveSection]=useState('overview');const[trabajadorInfo,setTrabajadorInfo]=useState(null);const[expandedVehicleInfo,setExpandedVehicleInfo]=useState(false);const[historialMantenimiento,setHistorialMantenimiento]=useState([]);// Detectar si es móvil\nuseEffect(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<=768);};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);// Cargar información del trabajador\nuseEffect(()=>{if(currentUser&&currentUser.uid){loadWorkerData();loadVehicleData();loadZonasData();loadHistorialData();}},[currentUser]);// Cargar datos del trabajador\nconst loadWorkerData=async()=>{try{// Cargar desde Firestore\nconst userDoc=await getDoc(doc(firestore,'users',currentUser.uid));if(userDoc.exists()){const userData=userDoc.data();setTrabajadorInfo(userData);}// Cargar desde Realtime Database\nconst trabajadorRef=ref(database,`trabajadores/${currentUser.uid}`);onValue(trabajadorRef,snapshot=>{const data=snapshot.val();if(data){setTrabajadorInfo(prevState=>({...prevState,...data}));}});}catch(error){console.error('Error al cargar datos del trabajador:',error);}};// Cargar vehículo asignado con TODOS los detalles\nconst loadVehicleData=()=>{const vehiculosRef=ref(database,'vehiculos');const unsubscribe=onValue(vehiculosRef,snapshot=>{const data=snapshot.val();if(data){// Buscar vehículo asignado al trabajador actual\nconst vehiculoAsignado=Object.entries(data).find(_ref2=>{let[id,vehiculo]=_ref2;return vehiculo.operadorAsignado===currentUser.uid;});if(vehiculoAsignado){const vehiculoCompleto={id:vehiculoAsignado[0],...vehiculoAsignado[1]};setVehiculoAsignado(vehiculoCompleto);// Cargar historial de mantenimiento si existe\nif(vehiculoCompleto.historialMantenimiento){setHistorialMantenimiento(vehiculoCompleto.historialMantenimiento);}}else{setVehiculoAsignado(null);}}setLoading(false);});return unsubscribe;};// Cargar zonas asignadas\nconst loadZonasData=()=>{const zonasRef=ref(database,'zonas_asignadas');const unsubscribe=onValue(zonasRef,snapshot=>{const data=snapshot.val();if(data){const zonasDelTrabajador=Object.entries(data).filter(_ref3=>{let[id,zona]=_ref3;return zona.trabajadorAsignado===currentUser.uid;}).map(_ref4=>{let[id,zona]=_ref4;return{id,...zona};}).sort((a,b)=>{if(a.estado==='en_progreso')return-1;if(b.estado==='en_progreso')return 1;if(a.estado==='pendiente'&&b.estado==='completado')return-1;if(a.estado==='completado'&&b.estado==='pendiente')return 1;return 0;});setZonasAsignadas(zonasDelTrabajador);// Actualizar estadísticas\nsetEstadisticas(prev=>({...prev,tareasCompletadas:zonasDelTrabajador.filter(z=>z.estado==='completado').length,tareasEnProgreso:zonasDelTrabajador.filter(z=>z.estado==='en_progreso').length,tareasPendientes:zonasDelTrabajador.filter(z=>z.estado==='pendiente'||!z.estado).length}));}});return unsubscribe;};// Cargar historial de recorridos\nconst loadHistorialData=()=>{const recorridosRef=ref(database,'recorridos');const unsubscribe=onValue(recorridosRef,snapshot=>{const data=snapshot.val();if(data){const recorridosDelTrabajador=Object.entries(data).filter(_ref5=>{let[id,recorrido]=_ref5;return recorrido.trabajadorId===currentUser.uid;}).map(_ref6=>{let[id,recorrido]=_ref6;return{id,...recorrido};}).sort((a,b)=>new Date(b.horaInicio)-new Date(a.horaInicio)).slice(0,10);setHistorialRecorridos(recorridosDelTrabajador);// Calcular horas trabajadas del mes\nconst inicioMes=new Date();inicioMes.setDate(1);inicioMes.setHours(0,0,0,0);const recorridosDelMes=recorridosDelTrabajador.filter(r=>new Date(r.horaInicio)>=inicioMes&&r.horaFin);const horasTotales=recorridosDelMes.reduce((total,r)=>{if(r.horaFin&&r.horaInicio){const duracion=new Date(r.horaFin)-new Date(r.horaInicio);return total+duracion/3600000;}return total;},0);setEstadisticas(prev=>({...prev,horasTrabajadas:Math.round(horasTotales*10)/10}));}});return unsubscribe;};// Formatear fecha\nconst formatDate=dateString=>{if(!dateString)return'N/A';const date=new Date(dateString);return date.toLocaleDateString('es-CL',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'});};// Calcular días hasta próximo mantenimiento\nconst getDaysUntilMaintenance=fechaMantenimiento=>{if(!fechaMantenimiento)return null;const hoy=new Date();const mantenimiento=new Date(fechaMantenimiento);const diferencia=mantenimiento-hoy;const dias=Math.ceil(diferencia/(1000*60*60*24));return dias;};// Calcular duración\nconst calculateDuration=(start,end)=>{if(!start||!end)return'N/A';const diff=new Date(end)-new Date(start);const hours=Math.floor(diff/3600000);const minutes=Math.floor(diff%3600000/60000);return`${hours}h ${minutes}m`;};// Obtener color según el estado\nconst getStatusColor=estado=>{switch(estado){case'completado':return'#22c55e';case'en_progreso':return'#3b82f6';case'pendiente':return'#f59e0b';default:return'#6b7280';}};// Obtener badge de prioridad\nconst getPriorityBadge=prioridad=>{const colors={urgente:{bg:'#fee2e2',color:'#dc2626',icon:'🔴'},alta:{bg:'#fed7aa',color:'#ea580c',icon:'🟠'},normal:{bg:'#fef3c7',color:'#d97706',icon:'🟡'},baja:{bg:'#dcfce7',color:'#16a34a',icon:'🟢'}};const style=colors[prioridad]||colors.normal;return/*#__PURE__*/_jsxs(\"span\",{style:{padding:'2px 8px',borderRadius:'12px',fontSize:'11px',fontWeight:'600',background:style.bg,color:style.color},children:[style.icon,\" \",(prioridad===null||prioridad===void 0?void 0:prioridad.toUpperCase())||'NORMAL']});};const styles={container:{width:'100%',minHeight:'100vh',background:'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)'},header:{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',padding:isMobile?'16px':'24px',boxShadow:'0 4px 20px rgba(0,0,0,0.1)'},headerContent:{maxWidth:'1400px',margin:'0 auto',display:'flex',justifyContent:'space-between',alignItems:'center',flexWrap:isMobile?'wrap':'nowrap',gap:'16px'},headerTitle:{margin:0,fontSize:isMobile?'20px':'28px',fontWeight:'700',display:'flex',alignItems:'center',gap:'12px'},headerActions:{display:'flex',gap:'12px',alignItems:'center'},mainContent:{maxWidth:'1400px',margin:'0 auto',padding:isMobile?'16px':'32px'},welcomeCard:{background:'white',borderRadius:'16px',padding:isMobile?'20px':'32px',marginBottom:'24px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',border:'1px solid rgba(0,0,0,0.05)'},statsGrid:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(auto-fit, minmax(250px, 1fr))',gap:'20px',marginBottom:'32px'},statCard:{background:'white',borderRadius:'12px',padding:'20px',boxShadow:'0 2px 12px rgba(0,0,0,0.06)',border:'1px solid rgba(0,0,0,0.04)',transition:'all 0.3s ease',cursor:'pointer',position:'relative',overflow:'hidden'},statCardHeader:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'12px'},statIcon:{width:'48px',height:'48px',borderRadius:'12px',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'24px'},statValue:{fontSize:'32px',fontWeight:'700',color:'#1f2937',marginBottom:'4px'},statLabel:{fontSize:'14px',color:'#6b7280',fontWeight:'500'},vehicleCard:{background:'white',borderRadius:'16px',marginBottom:'24px',boxShadow:'0 8px 32px rgba(0, 0, 0, 0.08)',overflow:'hidden'},vehicleHeader:{background:'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',color:'white',padding:'24px',position:'relative'},vehicleContent:{padding:'24px'},vehicleGrid:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(2, 1fr)',gap:'20px',marginBottom:'20px'},vehicleInfoItem:{display:'flex',alignItems:'center',gap:'12px',padding:'12px',background:'#f9fafb',borderRadius:'8px',transition:'all 0.2s ease'},vehicleInfoLabel:{fontSize:'13px',color:'#6b7280',fontWeight:'500',minWidth:'120px'},vehicleInfoValue:{fontSize:'15px',color:'#1f2937',fontWeight:'600',flex:1},expandButton:{width:'100%',padding:'12px',background:'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',border:'none',borderRadius:'8px',cursor:'pointer',fontSize:'14px',fontWeight:'600',color:'#4b5563',display:'flex',alignItems:'center',justifyContent:'center',gap:'8px',transition:'all 0.3s ease'},sectionTabs:{display:'flex',gap:'8px',marginBottom:'24px',borderBottom:'2px solid #e5e7eb',flexWrap:'wrap'},tab:{padding:'12px 24px',background:'transparent',border:'none',borderBottom:'3px solid transparent',color:'#6b7280',fontSize:'15px',fontWeight:'500',cursor:'pointer',transition:'all 0.3s ease',position:'relative'},tabActive:{color:'#667eea',borderBottomColor:'#667eea',fontWeight:'600'},card:{background:'white',borderRadius:'12px',padding:isMobile?'16px':'24px',marginBottom:'20px',boxShadow:'0 2px 12px rgba(0,0,0,0.06)',border:'1px solid rgba(0,0,0,0.04)'},emptyState:{textAlign:'center',padding:'48px 24px',color:'#6b7280'},button:{padding:'12px 24px',borderRadius:'8px',border:'none',fontSize:'14px',fontWeight:'600',cursor:'pointer',transition:'all 0.3s ease',display:'inline-flex',alignItems:'center',gap:'8px'},primaryButton:{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white'},secondaryButton:{background:'white',color:'#667eea',border:'2px solid #667eea'},dangerButton:{background:'#ef4444',color:'white'},warningBadge:{padding:'8px 16px',background:'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',borderRadius:'8px',fontSize:'13px',fontWeight:'600',color:'#92400e',display:'inline-flex',alignItems:'center',gap:'6px'},successBadge:{padding:'8px 16px',background:'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)',borderRadius:'8px',fontSize:'13px',fontWeight:'600',color:'#166534',display:'inline-flex',alignItems:'center',gap:'6px'},dangerBadge:{padding:'8px 16px',background:'linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)',borderRadius:'8px',fontSize:'13px',fontWeight:'600',color:'#dc2626',display:'inline-flex',alignItems:'center',gap:'6px'}};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'100vh',display:'flex',justifyContent:'center',alignItems:'center',background:'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'60px',height:'60px',border:'4px solid #e5e7eb',borderTop:'4px solid #667eea',borderRadius:'50%',margin:'0 auto 16px',animation:'spin 1s linear infinite'}}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6b7280',fontSize:'16px'},children:\"Cargando dashboard...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.header,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.headerContent,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.headerTitle,children:\"\\uD83D\\uDC77 Dashboard del Trabajador\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'4px 0 0 0',opacity:0.9,fontSize:'14px'},children:new Date().toLocaleDateString('es-CL',{weekday:'long',year:'numeric',month:'long',day:'numeric'})})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.headerActions,children:[/*#__PURE__*/_jsx(\"button\",{onClick:onNavigateToGPS,style:{...styles.button,...styles.primaryButton,background:'rgba(255,255,255,0.2)',backdropFilter:'blur(10px)',border:'1px solid rgba(255,255,255,0.3)'},children:\"\\uD83D\\uDCCD Ir a GPS\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onLogout,style:{...styles.button,...styles.dangerButton},children:\"\\uD83D\\uDEAA Salir\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.mainContent,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.welcomeCard,children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',flexWrap:'wrap',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{style:{margin:'0 0 8px 0',fontSize:'24px',color:'#1f2937'},children:[\"\\xA1Bienvenido, \",(trabajadorInfo===null||trabajadorInfo===void 0?void 0:trabajadorInfo.name)||currentUser.name||'Trabajador',\"! \\uD83D\\uDC4B\"]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'#6b7280',fontSize:'16px'},children:(trabajadorInfo===null||trabajadorInfo===void 0?void 0:trabajadorInfo.estado)==='trabajando'?'🟢 Actualmente trabajando':(trabajadorInfo===null||trabajadorInfo===void 0?void 0:trabajadorInfo.estado)==='en_camino'?'🟡 En camino a zona de trabajo':'⚪ Disponible'})]}),(trabajadorInfo===null||trabajadorInfo===void 0?void 0:trabajadorInfo.zonaDestino)&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px 20px',background:'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',borderRadius:'12px',fontSize:'14px',fontWeight:'600',color:'#92400e'},children:[\"\\uD83D\\uDCCD Zona actual: \",trabajadorInfo.zonaDestino]})]})}),vehiculoAsignado?/*#__PURE__*/_jsxs(\"div\",{style:styles.vehicleCard,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.vehicleHeader,children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',flexWrap:'wrap',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0 0 8px 0',fontSize:'20px',fontWeight:'600'},children:[vehiculoAsignado.tipo==='maquinaria'?'🏗️':'🚛',\" Veh\\xEDculo Asignado\"]}),/*#__PURE__*/_jsx(\"h2\",{style:{margin:'0',fontSize:'32px',fontWeight:'700'},children:vehiculoAsignado.nombre})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'10px 16px',background:'rgba(255,255,255,0.2)',backdropFilter:'blur(10px)',borderRadius:'12px',fontWeight:'600'},children:vehiculoAsignado.estado==='disponible'?'✅ Disponible':vehiculoAsignado.estado==='en_uso'?'🔧 En Uso':vehiculoAsignado.estado==='mantenimiento'?'🔧 En Mantenimiento':'❌ Fuera de Servicio'}),vehiculoAsignado.proximoMantenimiento&&(()=>{const dias=getDaysUntilMaintenance(vehiculoAsignado.proximoMantenimiento);if(dias!==null&&dias<=30){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px 16px',background:dias<=7?'rgba(239, 68, 68, 0.2)':'rgba(245, 158, 11, 0.2)',borderRadius:'12px',fontWeight:'600'},children:[\"\\u26A0\\uFE0F Mantenimiento en \",dias,\" d\\xEDas\"]});}return null;})()]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.vehicleContent,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.vehicleGrid,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.vehicleInfoItem,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.vehicleInfoLabel,children:\"Patente\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.vehicleInfoValue,children:vehiculoAsignado.patente||'N/A'})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.vehicleInfoItem,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83C\\uDFED\"}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.vehicleInfoLabel,children:\"Marca/Modelo\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.vehicleInfoValue,children:[vehiculoAsignado.marca,\" \",vehiculoAsignado.modelo]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.vehicleInfoItem,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDCCF\"}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.vehicleInfoLabel,children:\"Kilometraje Actual\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.vehicleInfoValue,children:[((_vehiculoAsignado$kil=vehiculoAsignado.kilometraje)===null||_vehiculoAsignado$kil===void 0?void 0:_vehiculoAsignado$kil.toLocaleString())||0,\" km\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.vehicleInfoItem,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\u26FD\"}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.vehicleInfoLabel,children:\"Tipo de Combustible\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.vehicleInfoValue,children:vehiculoAsignado.tipoCombustible||'N/A'})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.vehicleInfoItem,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDCC5\"}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.vehicleInfoLabel,children:\"A\\xF1o\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.vehicleInfoValue,children:vehiculoAsignado.año||'N/A'})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.vehicleInfoItem,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83C\\uDFA8\"}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.vehicleInfoLabel,children:\"Color\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.vehicleInfoValue,children:vehiculoAsignado.color||'N/A'})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setExpandedVehicleInfo(!expandedVehicleInfo),style:styles.expandButton,onMouseEnter:e=>{e.currentTarget.style.background='linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%)';},onMouseLeave:e=>{e.currentTarget.style.background='linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)';},children:expandedVehicleInfo?'➖ Ver menos información':'➕ Ver más información'}),expandedVehicleInfo&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',background:'#f9fafb',borderRadius:'12px',marginBottom:'16px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 16px 0',color:'#1f2937',fontSize:'18px'},children:\"\\uD83D\\uDD27 Informaci\\xF3n de Mantenimiento\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(2, 1fr)',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',marginBottom:'4px'},children:\"\\xDAltimo Mantenimiento\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',color:'#1f2937',fontWeight:'600'},children:vehiculoAsignado.ultimoMantenimiento?formatDate(vehiculoAsignado.ultimoMantenimiento):'Sin registro'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',marginBottom:'4px'},children:\"Pr\\xF3ximo Mantenimiento\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',color:'#1f2937',fontWeight:'600'},children:vehiculoAsignado.proximoMantenimiento?formatDate(vehiculoAsignado.proximoMantenimiento):'No programado'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',marginBottom:'4px'},children:\"Km en \\xFAltimo mantenimiento\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'15px',color:'#1f2937',fontWeight:'600'},children:[((_vehiculoAsignado$kil2=vehiculoAsignado.kilometrajeUltimoMantenimiento)===null||_vehiculoAsignado$kil2===void 0?void 0:_vehiculoAsignado$kil2.toLocaleString())||'N/A',\" km\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',marginBottom:'4px'},children:\"Pr\\xF3ximo mantenimiento en\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'15px',color:'#1f2937',fontWeight:'600'},children:[((_vehiculoAsignado$kil3=vehiculoAsignado.kilometrajeProximoMantenimiento)===null||_vehiculoAsignado$kil3===void 0?void 0:_vehiculoAsignado$kil3.toLocaleString())||'N/A',\" km\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',background:'#f9fafb',borderRadius:'12px',marginBottom:'16px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 16px 0',color:'#1f2937',fontSize:'18px'},children:\"\\uD83D\\uDCCA Informaci\\xF3n T\\xE9cnica\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(2, 1fr)',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',marginBottom:'4px'},children:\"N\\xFAmero de Motor\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',color:'#1f2937',fontWeight:'600'},children:vehiculoAsignado.numeroMotor||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',marginBottom:'4px'},children:\"N\\xFAmero de Chasis\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',color:'#1f2937',fontWeight:'600'},children:vehiculoAsignado.numeroChasis||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',marginBottom:'4px'},children:\"Capacidad de Carga\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',color:'#1f2937',fontWeight:'600'},children:vehiculoAsignado.capacidadCarga||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',marginBottom:'4px'},children:\"Tipo de Transmisi\\xF3n\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',color:'#1f2937',fontWeight:'600'},children:vehiculoAsignado.transmision||'N/A'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',background:'#f9fafb',borderRadius:'12px',marginBottom:'16px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 16px 0',color:'#1f2937',fontSize:'18px'},children:\"\\uD83D\\uDCC4 Documentaci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(2, 1fr)',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',marginBottom:'4px'},children:\"Vencimiento Permiso Circulaci\\xF3n\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',color:'#1f2937',fontWeight:'600'},children:vehiculoAsignado.vencimientoPermisoCirculacion?formatDate(vehiculoAsignado.vencimientoPermisoCirculacion):'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',marginBottom:'4px'},children:\"Vencimiento Revisi\\xF3n T\\xE9cnica\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',color:'#1f2937',fontWeight:'600'},children:vehiculoAsignado.vencimientoRevisionTecnica?formatDate(vehiculoAsignado.vencimientoRevisionTecnica):'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',marginBottom:'4px'},children:\"Vencimiento Seguro\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',color:'#1f2937',fontWeight:'600'},children:vehiculoAsignado.vencimientoSeguro?formatDate(vehiculoAsignado.vencimientoSeguro):'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',marginBottom:'4px'},children:\"Compa\\xF1\\xEDa de Seguro\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',color:'#1f2937',fontWeight:'600'},children:vehiculoAsignado.companiaSeguro||'N/A'})]})]})]}),vehiculoAsignado.observaciones&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',background:'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',borderRadius:'12px',border:'1px solid #fbbf24'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 12px 0',color:'#92400e',fontSize:'16px'},children:\"\\uD83D\\uDCDD Observaciones Importantes\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'#78350f',fontSize:'14px',lineHeight:'1.6'},children:vehiculoAsignado.observaciones})]})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{style:{...styles.card,background:'linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)',border:'2px solid #ef4444',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'16px'},children:\"\\uD83D\\uDEAB\"}),/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 8px 0',color:'#dc2626'},children:\"No tienes veh\\xEDculo asignado\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'#991b1b',fontSize:'14px'},children:\"Contacta con tu supervisor para la asignaci\\xF3n de un veh\\xEDculo\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.statsGrid,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.statCard,onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-4px)';e.currentTarget.style.boxShadow='0 8px 24px rgba(0,0,0,0.12)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 2px 12px rgba(0,0,0,0.06)';},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.statCardHeader,children:/*#__PURE__*/_jsx(\"div\",{style:{...styles.statIcon,background:'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)'},children:\"\\u2705\"})}),/*#__PURE__*/_jsx(\"div\",{style:styles.statValue,children:estadisticas.tareasCompletadas}),/*#__PURE__*/_jsx(\"div\",{style:styles.statLabel,children:\"Tareas Completadas\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.statCard,onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-4px)';e.currentTarget.style.boxShadow='0 8px 24px rgba(0,0,0,0.12)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 2px 12px rgba(0,0,0,0.06)';},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.statCardHeader,children:/*#__PURE__*/_jsx(\"div\",{style:{...styles.statIcon,background:'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)'},children:\"\\uD83D\\uDD27\"})}),/*#__PURE__*/_jsx(\"div\",{style:styles.statValue,children:estadisticas.tareasEnProgreso}),/*#__PURE__*/_jsx(\"div\",{style:styles.statLabel,children:\"En Progreso\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.statCard,onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-4px)';e.currentTarget.style.boxShadow='0 8px 24px rgba(0,0,0,0.12)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 2px 12px rgba(0,0,0,0.06)';},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.statCardHeader,children:/*#__PURE__*/_jsx(\"div\",{style:{...styles.statIcon,background:'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)'},children:\"\\u23F3\"})}),/*#__PURE__*/_jsx(\"div\",{style:styles.statValue,children:estadisticas.tareasPendientes}),/*#__PURE__*/_jsx(\"div\",{style:styles.statLabel,children:\"Pendientes\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.statCard,onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-4px)';e.currentTarget.style.boxShadow='0 8px 24px rgba(0,0,0,0.12)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 2px 12px rgba(0,0,0,0.06)';},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.statCardHeader,children:/*#__PURE__*/_jsx(\"div\",{style:{...styles.statIcon,background:'linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%)'},children:\"\\u23F0\"})}),/*#__PURE__*/_jsx(\"div\",{style:styles.statValue,children:estadisticas.horasTrabajadas}),/*#__PURE__*/_jsx(\"div\",{style:styles.statLabel,children:\"Horas este mes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.sectionTabs,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveSection('overview'),style:{...styles.tab,...(activeSection==='overview'?styles.tabActive:{})},children:\"\\uD83D\\uDCCA Resumen\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveSection('zones'),style:{...styles.tab,...(activeSection==='zones'?styles.tabActive:{})},children:[\"\\uD83C\\uDFD7\\uFE0F Zonas Asignadas (\",zonasAsignadas.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveSection('history'),style:{...styles.tab,...(activeSection==='history'?styles.tabActive:{})},children:\"\\uD83D\\uDCDC Historial\"})]}),activeSection==='overview'&&/*#__PURE__*/_jsxs(\"div\",{style:styles.card,children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 20px 0',fontSize:'20px',color:'#1f2937'},children:\"\\uD83D\\uDCCA Resumen de Actividad\"}),historialRecorridos.length>0?/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'16px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'16px',background:'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',borderRadius:'12px',border:'1px solid #0ea5e9'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 12px 0',color:'#0369a1',fontSize:'16px'},children:\"\\uD83C\\uDFAF \\xDAltimo trabajo realizado\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'8px',fontSize:'14px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Zona:\"}),\" \",historialRecorridos[0].zonaNombre||'N/A']}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fecha:\"}),\" \",formatDate(historialRecorridos[0].horaInicio)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Duraci\\xF3n:\"}),\" \",calculateDuration(historialRecorridos[0].horaInicio,historialRecorridos[0].horaFin)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Estado:\"}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px',padding:'2px 8px',borderRadius:'12px',fontSize:'12px',fontWeight:'600',background:historialRecorridos[0].estado==='completado'?'#dcfce7':'#fef3c7',color:historialRecorridos[0].estado==='completado'?'#166534':'#92400e'},children:historialRecorridos[0].estado==='completado'?'✅ Completado':'⏳ En proceso'})]})]})]})}):/*#__PURE__*/_jsxs(\"div\",{style:styles.emptyState,children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'16px'},children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No hay actividad registrada todav\\xEDa\"})]})]}),activeSection==='zones'&&/*#__PURE__*/_jsx(\"div\",{children:zonasAsignadas.length>0?/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'16px'},children:zonasAsignadas.map(zona=>/*#__PURE__*/_jsxs(\"div\",{style:{...styles.card,borderLeft:`4px solid ${getStatusColor(zona.estado)}`},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',flexWrap:'wrap',gap:'16px',marginBottom:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{style:{margin:'0 0 8px 0',fontSize:'18px',color:'#1f2937',display:'flex',alignItems:'center',gap:'8px'},children:[\"\\uD83C\\uDFD7\\uFE0F \",zona.nombre]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0 0 4px 0',color:'#6b7280',fontSize:'14px'},children:[\"\\uD83D\\uDCCD \",zona.direccion||'Sin dirección especificada']})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center'},children:[getPriorityBadge(zona.prioridad),/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 12px',borderRadius:'20px',fontSize:'12px',fontWeight:'600',background:zona.estado==='completado'?'#dcfce7':zona.estado==='en_progreso'?'#dbeafe':'#fef3c7',color:zona.estado==='completado'?'#166534':zona.estado==='en_progreso'?'#1e40af':'#92400e'},children:zona.estado==='completado'?'✅ Completado':zona.estado==='en_progreso'?'🔧 En Progreso':'⏳ Pendiente'})]})]}),zona.estado!=='completado'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onNavigateToGPS(),style:{...styles.button,...styles.primaryButton,marginTop:'16px',width:'100%'},children:\"\\uD83D\\uDCCD Ir a esta zona\"})]},zona.id))}):/*#__PURE__*/_jsxs(\"div\",{style:{...styles.card,...styles.emptyState},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'16px'},children:\"\\uD83C\\uDFD7\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 8px 0',color:'#1f2937'},children:\"No tienes zonas asignadas\"})]})}),activeSection==='history'&&/*#__PURE__*/_jsx(\"div\",{children:historialRecorridos.length>0?/*#__PURE__*/_jsxs(\"div\",{style:styles.card,children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 20px 0',fontSize:'20px',color:'#1f2937'},children:\"\\uD83D\\uDCDC Historial de Recorridos\"}),/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'2px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'left'},children:\"Zona\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'left'},children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'left'},children:\"Duraci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'left'},children:\"Estado\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:historialRecorridos.map(recorrido=>/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid #f3f4f6'},children:[/*#__PURE__*/_jsxs(\"td\",{style:{padding:'12px'},children:[\"\\uD83C\\uDFD7\\uFE0F \",recorrido.zonaNombre||'N/A']}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:formatDate(recorrido.horaInicio)}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:calculateDuration(recorrido.horaInicio,recorrido.horaFin)}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 12px',borderRadius:'12px',fontSize:'12px',fontWeight:'600',background:recorrido.estado==='completado'?'#dcfce7':'#fef3c7',color:recorrido.estado==='completado'?'#166534':'#92400e'},children:recorrido.estado==='completado'?'✅ Completado':'⏳ En proceso'})})]},recorrido.id))})]})})]}):/*#__PURE__*/_jsxs(\"div\",{style:{...styles.card,...styles.emptyState},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'16px'},children:\"\\uD83D\\uDCDC\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No hay historial disponible\"})]})})]}),/*#__PURE__*/_jsx(\"style\",{children:`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `})]});};export default DashboardTrabajador;","map":{"version":3,"names":["React","useState","useEffect","database","firestore","ref","onValue","doc","getDoc","jsxs","_jsxs","jsx","_jsx","DashboardTrabajador","_ref","_vehiculoAsignado$kil","_vehiculoAsignado$kil2","_vehiculoAsignado$kil3","currentUser","onLogout","onNavigateToGPS","vehiculoAsignado","setVehiculoAsignado","zonasAsignadas","setZonasAsignadas","estadisticas","setEstadisticas","tareasCompletadas","tareasEnProgreso","tareasPendientes","horasTrabajadas","kilometrosRecorridos","historialRecorridos","setHistorialRecorridos","loading","setLoading","isMobile","setIsMobile","activeSection","setActiveSection","trabajadorInfo","setTrabajadorInfo","expandedVehicleInfo","setExpandedVehicleInfo","historialMantenimiento","setHistorialMantenimiento","checkMobile","window","innerWidth","addEventListener","removeEventListener","uid","loadWorkerData","loadVehicleData","loadZonasData","loadHistorialData","userDoc","exists","userData","data","trabajadorRef","snapshot","val","prevState","error","console","vehiculosRef","unsubscribe","Object","entries","find","_ref2","id","vehiculo","operadorAsignado","vehiculoCompleto","zonasRef","zonasDelTrabajador","filter","_ref3","zona","trabajadorAsignado","map","_ref4","sort","a","b","estado","prev","z","length","recorridosRef","recorridosDelTrabajador","_ref5","recorrido","trabajadorId","_ref6","Date","horaInicio","slice","inicioMes","setDate","setHours","recorridosDelMes","r","horaFin","horasTotales","reduce","total","duracion","Math","round","formatDate","dateString","date","toLocaleDateString","day","month","year","hour","minute","getDaysUntilMaintenance","fechaMantenimiento","hoy","mantenimiento","diferencia","dias","ceil","calculateDuration","start","end","diff","hours","floor","minutes","getStatusColor","getPriorityBadge","prioridad","colors","urgente","bg","color","icon","alta","normal","baja","style","padding","borderRadius","fontSize","fontWeight","background","children","toUpperCase","styles","container","width","minHeight","header","boxShadow","headerContent","maxWidth","margin","display","justifyContent","alignItems","flexWrap","gap","headerTitle","headerActions","mainContent","welcomeCard","marginBottom","border","statsGrid","gridTemplateColumns","statCard","transition","cursor","position","overflow","statCardHeader","statIcon","height","statValue","statLabel","vehicleCard","vehicleHeader","vehicleContent","vehicleGrid","vehicleInfoItem","vehicleInfoLabel","minWidth","vehicleInfoValue","flex","expandButton","sectionTabs","borderBottom","tab","tabActive","borderBottomColor","card","emptyState","textAlign","button","primaryButton","secondaryButton","dangerButton","warningBadge","successBadge","dangerBadge","borderTop","animation","opacity","weekday","onClick","backdropFilter","name","zonaDestino","tipo","nombre","proximoMantenimiento","patente","marca","modelo","kilometraje","toLocaleString","tipoCombustible","año","onMouseEnter","e","currentTarget","onMouseLeave","marginTop","ultimoMantenimiento","kilometrajeUltimoMantenimiento","kilometrajeProximoMantenimiento","numeroMotor","numeroChasis","capacidadCarga","transmision","vencimientoPermisoCirculacion","vencimientoRevisionTecnica","vencimientoSeguro","companiaSeguro","observaciones","lineHeight","transform","zonaNombre","marginLeft","borderLeft","direccion","overflowX","borderCollapse"],"sources":["C:/Users/Izan/Desktop/AppReact/mapa-quillon/src/components/DashboardTrabajador.js"],"sourcesContent":["// src/components/DashboardTrabajador.js - VERSIÓN MEJORADA CON TODOS LOS DATOS DEL VEHÍCULO\r\nimport React, { useState, useEffect } from 'react';\r\nimport { database, firestore } from '../config/firebase';\r\nimport { ref, onValue } from 'firebase/database';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\n\r\nconst DashboardTrabajador = ({ currentUser, onLogout, onNavigateToGPS }) => {\r\n  const [vehiculoAsignado, setVehiculoAsignado] = useState(null);\r\n  const [zonasAsignadas, setZonasAsignadas] = useState([]);\r\n  const [estadisticas, setEstadisticas] = useState({\r\n    tareasCompletadas: 0,\r\n    tareasEnProgreso: 0,\r\n    tareasPendientes: 0,\r\n    horasTrabajadas: 0,\r\n    kilometrosRecorridos: 0\r\n  });\r\n  const [historialRecorridos, setHistorialRecorridos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [activeSection, setActiveSection] = useState('overview');\r\n  const [trabajadorInfo, setTrabajadorInfo] = useState(null);\r\n  const [expandedVehicleInfo, setExpandedVehicleInfo] = useState(false);\r\n  const [historialMantenimiento, setHistorialMantenimiento] = useState([]);\r\n\r\n  // Detectar si es móvil\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth <= 768);\r\n    };\r\n    \r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    \r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  // Cargar información del trabajador\r\n  useEffect(() => {\r\n    if (currentUser && currentUser.uid) {\r\n      loadWorkerData();\r\n      loadVehicleData();\r\n      loadZonasData();\r\n      loadHistorialData();\r\n    }\r\n  }, [currentUser]);\r\n\r\n  // Cargar datos del trabajador\r\n  const loadWorkerData = async () => {\r\n    try {\r\n      // Cargar desde Firestore\r\n      const userDoc = await getDoc(doc(firestore, 'users', currentUser.uid));\r\n      if (userDoc.exists()) {\r\n        const userData = userDoc.data();\r\n        setTrabajadorInfo(userData);\r\n      }\r\n\r\n      // Cargar desde Realtime Database\r\n      const trabajadorRef = ref(database, `trabajadores/${currentUser.uid}`);\r\n      onValue(trabajadorRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        if (data) {\r\n          setTrabajadorInfo(prevState => ({\r\n            ...prevState,\r\n            ...data\r\n          }));\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.error('Error al cargar datos del trabajador:', error);\r\n    }\r\n  };\r\n\r\n  // Cargar vehículo asignado con TODOS los detalles\r\n  const loadVehicleData = () => {\r\n    const vehiculosRef = ref(database, 'vehiculos');\r\n    const unsubscribe = onValue(vehiculosRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        // Buscar vehículo asignado al trabajador actual\r\n        const vehiculoAsignado = Object.entries(data).find(\r\n          ([id, vehiculo]) => vehiculo.operadorAsignado === currentUser.uid\r\n        );\r\n        \r\n        if (vehiculoAsignado) {\r\n          const vehiculoCompleto = {\r\n            id: vehiculoAsignado[0],\r\n            ...vehiculoAsignado[1]\r\n          };\r\n          \r\n          setVehiculoAsignado(vehiculoCompleto);\r\n          \r\n          // Cargar historial de mantenimiento si existe\r\n          if (vehiculoCompleto.historialMantenimiento) {\r\n            setHistorialMantenimiento(vehiculoCompleto.historialMantenimiento);\r\n          }\r\n        } else {\r\n          setVehiculoAsignado(null);\r\n        }\r\n      }\r\n      setLoading(false);\r\n    });\r\n\r\n    return unsubscribe;\r\n  };\r\n\r\n  // Cargar zonas asignadas\r\n  const loadZonasData = () => {\r\n    const zonasRef = ref(database, 'zonas_asignadas');\r\n    const unsubscribe = onValue(zonasRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const zonasDelTrabajador = Object.entries(data)\r\n          .filter(([id, zona]) => zona.trabajadorAsignado === currentUser.uid)\r\n          .map(([id, zona]) => ({\r\n            id,\r\n            ...zona\r\n          }))\r\n          .sort((a, b) => {\r\n            if (a.estado === 'en_progreso') return -1;\r\n            if (b.estado === 'en_progreso') return 1;\r\n            if (a.estado === 'pendiente' && b.estado === 'completado') return -1;\r\n            if (a.estado === 'completado' && b.estado === 'pendiente') return 1;\r\n            return 0;\r\n          });\r\n        \r\n        setZonasAsignadas(zonasDelTrabajador);\r\n        \r\n        // Actualizar estadísticas\r\n        setEstadisticas(prev => ({\r\n          ...prev,\r\n          tareasCompletadas: zonasDelTrabajador.filter(z => z.estado === 'completado').length,\r\n          tareasEnProgreso: zonasDelTrabajador.filter(z => z.estado === 'en_progreso').length,\r\n          tareasPendientes: zonasDelTrabajador.filter(z => z.estado === 'pendiente' || !z.estado).length\r\n        }));\r\n      }\r\n    });\r\n\r\n    return unsubscribe;\r\n  };\r\n\r\n  // Cargar historial de recorridos\r\n  const loadHistorialData = () => {\r\n    const recorridosRef = ref(database, 'recorridos');\r\n    const unsubscribe = onValue(recorridosRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const recorridosDelTrabajador = Object.entries(data)\r\n          .filter(([id, recorrido]) => recorrido.trabajadorId === currentUser.uid)\r\n          .map(([id, recorrido]) => ({\r\n            id,\r\n            ...recorrido\r\n          }))\r\n          .sort((a, b) => new Date(b.horaInicio) - new Date(a.horaInicio))\r\n          .slice(0, 10);\r\n        \r\n        setHistorialRecorridos(recorridosDelTrabajador);\r\n        \r\n        // Calcular horas trabajadas del mes\r\n        const inicioMes = new Date();\r\n        inicioMes.setDate(1);\r\n        inicioMes.setHours(0, 0, 0, 0);\r\n        \r\n        const recorridosDelMes = recorridosDelTrabajador.filter(r => \r\n          new Date(r.horaInicio) >= inicioMes && r.horaFin\r\n        );\r\n        \r\n        const horasTotales = recorridosDelMes.reduce((total, r) => {\r\n          if (r.horaFin && r.horaInicio) {\r\n            const duracion = new Date(r.horaFin) - new Date(r.horaInicio);\r\n            return total + (duracion / 3600000);\r\n          }\r\n          return total;\r\n        }, 0);\r\n        \r\n        setEstadisticas(prev => ({\r\n          ...prev,\r\n          horasTrabajadas: Math.round(horasTotales * 10) / 10\r\n        }));\r\n      }\r\n    });\r\n\r\n    return unsubscribe;\r\n  };\r\n\r\n  // Formatear fecha\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('es-CL', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  // Calcular días hasta próximo mantenimiento\r\n  const getDaysUntilMaintenance = (fechaMantenimiento) => {\r\n    if (!fechaMantenimiento) return null;\r\n    const hoy = new Date();\r\n    const mantenimiento = new Date(fechaMantenimiento);\r\n    const diferencia = mantenimiento - hoy;\r\n    const dias = Math.ceil(diferencia / (1000 * 60 * 60 * 24));\r\n    return dias;\r\n  };\r\n\r\n  // Calcular duración\r\n  const calculateDuration = (start, end) => {\r\n    if (!start || !end) return 'N/A';\r\n    const diff = new Date(end) - new Date(start);\r\n    const hours = Math.floor(diff / 3600000);\r\n    const minutes = Math.floor((diff % 3600000) / 60000);\r\n    return `${hours}h ${minutes}m`;\r\n  };\r\n\r\n  // Obtener color según el estado\r\n  const getStatusColor = (estado) => {\r\n    switch (estado) {\r\n      case 'completado': return '#22c55e';\r\n      case 'en_progreso': return '#3b82f6';\r\n      case 'pendiente': return '#f59e0b';\r\n      default: return '#6b7280';\r\n    }\r\n  };\r\n\r\n  // Obtener badge de prioridad\r\n  const getPriorityBadge = (prioridad) => {\r\n    const colors = {\r\n      urgente: { bg: '#fee2e2', color: '#dc2626', icon: '🔴' },\r\n      alta: { bg: '#fed7aa', color: '#ea580c', icon: '🟠' },\r\n      normal: { bg: '#fef3c7', color: '#d97706', icon: '🟡' },\r\n      baja: { bg: '#dcfce7', color: '#16a34a', icon: '🟢' }\r\n    };\r\n    \r\n    const style = colors[prioridad] || colors.normal;\r\n    \r\n    return (\r\n      <span style={{\r\n        padding: '2px 8px',\r\n        borderRadius: '12px',\r\n        fontSize: '11px',\r\n        fontWeight: '600',\r\n        background: style.bg,\r\n        color: style.color\r\n      }}>\r\n        {style.icon} {prioridad?.toUpperCase() || 'NORMAL'}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const styles = {\r\n    container: {\r\n      width: '100%',\r\n      minHeight: '100vh',\r\n      background: 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)'\r\n    },\r\n    header: {\r\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n      color: 'white',\r\n      padding: isMobile ? '16px' : '24px',\r\n      boxShadow: '0 4px 20px rgba(0,0,0,0.1)'\r\n    },\r\n    headerContent: {\r\n      maxWidth: '1400px',\r\n      margin: '0 auto',\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      flexWrap: isMobile ? 'wrap' : 'nowrap',\r\n      gap: '16px'\r\n    },\r\n    headerTitle: {\r\n      margin: 0,\r\n      fontSize: isMobile ? '20px' : '28px',\r\n      fontWeight: '700',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '12px'\r\n    },\r\n    headerActions: {\r\n      display: 'flex',\r\n      gap: '12px',\r\n      alignItems: 'center'\r\n    },\r\n    mainContent: {\r\n      maxWidth: '1400px',\r\n      margin: '0 auto',\r\n      padding: isMobile ? '16px' : '32px'\r\n    },\r\n    welcomeCard: {\r\n      background: 'white',\r\n      borderRadius: '16px',\r\n      padding: isMobile ? '20px' : '32px',\r\n      marginBottom: '24px',\r\n      boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n      border: '1px solid rgba(0,0,0,0.05)'\r\n    },\r\n    statsGrid: {\r\n      display: 'grid',\r\n      gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(250px, 1fr))',\r\n      gap: '20px',\r\n      marginBottom: '32px'\r\n    },\r\n    statCard: {\r\n      background: 'white',\r\n      borderRadius: '12px',\r\n      padding: '20px',\r\n      boxShadow: '0 2px 12px rgba(0,0,0,0.06)',\r\n      border: '1px solid rgba(0,0,0,0.04)',\r\n      transition: 'all 0.3s ease',\r\n      cursor: 'pointer',\r\n      position: 'relative',\r\n      overflow: 'hidden'\r\n    },\r\n    statCardHeader: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'flex-start',\r\n      marginBottom: '12px'\r\n    },\r\n    statIcon: {\r\n      width: '48px',\r\n      height: '48px',\r\n      borderRadius: '12px',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      fontSize: '24px'\r\n    },\r\n    statValue: {\r\n      fontSize: '32px',\r\n      fontWeight: '700',\r\n      color: '#1f2937',\r\n      marginBottom: '4px'\r\n    },\r\n    statLabel: {\r\n      fontSize: '14px',\r\n      color: '#6b7280',\r\n      fontWeight: '500'\r\n    },\r\n    vehicleCard: {\r\n      background: 'white',\r\n      borderRadius: '16px',\r\n      marginBottom: '24px',\r\n      boxShadow: '0 8px 32px rgba(0, 0, 0, 0.08)',\r\n      overflow: 'hidden'\r\n    },\r\n    vehicleHeader: {\r\n      background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\r\n      color: 'white',\r\n      padding: '24px',\r\n      position: 'relative'\r\n    },\r\n    vehicleContent: {\r\n      padding: '24px'\r\n    },\r\n    vehicleGrid: {\r\n      display: 'grid',\r\n      gridTemplateColumns: isMobile ? '1fr' : 'repeat(2, 1fr)',\r\n      gap: '20px',\r\n      marginBottom: '20px'\r\n    },\r\n    vehicleInfoItem: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '12px',\r\n      padding: '12px',\r\n      background: '#f9fafb',\r\n      borderRadius: '8px',\r\n      transition: 'all 0.2s ease'\r\n    },\r\n    vehicleInfoLabel: {\r\n      fontSize: '13px',\r\n      color: '#6b7280',\r\n      fontWeight: '500',\r\n      minWidth: '120px'\r\n    },\r\n    vehicleInfoValue: {\r\n      fontSize: '15px',\r\n      color: '#1f2937',\r\n      fontWeight: '600',\r\n      flex: 1\r\n    },\r\n    expandButton: {\r\n      width: '100%',\r\n      padding: '12px',\r\n      background: 'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',\r\n      border: 'none',\r\n      borderRadius: '8px',\r\n      cursor: 'pointer',\r\n      fontSize: '14px',\r\n      fontWeight: '600',\r\n      color: '#4b5563',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      gap: '8px',\r\n      transition: 'all 0.3s ease'\r\n    },\r\n    sectionTabs: {\r\n      display: 'flex',\r\n      gap: '8px',\r\n      marginBottom: '24px',\r\n      borderBottom: '2px solid #e5e7eb',\r\n      flexWrap: 'wrap'\r\n    },\r\n    tab: {\r\n      padding: '12px 24px',\r\n      background: 'transparent',\r\n      border: 'none',\r\n      borderBottom: '3px solid transparent',\r\n      color: '#6b7280',\r\n      fontSize: '15px',\r\n      fontWeight: '500',\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s ease',\r\n      position: 'relative'\r\n    },\r\n    tabActive: {\r\n      color: '#667eea',\r\n      borderBottomColor: '#667eea',\r\n      fontWeight: '600'\r\n    },\r\n    card: {\r\n      background: 'white',\r\n      borderRadius: '12px',\r\n      padding: isMobile ? '16px' : '24px',\r\n      marginBottom: '20px',\r\n      boxShadow: '0 2px 12px rgba(0,0,0,0.06)',\r\n      border: '1px solid rgba(0,0,0,0.04)'\r\n    },\r\n    emptyState: {\r\n      textAlign: 'center',\r\n      padding: '48px 24px',\r\n      color: '#6b7280'\r\n    },\r\n    button: {\r\n      padding: '12px 24px',\r\n      borderRadius: '8px',\r\n      border: 'none',\r\n      fontSize: '14px',\r\n      fontWeight: '600',\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s ease',\r\n      display: 'inline-flex',\r\n      alignItems: 'center',\r\n      gap: '8px'\r\n    },\r\n    primaryButton: {\r\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n      color: 'white'\r\n    },\r\n    secondaryButton: {\r\n      background: 'white',\r\n      color: '#667eea',\r\n      border: '2px solid #667eea'\r\n    },\r\n    dangerButton: {\r\n      background: '#ef4444',\r\n      color: 'white'\r\n    },\r\n    warningBadge: {\r\n      padding: '8px 16px',\r\n      background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\r\n      borderRadius: '8px',\r\n      fontSize: '13px',\r\n      fontWeight: '600',\r\n      color: '#92400e',\r\n      display: 'inline-flex',\r\n      alignItems: 'center',\r\n      gap: '6px'\r\n    },\r\n    successBadge: {\r\n      padding: '8px 16px',\r\n      background: 'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)',\r\n      borderRadius: '8px',\r\n      fontSize: '13px',\r\n      fontWeight: '600',\r\n      color: '#166534',\r\n      display: 'inline-flex',\r\n      alignItems: 'center',\r\n      gap: '6px'\r\n    },\r\n    dangerBadge: {\r\n      padding: '8px 16px',\r\n      background: 'linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)',\r\n      borderRadius: '8px',\r\n      fontSize: '13px',\r\n      fontWeight: '600',\r\n      color: '#dc2626',\r\n      display: 'inline-flex',\r\n      alignItems: 'center',\r\n      gap: '6px'\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{\r\n        width: '100%',\r\n        height: '100vh',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        background: 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)'\r\n      }}>\r\n        <div style={{ textAlign: 'center' }}>\r\n          <div style={{\r\n            width: '60px',\r\n            height: '60px',\r\n            border: '4px solid #e5e7eb',\r\n            borderTop: '4px solid #667eea',\r\n            borderRadius: '50%',\r\n            margin: '0 auto 16px',\r\n            animation: 'spin 1s linear infinite'\r\n          }}></div>\r\n          <p style={{ color: '#6b7280', fontSize: '16px' }}>Cargando dashboard...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      {/* Header */}\r\n      <div style={styles.header}>\r\n        <div style={styles.headerContent}>\r\n          <div>\r\n            <h1 style={styles.headerTitle}>\r\n              👷 Dashboard del Trabajador\r\n            </h1>\r\n            <p style={{ margin: '4px 0 0 0', opacity: 0.9, fontSize: '14px' }}>\r\n              {new Date().toLocaleDateString('es-CL', { \r\n                weekday: 'long', \r\n                year: 'numeric', \r\n                month: 'long', \r\n                day: 'numeric' \r\n              })}\r\n            </p>\r\n          </div>\r\n          \r\n          <div style={styles.headerActions}>\r\n            <button\r\n              onClick={onNavigateToGPS}\r\n              style={{\r\n                ...styles.button,\r\n                ...styles.primaryButton,\r\n                background: 'rgba(255,255,255,0.2)',\r\n                backdropFilter: 'blur(10px)',\r\n                border: '1px solid rgba(255,255,255,0.3)'\r\n              }}\r\n            >\r\n              📍 Ir a GPS\r\n            </button>\r\n            <button\r\n              onClick={onLogout}\r\n              style={{\r\n                ...styles.button,\r\n                ...styles.dangerButton\r\n              }}\r\n            >\r\n              🚪 Salir\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Contenido Principal */}\r\n      <div style={styles.mainContent}>\r\n        {/* Tarjeta de Bienvenida */}\r\n        <div style={styles.welcomeCard}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: '16px' }}>\r\n            <div>\r\n              <h2 style={{ margin: '0 0 8px 0', fontSize: '24px', color: '#1f2937' }}>\r\n                ¡Bienvenido, {trabajadorInfo?.name || currentUser.name || 'Trabajador'}! 👋\r\n              </h2>\r\n              <p style={{ margin: 0, color: '#6b7280', fontSize: '16px' }}>\r\n                {trabajadorInfo?.estado === 'trabajando' ? \r\n                  '🟢 Actualmente trabajando' : \r\n                  trabajadorInfo?.estado === 'en_camino' ?\r\n                  '🟡 En camino a zona de trabajo' :\r\n                  '⚪ Disponible'}\r\n              </p>\r\n            </div>\r\n            {trabajadorInfo?.zonaDestino && (\r\n              <div style={{\r\n                padding: '12px 20px',\r\n                background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\r\n                borderRadius: '12px',\r\n                fontSize: '14px',\r\n                fontWeight: '600',\r\n                color: '#92400e'\r\n              }}>\r\n                📍 Zona actual: {trabajadorInfo.zonaDestino}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* SECCIÓN MEJORADA DEL VEHÍCULO ASIGNADO */}\r\n        {vehiculoAsignado ? (\r\n          <div style={styles.vehicleCard}>\r\n            <div style={styles.vehicleHeader}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', flexWrap: 'wrap', gap: '16px' }}>\r\n                <div>\r\n                  <h3 style={{ margin: '0 0 8px 0', fontSize: '20px', fontWeight: '600' }}>\r\n                    {vehiculoAsignado.tipo === 'maquinaria' ? '🏗️' : '🚛'} Vehículo Asignado\r\n                  </h3>\r\n                  <h2 style={{ margin: '0', fontSize: '32px', fontWeight: '700' }}>\r\n                    {vehiculoAsignado.nombre}\r\n                  </h2>\r\n                </div>\r\n                \r\n                <div style={{ display: 'flex', gap: '12px', alignItems: 'center' }}>\r\n                  {/* Estado del vehículo */}\r\n                  <div style={{\r\n                    padding: '10px 16px',\r\n                    background: 'rgba(255,255,255,0.2)',\r\n                    backdropFilter: 'blur(10px)',\r\n                    borderRadius: '12px',\r\n                    fontWeight: '600'\r\n                  }}>\r\n                    {vehiculoAsignado.estado === 'disponible' ? '✅ Disponible' :\r\n                     vehiculoAsignado.estado === 'en_uso' ? '🔧 En Uso' :\r\n                     vehiculoAsignado.estado === 'mantenimiento' ? '🔧 En Mantenimiento' : \r\n                     '❌ Fuera de Servicio'}\r\n                  </div>\r\n                  \r\n                  {/* Indicador de mantenimiento próximo */}\r\n                  {vehiculoAsignado.proximoMantenimiento && (() => {\r\n                    const dias = getDaysUntilMaintenance(vehiculoAsignado.proximoMantenimiento);\r\n                    if (dias !== null && dias <= 30) {\r\n                      return (\r\n                        <div style={{\r\n                          padding: '10px 16px',\r\n                          background: dias <= 7 ? 'rgba(239, 68, 68, 0.2)' : 'rgba(245, 158, 11, 0.2)',\r\n                          borderRadius: '12px',\r\n                          fontWeight: '600'\r\n                        }}>\r\n                          ⚠️ Mantenimiento en {dias} días\r\n                        </div>\r\n                      );\r\n                    }\r\n                    return null;\r\n                  })()}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={styles.vehicleContent}>\r\n              {/* Información Principal del Vehículo */}\r\n              <div style={styles.vehicleGrid}>\r\n                <div style={styles.vehicleInfoItem}>\r\n                  <span style={{ fontSize: '24px' }}>📋</span>\r\n                  <div style={{ flex: 1 }}>\r\n                    <div style={styles.vehicleInfoLabel}>Patente</div>\r\n                    <div style={styles.vehicleInfoValue}>{vehiculoAsignado.patente || 'N/A'}</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={styles.vehicleInfoItem}>\r\n                  <span style={{ fontSize: '24px' }}>🏭</span>\r\n                  <div style={{ flex: 1 }}>\r\n                    <div style={styles.vehicleInfoLabel}>Marca/Modelo</div>\r\n                    <div style={styles.vehicleInfoValue}>\r\n                      {vehiculoAsignado.marca} {vehiculoAsignado.modelo}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={styles.vehicleInfoItem}>\r\n                  <span style={{ fontSize: '24px' }}>📏</span>\r\n                  <div style={{ flex: 1 }}>\r\n                    <div style={styles.vehicleInfoLabel}>Kilometraje Actual</div>\r\n                    <div style={styles.vehicleInfoValue}>\r\n                      {vehiculoAsignado.kilometraje?.toLocaleString() || 0} km\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={styles.vehicleInfoItem}>\r\n                  <span style={{ fontSize: '24px' }}>⛽</span>\r\n                  <div style={{ flex: 1 }}>\r\n                    <div style={styles.vehicleInfoLabel}>Tipo de Combustible</div>\r\n                    <div style={styles.vehicleInfoValue}>\r\n                      {vehiculoAsignado.tipoCombustible || 'N/A'}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={styles.vehicleInfoItem}>\r\n                  <span style={{ fontSize: '24px' }}>📅</span>\r\n                  <div style={{ flex: 1 }}>\r\n                    <div style={styles.vehicleInfoLabel}>Año</div>\r\n                    <div style={styles.vehicleInfoValue}>\r\n                      {vehiculoAsignado.año || 'N/A'}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={styles.vehicleInfoItem}>\r\n                  <span style={{ fontSize: '24px' }}>🎨</span>\r\n                  <div style={{ flex: 1 }}>\r\n                    <div style={styles.vehicleInfoLabel}>Color</div>\r\n                    <div style={styles.vehicleInfoValue}>\r\n                      {vehiculoAsignado.color || 'N/A'}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Botón para expandir información */}\r\n              <button\r\n                onClick={() => setExpandedVehicleInfo(!expandedVehicleInfo)}\r\n                style={styles.expandButton}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.background = 'linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.background = 'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)';\r\n                }}\r\n              >\r\n                {expandedVehicleInfo ? '➖ Ver menos información' : '➕ Ver más información'}\r\n              </button>\r\n\r\n              {/* Información Expandida del Vehículo */}\r\n              {expandedVehicleInfo && (\r\n                <div style={{ marginTop: '20px' }}>\r\n                  {/* Información de Mantenimiento */}\r\n                  <div style={{\r\n                    padding: '20px',\r\n                    background: '#f9fafb',\r\n                    borderRadius: '12px',\r\n                    marginBottom: '16px'\r\n                  }}>\r\n                    <h4 style={{ margin: '0 0 16px 0', color: '#1f2937', fontSize: '18px' }}>\r\n                      🔧 Información de Mantenimiento\r\n                    </h4>\r\n                    \r\n                    <div style={{ display: 'grid', gridTemplateColumns: isMobile ? '1fr' : 'repeat(2, 1fr)', gap: '16px' }}>\r\n                      <div>\r\n                        <div style={{ fontSize: '13px', color: '#6b7280', marginBottom: '4px' }}>\r\n                          Último Mantenimiento\r\n                        </div>\r\n                        <div style={{ fontSize: '15px', color: '#1f2937', fontWeight: '600' }}>\r\n                          {vehiculoAsignado.ultimoMantenimiento ? \r\n                            formatDate(vehiculoAsignado.ultimoMantenimiento) : \r\n                            'Sin registro'}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div>\r\n                        <div style={{ fontSize: '13px', color: '#6b7280', marginBottom: '4px' }}>\r\n                          Próximo Mantenimiento\r\n                        </div>\r\n                        <div style={{ fontSize: '15px', color: '#1f2937', fontWeight: '600' }}>\r\n                          {vehiculoAsignado.proximoMantenimiento ? \r\n                            formatDate(vehiculoAsignado.proximoMantenimiento) : \r\n                            'No programado'}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div>\r\n                        <div style={{ fontSize: '13px', color: '#6b7280', marginBottom: '4px' }}>\r\n                          Km en último mantenimiento\r\n                        </div>\r\n                        <div style={{ fontSize: '15px', color: '#1f2937', fontWeight: '600' }}>\r\n                          {vehiculoAsignado.kilometrajeUltimoMantenimiento?.toLocaleString() || 'N/A'} km\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div>\r\n                        <div style={{ fontSize: '13px', color: '#6b7280', marginBottom: '4px' }}>\r\n                          Próximo mantenimiento en\r\n                        </div>\r\n                        <div style={{ fontSize: '15px', color: '#1f2937', fontWeight: '600' }}>\r\n                          {vehiculoAsignado.kilometrajeProximoMantenimiento?.toLocaleString() || 'N/A'} km\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Información Técnica Adicional */}\r\n                  <div style={{\r\n                    padding: '20px',\r\n                    background: '#f9fafb',\r\n                    borderRadius: '12px',\r\n                    marginBottom: '16px'\r\n                  }}>\r\n                    <h4 style={{ margin: '0 0 16px 0', color: '#1f2937', fontSize: '18px' }}>\r\n                      📊 Información Técnica\r\n                    </h4>\r\n                    \r\n                    <div style={{ display: 'grid', gridTemplateColumns: isMobile ? '1fr' : 'repeat(2, 1fr)', gap: '16px' }}>\r\n                      <div>\r\n                        <div style={{ fontSize: '13px', color: '#6b7280', marginBottom: '4px' }}>\r\n                          Número de Motor\r\n                        </div>\r\n                        <div style={{ fontSize: '15px', color: '#1f2937', fontWeight: '600' }}>\r\n                          {vehiculoAsignado.numeroMotor || 'N/A'}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div>\r\n                        <div style={{ fontSize: '13px', color: '#6b7280', marginBottom: '4px' }}>\r\n                          Número de Chasis\r\n                        </div>\r\n                        <div style={{ fontSize: '15px', color: '#1f2937', fontWeight: '600' }}>\r\n                          {vehiculoAsignado.numeroChasis || 'N/A'}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div>\r\n                        <div style={{ fontSize: '13px', color: '#6b7280', marginBottom: '4px' }}>\r\n                          Capacidad de Carga\r\n                        </div>\r\n                        <div style={{ fontSize: '15px', color: '#1f2937', fontWeight: '600' }}>\r\n                          {vehiculoAsignado.capacidadCarga || 'N/A'}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div>\r\n                        <div style={{ fontSize: '13px', color: '#6b7280', marginBottom: '4px' }}>\r\n                          Tipo de Transmisión\r\n                        </div>\r\n                        <div style={{ fontSize: '15px', color: '#1f2937', fontWeight: '600' }}>\r\n                          {vehiculoAsignado.transmision || 'N/A'}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Documentación */}\r\n                  <div style={{\r\n                    padding: '20px',\r\n                    background: '#f9fafb',\r\n                    borderRadius: '12px',\r\n                    marginBottom: '16px'\r\n                  }}>\r\n                    <h4 style={{ margin: '0 0 16px 0', color: '#1f2937', fontSize: '18px' }}>\r\n                      📄 Documentación\r\n                    </h4>\r\n                    \r\n                    <div style={{ display: 'grid', gridTemplateColumns: isMobile ? '1fr' : 'repeat(2, 1fr)', gap: '16px' }}>\r\n                      <div>\r\n                        <div style={{ fontSize: '13px', color: '#6b7280', marginBottom: '4px' }}>\r\n                          Vencimiento Permiso Circulación\r\n                        </div>\r\n                        <div style={{ fontSize: '15px', color: '#1f2937', fontWeight: '600' }}>\r\n                          {vehiculoAsignado.vencimientoPermisoCirculacion ? \r\n                            formatDate(vehiculoAsignado.vencimientoPermisoCirculacion) : \r\n                            'N/A'}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div>\r\n                        <div style={{ fontSize: '13px', color: '#6b7280', marginBottom: '4px' }}>\r\n                          Vencimiento Revisión Técnica\r\n                        </div>\r\n                        <div style={{ fontSize: '15px', color: '#1f2937', fontWeight: '600' }}>\r\n                          {vehiculoAsignado.vencimientoRevisionTecnica ? \r\n                            formatDate(vehiculoAsignado.vencimientoRevisionTecnica) : \r\n                            'N/A'}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div>\r\n                        <div style={{ fontSize: '13px', color: '#6b7280', marginBottom: '4px' }}>\r\n                          Vencimiento Seguro\r\n                        </div>\r\n                        <div style={{ fontSize: '15px', color: '#1f2937', fontWeight: '600' }}>\r\n                          {vehiculoAsignado.vencimientoSeguro ? \r\n                            formatDate(vehiculoAsignado.vencimientoSeguro) : \r\n                            'N/A'}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div>\r\n                        <div style={{ fontSize: '13px', color: '#6b7280', marginBottom: '4px' }}>\r\n                          Compañía de Seguro\r\n                        </div>\r\n                        <div style={{ fontSize: '15px', color: '#1f2937', fontWeight: '600' }}>\r\n                          {vehiculoAsignado.companiaSeguro || 'N/A'}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Observaciones */}\r\n                  {vehiculoAsignado.observaciones && (\r\n                    <div style={{\r\n                      padding: '20px',\r\n                      background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\r\n                      borderRadius: '12px',\r\n                      border: '1px solid #fbbf24'\r\n                    }}>\r\n                      <h4 style={{ margin: '0 0 12px 0', color: '#92400e', fontSize: '16px' }}>\r\n                        📝 Observaciones Importantes\r\n                      </h4>\r\n                      <p style={{ margin: 0, color: '#78350f', fontSize: '14px', lineHeight: '1.6' }}>\r\n                        {vehiculoAsignado.observaciones}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div style={{\r\n            ...styles.card,\r\n            background: 'linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)',\r\n            border: '2px solid #ef4444',\r\n            textAlign: 'center'\r\n          }}>\r\n            <div style={{ fontSize: '48px', marginBottom: '16px' }}>🚫</div>\r\n            <h3 style={{ margin: '0 0 8px 0', color: '#dc2626' }}>\r\n              No tienes vehículo asignado\r\n            </h3>\r\n            <p style={{ margin: 0, color: '#991b1b', fontSize: '14px' }}>\r\n              Contacta con tu supervisor para la asignación de un vehículo\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Estadísticas */}\r\n        <div style={styles.statsGrid}>\r\n          <div \r\n            style={styles.statCard}\r\n            onMouseEnter={(e) => {\r\n              e.currentTarget.style.transform = 'translateY(-4px)';\r\n              e.currentTarget.style.boxShadow = '0 8px 24px rgba(0,0,0,0.12)';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              e.currentTarget.style.transform = 'translateY(0)';\r\n              e.currentTarget.style.boxShadow = '0 2px 12px rgba(0,0,0,0.06)';\r\n            }}\r\n          >\r\n            <div style={styles.statCardHeader}>\r\n              <div style={{\r\n                ...styles.statIcon,\r\n                background: 'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)'\r\n              }}>\r\n                ✅\r\n              </div>\r\n            </div>\r\n            <div style={styles.statValue}>{estadisticas.tareasCompletadas}</div>\r\n            <div style={styles.statLabel}>Tareas Completadas</div>\r\n          </div>\r\n\r\n          <div \r\n            style={styles.statCard}\r\n            onMouseEnter={(e) => {\r\n              e.currentTarget.style.transform = 'translateY(-4px)';\r\n              e.currentTarget.style.boxShadow = '0 8px 24px rgba(0,0,0,0.12)';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              e.currentTarget.style.transform = 'translateY(0)';\r\n              e.currentTarget.style.boxShadow = '0 2px 12px rgba(0,0,0,0.06)';\r\n            }}\r\n          >\r\n            <div style={styles.statCardHeader}>\r\n              <div style={{\r\n                ...styles.statIcon,\r\n                background: 'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)'\r\n              }}>\r\n                🔧\r\n              </div>\r\n            </div>\r\n            <div style={styles.statValue}>{estadisticas.tareasEnProgreso}</div>\r\n            <div style={styles.statLabel}>En Progreso</div>\r\n          </div>\r\n\r\n          <div \r\n            style={styles.statCard}\r\n            onMouseEnter={(e) => {\r\n              e.currentTarget.style.transform = 'translateY(-4px)';\r\n              e.currentTarget.style.boxShadow = '0 8px 24px rgba(0,0,0,0.12)';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              e.currentTarget.style.transform = 'translateY(0)';\r\n              e.currentTarget.style.boxShadow = '0 2px 12px rgba(0,0,0,0.06)';\r\n            }}\r\n          >\r\n            <div style={styles.statCardHeader}>\r\n              <div style={{\r\n                ...styles.statIcon,\r\n                background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)'\r\n              }}>\r\n                ⏳\r\n              </div>\r\n            </div>\r\n            <div style={styles.statValue}>{estadisticas.tareasPendientes}</div>\r\n            <div style={styles.statLabel}>Pendientes</div>\r\n          </div>\r\n\r\n          <div \r\n            style={styles.statCard}\r\n            onMouseEnter={(e) => {\r\n              e.currentTarget.style.transform = 'translateY(-4px)';\r\n              e.currentTarget.style.boxShadow = '0 8px 24px rgba(0,0,0,0.12)';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              e.currentTarget.style.transform = 'translateY(0)';\r\n              e.currentTarget.style.boxShadow = '0 2px 12px rgba(0,0,0,0.06)';\r\n            }}\r\n          >\r\n            <div style={styles.statCardHeader}>\r\n              <div style={{\r\n                ...styles.statIcon,\r\n                background: 'linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%)'\r\n              }}>\r\n                ⏰\r\n              </div>\r\n            </div>\r\n            <div style={styles.statValue}>{estadisticas.horasTrabajadas}</div>\r\n            <div style={styles.statLabel}>Horas este mes</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs de navegación */}\r\n        <div style={styles.sectionTabs}>\r\n          <button\r\n            onClick={() => setActiveSection('overview')}\r\n            style={{\r\n              ...styles.tab,\r\n              ...(activeSection === 'overview' ? styles.tabActive : {})\r\n            }}\r\n          >\r\n            📊 Resumen\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveSection('zones')}\r\n            style={{\r\n              ...styles.tab,\r\n              ...(activeSection === 'zones' ? styles.tabActive : {})\r\n            }}\r\n          >\r\n            🏗️ Zonas Asignadas ({zonasAsignadas.length})\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveSection('history')}\r\n            style={{\r\n              ...styles.tab,\r\n              ...(activeSection === 'history' ? styles.tabActive : {})\r\n            }}\r\n          >\r\n            📜 Historial\r\n          </button>\r\n        </div>\r\n\r\n        {/* Contenido según tab activo */}\r\n        {activeSection === 'overview' && (\r\n          <div style={styles.card}>\r\n            <h3 style={{ margin: '0 0 20px 0', fontSize: '20px', color: '#1f2937' }}>\r\n              📊 Resumen de Actividad\r\n            </h3>\r\n            \r\n            {historialRecorridos.length > 0 ? (\r\n              <div style={{ display: 'grid', gap: '16px' }}>\r\n                <div style={{\r\n                  padding: '16px',\r\n                  background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',\r\n                  borderRadius: '12px',\r\n                  border: '1px solid #0ea5e9'\r\n                }}>\r\n                  <h4 style={{ margin: '0 0 12px 0', color: '#0369a1', fontSize: '16px' }}>\r\n                    🎯 Último trabajo realizado\r\n                  </h4>\r\n                  <div style={{ display: 'grid', gap: '8px', fontSize: '14px' }}>\r\n                    <div>\r\n                      <strong>Zona:</strong> {historialRecorridos[0].zonaNombre || 'N/A'}\r\n                    </div>\r\n                    <div>\r\n                      <strong>Fecha:</strong> {formatDate(historialRecorridos[0].horaInicio)}\r\n                    </div>\r\n                    <div>\r\n                      <strong>Duración:</strong> {calculateDuration(historialRecorridos[0].horaInicio, historialRecorridos[0].horaFin)}\r\n                    </div>\r\n                    <div>\r\n                      <strong>Estado:</strong> \r\n                      <span style={{\r\n                        marginLeft: '8px',\r\n                        padding: '2px 8px',\r\n                        borderRadius: '12px',\r\n                        fontSize: '12px',\r\n                        fontWeight: '600',\r\n                        background: historialRecorridos[0].estado === 'completado' ? '#dcfce7' : '#fef3c7',\r\n                        color: historialRecorridos[0].estado === 'completado' ? '#166534' : '#92400e'\r\n                      }}>\r\n                        {historialRecorridos[0].estado === 'completado' ? '✅ Completado' : '⏳ En proceso'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div style={styles.emptyState}>\r\n                <div style={{ fontSize: '48px', marginBottom: '16px' }}>📊</div>\r\n                <p>No hay actividad registrada todavía</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {activeSection === 'zones' && (\r\n          <div>\r\n            {zonasAsignadas.length > 0 ? (\r\n              <div style={{ display: 'grid', gap: '16px' }}>\r\n                {zonasAsignadas.map(zona => (\r\n                  <div key={zona.id} style={{\r\n                    ...styles.card,\r\n                    borderLeft: `4px solid ${getStatusColor(zona.estado)}`\r\n                  }}>\r\n                    <div style={{ \r\n                      display: 'flex', \r\n                      justifyContent: 'space-between', \r\n                      alignItems: 'flex-start',\r\n                      flexWrap: 'wrap',\r\n                      gap: '16px',\r\n                      marginBottom: '16px'\r\n                    }}>\r\n                      <div>\r\n                        <h4 style={{ \r\n                          margin: '0 0 8px 0', \r\n                          fontSize: '18px', \r\n                          color: '#1f2937',\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          gap: '8px'\r\n                        }}>\r\n                          🏗️ {zona.nombre}\r\n                        </h4>\r\n                        <p style={{ margin: '0 0 4px 0', color: '#6b7280', fontSize: '14px' }}>\r\n                          📍 {zona.direccion || 'Sin dirección especificada'}\r\n                        </p>\r\n                      </div>\r\n                      \r\n                      <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\r\n                        {getPriorityBadge(zona.prioridad)}\r\n                        <span style={{\r\n                          padding: '4px 12px',\r\n                          borderRadius: '20px',\r\n                          fontSize: '12px',\r\n                          fontWeight: '600',\r\n                          background: zona.estado === 'completado' ? '#dcfce7' : \r\n                                     zona.estado === 'en_progreso' ? '#dbeafe' : '#fef3c7',\r\n                          color: zona.estado === 'completado' ? '#166534' : \r\n                                 zona.estado === 'en_progreso' ? '#1e40af' : '#92400e'\r\n                        }}>\r\n                          {zona.estado === 'completado' ? '✅ Completado' :\r\n                           zona.estado === 'en_progreso' ? '🔧 En Progreso' : '⏳ Pendiente'}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {zona.estado !== 'completado' && (\r\n                      <button\r\n                        onClick={() => onNavigateToGPS()}\r\n                        style={{\r\n                          ...styles.button,\r\n                          ...styles.primaryButton,\r\n                          marginTop: '16px',\r\n                          width: '100%'\r\n                        }}\r\n                      >\r\n                        📍 Ir a esta zona\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div style={{\r\n                ...styles.card,\r\n                ...styles.emptyState\r\n              }}>\r\n                <div style={{ fontSize: '48px', marginBottom: '16px' }}>🏗️</div>\r\n                <h3 style={{ margin: '0 0 8px 0', color: '#1f2937' }}>\r\n                  No tienes zonas asignadas\r\n                </h3>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {activeSection === 'history' && (\r\n          <div>\r\n            {historialRecorridos.length > 0 ? (\r\n              <div style={styles.card}>\r\n                <h3 style={{ margin: '0 0 20px 0', fontSize: '20px', color: '#1f2937' }}>\r\n                  📜 Historial de Recorridos\r\n                </h3>\r\n                \r\n                <div style={{ overflowX: 'auto' }}>\r\n                  <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                    <thead>\r\n                      <tr style={{ borderBottom: '2px solid #e5e7eb' }}>\r\n                        <th style={{ padding: '12px', textAlign: 'left' }}>Zona</th>\r\n                        <th style={{ padding: '12px', textAlign: 'left' }}>Fecha</th>\r\n                        <th style={{ padding: '12px', textAlign: 'left' }}>Duración</th>\r\n                        <th style={{ padding: '12px', textAlign: 'left' }}>Estado</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {historialRecorridos.map((recorrido) => (\r\n                        <tr key={recorrido.id} style={{ borderBottom: '1px solid #f3f4f6' }}>\r\n                          <td style={{ padding: '12px' }}>\r\n                            🏗️ {recorrido.zonaNombre || 'N/A'}\r\n                          </td>\r\n                          <td style={{ padding: '12px' }}>\r\n                            {formatDate(recorrido.horaInicio)}\r\n                          </td>\r\n                          <td style={{ padding: '12px' }}>\r\n                            {calculateDuration(recorrido.horaInicio, recorrido.horaFin)}\r\n                          </td>\r\n                          <td style={{ padding: '12px' }}>\r\n                            <span style={{\r\n                              padding: '4px 12px',\r\n                              borderRadius: '12px',\r\n                              fontSize: '12px',\r\n                              fontWeight: '600',\r\n                              background: recorrido.estado === 'completado' ? '#dcfce7' : '#fef3c7',\r\n                              color: recorrido.estado === 'completado' ? '#166534' : '#92400e'\r\n                            }}>\r\n                              {recorrido.estado === 'completado' ? '✅ Completado' : '⏳ En proceso'}\r\n                            </span>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div style={{\r\n                ...styles.card,\r\n                ...styles.emptyState\r\n              }}>\r\n                <div style={{ fontSize: '48px', marginBottom: '16px' }}>📜</div>\r\n                <h3>No hay historial disponible</h3>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <style>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardTrabajador;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}