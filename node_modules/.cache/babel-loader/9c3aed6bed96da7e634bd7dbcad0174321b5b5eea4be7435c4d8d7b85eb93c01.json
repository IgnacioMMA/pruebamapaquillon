{"ast":null,"code":"// src/components/NotificationSystem.js\nimport React,{useState,useEffect}from'react';import{database}from'../config/firebase';import{ref,onValue,push,update,remove,set}from'firebase/database';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const NotificationSystem=_ref=>{let{currentUser,isMobile}=_ref;const[notifications,setNotifications]=useState([]);const[showNotifications,setShowNotifications]=useState(false);const[unreadCount,setUnreadCount]=useState(0);const[loading,setLoading]=useState(false);// Cargar notificaciones\nuseEffect(()=>{if(!(currentUser!==null&&currentUser!==void 0&&currentUser.uid))return;const notificationsRef=ref(database,`notificaciones/${currentUser.uid}`);const unsubscribe=onValue(notificationsRef,snapshot=>{const data=snapshot.val();if(data){const notificationsArray=Object.entries(data).map(_ref2=>{let[id,notif]=_ref2;return{id,...notif};}).sort((a,b)=>new Date(b.timestamp)-new Date(a.timestamp));setNotifications(notificationsArray);// Contar no leídas\nconst unread=notificationsArray.filter(n=>!n.leida).length;setUnreadCount(unread);}else{setNotifications([]);setUnreadCount(0);}});return()=>unsubscribe();},[currentUser]);// Marcar como leída\nconst markAsRead=async notificationId=>{try{const notifRef=ref(database,`notificaciones/${currentUser.uid}/${notificationId}`);await update(notifRef,{leida:true,fechaLectura:new Date().toISOString()});}catch(error){console.error('Error al marcar como leída:',error);}};// Marcar todas como leídas\nconst markAllAsRead=async()=>{setLoading(true);try{const updates={};notifications.forEach(notif=>{if(!notif.leida){updates[`notificaciones/${currentUser.uid}/${notif.id}/leida`]=true;updates[`notificaciones/${currentUser.uid}/${notif.id}/fechaLectura`]=new Date().toISOString();}});if(Object.keys(updates).length>0){await update(ref(database),updates);}}catch(error){console.error('Error al marcar todas como leídas:',error);}finally{setLoading(false);}};// Eliminar notificación\nconst deleteNotification=async notificationId=>{try{const notifRef=ref(database,`notificaciones/${currentUser.uid}/${notificationId}`);await remove(notifRef);}catch(error){console.error('Error al eliminar notificación:',error);}};// Eliminar todas las notificaciones\nconst deleteAllNotifications=async()=>{if(!window.confirm('¿Estás seguro de eliminar todas las notificaciones?'))return;setLoading(true);try{const notificationsRef=ref(database,`notificaciones/${currentUser.uid}`);await remove(notificationsRef);setShowNotifications(false);}catch(error){console.error('Error al eliminar todas las notificaciones:',error);}finally{setLoading(false);}};// Obtener icono según tipo de notificación\nconst getNotificationIcon=tipo=>{const icons={vehiculo_asignado:'🚛',vehiculo_actualizado:'🔧',vehiculo_mantenimiento:'🔧',documento_subido:'📄',documento_vencido:'⚠️',licencia_vencida:'🚫',licencia_proxima:'⏰',trabajador_creado:'👷',trabajador_actualizado:'✏️',sistema:'⚙️',alerta:'⚠️',exito:'✅',error:'❌'};return icons[tipo]||'📢';};// Obtener color según tipo\nconst getNotificationColor=tipo=>{const colors={error:'#ef4444',alerta:'#f59e0b',exito:'#22c55e',vehiculo_mantenimiento:'#f59e0b',documento_vencido:'#ef4444',licencia_vencida:'#ef4444',licencia_proxima:'#f59e0b'};return colors[tipo]||'#3b82f6';};// Formatear fecha relativa\nconst formatRelativeTime=timestamp=>{const date=new Date(timestamp);const now=new Date();const diff=now-date;const seconds=Math.floor(diff/1000);const minutes=Math.floor(seconds/60);const hours=Math.floor(minutes/60);const days=Math.floor(hours/24);if(seconds<60)return'Hace un momento';if(minutes<60)return`Hace ${minutes} minuto${minutes>1?'s':''}`;if(hours<24)return`Hace ${hours} hora${hours>1?'s':''}`;if(days<7)return`Hace ${days} día${days>1?'s':''}`;return date.toLocaleDateString('es-CL');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowNotifications(!showNotifications),style:{position:'relative',padding:'10px',background:'white',border:'1px solid #e5e7eb',borderRadius:'8px',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)';e.currentTarget.style.transform='translateY(-1px)';},onMouseLeave:e=>{e.currentTarget.style.boxShadow='none';e.currentTarget.style.transform='translateY(0)';},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'20px'},children:\"\\uD83D\\uDD14\"}),unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',top:'-5px',right:'-5px',background:'#ef4444',color:'white',borderRadius:'50%',width:'22px',height:'22px',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'11px',fontWeight:'600',border:'2px solid white',animation:unreadCount>0?'pulse 2s infinite':'none'},children:unreadCount>99?'99+':unreadCount}),!isMobile&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'14px',color:'#374151'},children:\"Notificaciones\"})]}),showNotifications&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.3)',zIndex:998},onClick:()=>setShowNotifications(false)}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',top:isMobile?'0':'70px',right:isMobile?'0':'20px',width:isMobile?'100%':'400px',maxHeight:isMobile?'100vh':'80vh',background:'white',borderRadius:isMobile?'0':'12px',boxShadow:'0 10px 40px rgba(0,0,0,0.15)',zIndex:999,display:'flex',flexDirection:'column',animation:'slideIn 0.3s ease'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',borderBottom:'1px solid #e5e7eb',background:'linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'10px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:0,fontSize:'18px',color:'#1f2937',display:'flex',alignItems:'center',gap:'8px'},children:[\"\\uD83D\\uDD14 Notificaciones\",unreadCount>0&&/*#__PURE__*/_jsxs(\"span\",{style:{padding:'2px 8px',background:'#ef4444',color:'white',borderRadius:'12px',fontSize:'12px'},children:[unreadCount,\" nueva\",unreadCount>1?'s':'']})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNotifications(false),style:{background:'transparent',border:'none',fontSize:'20px',cursor:'pointer',color:'#6b7280'},children:\"\\u2716\"})]}),notifications.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',fontSize:'13px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:markAllAsRead,disabled:loading||unreadCount===0,style:{flex:1,padding:'6px 12px',background:'#3b82f6',color:'white',border:'none',borderRadius:'6px',cursor:loading||unreadCount===0?'not-allowed':'pointer',opacity:loading||unreadCount===0?0.5:1,fontSize:'12px',fontWeight:'500'},children:\"\\u2713 Marcar todas como le\\xEDdas\"}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteAllNotifications,disabled:loading,style:{flex:1,padding:'6px 12px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:loading?'not-allowed':'pointer',opacity:loading?0.5:1,fontSize:'12px',fontWeight:'500'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar todas\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,overflowY:'auto',maxHeight:isMobile?'calc(100vh - 140px)':'500px'},children:notifications.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{padding:'60px 20px',textAlign:'center',color:'#9ca3af'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'10px'},children:\"\\uD83D\\uDCED\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px'},children:\"No tienes notificaciones\"})]}):notifications.map(notif=>/*#__PURE__*/_jsx(\"div\",{style:{padding:'15px 20px',borderBottom:'1px solid #f3f4f6',background:notif.leida?'white':'#f0f9ff',cursor:'pointer',transition:'background 0.2s',position:'relative'},onClick:()=>!notif.leida&&markAsRead(notif.id),onMouseEnter:e=>{e.currentTarget.style.background='#f9fafb';},onMouseLeave:e=>{e.currentTarget.style.background=notif.leida?'white':'#f0f9ff';},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',background:`${getNotificationColor(notif.tipo)}20`,borderRadius:'50%',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'20px',flexShrink:0},children:getNotificationIcon(notif.tipo)}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:0},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#1f2937',fontWeight:notif.leida?'400':'600',marginBottom:'4px',lineHeight:'1.4'},children:notif.titulo}),notif.mensaje&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',lineHeight:'1.4'},children:notif.mensaje}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#9ca3af',marginTop:'6px',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u23F0 \",formatRelativeTime(notif.timestamp)]}),!notif.leida&&/*#__PURE__*/_jsx(\"span\",{style:{padding:'2px 6px',background:'#3b82f6',color:'white',borderRadius:'4px',fontSize:'10px',fontWeight:'600'},children:\"NUEVA\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();deleteNotification(notif.id);},style:{background:'transparent',border:'none',color:'#ef4444',cursor:'pointer',padding:'4px',fontSize:'16px',opacity:0.6,transition:'opacity 0.2s'},onMouseEnter:e=>{e.currentTarget.style.opacity='1';},onMouseLeave:e=>{e.currentTarget.style.opacity='0.6';},children:\"\\uD83D\\uDDD1\\uFE0F\"})]})},notif.id))})]})]}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:`\n        @keyframes slideIn {\n          from {\n            opacity: 0;\n            transform: translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes pulse {\n          0% {\n            transform: scale(1);\n          }\n          50% {\n            transform: scale(1.1);\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n      `})]});};// Función helper para crear notificaciones\nexport const createNotification=async(userId,notification)=>{try{const notificationsRef=ref(database,`notificaciones/${userId}`);await push(notificationsRef,{...notification,timestamp:new Date().toISOString(),leida:false});}catch(error){console.error('Error al crear notificación:',error);}};export default NotificationSystem;","map":{"version":3,"names":["React","useState","useEffect","database","ref","onValue","push","update","remove","set","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NotificationSystem","_ref","currentUser","isMobile","notifications","setNotifications","showNotifications","setShowNotifications","unreadCount","setUnreadCount","loading","setLoading","uid","notificationsRef","unsubscribe","snapshot","data","val","notificationsArray","Object","entries","map","_ref2","id","notif","sort","a","b","Date","timestamp","unread","filter","n","leida","length","markAsRead","notificationId","notifRef","fechaLectura","toISOString","error","console","markAllAsRead","updates","forEach","keys","deleteNotification","deleteAllNotifications","window","confirm","getNotificationIcon","tipo","icons","vehiculo_asignado","vehiculo_actualizado","vehiculo_mantenimiento","documento_subido","documento_vencido","licencia_vencida","licencia_proxima","trabajador_creado","trabajador_actualizado","sistema","alerta","exito","getNotificationColor","colors","formatRelativeTime","date","now","diff","seconds","Math","floor","minutes","hours","days","toLocaleDateString","children","onClick","style","position","padding","background","border","borderRadius","cursor","display","alignItems","gap","transition","onMouseEnter","e","currentTarget","boxShadow","transform","onMouseLeave","fontSize","top","right","color","width","height","justifyContent","fontWeight","animation","left","bottom","zIndex","maxHeight","flexDirection","borderBottom","marginBottom","margin","disabled","flex","opacity","overflowY","textAlign","flexShrink","minWidth","lineHeight","titulo","mensaje","marginTop","stopPropagation","createNotification","userId","notification"],"sources":["C:/Users/Izan/Desktop/AppReact/mapa-quillon/src/components/NotificationSystem.js"],"sourcesContent":["// src/components/NotificationSystem.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { database } from '../config/firebase';\r\nimport { ref, onValue, push, update, remove, set } from 'firebase/database';\r\n\r\nconst NotificationSystem = ({ currentUser, isMobile }) => {\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [showNotifications, setShowNotifications] = useState(false);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Cargar notificaciones\r\n  useEffect(() => {\r\n    if (!currentUser?.uid) return;\r\n\r\n    const notificationsRef = ref(database, `notificaciones/${currentUser.uid}`);\r\n    const unsubscribe = onValue(notificationsRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const notificationsArray = Object.entries(data)\r\n          .map(([id, notif]) => ({\r\n            id,\r\n            ...notif\r\n          }))\r\n          .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\r\n        \r\n        setNotifications(notificationsArray);\r\n        \r\n        // Contar no leídas\r\n        const unread = notificationsArray.filter(n => !n.leida).length;\r\n        setUnreadCount(unread);\r\n      } else {\r\n        setNotifications([]);\r\n        setUnreadCount(0);\r\n      }\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [currentUser]);\r\n\r\n  // Marcar como leída\r\n  const markAsRead = async (notificationId) => {\r\n    try {\r\n      const notifRef = ref(database, `notificaciones/${currentUser.uid}/${notificationId}`);\r\n      await update(notifRef, {\r\n        leida: true,\r\n        fechaLectura: new Date().toISOString()\r\n      });\r\n    } catch (error) {\r\n      console.error('Error al marcar como leída:', error);\r\n    }\r\n  };\r\n\r\n  // Marcar todas como leídas\r\n  const markAllAsRead = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const updates = {};\r\n      notifications.forEach(notif => {\r\n        if (!notif.leida) {\r\n          updates[`notificaciones/${currentUser.uid}/${notif.id}/leida`] = true;\r\n          updates[`notificaciones/${currentUser.uid}/${notif.id}/fechaLectura`] = new Date().toISOString();\r\n        }\r\n      });\r\n      \r\n      if (Object.keys(updates).length > 0) {\r\n        await update(ref(database), updates);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al marcar todas como leídas:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Eliminar notificación\r\n  const deleteNotification = async (notificationId) => {\r\n    try {\r\n      const notifRef = ref(database, `notificaciones/${currentUser.uid}/${notificationId}`);\r\n      await remove(notifRef);\r\n    } catch (error) {\r\n      console.error('Error al eliminar notificación:', error);\r\n    }\r\n  };\r\n\r\n  // Eliminar todas las notificaciones\r\n  const deleteAllNotifications = async () => {\r\n    if (!window.confirm('¿Estás seguro de eliminar todas las notificaciones?')) return;\r\n    \r\n    setLoading(true);\r\n    try {\r\n      const notificationsRef = ref(database, `notificaciones/${currentUser.uid}`);\r\n      await remove(notificationsRef);\r\n      setShowNotifications(false);\r\n    } catch (error) {\r\n      console.error('Error al eliminar todas las notificaciones:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Obtener icono según tipo de notificación\r\n  const getNotificationIcon = (tipo) => {\r\n    const icons = {\r\n      vehiculo_asignado: '🚛',\r\n      vehiculo_actualizado: '🔧',\r\n      vehiculo_mantenimiento: '🔧',\r\n      documento_subido: '📄',\r\n      documento_vencido: '⚠️',\r\n      licencia_vencida: '🚫',\r\n      licencia_proxima: '⏰',\r\n      trabajador_creado: '👷',\r\n      trabajador_actualizado: '✏️',\r\n      sistema: '⚙️',\r\n      alerta: '⚠️',\r\n      exito: '✅',\r\n      error: '❌'\r\n    };\r\n    return icons[tipo] || '📢';\r\n  };\r\n\r\n  // Obtener color según tipo\r\n  const getNotificationColor = (tipo) => {\r\n    const colors = {\r\n      error: '#ef4444',\r\n      alerta: '#f59e0b',\r\n      exito: '#22c55e',\r\n      vehiculo_mantenimiento: '#f59e0b',\r\n      documento_vencido: '#ef4444',\r\n      licencia_vencida: '#ef4444',\r\n      licencia_proxima: '#f59e0b'\r\n    };\r\n    return colors[tipo] || '#3b82f6';\r\n  };\r\n\r\n  // Formatear fecha relativa\r\n  const formatRelativeTime = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diff = now - date;\r\n    const seconds = Math.floor(diff / 1000);\r\n    const minutes = Math.floor(seconds / 60);\r\n    const hours = Math.floor(minutes / 60);\r\n    const days = Math.floor(hours / 24);\r\n\r\n    if (seconds < 60) return 'Hace un momento';\r\n    if (minutes < 60) return `Hace ${minutes} minuto${minutes > 1 ? 's' : ''}`;\r\n    if (hours < 24) return `Hace ${hours} hora${hours > 1 ? 's' : ''}`;\r\n    if (days < 7) return `Hace ${days} día${days > 1 ? 's' : ''}`;\r\n    \r\n    return date.toLocaleDateString('es-CL');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Botón de Notificaciones */}\r\n      <button\r\n        onClick={() => setShowNotifications(!showNotifications)}\r\n        style={{\r\n          position: 'relative',\r\n          padding: '10px',\r\n          background: 'white',\r\n          border: '1px solid #e5e7eb',\r\n          borderRadius: '8px',\r\n          cursor: 'pointer',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: '8px',\r\n          transition: 'all 0.2s'\r\n        }}\r\n        onMouseEnter={(e) => {\r\n          e.currentTarget.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';\r\n          e.currentTarget.style.transform = 'translateY(-1px)';\r\n        }}\r\n        onMouseLeave={(e) => {\r\n          e.currentTarget.style.boxShadow = 'none';\r\n          e.currentTarget.style.transform = 'translateY(0)';\r\n        }}\r\n      >\r\n        <span style={{ fontSize: '20px' }}>🔔</span>\r\n        \r\n        {/* Contador de no leídas */}\r\n        {unreadCount > 0 && (\r\n          <span style={{\r\n            position: 'absolute',\r\n            top: '-5px',\r\n            right: '-5px',\r\n            background: '#ef4444',\r\n            color: 'white',\r\n            borderRadius: '50%',\r\n            width: '22px',\r\n            height: '22px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            fontSize: '11px',\r\n            fontWeight: '600',\r\n            border: '2px solid white',\r\n            animation: unreadCount > 0 ? 'pulse 2s infinite' : 'none'\r\n          }}>\r\n            {unreadCount > 99 ? '99+' : unreadCount}\r\n          </span>\r\n        )}\r\n        \r\n        {!isMobile && (\r\n          <span style={{ fontSize: '14px', color: '#374151' }}>\r\n            Notificaciones\r\n          </span>\r\n        )}\r\n      </button>\r\n\r\n      {/* Panel de Notificaciones */}\r\n      {showNotifications && (\r\n        <>\r\n          {/* Overlay para cerrar al hacer clic fuera */}\r\n          <div\r\n            style={{\r\n              position: 'fixed',\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              background: 'rgba(0,0,0,0.3)',\r\n              zIndex: 998\r\n            }}\r\n            onClick={() => setShowNotifications(false)}\r\n          />\r\n\r\n          {/* Panel de Notificaciones */}\r\n          <div style={{\r\n            position: 'fixed',\r\n            top: isMobile ? '0' : '70px',\r\n            right: isMobile ? '0' : '20px',\r\n            width: isMobile ? '100%' : '400px',\r\n            maxHeight: isMobile ? '100vh' : '80vh',\r\n            background: 'white',\r\n            borderRadius: isMobile ? '0' : '12px',\r\n            boxShadow: '0 10px 40px rgba(0,0,0,0.15)',\r\n            zIndex: 999,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            animation: 'slideIn 0.3s ease'\r\n          }}>\r\n            {/* Header */}\r\n            <div style={{\r\n              padding: '20px',\r\n              borderBottom: '1px solid #e5e7eb',\r\n              background: 'linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)'\r\n            }}>\r\n              <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center',\r\n                marginBottom: '10px'\r\n              }}>\r\n                <h3 style={{\r\n                  margin: 0,\r\n                  fontSize: '18px',\r\n                  color: '#1f2937',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '8px'\r\n                }}>\r\n                  🔔 Notificaciones\r\n                  {unreadCount > 0 && (\r\n                    <span style={{\r\n                      padding: '2px 8px',\r\n                      background: '#ef4444',\r\n                      color: 'white',\r\n                      borderRadius: '12px',\r\n                      fontSize: '12px'\r\n                    }}>\r\n                      {unreadCount} nueva{unreadCount > 1 ? 's' : ''}\r\n                    </span>\r\n                  )}\r\n                </h3>\r\n                <button\r\n                  onClick={() => setShowNotifications(false)}\r\n                  style={{\r\n                    background: 'transparent',\r\n                    border: 'none',\r\n                    fontSize: '20px',\r\n                    cursor: 'pointer',\r\n                    color: '#6b7280'\r\n                  }}\r\n                >\r\n                  ✖\r\n                </button>\r\n              </div>\r\n\r\n              {/* Acciones rápidas */}\r\n              {notifications.length > 0 && (\r\n                <div style={{\r\n                  display: 'flex',\r\n                  gap: '10px',\r\n                  fontSize: '13px'\r\n                }}>\r\n                  <button\r\n                    onClick={markAllAsRead}\r\n                    disabled={loading || unreadCount === 0}\r\n                    style={{\r\n                      flex: 1,\r\n                      padding: '6px 12px',\r\n                      background: '#3b82f6',\r\n                      color: 'white',\r\n                      border: 'none',\r\n                      borderRadius: '6px',\r\n                      cursor: loading || unreadCount === 0 ? 'not-allowed' : 'pointer',\r\n                      opacity: loading || unreadCount === 0 ? 0.5 : 1,\r\n                      fontSize: '12px',\r\n                      fontWeight: '500'\r\n                    }}\r\n                  >\r\n                    ✓ Marcar todas como leídas\r\n                  </button>\r\n                  <button\r\n                    onClick={deleteAllNotifications}\r\n                    disabled={loading}\r\n                    style={{\r\n                      flex: 1,\r\n                      padding: '6px 12px',\r\n                      background: '#ef4444',\r\n                      color: 'white',\r\n                      border: 'none',\r\n                      borderRadius: '6px',\r\n                      cursor: loading ? 'not-allowed' : 'pointer',\r\n                      opacity: loading ? 0.5 : 1,\r\n                      fontSize: '12px',\r\n                      fontWeight: '500'\r\n                    }}\r\n                  >\r\n                    🗑️ Eliminar todas\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Lista de Notificaciones */}\r\n            <div style={{\r\n              flex: 1,\r\n              overflowY: 'auto',\r\n              maxHeight: isMobile ? 'calc(100vh - 140px)' : '500px'\r\n            }}>\r\n              {notifications.length === 0 ? (\r\n                <div style={{\r\n                  padding: '60px 20px',\r\n                  textAlign: 'center',\r\n                  color: '#9ca3af'\r\n                }}>\r\n                  <div style={{ fontSize: '48px', marginBottom: '10px' }}>📭</div>\r\n                  <p style={{ fontSize: '14px' }}>No tienes notificaciones</p>\r\n                </div>\r\n              ) : (\r\n                notifications.map((notif) => (\r\n                  <div\r\n                    key={notif.id}\r\n                    style={{\r\n                      padding: '15px 20px',\r\n                      borderBottom: '1px solid #f3f4f6',\r\n                      background: notif.leida ? 'white' : '#f0f9ff',\r\n                      cursor: 'pointer',\r\n                      transition: 'background 0.2s',\r\n                      position: 'relative'\r\n                    }}\r\n                    onClick={() => !notif.leida && markAsRead(notif.id)}\r\n                    onMouseEnter={(e) => {\r\n                      e.currentTarget.style.background = '#f9fafb';\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      e.currentTarget.style.background = notif.leida ? 'white' : '#f0f9ff';\r\n                    }}\r\n                  >\r\n                    <div style={{\r\n                      display: 'flex',\r\n                      gap: '12px'\r\n                    }}>\r\n                      {/* Icono */}\r\n                      <div style={{\r\n                        width: '40px',\r\n                        height: '40px',\r\n                        background: `${getNotificationColor(notif.tipo)}20`,\r\n                        borderRadius: '50%',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        fontSize: '20px',\r\n                        flexShrink: 0\r\n                      }}>\r\n                        {getNotificationIcon(notif.tipo)}\r\n                      </div>\r\n\r\n                      {/* Contenido */}\r\n                      <div style={{ flex: 1, minWidth: 0 }}>\r\n                        <div style={{\r\n                          fontSize: '14px',\r\n                          color: '#1f2937',\r\n                          fontWeight: notif.leida ? '400' : '600',\r\n                          marginBottom: '4px',\r\n                          lineHeight: '1.4'\r\n                        }}>\r\n                          {notif.titulo}\r\n                        </div>\r\n                        {notif.mensaje && (\r\n                          <div style={{\r\n                            fontSize: '13px',\r\n                            color: '#6b7280',\r\n                            lineHeight: '1.4'\r\n                          }}>\r\n                            {notif.mensaje}\r\n                          </div>\r\n                        )}\r\n                        <div style={{\r\n                          fontSize: '11px',\r\n                          color: '#9ca3af',\r\n                          marginTop: '6px',\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          gap: '8px'\r\n                        }}>\r\n                          <span>⏰ {formatRelativeTime(notif.timestamp)}</span>\r\n                          {!notif.leida && (\r\n                            <span style={{\r\n                              padding: '2px 6px',\r\n                              background: '#3b82f6',\r\n                              color: 'white',\r\n                              borderRadius: '4px',\r\n                              fontSize: '10px',\r\n                              fontWeight: '600'\r\n                            }}>\r\n                              NUEVA\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Botón eliminar */}\r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          deleteNotification(notif.id);\r\n                        }}\r\n                        style={{\r\n                          background: 'transparent',\r\n                          border: 'none',\r\n                          color: '#ef4444',\r\n                          cursor: 'pointer',\r\n                          padding: '4px',\r\n                          fontSize: '16px',\r\n                          opacity: 0.6,\r\n                          transition: 'opacity 0.2s'\r\n                        }}\r\n                        onMouseEnter={(e) => {\r\n                          e.currentTarget.style.opacity = '1';\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                          e.currentTarget.style.opacity = '0.6';\r\n                        }}\r\n                      >\r\n                        🗑️\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      <style jsx>{`\r\n        @keyframes slideIn {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(-20px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n\r\n        @keyframes pulse {\r\n          0% {\r\n            transform: scale(1);\r\n          }\r\n          50% {\r\n            transform: scale(1.1);\r\n          }\r\n          100% {\r\n            transform: scale(1);\r\n          }\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\n// Función helper para crear notificaciones\r\nexport const createNotification = async (userId, notification) => {\r\n  try {\r\n    const notificationsRef = ref(database, `notificaciones/${userId}`);\r\n    await push(notificationsRef, {\r\n      ...notification,\r\n      timestamp: new Date().toISOString(),\r\n      leida: false\r\n    });\r\n  } catch (error) {\r\n    console.error('Error al crear notificación:', error);\r\n  }\r\n};\r\n\r\nexport default NotificationSystem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}