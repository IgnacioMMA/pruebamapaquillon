{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Izan\\\\Desktop\\\\AppReact\\\\mapa-quillon\\\\src\\\\components\\\\MapaQuillonFirebase.js\",\n  _s = $RefreshSig$();\n// src/components/MapaQuillonFirebase.js\nimport React, { useEffect, useRef, useState } from 'react';\nimport { vehiculosService, zonasService, trabajadoresService, reportesService } from '../services/firebaseservices';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapaQuillonFirebase = ({\n  currentUser,\n  onLogout\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const [map, setMap] = useState(null);\n  const [vehiculos, setVehiculos] = useState([]);\n  const [zonas, setZonas] = useState([]);\n  const [trabajadores, setTrabajadores] = useState([]);\n  // const [selectedItem, setSelectedItem] = useState(null); // Para uso futuro\n  const [filtroActivo, setFiltroActivo] = useState('todos');\n  const [mapLoaded, setMapLoaded] = useState(false);\n  const [showStats, setShowStats] = useState(true);\n  const [realtimeStats, setRealtimeStats] = useState({\n    vehiculos: {\n      total: 0,\n      activos: 0,\n      enMantenimiento: 0\n    },\n    zonas: {\n      total: 0,\n      activas: 0,\n      completadas: 0\n    },\n    trabajadores: {\n      total: 0,\n      enRuta: 0,\n      trabajando: 0\n    }\n  });\n  const markersRef = useRef({});\n  const infoWindowRef = useRef(null);\n  const unsubscribesRef = useRef([]);\n  const API_KEY = 'AIzaSyA7DrdL36n5cx-RNzuXGAQggFeGCheHDbY';\n\n  // Cargar Google Maps\n  useEffect(() => {\n    const loadGoogleMaps = () => {\n      return new Promise((resolve, reject) => {\n        if (window.google && window.google.maps) {\n          resolve(window.google.maps);\n          return;\n        }\n        const existingScript = document.querySelector('script[src*=\"maps.googleapis.com\"]');\n        if (existingScript) {\n          existingScript.addEventListener('load', () => {\n            if (window.google && window.google.maps) {\n              resolve(window.google.maps);\n            } else {\n              reject(new Error('Google Maps no disponible'));\n            }\n          });\n          return;\n        }\n        const script = document.createElement('script');\n        script.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=places,geometry&v=weekly`;\n        script.async = true;\n        script.defer = true;\n        script.onload = () => {\n          if (window.google && window.google.maps) {\n            resolve(window.google.maps);\n          }\n        };\n        script.onerror = () => reject(new Error('Error al cargar Google Maps'));\n        document.head.appendChild(script);\n      });\n    };\n    const initMap = async () => {\n      try {\n        const maps = await loadGoogleMaps();\n        if (!mapRef.current) return;\n        const mapInstance = new maps.Map(mapRef.current, {\n          center: {\n            lat: -36.7333,\n            lng: -72.4667\n          },\n          zoom: 13,\n          mapTypeId: 'roadmap',\n          styles: [{\n            featureType: 'poi.business',\n            stylers: [{\n              visibility: 'off'\n            }]\n          }]\n        });\n        setMap(mapInstance);\n        infoWindowRef.current = new maps.InfoWindow();\n        setMapLoaded(true);\n      } catch (err) {\n        console.error('Error al cargar mapa:', err);\n      }\n    };\n    initMap();\n  }, []);\n\n  // Suscribirse a datos de Firebase en tiempo real\n  useEffect(() => {\n    // Suscribirse a vehículos\n    const unsubVehiculos = vehiculosService.subscribeToVehiculos(vehiculosData => {\n      setVehiculos(vehiculosData);\n    });\n    unsubscribesRef.current.push(unsubVehiculos);\n\n    // Suscribirse a zonas\n    const unsubZonas = zonasService.subscribeToZonas(zonasData => {\n      setZonas(zonasData);\n    });\n    unsubscribesRef.current.push(unsubZonas);\n\n    // Suscribirse a trabajadores\n    const unsubTrabajadores = trabajadoresService.subscribeToTrabajadores(trabajadoresData => {\n      setTrabajadores(trabajadoresData);\n      console.log('Trabajadores actualizados:', trabajadoresData);\n    });\n    unsubscribesRef.current.push(unsubTrabajadores);\n\n    // Suscribirse a estadísticas en tiempo real\n    reportesService.getRealtimeStats(stats => {\n      setRealtimeStats(stats);\n    });\n\n    // Auto-refresh cada 2 segundos para actualizar indicadores visuales\n    const refreshInterval = setInterval(() => {\n      // Forzar re-render para actualizar tiempos relativos\n      setTrabajadores(prev => [...prev]);\n    }, 2000);\n\n    // Limpiar suscripciones al desmontar\n    return () => {\n      unsubscribesRef.current.forEach(unsub => unsub && unsub());\n      clearInterval(refreshInterval);\n    };\n  }, []);\n\n  // Crear/actualizar marcadores\n  useEffect(() => {\n    if (!map || !window.google) return;\n\n    // Función para crear icono según tipo y estado\n    const getIcon = (tipo, estado) => {\n      var _iconConfigs$tipo;\n      const iconConfigs = {\n        vehiculo: {\n          activo: {\n            color: '#22c55e',\n            symbol: '🚛'\n          },\n          trabajando: {\n            color: '#3b82f6',\n            symbol: '🔧'\n          },\n          en_ruta: {\n            color: '#f59e0b',\n            symbol: '🚗'\n          },\n          mantenimiento: {\n            color: '#ef4444',\n            symbol: '🔧'\n          },\n          inactivo: {\n            color: '#6b7280',\n            symbol: '⏸️'\n          }\n        },\n        zona: {\n          activa: {\n            color: '#3b82f6',\n            symbol: '🏗️'\n          },\n          pausada: {\n            color: '#f59e0b',\n            symbol: '⏸️'\n          },\n          completada: {\n            color: '#22c55e',\n            symbol: '✅'\n          }\n        },\n        trabajador: {\n          en_camino: {\n            color: '#8b5cf6',\n            symbol: '👷'\n          },\n          trabajando: {\n            color: '#10b981',\n            symbol: '👷'\n          },\n          disponible: {\n            color: '#06b6d4',\n            symbol: '👷'\n          }\n        }\n      };\n      const config = ((_iconConfigs$tipo = iconConfigs[tipo]) === null || _iconConfigs$tipo === void 0 ? void 0 : _iconConfigs$tipo[estado]) || {\n        color: '#6b7280',\n        symbol: '📍'\n      };\n      if (tipo === 'trabajador') {\n        return {\n          path: window.google.maps.SymbolPath.CIRCLE,\n          scale: 8,\n          fillColor: config.color,\n          fillOpacity: 1,\n          strokeColor: '#ffffff',\n          strokeWeight: 2\n        };\n      }\n      return {\n        path: 'M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z',\n        fillColor: config.color,\n        fillOpacity: 1,\n        strokeColor: '#ffffff',\n        strokeWeight: 2,\n        scale: tipo === 'vehiculo' ? 1.8 : 2,\n        anchor: new window.google.maps.Point(12, 24)\n      };\n    };\n\n    // Limpiar marcadores antiguos\n    Object.values(markersRef.current).forEach(marker => marker.setMap(null));\n    markersRef.current = {};\n\n    // Crear marcadores de vehículos\n    if (filtroActivo === 'todos' || filtroActivo === 'vehiculos') {\n      vehiculos.forEach(vehiculo => {\n        if (vehiculo.lat && vehiculo.lng) {\n          const marker = new window.google.maps.Marker({\n            position: {\n              lat: vehiculo.lat,\n              lng: vehiculo.lng\n            },\n            map: map,\n            title: vehiculo.nombre,\n            icon: getIcon('vehiculo', vehiculo.estado),\n            animation: vehiculo.estado === 'activo' ? window.google.maps.Animation.BOUNCE : null\n          });\n          marker.addListener('click', () => {\n            const content = createVehiculoInfoWindow(vehiculo);\n            infoWindowRef.current.setContent(content);\n            infoWindowRef.current.open(map, marker);\n            // setSelectedItem(vehiculo); // Para uso futuro\n          });\n          markersRef.current[`vehiculo_${vehiculo.id}`] = marker;\n        }\n      });\n    }\n\n    // Crear marcadores de zonas\n    if (filtroActivo === 'todos' || filtroActivo === 'zonas') {\n      zonas.forEach(zona => {\n        if (zona.lat && zona.lng) {\n          const marker = new window.google.maps.Marker({\n            position: {\n              lat: zona.lat,\n              lng: zona.lng\n            },\n            map: map,\n            title: zona.nombre,\n            icon: getIcon('zona', zona.estado)\n          });\n          marker.addListener('click', () => {\n            const content = createZonaInfoWindow(zona);\n            infoWindowRef.current.setContent(content);\n            infoWindowRef.current.open(map, marker);\n            // setSelectedItem(zona); // Para uso futuro\n          });\n          markersRef.current[`zona_${zona.id}`] = marker;\n        }\n      });\n    }\n\n    // Crear marcadores de trabajadores\n    if (filtroActivo === 'todos' || filtroActivo === 'trabajadores') {\n      trabajadores.forEach(trabajador => {\n        if (trabajador.ubicacion && trabajador.ubicacion.lat && trabajador.ubicacion.lng) {\n          const marker = new window.google.maps.Marker({\n            position: {\n              lat: trabajador.ubicacion.lat,\n              lng: trabajador.ubicacion.lng\n            },\n            map: map,\n            title: trabajador.nombre,\n            icon: getIcon('trabajador', trabajador.estado || 'disponible')\n          });\n          marker.addListener('click', () => {\n            const content = createTrabajadorInfoWindow(trabajador);\n            infoWindowRef.current.setContent(content);\n            infoWindowRef.current.open(map, marker);\n            // setSelectedItem(trabajador); // Para uso futuro\n          });\n          markersRef.current[`trabajador_${trabajador.id}`] = marker;\n        }\n      });\n    }\n  }, [map, vehiculos, zonas, trabajadores, filtroActivo]);\n\n  // Funciones para crear contenido de InfoWindow\n  const createVehiculoInfoWindow = vehiculo => {\n    return `\n      <div style=\"padding: 10px; font-family: Arial, sans-serif; max-width: 280px;\">\n        <h3 style=\"margin: 0 0 10px 0; color: #1f2937;\">\n          ${vehiculo.nombre}\n        </h3>\n        <div style=\"background: ${vehiculo.estado === 'activo' ? '#dcfce7' : vehiculo.estado === 'trabajando' ? '#dbeafe' : '#fef3c7'}; \n                    padding: 4px 8px; border-radius: 4px; display: inline-block; margin-bottom: 10px;\">\n          <strong>Estado:</strong> ${vehiculo.estado}\n        </div>\n        <div style=\"font-size: 14px; line-height: 1.6;\">\n          ${vehiculo.conductor ? `<div><strong>👤 Conductor:</strong> ${vehiculo.conductor}</div>` : ''}\n          ${vehiculo.telefono ? `<div><strong>📱 Teléfono:</strong> ${vehiculo.telefono}</div>` : ''}\n          ${vehiculo.combustible ? `\n            <div><strong>⛽ Combustible:</strong> \n              <span style=\"color: ${vehiculo.combustible > 50 ? '#22c55e' : vehiculo.combustible > 25 ? '#f59e0b' : '#ef4444'}\">\n                ${vehiculo.combustible}%\n              </span>\n            </div>\n          ` : ''}\n          ${vehiculo.velocidad ? `<div><strong>📍 Velocidad:</strong> ${vehiculo.velocidad} km/h</div>` : ''}\n          ${vehiculo.zona ? `<div><strong>🏗️ Zona:</strong> ${vehiculo.zona}</div>` : ''}\n          ${vehiculo.destino ? `<div><strong>🎯 Destino:</strong> ${vehiculo.destino}</div>` : ''}\n          <div style=\"margin-top: 8px; color: #6b7280; font-size: 12px;\">\n            Última actualización: ${vehiculo.ultimaActualizacion ? new Date(vehiculo.ultimaActualizacion).toLocaleTimeString() : 'N/A'}\n          </div>\n        </div>\n      </div>\n    `;\n  };\n  const createZonaInfoWindow = zona => {\n    return `\n      <div style=\"padding: 10px; font-family: Arial, sans-serif; max-width: 280px;\">\n        <h3 style=\"margin: 0 0 10px 0; color: #1f2937;\">\n          ${zona.nombre}\n        </h3>\n        <div style=\"background: ${zona.estado === 'activa' ? '#dbeafe' : zona.estado === 'pausada' ? '#fef3c7' : '#dcfce7'}; \n                    padding: 4px 8px; border-radius: 4px; display: inline-block; margin-bottom: 10px;\">\n          <strong>Estado:</strong> ${zona.estado}\n        </div>\n        <div style=\"font-size: 14px; line-height: 1.6;\">\n          ${zona.supervisor ? `<div><strong>👷 Supervisor:</strong> ${zona.supervisor}</div>` : ''}\n          ${zona.telefono ? `<div><strong>📱 Teléfono:</strong> ${zona.telefono}</div>` : ''}\n          ${zona.progreso !== undefined ? `\n            <div><strong>📊 Progreso:</strong>\n              <div style=\"background: #e5e7eb; border-radius: 4px; height: 20px; margin: 4px 0;\">\n                <div style=\"background: ${zona.progreso === 100 ? '#22c55e' : '#3b82f6'}; \n                            width: ${zona.progreso}%; height: 100%; border-radius: 4px; \n                            display: flex; align-items: center; justify-content: center; color: white; font-size: 12px;\">\n                  ${zona.progreso.toFixed(0)}%\n                </div>\n              </div>\n            </div>\n          ` : ''}\n          ${zona.trabajadores ? `<div><strong>👥 Trabajadores:</strong> ${zona.trabajadores}</div>` : ''}\n          ${zona.horaInicio ? `<div><strong>⏰ Horario:</strong> ${zona.horaInicio} - ${zona.horaEstimadaFin || zona.horaFin || 'Por definir'}</div>` : ''}\n          ${zona.motivoPausa ? `<div style=\"color: #f59e0b; margin-top: 8px;\">⚠️ ${zona.motivoPausa}</div>` : ''}\n        </div>\n      </div>\n    `;\n  };\n  const createTrabajadorInfoWindow = trabajador => {\n    var _trabajador$ubicacion;\n    const ahora = new Date();\n    const ultimaActualizacion = (_trabajador$ubicacion = trabajador.ubicacion) !== null && _trabajador$ubicacion !== void 0 && _trabajador$ubicacion.timestamp ? new Date(trabajador.ubicacion.timestamp) : null;\n    const diferenciaTiempo = ultimaActualizacion ? Math.floor((ahora - ultimaActualizacion) / 1000) : null;\n    let estadoConexion = '⚫ Sin conexión';\n    let colorEstado = '#6b7280';\n    if (diferenciaTiempo !== null) {\n      if (diferenciaTiempo < 30) {\n        estadoConexion = '🟢 En línea';\n        colorEstado = '#10b981';\n      } else if (diferenciaTiempo < 60) {\n        estadoConexion = '🟡 Conexión reciente';\n        colorEstado = '#f59e0b';\n      } else if (diferenciaTiempo < 300) {\n        estadoConexion = '🟠 Última conexión hace ' + Math.floor(diferenciaTiempo / 60) + ' min';\n        colorEstado = '#fb923c';\n      } else {\n        estadoConexion = '🔴 Sin conexión reciente';\n        colorEstado = '#ef4444';\n      }\n    }\n    return `\n      <div style=\"padding: 10px; font-family: Arial, sans-serif; max-width: 300px;\">\n        <h3 style=\"margin: 0 0 10px 0; color: #1f2937; display: flex; align-items: center; gap: 8px;\">\n          👷 ${trabajador.nombre || trabajador.email || 'Trabajador'}\n          <span style=\"\n            font-size: 10px;\n            padding: 2px 6px;\n            background: ${colorEstado}22;\n            color: ${colorEstado};\n            border-radius: 12px;\n            font-weight: normal;\n          \">\n            ${estadoConexion}\n          </span>\n        </h3>\n        \n        <div style=\"\n          background: ${trabajador.estado === 'en_camino' ? '#ede9fe' : trabajador.estado === 'trabajando' ? '#dcfce7' : trabajador.estado === 'disponible' ? '#e0f2fe' : '#f3f4f6'}; \n          padding: 6px 10px; \n          border-radius: 6px; \n          display: inline-block; \n          margin-bottom: 12px;\n          font-size: 13px;\n        \">\n          <strong>Estado:</strong> ${trabajador.estado === 'en_camino' ? '🚗 En camino' : trabajador.estado === 'trabajando' ? '🔧 Trabajando' : trabajador.estado === 'disponible' ? '✅ Disponible' : '⏸️ ' + (trabajador.estado || 'Sin estado')}\n        </div>\n        \n        <div style=\"font-size: 14px; line-height: 1.8;\">\n          ${trabajador.email ? `\n            <div style=\"margin-bottom: 6px;\">\n              <strong>📧 Email:</strong> \n              <span style=\"color: #6b7280; font-size: 13px;\">${trabajador.email}</span>\n            </div>\n          ` : ''}\n          \n          ${trabajador.telefono ? `\n            <div style=\"margin-bottom: 6px;\">\n              <strong>📱 Teléfono:</strong> \n              <span style=\"color: #6b7280; font-size: 13px;\">${trabajador.telefono}</span>\n            </div>\n          ` : ''}\n          \n          ${trabajador.zonaDestino ? `\n            <div style=\"margin-bottom: 6px;\">\n              <strong>🎯 Destino:</strong> \n              <span style=\"color: #3b82f6; font-size: 13px;\">${trabajador.zonaDestino}</span>\n            </div>\n          ` : ''}\n          \n          ${trabajador.recorridoActual ? `\n            <div style=\"margin-bottom: 6px;\">\n              <strong>📍 En recorrido:</strong> \n              <span style=\"color: #10b981; font-size: 13px;\">Activo</span>\n            </div>\n          ` : ''}\n          \n          ${trabajador.ubicacion ? `\n            <div style=\"\n              margin-top: 12px; \n              padding-top: 10px; \n              border-top: 1px solid #e5e7eb;\n            \">\n              <div style=\"color: #6b7280; font-size: 12px; margin-bottom: 4px;\">\n                <strong>📍 Ubicación GPS:</strong>\n              </div>\n              <div style=\"\n                font-family: monospace; \n                font-size: 11px; \n                color: #9ca3af;\n                background: #f9fafb;\n                padding: 6px;\n                border-radius: 4px;\n              \">\n                Lat: ${trabajador.ubicacion.lat.toFixed(6)}<br/>\n                Lng: ${trabajador.ubicacion.lng.toFixed(6)}\n              </div>\n              <div style=\"color: #9ca3af; font-size: 11px; margin-top: 6px;\">\n                ⏱️ Última actualización: ${ultimaActualizacion ? ultimaActualizacion.toLocaleTimeString('es-CL', {\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    }) : 'N/A'}\n              </div>\n            </div>\n          ` : `\n            <div style=\"\n              margin-top: 12px; \n              padding: 10px; \n              background: #fef2f2;\n              border-radius: 6px;\n              color: #991b1b;\n              font-size: 12px;\n              text-align: center;\n            \">\n              📍 GPS no activado\n            </div>\n          `}\n        </div>\n      </div>\n    `;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100%',\n      height: '100vh',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        color: 'white',\n        padding: '12px 20px',\n        zIndex: 1000,\n        boxShadow: '0 2px 10px rgba(0,0,0,0.2)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              margin: 0,\n              fontSize: '20px',\n              fontWeight: '600'\n            },\n            children: \"\\uD83D\\uDDFA\\uFE0F Centro de Control - MapaQuill\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '2px 0 0 0',\n              fontSize: '13px',\n              opacity: 0.95\n            },\n            children: \"Monitoreo en tiempo real de flota y zonas de trabajo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '13px'\n            },\n            children: [\"\\uD83D\\uDC64 \", currentUser.name || currentUser.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onLogout,\n            style: {\n              padding: '6px 12px',\n              background: 'rgba(255,255,255,0.2)',\n              color: 'white',\n              border: '1px solid rgba(255,255,255,0.3)',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              fontSize: '13px'\n            },\n            children: \"Cerrar Sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              background: 'rgba(255,255,255,0.2)',\n              padding: '4px 8px',\n              borderRadius: '4px',\n              fontSize: '12px'\n            },\n            children: new Date().toLocaleTimeString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '70px',\n        left: '20px',\n        background: 'white',\n        borderRadius: '8px',\n        padding: '10px',\n        boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n        zIndex: 1000,\n        display: 'flex',\n        gap: '8px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setFiltroActivo('todos'),\n        style: {\n          padding: '8px 12px',\n          background: filtroActivo === 'todos' ? '#667eea' : '#f3f4f6',\n          color: filtroActivo === 'todos' ? 'white' : '#374151',\n          border: 'none',\n          borderRadius: '6px',\n          cursor: 'pointer',\n          fontSize: '13px',\n          fontWeight: '500'\n        },\n        children: \"\\uD83D\\uDCCD Todos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setFiltroActivo('vehiculos'),\n        style: {\n          padding: '8px 12px',\n          background: filtroActivo === 'vehiculos' ? '#22c55e' : '#f3f4f6',\n          color: filtroActivo === 'vehiculos' ? 'white' : '#374151',\n          border: 'none',\n          borderRadius: '6px',\n          cursor: 'pointer',\n          fontSize: '13px',\n          fontWeight: '500'\n        },\n        children: [\"\\uD83D\\uDE9B Veh\\xEDculos (\", realtimeStats.vehiculos.total, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setFiltroActivo('zonas'),\n        style: {\n          padding: '8px 12px',\n          background: filtroActivo === 'zonas' ? '#3b82f6' : '#f3f4f6',\n          color: filtroActivo === 'zonas' ? 'white' : '#374151',\n          border: 'none',\n          borderRadius: '6px',\n          cursor: 'pointer',\n          fontSize: '13px',\n          fontWeight: '500'\n        },\n        children: [\"\\uD83C\\uDFD7\\uFE0F Zonas (\", realtimeStats.zonas.total, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setFiltroActivo('trabajadores'),\n        style: {\n          padding: '8px 12px',\n          background: filtroActivo === 'trabajadores' ? '#8b5cf6' : '#f3f4f6',\n          color: filtroActivo === 'trabajadores' ? 'white' : '#374151',\n          border: 'none',\n          borderRadius: '6px',\n          cursor: 'pointer',\n          fontSize: '13px',\n          fontWeight: '500'\n        },\n        children: [\"\\uD83D\\uDC77 Trabajadores (\", realtimeStats.trabajadores.total, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 7\n    }, this), showStats && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '20px',\n        left: '20px',\n        background: 'white',\n        borderRadius: '12px',\n        padding: '15px',\n        boxShadow: '0 4px 20px rgba(0,0,0,0.1)',\n        zIndex: 1000,\n        maxWidth: '380px',\n        maxHeight: '40vh',\n        overflow: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: 0,\n            fontSize: '16px',\n            color: '#1f2937'\n          },\n          children: \"\\uD83D\\uDCCA Estado General (Tiempo Real)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowStats(false),\n          style: {\n            background: 'none',\n            border: 'none',\n            color: '#6b7280',\n            cursor: 'pointer',\n            fontSize: '18px'\n          },\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr',\n          gap: '12px',\n          fontSize: '13px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#6b7280',\n              marginBottom: '4px'\n            },\n            children: \"\\uD83D\\uDE9B Veh\\xEDculos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '2px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u2022 Total: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: realtimeStats.vehiculos.total\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 629,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 629,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u2022 Activos: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: '#22c55e'\n                },\n                children: realtimeStats.vehiculos.activos\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 630,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u2022 Mantenimiento: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: '#ef4444'\n                },\n                children: realtimeStats.vehiculos.enMantenimiento\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 40\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 628,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#6b7280',\n              marginBottom: '4px'\n            },\n            children: \"\\uD83C\\uDFD7\\uFE0F Zonas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '2px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u2022 Total: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: realtimeStats.zonas.total\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u2022 Activas: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: '#3b82f6'\n                },\n                children: realtimeStats.zonas.activas\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u2022 Completadas: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: '#22c55e'\n                },\n                children: realtimeStats.zonas.completadas\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 38\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            gridColumn: 'span 2'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#6b7280',\n              marginBottom: '4px'\n            },\n            children: \"\\uD83D\\uDC77 Trabajadores\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 645,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u2022 Total: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: realtimeStats.trabajadores.total\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 647,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u2022 En ruta: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: '#8b5cf6'\n                },\n                children: realtimeStats.trabajadores.enRuta\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u2022 Trabajando: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: '#10b981'\n                },\n                children: realtimeStats.trabajadores.trabajando\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '8px',\n              padding: '6px',\n              background: '#dcfce7',\n              borderRadius: '4px',\n              fontSize: '12px',\n              color: '#15803d'\n            },\n            children: [\"\\uD83D\\uDFE2 GPS Activos: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: trabajadores.filter(t => {\n                var _t$ubicacion;\n                const tieneUbicacion = t.ubicacion && t.ubicacion.lat && t.ubicacion.lng;\n                const esReciente = ((_t$ubicacion = t.ubicacion) === null || _t$ubicacion === void 0 ? void 0 : _t$ubicacion.timestamp) && new Date() - new Date(t.ubicacion.timestamp) < 60000; // Menos de 1 minuto\n                return tieneUbicacion && esReciente;\n              }).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 33\n            }, this), \" trabajadores transmitiendo ubicaci\\xF3n\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 644,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '12px',\n          paddingTop: '12px',\n          borderTop: '1px solid #e5e7eb',\n          fontSize: '11px',\n          color: '#22c55e',\n          fontWeight: 'bold'\n        },\n        children: \"\\uD83D\\uDFE2 Conectado a Firebase - Actualizaci\\xF3n en tiempo real\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 671,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 589,\n      columnNumber: 9\n    }, this), !showStats && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowStats(true),\n      style: {\n        position: 'absolute',\n        bottom: '20px',\n        left: '20px',\n        background: 'white',\n        border: '1px solid #e5e7eb',\n        borderRadius: '8px',\n        padding: '10px 15px',\n        boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n        zIndex: 1000,\n        cursor: 'pointer',\n        fontSize: '14px',\n        fontWeight: '500',\n        color: '#374151'\n      },\n      children: \"\\uD83D\\uDCCA Mostrar estad\\xEDsticas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 686,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapRef,\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 709,\n      columnNumber: 7\n    }, this), !mapLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n        textAlign: 'center',\n        zIndex: 1001\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '50px',\n          height: '50px',\n          border: '4px solid #f3f3f3',\n          borderTop: '4px solid #667eea',\n          borderRadius: '50%',\n          animation: 'spin 1s linear infinite'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 727,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: '10px',\n          color: '#666'\n        },\n        children: \"Cargando mapa...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 739,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 460,\n    columnNumber: 5\n  }, this);\n};\n_s(MapaQuillonFirebase, \"YSXcg6NArbOrSY1RA4/seFGGX2k=\");\n_c = MapaQuillonFirebase;\nexport default MapaQuillonFirebase;\nvar _c;\n$RefreshReg$(_c, \"MapaQuillonFirebase\");","map":{"version":3,"names":["React","useEffect","useRef","useState","vehiculosService","zonasService","trabajadoresService","reportesService","jsxDEV","_jsxDEV","MapaQuillonFirebase","currentUser","onLogout","_s","mapRef","map","setMap","vehiculos","setVehiculos","zonas","setZonas","trabajadores","setTrabajadores","filtroActivo","setFiltroActivo","mapLoaded","setMapLoaded","showStats","setShowStats","realtimeStats","setRealtimeStats","total","activos","enMantenimiento","activas","completadas","enRuta","trabajando","markersRef","infoWindowRef","unsubscribesRef","API_KEY","loadGoogleMaps","Promise","resolve","reject","window","google","maps","existingScript","document","querySelector","addEventListener","Error","script","createElement","src","async","defer","onload","onerror","head","appendChild","initMap","current","mapInstance","Map","center","lat","lng","zoom","mapTypeId","styles","featureType","stylers","visibility","InfoWindow","err","console","error","unsubVehiculos","subscribeToVehiculos","vehiculosData","push","unsubZonas","subscribeToZonas","zonasData","unsubTrabajadores","subscribeToTrabajadores","trabajadoresData","log","getRealtimeStats","stats","refreshInterval","setInterval","prev","forEach","unsub","clearInterval","getIcon","tipo","estado","_iconConfigs$tipo","iconConfigs","vehiculo","activo","color","symbol","en_ruta","mantenimiento","inactivo","zona","activa","pausada","completada","trabajador","en_camino","disponible","config","path","SymbolPath","CIRCLE","scale","fillColor","fillOpacity","strokeColor","strokeWeight","anchor","Point","Object","values","marker","Marker","position","title","nombre","icon","animation","Animation","BOUNCE","addListener","content","createVehiculoInfoWindow","setContent","open","id","createZonaInfoWindow","ubicacion","createTrabajadorInfoWindow","conductor","telefono","combustible","velocidad","destino","ultimaActualizacion","Date","toLocaleTimeString","supervisor","progreso","undefined","toFixed","horaInicio","horaEstimadaFin","horaFin","motivoPausa","_trabajador$ubicacion","ahora","timestamp","diferenciaTiempo","Math","floor","estadoConexion","colorEstado","email","zonaDestino","recorridoActual","hour","minute","second","style","width","height","children","top","left","right","background","padding","zIndex","boxShadow","display","justifyContent","alignItems","margin","fontSize","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","opacity","gap","name","onClick","border","borderRadius","cursor","bottom","maxWidth","maxHeight","overflow","marginBottom","gridTemplateColumns","flexDirection","gridColumn","marginTop","filter","t","_t$ubicacion","tieneUbicacion","esReciente","length","paddingTop","borderTop","ref","transform","textAlign","jsx","_c","$RefreshReg$"],"sources":["C:/Users/Izan/Desktop/AppReact/mapa-quillon/src/components/MapaQuillonFirebase.js"],"sourcesContent":["// src/components/MapaQuillonFirebase.js\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { vehiculosService, zonasService, trabajadoresService, reportesService } from '../services/firebaseservices';\r\n\r\nconst MapaQuillonFirebase = ({ currentUser, onLogout }) => {\r\n  const mapRef = useRef(null);\r\n  const [map, setMap] = useState(null);\r\n  const [vehiculos, setVehiculos] = useState([]);\r\n  const [zonas, setZonas] = useState([]);\r\n  const [trabajadores, setTrabajadores] = useState([]);\r\n  // const [selectedItem, setSelectedItem] = useState(null); // Para uso futuro\r\n  const [filtroActivo, setFiltroActivo] = useState('todos');\r\n  const [mapLoaded, setMapLoaded] = useState(false);\r\n  const [showStats, setShowStats] = useState(true);\r\n  const [realtimeStats, setRealtimeStats] = useState({\r\n    vehiculos: { total: 0, activos: 0, enMantenimiento: 0 },\r\n    zonas: { total: 0, activas: 0, completadas: 0 },\r\n    trabajadores: { total: 0, enRuta: 0, trabajando: 0 }\r\n  });\r\n  \r\n  const markersRef = useRef({});\r\n  const infoWindowRef = useRef(null);\r\n  const unsubscribesRef = useRef([]);\r\n  \r\n  const API_KEY = 'AIzaSyA7DrdL36n5cx-RNzuXGAQggFeGCheHDbY';\r\n\r\n  // Cargar Google Maps\r\n  useEffect(() => {\r\n    const loadGoogleMaps = () => {\r\n      return new Promise((resolve, reject) => {\r\n        if (window.google && window.google.maps) {\r\n          resolve(window.google.maps);\r\n          return;\r\n        }\r\n\r\n        const existingScript = document.querySelector('script[src*=\"maps.googleapis.com\"]');\r\n        if (existingScript) {\r\n          existingScript.addEventListener('load', () => {\r\n            if (window.google && window.google.maps) {\r\n              resolve(window.google.maps);\r\n            } else {\r\n              reject(new Error('Google Maps no disponible'));\r\n            }\r\n          });\r\n          return;\r\n        }\r\n\r\n        const script = document.createElement('script');\r\n        script.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=places,geometry&v=weekly`;\r\n        script.async = true;\r\n        script.defer = true;\r\n\r\n        script.onload = () => {\r\n          if (window.google && window.google.maps) {\r\n            resolve(window.google.maps);\r\n          }\r\n        };\r\n\r\n        script.onerror = () => reject(new Error('Error al cargar Google Maps'));\r\n        document.head.appendChild(script);\r\n      });\r\n    };\r\n\r\n    const initMap = async () => {\r\n      try {\r\n        const maps = await loadGoogleMaps();\r\n        \r\n        if (!mapRef.current) return;\r\n\r\n        const mapInstance = new maps.Map(mapRef.current, {\r\n          center: { lat: -36.7333, lng: -72.4667 },\r\n          zoom: 13,\r\n          mapTypeId: 'roadmap',\r\n          styles: [\r\n            {\r\n              featureType: 'poi.business',\r\n              stylers: [{ visibility: 'off' }]\r\n            }\r\n          ]\r\n        });\r\n\r\n        setMap(mapInstance);\r\n        infoWindowRef.current = new maps.InfoWindow();\r\n        setMapLoaded(true);\r\n      } catch (err) {\r\n        console.error('Error al cargar mapa:', err);\r\n      }\r\n    };\r\n\r\n    initMap();\r\n  }, []);\r\n\r\n  // Suscribirse a datos de Firebase en tiempo real\r\n  useEffect(() => {\r\n    // Suscribirse a vehículos\r\n    const unsubVehiculos = vehiculosService.subscribeToVehiculos((vehiculosData) => {\r\n      setVehiculos(vehiculosData);\r\n    });\r\n    unsubscribesRef.current.push(unsubVehiculos);\r\n\r\n    // Suscribirse a zonas\r\n    const unsubZonas = zonasService.subscribeToZonas((zonasData) => {\r\n      setZonas(zonasData);\r\n    });\r\n    unsubscribesRef.current.push(unsubZonas);\r\n\r\n    // Suscribirse a trabajadores\r\n    const unsubTrabajadores = trabajadoresService.subscribeToTrabajadores((trabajadoresData) => {\r\n      setTrabajadores(trabajadoresData);\r\n      console.log('Trabajadores actualizados:', trabajadoresData);\r\n    });\r\n    unsubscribesRef.current.push(unsubTrabajadores);\r\n\r\n    // Suscribirse a estadísticas en tiempo real\r\n    reportesService.getRealtimeStats((stats) => {\r\n      setRealtimeStats(stats);\r\n    });\r\n\r\n    // Auto-refresh cada 2 segundos para actualizar indicadores visuales\r\n    const refreshInterval = setInterval(() => {\r\n      // Forzar re-render para actualizar tiempos relativos\r\n      setTrabajadores(prev => [...prev]);\r\n    }, 2000);\r\n\r\n    // Limpiar suscripciones al desmontar\r\n    return () => {\r\n      unsubscribesRef.current.forEach(unsub => unsub && unsub());\r\n      clearInterval(refreshInterval);\r\n    };\r\n  }, []);\r\n\r\n  // Crear/actualizar marcadores\r\n  useEffect(() => {\r\n    if (!map || !window.google) return;\r\n\r\n    // Función para crear icono según tipo y estado\r\n    const getIcon = (tipo, estado) => {\r\n      const iconConfigs = {\r\n        vehiculo: {\r\n          activo: { color: '#22c55e', symbol: '🚛' },\r\n          trabajando: { color: '#3b82f6', symbol: '🔧' },\r\n          en_ruta: { color: '#f59e0b', symbol: '🚗' },\r\n          mantenimiento: { color: '#ef4444', symbol: '🔧' },\r\n          inactivo: { color: '#6b7280', symbol: '⏸️' }\r\n        },\r\n        zona: {\r\n          activa: { color: '#3b82f6', symbol: '🏗️' },\r\n          pausada: { color: '#f59e0b', symbol: '⏸️' },\r\n          completada: { color: '#22c55e', symbol: '✅' }\r\n        },\r\n        trabajador: {\r\n          en_camino: { color: '#8b5cf6', symbol: '👷' },\r\n          trabajando: { color: '#10b981', symbol: '👷' },\r\n          disponible: { color: '#06b6d4', symbol: '👷' }\r\n        }\r\n      };\r\n\r\n      const config = iconConfigs[tipo]?.[estado] || { color: '#6b7280', symbol: '📍' };\r\n      \r\n      if (tipo === 'trabajador') {\r\n        return {\r\n          path: window.google.maps.SymbolPath.CIRCLE,\r\n          scale: 8,\r\n          fillColor: config.color,\r\n          fillOpacity: 1,\r\n          strokeColor: '#ffffff',\r\n          strokeWeight: 2\r\n        };\r\n      }\r\n\r\n      return {\r\n        path: 'M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z',\r\n        fillColor: config.color,\r\n        fillOpacity: 1,\r\n        strokeColor: '#ffffff',\r\n        strokeWeight: 2,\r\n        scale: tipo === 'vehiculo' ? 1.8 : 2,\r\n        anchor: new window.google.maps.Point(12, 24)\r\n      };\r\n    };\r\n\r\n    // Limpiar marcadores antiguos\r\n    Object.values(markersRef.current).forEach(marker => marker.setMap(null));\r\n    markersRef.current = {};\r\n\r\n    // Crear marcadores de vehículos\r\n    if (filtroActivo === 'todos' || filtroActivo === 'vehiculos') {\r\n      vehiculos.forEach(vehiculo => {\r\n        if (vehiculo.lat && vehiculo.lng) {\r\n          const marker = new window.google.maps.Marker({\r\n            position: { lat: vehiculo.lat, lng: vehiculo.lng },\r\n            map: map,\r\n            title: vehiculo.nombre,\r\n            icon: getIcon('vehiculo', vehiculo.estado),\r\n            animation: vehiculo.estado === 'activo' ? window.google.maps.Animation.BOUNCE : null\r\n          });\r\n\r\n          marker.addListener('click', () => {\r\n            const content = createVehiculoInfoWindow(vehiculo);\r\n            infoWindowRef.current.setContent(content);\r\n            infoWindowRef.current.open(map, marker);\r\n            // setSelectedItem(vehiculo); // Para uso futuro\r\n          });\r\n\r\n          markersRef.current[`vehiculo_${vehiculo.id}`] = marker;\r\n        }\r\n      });\r\n    }\r\n\r\n    // Crear marcadores de zonas\r\n    if (filtroActivo === 'todos' || filtroActivo === 'zonas') {\r\n      zonas.forEach(zona => {\r\n        if (zona.lat && zona.lng) {\r\n          const marker = new window.google.maps.Marker({\r\n            position: { lat: zona.lat, lng: zona.lng },\r\n            map: map,\r\n            title: zona.nombre,\r\n            icon: getIcon('zona', zona.estado)\r\n          });\r\n\r\n          marker.addListener('click', () => {\r\n            const content = createZonaInfoWindow(zona);\r\n            infoWindowRef.current.setContent(content);\r\n            infoWindowRef.current.open(map, marker);\r\n            // setSelectedItem(zona); // Para uso futuro\r\n          });\r\n\r\n          markersRef.current[`zona_${zona.id}`] = marker;\r\n        }\r\n      });\r\n    }\r\n\r\n    // Crear marcadores de trabajadores\r\n    if (filtroActivo === 'todos' || filtroActivo === 'trabajadores') {\r\n      trabajadores.forEach(trabajador => {\r\n        if (trabajador.ubicacion && trabajador.ubicacion.lat && trabajador.ubicacion.lng) {\r\n          const marker = new window.google.maps.Marker({\r\n            position: { lat: trabajador.ubicacion.lat, lng: trabajador.ubicacion.lng },\r\n            map: map,\r\n            title: trabajador.nombre,\r\n            icon: getIcon('trabajador', trabajador.estado || 'disponible')\r\n          });\r\n\r\n          marker.addListener('click', () => {\r\n            const content = createTrabajadorInfoWindow(trabajador);\r\n            infoWindowRef.current.setContent(content);\r\n            infoWindowRef.current.open(map, marker);\r\n            // setSelectedItem(trabajador); // Para uso futuro\r\n          });\r\n\r\n          markersRef.current[`trabajador_${trabajador.id}`] = marker;\r\n        }\r\n      });\r\n    }\r\n\r\n  }, [map, vehiculos, zonas, trabajadores, filtroActivo]);\r\n\r\n  // Funciones para crear contenido de InfoWindow\r\n  const createVehiculoInfoWindow = (vehiculo) => {\r\n    return `\r\n      <div style=\"padding: 10px; font-family: Arial, sans-serif; max-width: 280px;\">\r\n        <h3 style=\"margin: 0 0 10px 0; color: #1f2937;\">\r\n          ${vehiculo.nombre}\r\n        </h3>\r\n        <div style=\"background: ${vehiculo.estado === 'activo' ? '#dcfce7' : vehiculo.estado === 'trabajando' ? '#dbeafe' : '#fef3c7'}; \r\n                    padding: 4px 8px; border-radius: 4px; display: inline-block; margin-bottom: 10px;\">\r\n          <strong>Estado:</strong> ${vehiculo.estado}\r\n        </div>\r\n        <div style=\"font-size: 14px; line-height: 1.6;\">\r\n          ${vehiculo.conductor ? `<div><strong>👤 Conductor:</strong> ${vehiculo.conductor}</div>` : ''}\r\n          ${vehiculo.telefono ? `<div><strong>📱 Teléfono:</strong> ${vehiculo.telefono}</div>` : ''}\r\n          ${vehiculo.combustible ? `\r\n            <div><strong>⛽ Combustible:</strong> \r\n              <span style=\"color: ${vehiculo.combustible > 50 ? '#22c55e' : vehiculo.combustible > 25 ? '#f59e0b' : '#ef4444'}\">\r\n                ${vehiculo.combustible}%\r\n              </span>\r\n            </div>\r\n          ` : ''}\r\n          ${vehiculo.velocidad ? `<div><strong>📍 Velocidad:</strong> ${vehiculo.velocidad} km/h</div>` : ''}\r\n          ${vehiculo.zona ? `<div><strong>🏗️ Zona:</strong> ${vehiculo.zona}</div>` : ''}\r\n          ${vehiculo.destino ? `<div><strong>🎯 Destino:</strong> ${vehiculo.destino}</div>` : ''}\r\n          <div style=\"margin-top: 8px; color: #6b7280; font-size: 12px;\">\r\n            Última actualización: ${vehiculo.ultimaActualizacion ? new Date(vehiculo.ultimaActualizacion).toLocaleTimeString() : 'N/A'}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  };\r\n\r\n  const createZonaInfoWindow = (zona) => {\r\n    return `\r\n      <div style=\"padding: 10px; font-family: Arial, sans-serif; max-width: 280px;\">\r\n        <h3 style=\"margin: 0 0 10px 0; color: #1f2937;\">\r\n          ${zona.nombre}\r\n        </h3>\r\n        <div style=\"background: ${zona.estado === 'activa' ? '#dbeafe' : zona.estado === 'pausada' ? '#fef3c7' : '#dcfce7'}; \r\n                    padding: 4px 8px; border-radius: 4px; display: inline-block; margin-bottom: 10px;\">\r\n          <strong>Estado:</strong> ${zona.estado}\r\n        </div>\r\n        <div style=\"font-size: 14px; line-height: 1.6;\">\r\n          ${zona.supervisor ? `<div><strong>👷 Supervisor:</strong> ${zona.supervisor}</div>` : ''}\r\n          ${zona.telefono ? `<div><strong>📱 Teléfono:</strong> ${zona.telefono}</div>` : ''}\r\n          ${zona.progreso !== undefined ? `\r\n            <div><strong>📊 Progreso:</strong>\r\n              <div style=\"background: #e5e7eb; border-radius: 4px; height: 20px; margin: 4px 0;\">\r\n                <div style=\"background: ${zona.progreso === 100 ? '#22c55e' : '#3b82f6'}; \r\n                            width: ${zona.progreso}%; height: 100%; border-radius: 4px; \r\n                            display: flex; align-items: center; justify-content: center; color: white; font-size: 12px;\">\r\n                  ${zona.progreso.toFixed(0)}%\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ` : ''}\r\n          ${zona.trabajadores ? `<div><strong>👥 Trabajadores:</strong> ${zona.trabajadores}</div>` : ''}\r\n          ${zona.horaInicio ? `<div><strong>⏰ Horario:</strong> ${zona.horaInicio} - ${zona.horaEstimadaFin || zona.horaFin || 'Por definir'}</div>` : ''}\r\n          ${zona.motivoPausa ? `<div style=\"color: #f59e0b; margin-top: 8px;\">⚠️ ${zona.motivoPausa}</div>` : ''}\r\n        </div>\r\n      </div>\r\n    `;\r\n  };\r\n\r\n  const createTrabajadorInfoWindow = (trabajador) => {\r\n    const ahora = new Date();\r\n    const ultimaActualizacion = trabajador.ubicacion?.timestamp ? new Date(trabajador.ubicacion.timestamp) : null;\r\n    const diferenciaTiempo = ultimaActualizacion ? Math.floor((ahora - ultimaActualizacion) / 1000) : null;\r\n    \r\n    let estadoConexion = '⚫ Sin conexión';\r\n    let colorEstado = '#6b7280';\r\n    \r\n    if (diferenciaTiempo !== null) {\r\n      if (diferenciaTiempo < 30) {\r\n        estadoConexion = '🟢 En línea';\r\n        colorEstado = '#10b981';\r\n      } else if (diferenciaTiempo < 60) {\r\n        estadoConexion = '🟡 Conexión reciente';\r\n        colorEstado = '#f59e0b';\r\n      } else if (diferenciaTiempo < 300) {\r\n        estadoConexion = '🟠 Última conexión hace ' + Math.floor(diferenciaTiempo / 60) + ' min';\r\n        colorEstado = '#fb923c';\r\n      } else {\r\n        estadoConexion = '🔴 Sin conexión reciente';\r\n        colorEstado = '#ef4444';\r\n      }\r\n    }\r\n    \r\n    return `\r\n      <div style=\"padding: 10px; font-family: Arial, sans-serif; max-width: 300px;\">\r\n        <h3 style=\"margin: 0 0 10px 0; color: #1f2937; display: flex; align-items: center; gap: 8px;\">\r\n          👷 ${trabajador.nombre || trabajador.email || 'Trabajador'}\r\n          <span style=\"\r\n            font-size: 10px;\r\n            padding: 2px 6px;\r\n            background: ${colorEstado}22;\r\n            color: ${colorEstado};\r\n            border-radius: 12px;\r\n            font-weight: normal;\r\n          \">\r\n            ${estadoConexion}\r\n          </span>\r\n        </h3>\r\n        \r\n        <div style=\"\r\n          background: ${trabajador.estado === 'en_camino' ? '#ede9fe' : \r\n                       trabajador.estado === 'trabajando' ? '#dcfce7' : \r\n                       trabajador.estado === 'disponible' ? '#e0f2fe' : '#f3f4f6'}; \r\n          padding: 6px 10px; \r\n          border-radius: 6px; \r\n          display: inline-block; \r\n          margin-bottom: 12px;\r\n          font-size: 13px;\r\n        \">\r\n          <strong>Estado:</strong> ${\r\n            trabajador.estado === 'en_camino' ? '🚗 En camino' :\r\n            trabajador.estado === 'trabajando' ? '🔧 Trabajando' :\r\n            trabajador.estado === 'disponible' ? '✅ Disponible' :\r\n            '⏸️ ' + (trabajador.estado || 'Sin estado')\r\n          }\r\n        </div>\r\n        \r\n        <div style=\"font-size: 14px; line-height: 1.8;\">\r\n          ${trabajador.email ? `\r\n            <div style=\"margin-bottom: 6px;\">\r\n              <strong>📧 Email:</strong> \r\n              <span style=\"color: #6b7280; font-size: 13px;\">${trabajador.email}</span>\r\n            </div>\r\n          ` : ''}\r\n          \r\n          ${trabajador.telefono ? `\r\n            <div style=\"margin-bottom: 6px;\">\r\n              <strong>📱 Teléfono:</strong> \r\n              <span style=\"color: #6b7280; font-size: 13px;\">${trabajador.telefono}</span>\r\n            </div>\r\n          ` : ''}\r\n          \r\n          ${trabajador.zonaDestino ? `\r\n            <div style=\"margin-bottom: 6px;\">\r\n              <strong>🎯 Destino:</strong> \r\n              <span style=\"color: #3b82f6; font-size: 13px;\">${trabajador.zonaDestino}</span>\r\n            </div>\r\n          ` : ''}\r\n          \r\n          ${trabajador.recorridoActual ? `\r\n            <div style=\"margin-bottom: 6px;\">\r\n              <strong>📍 En recorrido:</strong> \r\n              <span style=\"color: #10b981; font-size: 13px;\">Activo</span>\r\n            </div>\r\n          ` : ''}\r\n          \r\n          ${trabajador.ubicacion ? `\r\n            <div style=\"\r\n              margin-top: 12px; \r\n              padding-top: 10px; \r\n              border-top: 1px solid #e5e7eb;\r\n            \">\r\n              <div style=\"color: #6b7280; font-size: 12px; margin-bottom: 4px;\">\r\n                <strong>📍 Ubicación GPS:</strong>\r\n              </div>\r\n              <div style=\"\r\n                font-family: monospace; \r\n                font-size: 11px; \r\n                color: #9ca3af;\r\n                background: #f9fafb;\r\n                padding: 6px;\r\n                border-radius: 4px;\r\n              \">\r\n                Lat: ${trabajador.ubicacion.lat.toFixed(6)}<br/>\r\n                Lng: ${trabajador.ubicacion.lng.toFixed(6)}\r\n              </div>\r\n              <div style=\"color: #9ca3af; font-size: 11px; margin-top: 6px;\">\r\n                ⏱️ Última actualización: ${\r\n                  ultimaActualizacion ? \r\n                  ultimaActualizacion.toLocaleTimeString('es-CL', { \r\n                    hour: '2-digit', \r\n                    minute: '2-digit',\r\n                    second: '2-digit'\r\n                  }) : \r\n                  'N/A'\r\n                }\r\n              </div>\r\n            </div>\r\n          ` : `\r\n            <div style=\"\r\n              margin-top: 12px; \r\n              padding: 10px; \r\n              background: #fef2f2;\r\n              border-radius: 6px;\r\n              color: #991b1b;\r\n              font-size: 12px;\r\n              text-align: center;\r\n            \">\r\n              📍 GPS no activado\r\n            </div>\r\n          `}\r\n        </div>\r\n      </div>\r\n    `;\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '100%', height: '100vh', position: 'relative' }}>\r\n      {/* Header */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n        color: 'white',\r\n        padding: '12px 20px',\r\n        zIndex: 1000,\r\n        boxShadow: '0 2px 10px rgba(0,0,0,0.2)'\r\n      }}>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n          <div>\r\n            <h1 style={{ margin: 0, fontSize: '20px', fontWeight: '600' }}>\r\n              🗺️ Centro de Control - MapaQuillón\r\n            </h1>\r\n            <p style={{ margin: '2px 0 0 0', fontSize: '13px', opacity: 0.95 }}>\r\n              Monitoreo en tiempo real de flota y zonas de trabajo\r\n            </p>\r\n          </div>\r\n          <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n            <span style={{ fontSize: '13px' }}>\r\n              👤 {currentUser.name || currentUser.email}\r\n            </span>\r\n            <button\r\n              onClick={onLogout}\r\n              style={{\r\n                padding: '6px 12px',\r\n                background: 'rgba(255,255,255,0.2)',\r\n                color: 'white',\r\n                border: '1px solid rgba(255,255,255,0.3)',\r\n                borderRadius: '6px',\r\n                cursor: 'pointer',\r\n                fontSize: '13px'\r\n              }}\r\n            >\r\n              Cerrar Sesión\r\n            </button>\r\n            <span style={{ \r\n              background: 'rgba(255,255,255,0.2)', \r\n              padding: '4px 8px', \r\n              borderRadius: '4px',\r\n              fontSize: '12px'\r\n            }}>\r\n              {new Date().toLocaleTimeString()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Panel de filtros */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '70px',\r\n        left: '20px',\r\n        background: 'white',\r\n        borderRadius: '8px',\r\n        padding: '10px',\r\n        boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\r\n        zIndex: 1000,\r\n        display: 'flex',\r\n        gap: '8px'\r\n      }}>\r\n        <button\r\n          onClick={() => setFiltroActivo('todos')}\r\n          style={{\r\n            padding: '8px 12px',\r\n            background: filtroActivo === 'todos' ? '#667eea' : '#f3f4f6',\r\n            color: filtroActivo === 'todos' ? 'white' : '#374151',\r\n            border: 'none',\r\n            borderRadius: '6px',\r\n            cursor: 'pointer',\r\n            fontSize: '13px',\r\n            fontWeight: '500'\r\n          }}\r\n        >\r\n          📍 Todos\r\n        </button>\r\n        <button\r\n          onClick={() => setFiltroActivo('vehiculos')}\r\n          style={{\r\n            padding: '8px 12px',\r\n            background: filtroActivo === 'vehiculos' ? '#22c55e' : '#f3f4f6',\r\n            color: filtroActivo === 'vehiculos' ? 'white' : '#374151',\r\n            border: 'none',\r\n            borderRadius: '6px',\r\n            cursor: 'pointer',\r\n            fontSize: '13px',\r\n            fontWeight: '500'\r\n          }}\r\n        >\r\n          🚛 Vehículos ({realtimeStats.vehiculos.total})\r\n        </button>\r\n        <button\r\n          onClick={() => setFiltroActivo('zonas')}\r\n          style={{\r\n            padding: '8px 12px',\r\n            background: filtroActivo === 'zonas' ? '#3b82f6' : '#f3f4f6',\r\n            color: filtroActivo === 'zonas' ? 'white' : '#374151',\r\n            border: 'none',\r\n            borderRadius: '6px',\r\n            cursor: 'pointer',\r\n            fontSize: '13px',\r\n            fontWeight: '500'\r\n          }}\r\n        >\r\n          🏗️ Zonas ({realtimeStats.zonas.total})\r\n        </button>\r\n        <button\r\n          onClick={() => setFiltroActivo('trabajadores')}\r\n          style={{\r\n            padding: '8px 12px',\r\n            background: filtroActivo === 'trabajadores' ? '#8b5cf6' : '#f3f4f6',\r\n            color: filtroActivo === 'trabajadores' ? 'white' : '#374151',\r\n            border: 'none',\r\n            borderRadius: '6px',\r\n            cursor: 'pointer',\r\n            fontSize: '13px',\r\n            fontWeight: '500'\r\n          }}\r\n        >\r\n          👷 Trabajadores ({realtimeStats.trabajadores.total})\r\n        </button>\r\n      </div>\r\n\r\n      {/* Panel de estadísticas */}\r\n      {showStats && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          bottom: '20px',\r\n          left: '20px',\r\n          background: 'white',\r\n          borderRadius: '12px',\r\n          padding: '15px',\r\n          boxShadow: '0 4px 20px rgba(0,0,0,0.1)',\r\n          zIndex: 1000,\r\n          maxWidth: '380px',\r\n          maxHeight: '40vh',\r\n          overflow: 'auto'\r\n        }}>\r\n          <div style={{ \r\n            display: 'flex', \r\n            justifyContent: 'space-between', \r\n            alignItems: 'center',\r\n            marginBottom: '12px'\r\n          }}>\r\n            <h3 style={{ margin: 0, fontSize: '16px', color: '#1f2937' }}>\r\n              📊 Estado General (Tiempo Real)\r\n            </h3>\r\n            <button\r\n              onClick={() => setShowStats(false)}\r\n              style={{\r\n                background: 'none',\r\n                border: 'none',\r\n                color: '#6b7280',\r\n                cursor: 'pointer',\r\n                fontSize: '18px'\r\n              }}\r\n            >\r\n              ×\r\n            </button>\r\n          </div>\r\n\r\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px', fontSize: '13px' }}>\r\n            <div>\r\n              <div style={{ color: '#6b7280', marginBottom: '4px' }}>🚛 Vehículos</div>\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '2px' }}>\r\n                <span>• Total: <strong>{realtimeStats.vehiculos.total}</strong></span>\r\n                <span>• Activos: <strong style={{ color: '#22c55e' }}>{realtimeStats.vehiculos.activos}</strong></span>\r\n                <span>• Mantenimiento: <strong style={{ color: '#ef4444' }}>{realtimeStats.vehiculos.enMantenimiento}</strong></span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div>\r\n              <div style={{ color: '#6b7280', marginBottom: '4px' }}>🏗️ Zonas</div>\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '2px' }}>\r\n                <span>• Total: <strong>{realtimeStats.zonas.total}</strong></span>\r\n                <span>• Activas: <strong style={{ color: '#3b82f6' }}>{realtimeStats.zonas.activas}</strong></span>\r\n                <span>• Completadas: <strong style={{ color: '#22c55e' }}>{realtimeStats.zonas.completadas}</strong></span>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ gridColumn: 'span 2' }}>\r\n              <div style={{ color: '#6b7280', marginBottom: '4px' }}>👷 Trabajadores</div>\r\n              <div style={{ display: 'flex', gap: '15px' }}>\r\n                <span>• Total: <strong>{realtimeStats.trabajadores.total}</strong></span>\r\n                <span>• En ruta: <strong style={{ color: '#8b5cf6' }}>{realtimeStats.trabajadores.enRuta}</strong></span>\r\n                <span>• Trabajando: <strong style={{ color: '#10b981' }}>{realtimeStats.trabajadores.trabajando}</strong></span>\r\n              </div>\r\n              <div style={{ \r\n                marginTop: '8px', \r\n                padding: '6px', \r\n                background: '#dcfce7', \r\n                borderRadius: '4px',\r\n                fontSize: '12px',\r\n                color: '#15803d'\r\n              }}>\r\n                🟢 GPS Activos: <strong>{\r\n                  trabajadores.filter(t => {\r\n                    const tieneUbicacion = t.ubicacion && t.ubicacion.lat && t.ubicacion.lng;\r\n                    const esReciente = t.ubicacion?.timestamp && \r\n                      (new Date() - new Date(t.ubicacion.timestamp)) < 60000; // Menos de 1 minuto\r\n                    return tieneUbicacion && esReciente;\r\n                  }).length\r\n                }</strong> trabajadores transmitiendo ubicación\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{\r\n            marginTop: '12px',\r\n            paddingTop: '12px',\r\n            borderTop: '1px solid #e5e7eb',\r\n            fontSize: '11px',\r\n            color: '#22c55e',\r\n            fontWeight: 'bold'\r\n          }}>\r\n            🟢 Conectado a Firebase - Actualización en tiempo real\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Botón para mostrar estadísticas si están ocultas */}\r\n      {!showStats && (\r\n        <button\r\n          onClick={() => setShowStats(true)}\r\n          style={{\r\n            position: 'absolute',\r\n            bottom: '20px',\r\n            left: '20px',\r\n            background: 'white',\r\n            border: '1px solid #e5e7eb',\r\n            borderRadius: '8px',\r\n            padding: '10px 15px',\r\n            boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\r\n            zIndex: 1000,\r\n            cursor: 'pointer',\r\n            fontSize: '14px',\r\n            fontWeight: '500',\r\n            color: '#374151'\r\n          }}\r\n        >\r\n          📊 Mostrar estadísticas\r\n        </button>\r\n      )}\r\n\r\n      {/* Mapa */}\r\n      <div \r\n        ref={mapRef}\r\n        style={{ \r\n          width: '100%', \r\n          height: '100%'\r\n        }} \r\n      />\r\n\r\n      {/* Indicador de carga */}\r\n      {!mapLoaded && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: '50%',\r\n          left: '50%',\r\n          transform: 'translate(-50%, -50%)',\r\n          textAlign: 'center',\r\n          zIndex: 1001\r\n        }}>\r\n          <div style={{\r\n            width: '50px',\r\n            height: '50px',\r\n            border: '4px solid #f3f3f3',\r\n            borderTop: '4px solid #667eea',\r\n            borderRadius: '50%',\r\n            animation: 'spin 1s linear infinite'\r\n          }}></div>\r\n          <p style={{ marginTop: '10px', color: '#666' }}>Cargando mapa...</p>\r\n        </div>\r\n      )}\r\n\r\n      <style jsx>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapaQuillonFirebase;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}