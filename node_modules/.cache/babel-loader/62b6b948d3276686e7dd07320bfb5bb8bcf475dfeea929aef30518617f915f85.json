{"ast":null,"code":"// src/components/SistemaTrabajadoresFirebase.js\nimport React,{useEffect,useRef,useState}from'react';import{trabajadoresService}from'../services/firebaseservices';import{database}from'../config/firebase';import{ref,onValue,update,set,remove}from'firebase/database';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SistemaTrabajadoresFirebase=_ref=>{let{currentUser,onLogout}=_ref;// Log para debugging\nconsole.log('üîç Current User Data:',currentUser);// Estados principales\nconst mapRef=useRef(null);const[map,setMap]=useState(null);const[userPosition,setUserPosition]=useState(null);const[selectedZona,setSelectedZona]=useState(null);const[isTracking,setIsTracking]=useState(false);const[isNavigating,setIsNavigating]=useState(false);const[workStatus,setWorkStatus]=useState('idle');// idle, traveling, working, completed\nconst[workLog,setWorkLog]=useState({startTime:null,arrivalTime:null,endTime:null,zona:null});// Estados para zonas y notificaciones\nconst[zonasAsignadas,setZonasAsignadas]=useState([]);const[notificaciones,setNotificaciones]=useState([]);const[showPanel,setShowPanel]=useState(true);const[isMobile,setIsMobile]=useState(false);const[showNotifications,setShowNotifications]=useState(false);const[animatingNotif,setAnimatingNotif]=useState(null);// Referencias para marcadores y servicios\nconst userMarkerRef=useRef(null);const zonaMarkerRef=useRef(null);const directionsServiceRef=useRef(null);const directionsRendererRef=useRef(null);const watchIdRef=useRef(null);const lastUpdateRef=useRef(null);// Estados de UI\nconst[mapLoaded,setMapLoaded]=useState(false);const[error,setError]=useState(null);const[distance,setDistance]=useState(null);const[duration,setDuration]=useState(null);const[showWorkLog,setShowWorkLog]=useState(false);const[gpsStatus,setGpsStatus]=useState('inactive');const API_KEY='AIzaSyA7DrdL36n5cx-RNzuXGAQggFeGCheHDbY';// Detectar si es m√≥vil\nuseEffect(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<=768);};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);// Cargar zonas asignadas desde Firebase\nuseEffect(()=>{if(currentUser&&currentUser.uid){console.log('üîÑ Cargando zonas asignadas para trabajador:',currentUser.uid);// Escuchar zonas asignadas al trabajador\nconst zonasRef=ref(database,'zonas_asignadas');const unsubZonas=onValue(zonasRef,snapshot=>{const data=snapshot.val();console.log('üì¶ Datos de zonas recibidos:',data);if(data){const zonasArray=Object.entries(data).filter(_ref2=>{let[id,zona]=_ref2;console.log(`Zona ${id}: asignada a ${zona.trabajadorAsignado}, yo soy ${currentUser.uid}`);return zona.trabajadorAsignado===currentUser.uid&&zona.estado!=='completado';}).map(_ref3=>{let[id,zona]=_ref3;return{id,...zona};});console.log('‚úÖ Zonas asignadas filtradas:',zonasArray);setZonasAsignadas(zonasArray);}else{console.log('‚ö†Ô∏è No hay zonas en Firebase');setZonasAsignadas([]);}});// Escuchar notificaciones\nconst notifRef=ref(database,'notificaciones');const unsubNotif=onValue(notifRef,snapshot=>{const data=snapshot.val();if(data){const notifArray=Object.entries(data).filter(_ref4=>{let[id,notif]=_ref4;return notif.trabajadorId===currentUser.uid&&!notif.leido;}).map(_ref5=>{let[id,notif]=_ref5;return{id,...notif};}).sort((a,b)=>new Date(b.timestamp)-new Date(a.timestamp));setNotificaciones(notifArray);}});return()=>{unsubZonas();unsubNotif();};}},[currentUser]);// Registrar trabajador al montar el componente\nuseEffect(()=>{if(currentUser&&currentUser.uid){console.log('üîÑ Registrando trabajador al iniciar...');trabajadoresService.createOrUpdateTrabajador(currentUser.uid,{nombre:currentUser.name||currentUser.email||'Trabajador',email:currentUser.email,telefono:currentUser.phone||'',vehicleId:currentUser.vehicleId||null,estado:'inactivo',rol:'trabajador',ubicacion:null,createdAt:new Date().toISOString(),ultimaActualizacion:new Date().toISOString()}).then(()=>{console.log('‚úÖ Trabajador registrado en Realtime Database al iniciar');}).catch(error=>{console.error('‚ùå Error al registrar trabajador al iniciar:',error);});}},[currentUser]);// Funci√≥n para cargar Google Maps\nuseEffect(()=>{const loadGoogleMaps=()=>{return new Promise((resolve,reject)=>{if(window.google&&window.google.maps){resolve(window.google.maps);return;}const existingScript=document.querySelector('script[src*=\"maps.googleapis.com\"]');if(existingScript){existingScript.addEventListener('load',()=>{if(window.google&&window.google.maps){resolve(window.google.maps);}else{reject(new Error('Google Maps no disponible'));}});return;}const script=document.createElement('script');script.src=`https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=places,geometry&v=weekly`;script.async=true;script.defer=true;script.onload=()=>{if(window.google&&window.google.maps){resolve(window.google.maps);}else{reject(new Error('Google Maps no disponible'));}};script.onerror=()=>{reject(new Error('Error al cargar Google Maps'));};document.head.appendChild(script);});};const initMap=async()=>{try{const maps=await loadGoogleMaps();if(!mapRef.current)return;const mapInstance=new maps.Map(mapRef.current,{center:{lat:-36.7333,lng:-72.4667},zoom:13,mapTypeId:'roadmap',zoomControl:!isMobile,mapTypeControl:false,scaleControl:false,streetViewControl:false,rotateControl:false,fullscreenControl:true,gestureHandling:'greedy'});setMap(mapInstance);// Inicializar servicios de direcciones\ndirectionsServiceRef.current=new maps.DirectionsService();directionsRendererRef.current=new maps.DirectionsRenderer({map:mapInstance,suppressMarkers:false,polylineOptions:{strokeColor:'#4285F4',strokeWeight:6,strokeOpacity:0.8},markerOptions:{startMarker:{label:'A',title:'Tu ubicaci√≥n'},endMarker:{label:'B',title:'Zona de trabajo'}},preserveViewport:false});setMapLoaded(true);}catch(err){setError('Error al cargar el mapa: '+err.message);}};initMap();},[isMobile]);// Actualizar posici√≥n del usuario Y ENVIAR A FIREBASE\nconst updateUserPosition=position=>{console.log('üîÑ Actualizando posici√≥n:',position);setUserPosition(position);if(window.google&&map){const accuracy=position.accuracy||100;console.log('üìç Precisi√≥n actual:',accuracy,'metros');}const ahora=Date.now();if(!lastUpdateRef.current||ahora-lastUpdateRef.current>5000){console.log('üìç Enviando ubicaci√≥n a Firebase:',position);if(currentUser&&currentUser.uid){trabajadoresService.updateTrabajadorLocation(currentUser.uid,{lat:position.lat,lng:position.lng,timestamp:new Date().toISOString(),accuracy:position.accuracy||null}).then(()=>{console.log('‚úÖ Ubicaci√≥n enviada a Firebase exitosamente');}).catch(error=>{console.error('‚ùå Error al enviar ubicaci√≥n a Firebase:',error);});const estadoActual=workStatus==='traveling'?'en_camino':workStatus==='working'?'trabajando':'disponible';trabajadoresService.updateTrabajadorData(currentUser.uid,{nombre:currentUser.name||currentUser.email,email:currentUser.email,estado:estadoActual,zonaDestino:selectedZona?selectedZona.nombre:null,ultimaActualizacion:new Date().toISOString()}).then(()=>{console.log('‚úÖ Datos del trabajador actualizados');}).catch(error=>{console.error('‚ùå Error al actualizar datos del trabajador:',error);});lastUpdateRef.current=ahora;}}if(!map||!window.google)return;if(!userMarkerRef.current){userMarkerRef.current=new window.google.maps.Marker({position:position,map:map,title:'Tu ubicaci√≥n',icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:10,fillColor:'#4285F4',fillOpacity:1,strokeColor:'#ffffff',strokeWeight:3},zIndex:1000});map.setCenter(position);map.setZoom(15);}else{userMarkerRef.current.setPosition(position);}if(isNavigating&&selectedZona){const distance=window.google.maps.geometry.spherical.computeDistanceBetween(new window.google.maps.LatLng(position.lat,position.lng),new window.google.maps.LatLng(selectedZona.lat,selectedZona.lng));console.log('üìè Distancia a la zona:',Math.round(distance),'metros');}};// Funci√≥n para activar/desactivar GPS\nconst toggleGPS=()=>{if(isTracking){if(watchIdRef.current){navigator.geolocation.clearWatch(watchIdRef.current);watchIdRef.current=null;}setIsTracking(false);setGpsStatus('inactive');if(userMarkerRef.current){userMarkerRef.current.setMap(null);userMarkerRef.current=null;}if(currentUser&&currentUser.uid){trabajadoresService.updateTrabajadorData(currentUser.uid,{estado:'inactivo',ultimaActualizacion:new Date().toISOString()}).then(()=>{console.log('üìç GPS desactivado - Estado actualizado a inactivo');}).catch(error=>{console.error('Error al actualizar estado en Firebase:',error);});if(currentUser.vehicleId&&(workStatus==='traveling'||workStatus==='working')){const vehicleRef=ref(database,`vehiculos/${currentUser.vehicleId}`);update(vehicleRef,{estado:'disponible',operadorEnRuta:null,zonaDestino:null,enZonaTrabajo:false,ultimaActualizacion:new Date().toISOString()}).then(()=>{console.log('‚úÖ Veh√≠culo liberado al desactivar GPS');}).catch(error=>{console.error('Error al liberar veh√≠culo:',error);});}}}else{if(!navigator.geolocation){alert('Tu navegador no soporta geolocalizaci√≥n');setGpsStatus('error');return;}console.log('üîÑ Iniciando GPS...');setIsTracking(true);setGpsStatus('activating');if(currentUser&&currentUser.uid){trabajadoresService.createOrUpdateTrabajador(currentUser.uid,{nombre:currentUser.name||currentUser.email||'Trabajador',email:currentUser.email,telefono:currentUser.phone||'',estado:'disponible',rol:'trabajador',vehicleId:currentUser.vehicleId||null,createdAt:new Date().toISOString()}).then(()=>{console.log('‚úÖ Trabajador registrado en Realtime Database');}).catch(error=>{console.error('‚ùå Error al registrar trabajador:',error);});}navigator.geolocation.getCurrentPosition(position=>{const pos={lat:position.coords.latitude,lng:position.coords.longitude,accuracy:position.coords.accuracy};updateUserPosition(pos);setGpsStatus('active');},error=>{console.warn('‚ö†Ô∏è Error al obtener ubicaci√≥n:',error.message);if(error.code===error.PERMISSION_DENIED){alert('Por favor, habilita los permisos de ubicaci√≥n en tu navegador');setIsTracking(false);setGpsStatus('error');return;}},{enableHighAccuracy:true,timeout:15000,maximumAge:0});const gpsWatchId=navigator.geolocation.watchPosition(position=>{if(position.coords.accuracy<=150){const pos={lat:position.coords.latitude,lng:position.coords.longitude,accuracy:position.coords.accuracy};updateUserPosition(pos);setGpsStatus('active');}},error=>{console.log('‚è±Ô∏è Esperando se√±al GPS...',error.message);},{enableHighAccuracy:true,timeout:30000,maximumAge:0,distanceFilter:5});watchIdRef.current=gpsWatchId;}};// Seleccionar zona de trabajo\nconst selectZona=zona=>{setSelectedZona(zona);if(!map||!window.google)return;if(zonaMarkerRef.current){zonaMarkerRef.current.setMap(null);}zonaMarkerRef.current=new window.google.maps.Marker({position:{lat:zona.lat,lng:zona.lng},map:map,title:zona.nombre,icon:{path:window.google.maps.SymbolPath.BACKWARD_CLOSED_ARROW,scale:8,fillColor:'#22c55e',fillOpacity:1,strokeColor:'#ffffff',strokeWeight:2}});if(userPosition){const bounds=new window.google.maps.LatLngBounds();bounds.extend(userPosition);bounds.extend({lat:zona.lat,lng:zona.lng});map.fitBounds(bounds,100);}else{map.setCenter({lat:zona.lat,lng:zona.lng});map.setZoom(15);}};// Iniciar navegaci√≥n\nconst startNavigation=async()=>{if(!selectedZona||!userPosition){alert('Debes activar el GPS y seleccionar una zona primero');return;}setIsNavigating(true);setWorkStatus('traveling');setWorkLog({...workLog,startTime:new Date().toISOString(),zona:selectedZona});try{await trabajadoresService.updateTrabajadorData(currentUser.uid,{estado:'en_camino',zonaDestino:selectedZona.nombre,recorridoInicio:new Date().toISOString()});if(selectedZona.id){await update(ref(database,`zonas_asignadas/${selectedZona.id}`),{estado:'en_progreso',ultimaActualizacion:new Date().toISOString()});}if(currentUser.vehicleId){const vehicleRef=ref(database,`vehiculos/${currentUser.vehicleId}`);await update(vehicleRef,{estado:'en_uso',operadorEnRuta:currentUser.name||currentUser.email,zonaDestino:selectedZona.nombre,ultimaActualizacion:new Date().toISOString()});console.log('‚úÖ Veh√≠culo marcado como en uso');}console.log('‚úÖ Estado actualizado a \"en_camino\" en Firebase');}catch(error){console.error('Error al actualizar estado en Firebase:',error);}const request={origin:new window.google.maps.LatLng(userPosition.lat,userPosition.lng),destination:new window.google.maps.LatLng(selectedZona.lat,selectedZona.lng),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,region:'CL',avoidHighways:false,avoidTolls:false,provideRouteAlternatives:false};if(directionsRendererRef.current){directionsRendererRef.current.setDirections({routes:[]});}directionsServiceRef.current.route(request,(result,status)=>{console.log('Estado de la ruta:',status);if(status==='OK'){console.log('‚úÖ Ruta calculada exitosamente');directionsRendererRef.current.setOptions({directions:result,routeIndex:0,suppressMarkers:false,preserveViewport:false,polylineOptions:{strokeColor:'#4285F4',strokeWeight:5,strokeOpacity:0.8}});const route=result.routes[0];const leg=route.legs[0];setDistance(leg.distance.text);setDuration(leg.duration.text);const bounds=new window.google.maps.LatLngBounds();route.overview_path.forEach(point=>{bounds.extend(point);});map.fitBounds(bounds,{top:100,bottom:100,left:50,right:50});}else{console.error('Error al calcular ruta:',status);mostrarLineaDirecta();}});};// Funci√≥n auxiliar para mostrar l√≠nea directa cuando no hay ruta\nconst mostrarLineaDirecta=()=>{if(!window.google||!map||!userPosition||!selectedZona)return;if(directionsRendererRef.current){directionsRendererRef.current.setDirections({routes:[]});if(directionsRendererRef.current.polyline){directionsRendererRef.current.polyline.setMap(null);}}const distanceInMeters=window.google.maps.geometry.spherical.computeDistanceBetween(new window.google.maps.LatLng(userPosition.lat,userPosition.lng),new window.google.maps.LatLng(selectedZona.lat,selectedZona.lng));const distanceInKm=(distanceInMeters/1000).toFixed(2);setDistance(`~${distanceInKm} km (directo)`);setDuration('Calculando...');const line=new window.google.maps.Polyline({path:[new window.google.maps.LatLng(userPosition.lat,userPosition.lng),new window.google.maps.LatLng(selectedZona.lat,selectedZona.lng)],geodesic:true,strokeColor:'#FF5722',strokeOpacity:0.7,strokeWeight:4,map:map,icons:[{icon:{path:'M 0,-1 0,1',strokeOpacity:1,scale:3},offset:'0',repeat:'15px'}]});directionsRendererRef.current.polyline=line;new window.google.maps.Marker({position:userPosition,map:map,label:'A',title:'Tu ubicaci√≥n'});new window.google.maps.Marker({position:{lat:selectedZona.lat,lng:selectedZona.lng},map:map,label:'B',title:'Destino'});const bounds=new window.google.maps.LatLngBounds();bounds.extend(userPosition);bounds.extend({lat:selectedZona.lat,lng:selectedZona.lng});map.fitBounds(bounds,{top:100,bottom:100,left:50,right:50});console.log('üìç Mostrando ruta directa (sin caminos)');};// Manejar llegada a la zona\nconst handleArrival=async()=>{setWorkStatus('working');const arrivalTime=new Date().toISOString();setWorkLog({...workLog,arrivalTime:arrivalTime});try{await trabajadoresService.updateTrabajadorData(currentUser.uid,{estado:'trabajando',horaLlegada:arrivalTime});if(currentUser.vehicleId){const vehicleRef=ref(database,`vehiculos/${currentUser.vehicleId}`);await update(vehicleRef,{estado:'en_uso',enZonaTrabajo:true,ultimaActualizacion:new Date().toISOString()});}console.log('‚úÖ Llegada registrada en Firebase');}catch(error){console.error('Error al registrar llegada en Firebase:',error);}if(directionsRendererRef.current){directionsRendererRef.current.setDirections({routes:[]});}console.log('‚úÖ Trabajador ha llegado a la zona y est√° trabajando');};// Finalizar trabajo\nconst finishWork=async()=>{const endTime=new Date().toISOString();const tiempoTrabajado=workLog.arrivalTime?Math.floor((new Date(endTime)-new Date(workLog.arrivalTime))/60000):0;const finalLog={...workLog,endTime:endTime,tiempoTrabajadoMinutos:tiempoTrabajado};setWorkLog(finalLog);setWorkStatus('completed');setIsNavigating(false);setShowWorkLog(true);if(directionsRendererRef.current){directionsRendererRef.current.setDirections({routes:[]});}try{await trabajadoresService.updateTrabajadorData(currentUser.uid,{estado:'disponible',zonaDestino:null,ultimoTrabajo:{zona:selectedZona.nombre,zonaId:selectedZona.id,horaInicio:workLog.startTime,horaLlegada:workLog.arrivalTime,horaFin:endTime,tiempoTrabajadoMinutos:tiempoTrabajado,completado:true}});if(currentUser.vehicleId){const vehicleRef=ref(database,`vehiculos/${currentUser.vehicleId}`);await update(vehicleRef,{estado:'disponible',operadorEnRuta:null,zonaDestino:null,enZonaTrabajo:false,ultimaActualizacion:new Date().toISOString()});console.log('‚úÖ Veh√≠culo marcado como disponible');}if(selectedZona.id){await update(ref(database,`zonas_asignadas/${selectedZona.id}`),{estado:'completado',fechaCompletado:endTime,tiempoTrabajadoMinutos:tiempoTrabajado,completadoPor:currentUser.uid,ultimaActualizacion:new Date().toISOString()});}const historialRef=ref(database,`historial_trabajos/${currentUser.uid}/${Date.now()}`);await set(historialRef,{trabajadorId:currentUser.uid,trabajadorNombre:currentUser.name||currentUser.email,zonaId:selectedZona.id,zonaNombre:selectedZona.nombre,zonaDireccion:selectedZona.direccion,horaInicio:workLog.startTime,horaLlegada:workLog.arrivalTime,horaFin:endTime,tiempoTrabajadoMinutos:tiempoTrabajado,estado:'completado',fecha:new Date().toISOString().split('T')[0]});console.log('‚úÖ Trabajo completado y registrado en Firebase');alert('‚úÖ ¬°Excelente trabajo! La tarea ha sido marcada como completada.');}catch(error){console.error('Error al registrar finalizaci√≥n en Firebase:',error);alert('‚ö†Ô∏è Error al guardar. El trabajo se complet√≥ pero hubo un problema al registrarlo.');}console.log('Registro de trabajo:',finalLog);};// Cancelar navegaci√≥n/trabajo\nconst cancelNavigation=async()=>{if(!window.confirm('¬øEst√°s seguro de cancelar el recorrido actual?')){return;}setIsNavigating(false);setWorkStatus('idle');setDistance(null);setDuration(null);if(directionsRendererRef.current){directionsRendererRef.current.setDirections({routes:[]});}try{await trabajadoresService.updateTrabajadorData(currentUser.uid,{estado:'disponible',zonaDestino:null,recorridoCancelado:new Date().toISOString()});if(currentUser.vehicleId){const vehicleRef=ref(database,`vehiculos/${currentUser.vehicleId}`);await update(vehicleRef,{estado:'disponible',operadorEnRuta:null,zonaDestino:null,enZonaTrabajo:false,ultimaActualizacion:new Date().toISOString()});console.log('‚úÖ Veh√≠culo liberado y marcado como disponible');}if(selectedZona&&selectedZona.id&&workStatus!=='idle'){await update(ref(database,`zonas_asignadas/${selectedZona.id}`),{estado:'pendiente',ultimaActualizacion:new Date().toISOString()});}console.log('‚úÖ Recorrido cancelado');}catch(error){console.error('Error al cancelar recorrido:',error);}alert('Recorrido cancelado. Puedes iniciar uno nuevo cuando quieras.');};// Resetear para nuevo trabajo\nconst resetWork=()=>{setSelectedZona(null);setWorkStatus('idle');setWorkLog({startTime:null,arrivalTime:null,endTime:null,zona:null});setIsNavigating(false);setDistance(null);setDuration(null);setShowWorkLog(false);if(zonaMarkerRef.current){zonaMarkerRef.current.setMap(null);zonaMarkerRef.current=null;}if(directionsRendererRef.current){directionsRendererRef.current.setDirections({routes:[]});}};// Marcar notificaci√≥n como le√≠da\nconst markNotificationAsRead=async notifId=>{setAnimatingNotif(notifId);setTimeout(async()=>{try{const notifRef=ref(database,`notificaciones/${notifId}`);await update(notifRef,{leido:true,fechaLeido:new Date().toISOString()});console.log('‚úÖ Notificaci√≥n marcada como le√≠da');}catch(error){console.error('Error al marcar notificaci√≥n:',error);}setAnimatingNotif(null);},300);};// Limpiar todas las notificaciones\nconst clearAllNotifications=async()=>{if(notificaciones.length===0)return;if(!window.confirm('¬øMarcar todas las notificaciones como le√≠das?'))return;try{const updates={};notificaciones.forEach(notif=>{updates[`notificaciones/${notif.id}/leido`]=true;updates[`notificaciones/${notif.id}/fechaLeido`]=new Date().toISOString();});await update(ref(database),updates);console.log('‚úÖ Todas las notificaciones marcadas como le√≠das');setShowNotifications(false);}catch(error){console.error('Error al limpiar notificaciones:',error);}};// Formatear tiempo\nconst formatTime=isoString=>{if(!isoString)return'--:--';const date=new Date(isoString);return date.toLocaleTimeString('es-CL',{hour:'2-digit',minute:'2-digit',hour12:false});};// Calcular duraci√≥n\nconst calculateDuration=(start,end)=>{if(!start||!end)return'--';const diff=new Date(end)-new Date(start);const hours=Math.floor(diff/3600000);const minutes=Math.floor(diff%3600000/60000);return`${hours}h ${minutes}m`;};// Formatear tiempo relativo\nconst formatRelativeTime=timestamp=>{const now=new Date();const date=new Date(timestamp);const diff=Math.floor((now-date)/1000);if(diff<60)return'Hace un momento';if(diff<3600)return`Hace ${Math.floor(diff/60)} min`;if(diff<86400)return`Hace ${Math.floor(diff/3600)} h`;return date.toLocaleDateString('es-CL');};// Limpiar al desmontar componente\nuseEffect(()=>{return()=>{if(watchIdRef.current){navigator.geolocation.clearWatch(watchIdRef.current);}if(currentUser!==null&&currentUser!==void 0&&currentUser.uid){trabajadoresService.updateTrabajadorData(currentUser.uid,{estado:'inactivo',ubicacion:null}).catch(console.error);}};},[currentUser]);if(error){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Error\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),children:\"Reintentar\"})]});}// Estilos mejorados con animaciones\nconst styles={container:{width:'100%',height:'100vh',position:'relative',overflow:'hidden',background:'#f8fafc'},header:{position:'fixed',top:0,left:0,right:0,background:'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',color:'white',padding:isMobile?'12px 16px':'16px 24px',zIndex:1002,boxShadow:'0 4px 20px rgba(0,0,0,0.15)',backdropFilter:'blur(10px)'},panel:{position:'fixed',top:isMobile?'64px':'72px',left:showPanel?'0':'-100%',width:isMobile?'100%':'420px',maxWidth:'100%',height:isMobile?'auto':'calc(100vh - 72px)',maxHeight:isMobile?'65vh':'calc(100vh - 72px)',background:'linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)',boxShadow:'4px 0 20px rgba(0,0,0,0.1)',overflowY:'auto',overflowX:'hidden',transition:'left 0.4s cubic-bezier(0.4, 0, 0.2, 1)',zIndex:1001,borderRight:'1px solid rgba(0,0,0,0.05)'},map:{width:'100%',height:'100%',position:'absolute',top:0,left:0},button:{width:'100%',padding:isMobile?'14px':'13px',fontSize:isMobile?'15px':'14px',border:'none',borderRadius:'10px',fontWeight:'600',cursor:'pointer',marginBottom:'12px',touchAction:'manipulation',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',boxShadow:'0 2px 8px rgba(0,0,0,0.1)',position:'relative',overflow:'hidden'},notificationBadge:{position:'absolute',top:'-5px',right:'-5px',background:'#ef4444',color:'white',borderRadius:'50%',width:'20px',height:'20px',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'11px',fontWeight:'bold',animation:'pulse 2s infinite',boxShadow:'0 2px 4px rgba(239, 68, 68, 0.4)'},card:{background:'white',borderRadius:'12px',padding:isMobile?'14px':'16px',marginBottom:'16px',boxShadow:'0 2px 12px rgba(0,0,0,0.06)',border:'1px solid rgba(0,0,0,0.04)',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',position:'relative',overflow:'hidden'},gpsIndicator:{display:'inline-flex',alignItems:'center',gap:'8px',padding:'6px 12px',borderRadius:'20px',fontSize:'13px',fontWeight:'500',transition:'all 0.3s ease'},floatingButton:{position:'fixed',bottom:isMobile?'24px':'32px',right:isMobile?'24px':'32px',width:isMobile?'64px':'56px',height:isMobile?'64px':'56px',borderRadius:'50%',display:'flex',alignItems:'center',justifyContent:'center',boxShadow:'0 8px 24px rgba(0,0,0,0.25)',zIndex:1000,cursor:'pointer',fontSize:isMobile?'26px':'22px',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',animation:'float 3s ease-in-out infinite'}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"div\",{ref:mapRef,style:styles.map}),/*#__PURE__*/_jsx(\"div\",{style:styles.header,children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPanel(!showPanel),style:{padding:'8px',background:'rgba(255,255,255,0.2)',backdropFilter:'blur(10px)',color:'white',border:'1px solid rgba(255,255,255,0.3)',borderRadius:'8px',cursor:'pointer',fontSize:'20px',transition:'all 0.3s ease',transform:showPanel?'rotate(0deg)':'rotate(180deg)'},children:showPanel?'‚óÄ':'‚ñ∂'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{style:{margin:0,fontSize:isMobile?'18px':'20px',fontWeight:'700',letterSpacing:'-0.5px'},children:[\"\\uD83D\\uDC77\\u200D\\u2642\\uFE0F \",currentUser.name||'Trabajador']}),gpsStatus==='active'&&/*#__PURE__*/_jsxs(\"div\",{style:{...styles.gpsIndicator,background:'rgba(255,255,255,0.2)',color:'white',marginTop:'4px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{width:'8px',height:'8px',background:'#4ade80',borderRadius:'50%',animation:'pulse 2s infinite'}}),\"GPS Activo\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowNotifications(!showNotifications),style:{padding:'8px 10px',background:'rgba(255,255,255,0.2)',backdropFilter:'blur(10px)',color:'white',border:'1px solid rgba(255,255,255,0.3)',borderRadius:'8px',cursor:'pointer',fontSize:'18px',position:'relative',transition:'all 0.3s ease'},children:[\"\\uD83D\\uDD14\",notificaciones.length>0&&/*#__PURE__*/_jsx(\"span\",{style:styles.notificationBadge,children:notificaciones.length})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onLogout,style:{padding:'8px 14px',background:'rgba(255,255,255,0.2)',backdropFilter:'blur(10px)',color:'white',border:'1px solid rgba(255,255,255,0.3)',borderRadius:'8px',cursor:'pointer',fontSize:isMobile?'13px':'14px',fontWeight:'600',transition:'all 0.3s ease'},children:\"Salir\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:styles.panel,children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:isMobile?'16px':'20px'},children:[showNotifications&&notificaciones.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{...styles.card,background:'linear-gradient(135deg, #fef3c7 0%, #fed7aa 100%)',border:'2px solid #fbbf24',animation:'slideIn 0.3s ease'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'12px'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{margin:0,fontSize:'15px',color:'#92400e',fontWeight:'700'},children:[\"\\uD83D\\uDD14 Notificaciones (\",notificaciones.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:clearAllNotifications,style:{padding:'4px 8px',background:'#dc2626',color:'white',border:'none',borderRadius:'6px',fontSize:'12px',cursor:'pointer',fontWeight:'600'},children:\"Limpiar todas\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'200px',overflowY:'auto'},children:notificaciones.map(notif=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',background:'rgba(255,255,255,0.8)',borderRadius:'8px',marginBottom:'8px',fontSize:'13px',display:'flex',justifyContent:'space-between',alignItems:'start',gap:'8px',transition:'all 0.3s ease',opacity:animatingNotif===notif.id?0:1,transform:animatingNotif===notif.id?'translateX(100%)':'translateX(0)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',marginBottom:'4px'},children:notif.mensaje}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#6b7280'},children:formatRelativeTime(notif.timestamp)})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>markNotificationAsRead(notif.id),style:{padding:'4px',background:'transparent',border:'none',color:'#dc2626',cursor:'pointer',fontSize:'16px',transition:'all 0.2s ease'},children:\"\\u2715\"})]},notif.id))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleGPS,style:{...styles.button,background:isTracking?'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)':'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',color:'white',transform:'scale(1)'},onMouseEnter:e=>e.target.style.transform='scale(1.02)',onMouseLeave:e=>e.target.style.transform='scale(1)',children:isTracking?'üìç Desactivar GPS':'üìç Activar GPS'}),gpsStatus!=='inactive'&&/*#__PURE__*/_jsxs(\"div\",{style:{...styles.gpsIndicator,marginBottom:'16px',background:gpsStatus==='active'?'#dcfce7':gpsStatus==='activating'?'#fef3c7':'#fee2e2',color:gpsStatus==='active'?'#166534':gpsStatus==='activating'?'#92400e':'#991b1b',animation:'fadeIn 0.3s ease'},children:[gpsStatus==='active'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{style:{width:'10px',height:'10px',background:'#22c55e',borderRadius:'50%',animation:'pulse 2s infinite'}}),\"GPS activo y rastreando\"]}),gpsStatus==='activating'&&'üü° Activando GPS...',gpsStatus==='error'&&'üî¥ Error en GPS']}),isTracking&&workStatus==='idle'&&/*#__PURE__*/_jsxs(\"div\",{style:styles.card,children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'10px',fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"\\uD83C\\uDFD7\\uFE0F Selecciona tu zona de trabajo\"}),zonasAsignadas.length>0?/*#__PURE__*/_jsxs(\"select\",{value:(selectedZona===null||selectedZona===void 0?void 0:selectedZona.id)||'',onChange:e=>{const zona=zonasAsignadas.find(z=>z.id===e.target.value);if(zona)selectZona(zona);},style:{width:'100%',padding:'12px',borderRadius:'8px',border:'2px solid #e5e7eb',fontSize:isMobile?'16px':'14px',background:'white',cursor:'pointer',transition:'all 0.3s ease'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Seleccionar zona --\"}),zonasAsignadas.map(zona=>/*#__PURE__*/_jsx(\"option\",{value:zona.id,children:zona.nombre},zona.id))]}):/*#__PURE__*/_jsx(\"div\",{style:{padding:'16px',background:'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',borderRadius:'8px',textAlign:'center',fontSize:'14px',color:'#6b7280'},children:\"No tienes zonas asignadas\"})]}),selectedZona&&workStatus==='idle'&&/*#__PURE__*/_jsxs(\"div\",{style:{...styles.card,background:'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)',border:'2px solid #3b82f6',animation:'slideIn 0.3s ease'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{margin:'0 0 10px 0',color:'#1e40af',fontSize:'15px',fontWeight:'700'},children:[\"\\uD83D\\uDCCD \",selectedZona.nombre]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'13px',color:'#1e3a8a',lineHeight:'1.5'},children:selectedZona.direccion}),selectedZona.descripcion&&/*#__PURE__*/_jsx(\"p\",{style:{margin:'10px 0 0 0',fontSize:'12px',color:'#1e3a8a',opacity:0.8,lineHeight:'1.4'},children:selectedZona.descripcion})]}),workStatus==='idle'&&selectedZona&&userPosition&&/*#__PURE__*/_jsx(\"button\",{onClick:startNavigation,style:{...styles.button,background:'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',color:'white'},onMouseEnter:e=>e.target.style.transform='scale(1.02)',onMouseLeave:e=>e.target.style.transform='scale(1)',children:\"\\uD83D\\uDE97 Iniciar Recorrido\"}),workStatus==='traveling'&&/*#__PURE__*/_jsxs(\"div\",{style:styles.card,children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',margin:'-16px -16px 16px -16px',padding:'16px',borderRadius:'12px 12px 0 0'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'17px',fontWeight:'700',color:'#92400e'},children:\"\\uD83D\\uDE97 En camino a la zona\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px',marginTop:'6px',color:'#78350f'},children:[\"\\uD83D\\uDCCD \",selectedZona===null||selectedZona===void 0?void 0:selectedZona.nombre]}),distance&&duration&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'12px',padding:'8px',background:'rgba(255,255,255,0.8)',borderRadius:'6px',fontSize:'14px',display:'flex',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCCF \",distance]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u23F1\\uFE0F \",duration]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleArrival,style:{...styles.button,background:'linear-gradient(135deg, #10b981 0%, #059669 100%)',color:'white',fontSize:isMobile?'16px':'15px',marginBottom:'12px'},children:\"\\uD83D\\uDCCD Ya llegu\\xE9 a la zona\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelNavigation,style:{...styles.button,background:'white',color:'#ef4444',border:'2px solid #ef4444',marginBottom:0},children:\"\\u274C Cancelar Recorrido\"})]}),workStatus==='working'&&/*#__PURE__*/_jsxs(\"div\",{style:styles.card,children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)',margin:'-16px -16px 16px -16px',padding:'20px',borderRadius:'12px 12px 0 0',border:'2px solid #22c55e'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:isMobile?'18px':'17px',fontWeight:'700',color:'#14532d',marginBottom:'8px',animation:'pulse 2s infinite'},children:\"\\uD83D\\uDD27 TRABAJANDO EN ZONA\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'15px',color:'#166534'},children:[\"\\uD83D\\uDCCD \",selectedZona===null||selectedZona===void 0?void 0:selectedZona.nombre]}),(selectedZona===null||selectedZona===void 0?void 0:selectedZona.descripcion)&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'12px',padding:'10px',background:'rgba(255,255,255,0.9)',borderRadius:'8px',fontSize:'13px',color:'#15803d',lineHeight:'1.5'},children:[\"\\uD83D\\uDCCB \",selectedZona.descripcion]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'13px',marginTop:'10px',color:'#166534',fontWeight:'600'},children:[\"\\u23F0 Llegada: \",formatTime(workLog.arrivalTime)]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(window.confirm('¬øConfirmas que has completado toda la tarea asignada?')){finishWork();}},style:{...styles.button,background:'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',color:'white',padding:isMobile?'18px':'16px',fontSize:isMobile?'17px':'16px',fontWeight:'700',boxShadow:'0 6px 20px rgba(34, 197, 94, 0.4)',textTransform:'uppercase',letterSpacing:'0.5px',marginBottom:'12px'},children:\"\\u2705 COMPLETAR TAREA\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(window.confirm('¬øCancelar el trabajo? La zona volver√° a estado pendiente.')){cancelNavigation();}},style:{...styles.button,background:'white',color:'#ef4444',border:'2px solid #ef4444',fontSize:isMobile?'14px':'13px',marginBottom:0},children:\"\\u274C No puedo completar\"})]}),workStatus==='completed'&&/*#__PURE__*/_jsxs(\"div\",{style:{...styles.card,background:'linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%)',border:'2px solid #6366f1',animation:'slideIn 0.3s ease'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'17px',fontWeight:'700',color:'#312e81',textAlign:'center',marginBottom:'16px'},children:\"\\u2705 Trabajo Completado\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetWork,style:{...styles.button,background:'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',color:'white',marginBottom:0},children:\"\\uD83D\\uDD04 Nuevo Trabajo\"})]})]})}),!showPanel&&workStatus!=='idle'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowPanel(true),style:{...styles.floatingButton,background:workStatus==='traveling'?'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)':workStatus==='working'?'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)':'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',color:'white',border:'none'},children:[workStatus==='traveling'&&'üöó',workStatus==='working'&&'üîß',workStatus==='completed'&&'‚úÖ']}),showWorkLog&&workLog.zona&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.6)',backdropFilter:'blur(5px)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:2000,padding:'20px',animation:'fadeIn 0.3s ease'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'16px',padding:isMobile?'20px':'24px',maxWidth:isMobile?'100%':'420px',width:'100%',maxHeight:'80vh',overflow:'auto',boxShadow:'0 20px 60px rgba(0,0,0,0.3)',animation:'slideUp 0.3s ease'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 20px 0',color:'#1f2937',fontSize:isMobile?'20px':'22px',fontWeight:'700'},children:\"\\uD83D\\uDCCB Resumen del Trabajo\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:isMobile?'14px':'15px',lineHeight:'1.8'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'16px',background:'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',borderRadius:'12px',marginBottom:'16px'},children:[/*#__PURE__*/_jsx(\"strong\",{style:{fontSize:'16px',color:'#0369a1'},children:workLog.zona.nombre}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#0284c7',fontSize:'14px'},children:[\"\\uD83D\\uDCCD \",workLog.zona.direccion]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f8fafc',padding:'16px',borderRadius:'12px',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px',color:'#475569'},children:[\"\\u23F1\\uFE0F \",/*#__PURE__*/_jsx(\"strong\",{children:\"Tiempo trabajado:\"}),\" \",calculateDuration(workLog.arrivalTime,workLog.endTime)]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'12px',padding:'12px',background:'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)',borderRadius:'8px',textAlign:'center',fontWeight:'bold',color:'#166534',fontSize:'16px',boxShadow:'0 2px 8px rgba(34, 197, 94, 0.2)'},children:\"\\u2705 COMPLETADO EXITOSAMENTE\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowWorkLog(false),style:{width:'100%',padding:'14px',background:'linear-gradient(135deg, #6b7280 0%, #4b5563 100%)',color:'white',border:'none',borderRadius:'10px',fontSize:'15px',fontWeight:'600',cursor:'pointer',transition:'all 0.3s ease',boxShadow:'0 2px 8px rgba(0,0,0,0.1)'},onMouseEnter:e=>e.target.style.transform='scale(1.02)',onMouseLeave:e=>e.target.style.transform='scale(1)',children:\"Cerrar\"})]})]})}),!mapLoaded&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',textAlign:'center',zIndex:1001},children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:'60px',height:'60px',position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',width:'100%',height:'100%',border:'4px solid rgba(34, 197, 94, 0.2)',borderRadius:'50%'}}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',width:'100%',height:'100%',border:'4px solid transparent',borderTopColor:'#22c55e',borderRadius:'50%',animation:'spin 1s linear infinite'}})]}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'20px',color:'#22c55e',fontSize:'14px',fontWeight:'600'},children:\"Cargando mapa...\"})]}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:`\n       @keyframes spin {\n         0% { transform: rotate(0deg); }\n         100% { transform: rotate(360deg); }\n       }\n       \n       @keyframes pulse {\n         0% {\n           box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7);\n           transform: scale(1);\n         }\n         50% {\n           box-shadow: 0 0 0 10px rgba(34, 197, 94, 0);\n           transform: scale(1.05);\n         }\n         100% {\n           box-shadow: 0 0 0 0 rgba(34, 197, 94, 0);\n           transform: scale(1);\n         }\n       }\n       \n       @keyframes float {\n         0%, 100% {\n           transform: translateY(0px);\n         }\n         50% {\n           transform: translateY(-10px);\n         }\n       }\n       \n       @keyframes slideIn {\n         from {\n           opacity: 0;\n           transform: translateX(-20px);\n         }\n         to {\n           opacity: 1;\n           transform: translateX(0);\n         }\n       }\n       \n       @keyframes slideUp {\n         from {\n           opacity: 0;\n           transform: translateY(20px);\n         }\n         to {\n           opacity: 1;\n           transform: translateY(0);\n         }\n       }\n       \n       @keyframes fadeIn {\n         from {\n           opacity: 0;\n         }\n         to {\n           opacity: 1;\n         }\n       }\n       \n       /* Scrollbar personalizada */\n       ::-webkit-scrollbar {\n         width: 8px;\n         height: 8px;\n       }\n       \n       ::-webkit-scrollbar-track {\n         background: #f1f1f1;\n         border-radius: 10px;\n       }\n       \n       ::-webkit-scrollbar-thumb {\n         background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);\n         border-radius: 10px;\n       }\n       \n       ::-webkit-scrollbar-thumb:hover {\n         background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);\n       }\n       \n       /* Transiciones suaves para botones */\n       button {\n         transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n       }\n       \n       button:active {\n         transform: scale(0.98);\n       }\n       \n       /* Efecto ripple en botones */\n       button::after {\n         content: '';\n         position: absolute;\n         top: 50%;\n         left: 50%;\n         width: 0;\n         height: 0;\n         border-radius: 50%;\n         background: rgba(255, 255, 255, 0.5);\n         transform: translate(-50%, -50%);\n         transition: width 0.6s, height 0.6s;\n       }\n       \n       button:active::after {\n         width: 300px;\n         height: 300px;\n       }\n       \n       /* Sombras y efectos de elevaci√≥n */\n       .card-hover:hover {\n         transform: translateY(-2px);\n         box-shadow: 0 8px 30px rgba(0,0,0,0.12);\n       }\n       \n       /* Efectos de glassmorphism */\n       .glass {\n         background: rgba(255, 255, 255, 0.95);\n         backdrop-filter: blur(10px);\n         -webkit-backdrop-filter: blur(10px);\n         border: 1px solid rgba(255, 255, 255, 0.18);\n       }\n       \n       /* Gradientes animados */\n       @keyframes gradient {\n         0% {\n           background-position: 0% 50%;\n         }\n         50% {\n           background-position: 100% 50%;\n         }\n         100% {\n           background-position: 0% 50%;\n         }\n       }\n       \n       .gradient-animation {\n         background-size: 200% 200%;\n         animation: gradient 3s ease infinite;\n       }\n       \n       /* Responsive improvements */\n       @media (max-width: 768px) {\n         button {\n           -webkit-tap-highlight-color: transparent;\n           -webkit-touch-callout: none;\n           -webkit-user-select: none;\n           user-select: none;\n         }\n       }\n       \n       /* Animaci√≥n de notificaciones */\n       @keyframes notificationSlide {\n         from {\n           transform: translateX(100%);\n           opacity: 0;\n         }\n         to {\n           transform: translateX(0);\n           opacity: 1;\n         }\n       }\n       \n       @keyframes notificationExit {\n         from {\n           transform: translateX(0);\n           opacity: 1;\n         }\n         to {\n           transform: translateX(100%);\n           opacity: 0;\n         }\n       }\n       \n       /* Mejoras de accesibilidad */\n       @media (prefers-reduced-motion: reduce) {\n         * {\n           animation-duration: 0.01ms !important;\n           animation-iteration-count: 1 !important;\n           transition-duration: 0.01ms !important;\n         }\n       }\n       \n       /* Focus styles para accesibilidad */\n       button:focus-visible {\n         outline: 2px solid #22c55e;\n         outline-offset: 2px;\n       }\n       \n       select:focus-visible,\n       input:focus-visible,\n       textarea:focus-visible {\n         outline: 2px solid #3b82f6;\n         outline-offset: 0;\n       }\n     `})]});};export default SistemaTrabajadoresFirebase;","map":{"version":3,"names":["React","useEffect","useRef","useState","trabajadoresService","database","ref","onValue","update","set","remove","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SistemaTrabajadoresFirebase","_ref","currentUser","onLogout","console","log","mapRef","map","setMap","userPosition","setUserPosition","selectedZona","setSelectedZona","isTracking","setIsTracking","isNavigating","setIsNavigating","workStatus","setWorkStatus","workLog","setWorkLog","startTime","arrivalTime","endTime","zona","zonasAsignadas","setZonasAsignadas","notificaciones","setNotificaciones","showPanel","setShowPanel","isMobile","setIsMobile","showNotifications","setShowNotifications","animatingNotif","setAnimatingNotif","userMarkerRef","zonaMarkerRef","directionsServiceRef","directionsRendererRef","watchIdRef","lastUpdateRef","mapLoaded","setMapLoaded","error","setError","distance","setDistance","duration","setDuration","showWorkLog","setShowWorkLog","gpsStatus","setGpsStatus","API_KEY","checkMobile","window","innerWidth","addEventListener","removeEventListener","uid","zonasRef","unsubZonas","snapshot","data","val","zonasArray","Object","entries","filter","_ref2","id","trabajadorAsignado","estado","_ref3","notifRef","unsubNotif","notifArray","_ref4","notif","trabajadorId","leido","_ref5","sort","a","b","Date","timestamp","createOrUpdateTrabajador","nombre","name","email","telefono","phone","vehicleId","rol","ubicacion","createdAt","toISOString","ultimaActualizacion","then","catch","loadGoogleMaps","Promise","resolve","reject","google","maps","existingScript","document","querySelector","Error","script","createElement","src","async","defer","onload","onerror","head","appendChild","initMap","current","mapInstance","Map","center","lat","lng","zoom","mapTypeId","zoomControl","mapTypeControl","scaleControl","streetViewControl","rotateControl","fullscreenControl","gestureHandling","DirectionsService","DirectionsRenderer","suppressMarkers","polylineOptions","strokeColor","strokeWeight","strokeOpacity","markerOptions","startMarker","label","title","endMarker","preserveViewport","err","message","updateUserPosition","position","accuracy","ahora","now","updateTrabajadorLocation","estadoActual","updateTrabajadorData","zonaDestino","Marker","icon","path","SymbolPath","CIRCLE","scale","fillColor","fillOpacity","zIndex","setCenter","setZoom","setPosition","geometry","spherical","computeDistanceBetween","LatLng","Math","round","toggleGPS","navigator","geolocation","clearWatch","vehicleRef","operadorEnRuta","enZonaTrabajo","alert","getCurrentPosition","pos","coords","latitude","longitude","warn","code","PERMISSION_DENIED","enableHighAccuracy","timeout","maximumAge","gpsWatchId","watchPosition","distanceFilter","selectZona","BACKWARD_CLOSED_ARROW","bounds","LatLngBounds","extend","fitBounds","startNavigation","recorridoInicio","request","origin","destination","travelMode","TravelMode","DRIVING","unitSystem","UnitSystem","METRIC","region","avoidHighways","avoidTolls","provideRouteAlternatives","setDirections","routes","route","result","status","setOptions","directions","routeIndex","leg","legs","text","overview_path","forEach","point","top","bottom","left","right","mostrarLineaDirecta","polyline","distanceInMeters","distanceInKm","toFixed","line","Polyline","geodesic","icons","offset","repeat","handleArrival","horaLlegada","finishWork","tiempoTrabajado","floor","finalLog","tiempoTrabajadoMinutos","ultimoTrabajo","zonaId","horaInicio","horaFin","completado","fechaCompletado","completadoPor","historialRef","trabajadorNombre","zonaNombre","zonaDireccion","direccion","fecha","split","cancelNavigation","confirm","recorridoCancelado","resetWork","markNotificationAsRead","notifId","setTimeout","fechaLeido","clearAllNotifications","length","updates","formatTime","isoString","date","toLocaleTimeString","hour","minute","hour12","calculateDuration","start","end","diff","hours","minutes","formatRelativeTime","toLocaleDateString","style","padding","textAlign","children","onClick","location","reload","styles","container","width","height","overflow","background","header","color","boxShadow","backdropFilter","panel","maxWidth","maxHeight","overflowY","overflowX","transition","borderRight","button","fontSize","border","borderRadius","fontWeight","cursor","marginBottom","touchAction","notificationBadge","display","alignItems","justifyContent","animation","card","gpsIndicator","gap","floatingButton","transform","margin","letterSpacing","marginTop","opacity","flex","mensaje","onMouseEnter","e","target","onMouseLeave","value","onChange","find","z","lineHeight","descripcion","textTransform","borderTopColor"],"sources":["C:/Users/Izan/Desktop/AppReact/mapa-quillon/src/components/SistemaTrabajadoresFirebase.js"],"sourcesContent":["// src/components/SistemaTrabajadoresFirebase.js\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { trabajadoresService } from '../services/firebaseservices';\r\nimport { database } from '../config/firebase';\r\nimport { ref, onValue, update, set, remove } from 'firebase/database';\r\n\r\nconst SistemaTrabajadoresFirebase = ({ currentUser, onLogout }) => {\r\n  // Log para debugging\r\n  console.log('üîç Current User Data:', currentUser);\r\n  \r\n  // Estados principales\r\n  const mapRef = useRef(null);\r\n  const [map, setMap] = useState(null);\r\n  const [userPosition, setUserPosition] = useState(null);\r\n  const [selectedZona, setSelectedZona] = useState(null);\r\n  const [isTracking, setIsTracking] = useState(false);\r\n  const [isNavigating, setIsNavigating] = useState(false);\r\n  const [workStatus, setWorkStatus] = useState('idle'); // idle, traveling, working, completed\r\n  const [workLog, setWorkLog] = useState({\r\n    startTime: null,\r\n    arrivalTime: null,\r\n    endTime: null,\r\n    zona: null\r\n  });\r\n  \r\n  // Estados para zonas y notificaciones\r\n  const [zonasAsignadas, setZonasAsignadas] = useState([]);\r\n  const [notificaciones, setNotificaciones] = useState([]);\r\n  const [showPanel, setShowPanel] = useState(true);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [showNotifications, setShowNotifications] = useState(false);\r\n  const [animatingNotif, setAnimatingNotif] = useState(null);\r\n  \r\n  // Referencias para marcadores y servicios\r\n  const userMarkerRef = useRef(null);\r\n  const zonaMarkerRef = useRef(null);\r\n  const directionsServiceRef = useRef(null);\r\n  const directionsRendererRef = useRef(null);\r\n  const watchIdRef = useRef(null);\r\n  const lastUpdateRef = useRef(null);\r\n  \r\n  // Estados de UI\r\n  const [mapLoaded, setMapLoaded] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [distance, setDistance] = useState(null);\r\n  const [duration, setDuration] = useState(null);\r\n  const [showWorkLog, setShowWorkLog] = useState(false);\r\n  const [gpsStatus, setGpsStatus] = useState('inactive');\r\n\r\n  const API_KEY = 'AIzaSyA7DrdL36n5cx-RNzuXGAQggFeGCheHDbY';\r\n\r\n  // Detectar si es m√≥vil\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth <= 768);\r\n    };\r\n    \r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    \r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  // Cargar zonas asignadas desde Firebase\r\n  useEffect(() => {\r\n    if (currentUser && currentUser.uid) {\r\n      console.log('üîÑ Cargando zonas asignadas para trabajador:', currentUser.uid);\r\n      \r\n      // Escuchar zonas asignadas al trabajador\r\n      const zonasRef = ref(database, 'zonas_asignadas');\r\n      const unsubZonas = onValue(zonasRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        console.log('üì¶ Datos de zonas recibidos:', data);\r\n        \r\n        if (data) {\r\n          const zonasArray = Object.entries(data)\r\n            .filter(([id, zona]) => {\r\n              console.log(`Zona ${id}: asignada a ${zona.trabajadorAsignado}, yo soy ${currentUser.uid}`);\r\n              return zona.trabajadorAsignado === currentUser.uid && zona.estado !== 'completado';\r\n            })\r\n            .map(([id, zona]) => ({\r\n              id,\r\n              ...zona\r\n            }));\r\n          \r\n          console.log('‚úÖ Zonas asignadas filtradas:', zonasArray);\r\n          setZonasAsignadas(zonasArray);\r\n        } else {\r\n          console.log('‚ö†Ô∏è No hay zonas en Firebase');\r\n          setZonasAsignadas([]);\r\n        }\r\n      });\r\n\r\n      // Escuchar notificaciones\r\n      const notifRef = ref(database, 'notificaciones');\r\n      const unsubNotif = onValue(notifRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        if (data) {\r\n          const notifArray = Object.entries(data)\r\n            .filter(([id, notif]) => notif.trabajadorId === currentUser.uid && !notif.leido)\r\n            .map(([id, notif]) => ({\r\n              id,\r\n              ...notif\r\n            }))\r\n            .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\r\n          setNotificaciones(notifArray);\r\n        }\r\n      });\r\n\r\n      return () => {\r\n        unsubZonas();\r\n        unsubNotif();\r\n      };\r\n    }\r\n  }, [currentUser]);\r\n\r\n  // Registrar trabajador al montar el componente\r\n  useEffect(() => {\r\n    if (currentUser && currentUser.uid) {\r\n      console.log('üîÑ Registrando trabajador al iniciar...');\r\n      \r\n      trabajadoresService.createOrUpdateTrabajador(currentUser.uid, {\r\n        nombre: currentUser.name || currentUser.email || 'Trabajador',\r\n        email: currentUser.email,\r\n        telefono: currentUser.phone || '',\r\n        vehicleId: currentUser.vehicleId || null,\r\n        estado: 'inactivo',\r\n        rol: 'trabajador',\r\n        ubicacion: null,\r\n        createdAt: new Date().toISOString(),\r\n        ultimaActualizacion: new Date().toISOString()\r\n      }).then(() => {\r\n        console.log('‚úÖ Trabajador registrado en Realtime Database al iniciar');\r\n      }).catch(error => {\r\n        console.error('‚ùå Error al registrar trabajador al iniciar:', error);\r\n      });\r\n    }\r\n  }, [currentUser]);\r\n\r\n  // Funci√≥n para cargar Google Maps\r\n  useEffect(() => {\r\n    const loadGoogleMaps = () => {\r\n      return new Promise((resolve, reject) => {\r\n        if (window.google && window.google.maps) {\r\n          resolve(window.google.maps);\r\n          return;\r\n        }\r\n\r\n        const existingScript = document.querySelector('script[src*=\"maps.googleapis.com\"]');\r\n        if (existingScript) {\r\n          existingScript.addEventListener('load', () => {\r\n            if (window.google && window.google.maps) {\r\n              resolve(window.google.maps);\r\n            } else {\r\n              reject(new Error('Google Maps no disponible'));\r\n            }\r\n          });\r\n          return;\r\n        }\r\n\r\n        const script = document.createElement('script');\r\n        script.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=places,geometry&v=weekly`;\r\n        script.async = true;\r\n        script.defer = true;\r\n\r\n        script.onload = () => {\r\n          if (window.google && window.google.maps) {\r\n            resolve(window.google.maps);\r\n          } else {\r\n            reject(new Error('Google Maps no disponible'));\r\n          }\r\n        };\r\n\r\n        script.onerror = () => {\r\n          reject(new Error('Error al cargar Google Maps'));\r\n        };\r\n\r\n        document.head.appendChild(script);\r\n      });\r\n    };\r\n\r\n    const initMap = async () => {\r\n      try {\r\n        const maps = await loadGoogleMaps();\r\n        \r\n        if (!mapRef.current) return;\r\n\r\n        const mapInstance = new maps.Map(mapRef.current, {\r\n          center: { lat: -36.7333, lng: -72.4667 },\r\n          zoom: 13,\r\n          mapTypeId: 'roadmap',\r\n          zoomControl: !isMobile,\r\n          mapTypeControl: false,\r\n          scaleControl: false,\r\n          streetViewControl: false,\r\n          rotateControl: false,\r\n          fullscreenControl: true,\r\n          gestureHandling: 'greedy'\r\n        });\r\n\r\n        setMap(mapInstance);\r\n        \r\n        // Inicializar servicios de direcciones\r\n        directionsServiceRef.current = new maps.DirectionsService();\r\n        directionsRendererRef.current = new maps.DirectionsRenderer({\r\n          map: mapInstance,\r\n          suppressMarkers: false,\r\n          polylineOptions: {\r\n            strokeColor: '#4285F4',\r\n            strokeWeight: 6,\r\n            strokeOpacity: 0.8\r\n          },\r\n          markerOptions: {\r\n            startMarker: {\r\n              label: 'A',\r\n              title: 'Tu ubicaci√≥n'\r\n            },\r\n            endMarker: {\r\n              label: 'B', \r\n              title: 'Zona de trabajo'\r\n            }\r\n          },\r\n          preserveViewport: false\r\n        });\r\n\r\n        setMapLoaded(true);\r\n      } catch (err) {\r\n        setError('Error al cargar el mapa: ' + err.message);\r\n      }\r\n    };\r\n\r\n    initMap();\r\n  }, [isMobile]);\r\n\r\n  // Actualizar posici√≥n del usuario Y ENVIAR A FIREBASE\r\n  const updateUserPosition = (position) => {\r\n    console.log('üîÑ Actualizando posici√≥n:', position);\r\n    setUserPosition(position);\r\n    \r\n    if (window.google && map) {\r\n      const accuracy = position.accuracy || 100;\r\n      console.log('üìç Precisi√≥n actual:', accuracy, 'metros');\r\n    }\r\n    \r\n    const ahora = Date.now();\r\n    if (!lastUpdateRef.current || (ahora - lastUpdateRef.current) > 5000) {\r\n      console.log('üìç Enviando ubicaci√≥n a Firebase:', position);\r\n      \r\n      if (currentUser && currentUser.uid) {\r\n        trabajadoresService.updateTrabajadorLocation(currentUser.uid, {\r\n          lat: position.lat,\r\n          lng: position.lng,\r\n          timestamp: new Date().toISOString(),\r\n          accuracy: position.accuracy || null\r\n        }).then(() => {\r\n          console.log('‚úÖ Ubicaci√≥n enviada a Firebase exitosamente');\r\n        }).catch(error => {\r\n          console.error('‚ùå Error al enviar ubicaci√≥n a Firebase:', error);\r\n        });\r\n        \r\n        const estadoActual = workStatus === 'traveling' ? 'en_camino' : \r\n                            workStatus === 'working' ? 'trabajando' : \r\n                            'disponible';\r\n        \r\n        trabajadoresService.updateTrabajadorData(currentUser.uid, {\r\n          nombre: currentUser.name || currentUser.email,\r\n          email: currentUser.email,\r\n          estado: estadoActual,\r\n          zonaDestino: selectedZona ? selectedZona.nombre : null,\r\n          ultimaActualizacion: new Date().toISOString()\r\n        }).then(() => {\r\n          console.log('‚úÖ Datos del trabajador actualizados');\r\n        }).catch(error => {\r\n          console.error('‚ùå Error al actualizar datos del trabajador:', error);\r\n        });\r\n        \r\n        lastUpdateRef.current = ahora;\r\n      }\r\n    }\r\n    \r\n    if (!map || !window.google) return;\r\n\r\n    if (!userMarkerRef.current) {\r\n      userMarkerRef.current = new window.google.maps.Marker({\r\n        position: position,\r\n        map: map,\r\n        title: 'Tu ubicaci√≥n',\r\n        icon: {\r\n          path: window.google.maps.SymbolPath.CIRCLE,\r\n          scale: 10,\r\n          fillColor: '#4285F4',\r\n          fillOpacity: 1,\r\n          strokeColor: '#ffffff',\r\n          strokeWeight: 3\r\n        },\r\n        zIndex: 1000\r\n      });\r\n      \r\n      map.setCenter(position);\r\n      map.setZoom(15);\r\n    } else {\r\n      userMarkerRef.current.setPosition(position);\r\n    }\r\n\r\n    if (isNavigating && selectedZona) {\r\n      const distance = window.google.maps.geometry.spherical.computeDistanceBetween(\r\n        new window.google.maps.LatLng(position.lat, position.lng),\r\n        new window.google.maps.LatLng(selectedZona.lat, selectedZona.lng)\r\n      );\r\n      \r\n      console.log('üìè Distancia a la zona:', Math.round(distance), 'metros');\r\n    }\r\n  };\r\n\r\n  // Funci√≥n para activar/desactivar GPS\r\n  const toggleGPS = () => {\r\n    if (isTracking) {\r\n      if (watchIdRef.current) {\r\n        navigator.geolocation.clearWatch(watchIdRef.current);\r\n        watchIdRef.current = null;\r\n      }\r\n      setIsTracking(false);\r\n      setGpsStatus('inactive');\r\n      \r\n      if (userMarkerRef.current) {\r\n        userMarkerRef.current.setMap(null);\r\n        userMarkerRef.current = null;\r\n      }\r\n      \r\n      if (currentUser && currentUser.uid) {\r\n        trabajadoresService.updateTrabajadorData(currentUser.uid, {\r\n          estado: 'inactivo',\r\n          ultimaActualizacion: new Date().toISOString()\r\n        }).then(() => {\r\n          console.log('üìç GPS desactivado - Estado actualizado a inactivo');\r\n        }).catch(error => {\r\n          console.error('Error al actualizar estado en Firebase:', error);\r\n        });\r\n        \r\n        if (currentUser.vehicleId && (workStatus === 'traveling' || workStatus === 'working')) {\r\n          const vehicleRef = ref(database, `vehiculos/${currentUser.vehicleId}`);\r\n          update(vehicleRef, {\r\n            estado: 'disponible',\r\n            operadorEnRuta: null,\r\n            zonaDestino: null,\r\n            enZonaTrabajo: false,\r\n            ultimaActualizacion: new Date().toISOString()\r\n          }).then(() => {\r\n            console.log('‚úÖ Veh√≠culo liberado al desactivar GPS');\r\n          }).catch(error => {\r\n            console.error('Error al liberar veh√≠culo:', error);\r\n          });\r\n        }\r\n      }\r\n    } else {\r\n      if (!navigator.geolocation) {\r\n        alert('Tu navegador no soporta geolocalizaci√≥n');\r\n        setGpsStatus('error');\r\n        return;\r\n      }\r\n\r\n      console.log('üîÑ Iniciando GPS...');\r\n      setIsTracking(true);\r\n      setGpsStatus('activating');\r\n      \r\n      if (currentUser && currentUser.uid) {\r\n        trabajadoresService.createOrUpdateTrabajador(currentUser.uid, {\r\n          nombre: currentUser.name || currentUser.email || 'Trabajador',\r\n          email: currentUser.email,\r\n          telefono: currentUser.phone || '',\r\n          estado: 'disponible',\r\n          rol: 'trabajador',\r\n          vehicleId: currentUser.vehicleId || null,\r\n          createdAt: new Date().toISOString()\r\n        }).then(() => {\r\n          console.log('‚úÖ Trabajador registrado en Realtime Database');\r\n        }).catch(error => {\r\n          console.error('‚ùå Error al registrar trabajador:', error);\r\n        });\r\n      }\r\n      \r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const pos = {\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude,\r\n            accuracy: position.coords.accuracy\r\n          };\r\n          updateUserPosition(pos);\r\n          setGpsStatus('active');\r\n        },\r\n        (error) => {\r\n          console.warn('‚ö†Ô∏è Error al obtener ubicaci√≥n:', error.message);\r\n          \r\n          if (error.code === error.PERMISSION_DENIED) {\r\n            alert('Por favor, habilita los permisos de ubicaci√≥n en tu navegador');\r\n            setIsTracking(false);\r\n            setGpsStatus('error');\r\n            return;\r\n          }\r\n        },\r\n        {\r\n          enableHighAccuracy: true,\r\n          timeout: 15000,\r\n          maximumAge: 0\r\n        }\r\n      );\r\n\r\n      const gpsWatchId = navigator.geolocation.watchPosition(\r\n        (position) => {\r\n          if (position.coords.accuracy <= 150) {\r\n            const pos = {\r\n              lat: position.coords.latitude,\r\n              lng: position.coords.longitude,\r\n              accuracy: position.coords.accuracy\r\n            };\r\n            updateUserPosition(pos);\r\n            setGpsStatus('active');\r\n          }\r\n        },\r\n        (error) => {\r\n          console.log('‚è±Ô∏è Esperando se√±al GPS...', error.message);\r\n        },\r\n        {\r\n          enableHighAccuracy: true,\r\n          timeout: 30000,\r\n          maximumAge: 0,\r\n          distanceFilter: 5\r\n        }\r\n      );\r\n      \r\n      watchIdRef.current = gpsWatchId;\r\n    }\r\n  };\r\n\r\n  // Seleccionar zona de trabajo\r\n  const selectZona = (zona) => {\r\n    setSelectedZona(zona);\r\n    \r\n    if (!map || !window.google) return;\r\n\r\n    if (zonaMarkerRef.current) {\r\n      zonaMarkerRef.current.setMap(null);\r\n    }\r\n\r\n    zonaMarkerRef.current = new window.google.maps.Marker({\r\n      position: { lat: zona.lat, lng: zona.lng },\r\n      map: map,\r\n      title: zona.nombre,\r\n      icon: {\r\n        path: window.google.maps.SymbolPath.BACKWARD_CLOSED_ARROW,\r\n        scale: 8,\r\n        fillColor: '#22c55e',\r\n        fillOpacity: 1,\r\n        strokeColor: '#ffffff',\r\n        strokeWeight: 2\r\n      }\r\n    });\r\n\r\n    if (userPosition) {\r\n      const bounds = new window.google.maps.LatLngBounds();\r\n      bounds.extend(userPosition);\r\n      bounds.extend({ lat: zona.lat, lng: zona.lng });\r\n      map.fitBounds(bounds, 100);\r\n    } else {\r\n      map.setCenter({ lat: zona.lat, lng: zona.lng });\r\n      map.setZoom(15);\r\n    }\r\n  };\r\n\r\n  // Iniciar navegaci√≥n\r\n  const startNavigation = async () => {\r\n    if (!selectedZona || !userPosition) {\r\n      alert('Debes activar el GPS y seleccionar una zona primero');\r\n      return;\r\n    }\r\n\r\n    setIsNavigating(true);\r\n    setWorkStatus('traveling');\r\n    setWorkLog({\r\n      ...workLog,\r\n      startTime: new Date().toISOString(),\r\n      zona: selectedZona\r\n    });\r\n\r\n    try {\r\n      await trabajadoresService.updateTrabajadorData(currentUser.uid, {\r\n        estado: 'en_camino',\r\n        zonaDestino: selectedZona.nombre,\r\n        recorridoInicio: new Date().toISOString()\r\n      });\r\n      \r\n      if (selectedZona.id) {\r\n        await update(ref(database, `zonas_asignadas/${selectedZona.id}`), {\r\n          estado: 'en_progreso',\r\n          ultimaActualizacion: new Date().toISOString()\r\n        });\r\n      }\r\n      \r\n      if (currentUser.vehicleId) {\r\n        const vehicleRef = ref(database, `vehiculos/${currentUser.vehicleId}`);\r\n        await update(vehicleRef, {\r\n          estado: 'en_uso',\r\n          operadorEnRuta: currentUser.name || currentUser.email,\r\n          zonaDestino: selectedZona.nombre,\r\n          ultimaActualizacion: new Date().toISOString()\r\n        });\r\n        console.log('‚úÖ Veh√≠culo marcado como en uso');\r\n      }\r\n      \r\n      console.log('‚úÖ Estado actualizado a \"en_camino\" en Firebase');\r\n    } catch (error) {\r\n      console.error('Error al actualizar estado en Firebase:', error);\r\n    }\r\n\r\n    const request = {\r\n      origin: new window.google.maps.LatLng(userPosition.lat, userPosition.lng),\r\n      destination: new window.google.maps.LatLng(selectedZona.lat, selectedZona.lng),\r\n      travelMode: window.google.maps.TravelMode.DRIVING,\r\n      unitSystem: window.google.maps.UnitSystem.METRIC,\r\n      region: 'CL',\r\n      avoidHighways: false,\r\n      avoidTolls: false,\r\n      provideRouteAlternatives: false\r\n    };\r\n\r\n    if (directionsRendererRef.current) {\r\n      directionsRendererRef.current.setDirections({ routes: [] });\r\n    }\r\n\r\n    directionsServiceRef.current.route(request, (result, status) => {\r\n      console.log('Estado de la ruta:', status);\r\n      \r\n      if (status === 'OK') {\r\n        console.log('‚úÖ Ruta calculada exitosamente');\r\n        \r\n        directionsRendererRef.current.setOptions({\r\n          directions: result,\r\n          routeIndex: 0,\r\n          suppressMarkers: false,\r\n          preserveViewport: false,\r\n          polylineOptions: {\r\n            strokeColor: '#4285F4',\r\n            strokeWeight: 5,\r\n            strokeOpacity: 0.8\r\n          }\r\n        });\r\n        \r\n        const route = result.routes[0];\r\n        const leg = route.legs[0];\r\n        \r\n        setDistance(leg.distance.text);\r\n        setDuration(leg.duration.text);\r\n        \r\n        const bounds = new window.google.maps.LatLngBounds();\r\n        route.overview_path.forEach(point => {\r\n          bounds.extend(point);\r\n        });\r\n        map.fitBounds(bounds, {\r\n          top: 100,\r\n          bottom: 100,\r\n          left: 50,\r\n          right: 50\r\n        });\r\n        \r\n      } else {\r\n        console.error('Error al calcular ruta:', status);\r\n        mostrarLineaDirecta();\r\n      }\r\n    });\r\n  };\r\n\r\n  // Funci√≥n auxiliar para mostrar l√≠nea directa cuando no hay ruta\r\n  const mostrarLineaDirecta = () => {\r\n    if (!window.google || !map || !userPosition || !selectedZona) return;\r\n    \r\n    if (directionsRendererRef.current) {\r\n      directionsRendererRef.current.setDirections({ routes: [] });\r\n      \r\n      if (directionsRendererRef.current.polyline) {\r\n        directionsRendererRef.current.polyline.setMap(null);\r\n      }\r\n    }\r\n    \r\n    const distanceInMeters = window.google.maps.geometry.spherical.computeDistanceBetween(\r\n      new window.google.maps.LatLng(userPosition.lat, userPosition.lng),\r\n      new window.google.maps.LatLng(selectedZona.lat, selectedZona.lng)\r\n    );\r\n    \r\n    const distanceInKm = (distanceInMeters / 1000).toFixed(2);\r\n    setDistance(`~${distanceInKm} km (directo)`);\r\n    setDuration('Calculando...');\r\n    \r\n    const line = new window.google.maps.Polyline({\r\n      path: [\r\n        new window.google.maps.LatLng(userPosition.lat, userPosition.lng),\r\n        new window.google.maps.LatLng(selectedZona.lat, selectedZona.lng)\r\n      ],\r\n      geodesic: true,\r\n      strokeColor: '#FF5722',\r\n      strokeOpacity: 0.7,\r\n      strokeWeight: 4,\r\n      map: map,\r\n      icons: [{\r\n        icon: {\r\n          path: 'M 0,-1 0,1',\r\n          strokeOpacity: 1,\r\n          scale: 3\r\n        },\r\n        offset: '0',\r\n        repeat: '15px'\r\n      }]\r\n    });\r\n    \r\n    directionsRendererRef.current.polyline = line;\r\n    \r\n    new window.google.maps.Marker({\r\n      position: userPosition,\r\n      map: map,\r\n      label: 'A',\r\n      title: 'Tu ubicaci√≥n'\r\n    });\r\n    \r\n    new window.google.maps.Marker({\r\n      position: { lat: selectedZona.lat, lng: selectedZona.lng },\r\n      map: map,\r\n      label: 'B',\r\n      title: 'Destino'\r\n    });\r\n    \r\n    const bounds = new window.google.maps.LatLngBounds();\r\n    bounds.extend(userPosition);\r\n    bounds.extend({ lat: selectedZona.lat, lng: selectedZona.lng });\r\n    map.fitBounds(bounds, {\r\n      top: 100,\r\n      bottom: 100,\r\n      left: 50,\r\n      right: 50\r\n    });\r\n    \r\n    console.log('üìç Mostrando ruta directa (sin caminos)');\r\n  };\r\n\r\n  // Manejar llegada a la zona\r\n  const handleArrival = async () => {\r\n    setWorkStatus('working');\r\n    const arrivalTime = new Date().toISOString();\r\n    setWorkLog({\r\n      ...workLog,\r\n      arrivalTime: arrivalTime\r\n    });\r\n    \r\n    try {\r\n      await trabajadoresService.updateTrabajadorData(currentUser.uid, {\r\n        estado: 'trabajando',\r\n        horaLlegada: arrivalTime\r\n      });\r\n      \r\n      if (currentUser.vehicleId) {\r\n        const vehicleRef = ref(database, `vehiculos/${currentUser.vehicleId}`);\r\n        await update(vehicleRef, {\r\n          estado: 'en_uso',\r\n          enZonaTrabajo: true,\r\n          ultimaActualizacion: new Date().toISOString()\r\n        });\r\n      }\r\n      \r\n      console.log('‚úÖ Llegada registrada en Firebase');\r\n    } catch (error) {\r\n      console.error('Error al registrar llegada en Firebase:', error);\r\n    }\r\n    \r\n    if (directionsRendererRef.current) {\r\n      directionsRendererRef.current.setDirections({ routes: [] });\r\n    }\r\n    \r\n    console.log('‚úÖ Trabajador ha llegado a la zona y est√° trabajando');\r\n  };\r\n\r\n  // Finalizar trabajo\r\n  const finishWork = async () => {\r\n    const endTime = new Date().toISOString();\r\n    const tiempoTrabajado = workLog.arrivalTime ? \r\n      Math.floor((new Date(endTime) - new Date(workLog.arrivalTime)) / 60000) : 0;\r\n    \r\n    const finalLog = {\r\n      ...workLog,\r\n      endTime: endTime,\r\n      tiempoTrabajadoMinutos: tiempoTrabajado\r\n    };\r\n    \r\n    setWorkLog(finalLog);\r\n    setWorkStatus('completed');\r\n    setIsNavigating(false);\r\n    setShowWorkLog(true);\r\n    \r\n    if (directionsRendererRef.current) {\r\n      directionsRendererRef.current.setDirections({ routes: [] });\r\n    }\r\n    \r\n    try {\r\n      await trabajadoresService.updateTrabajadorData(currentUser.uid, {\r\n        estado: 'disponible',\r\n        zonaDestino: null,\r\n        ultimoTrabajo: {\r\n          zona: selectedZona.nombre,\r\n          zonaId: selectedZona.id,\r\n          horaInicio: workLog.startTime,\r\n          horaLlegada: workLog.arrivalTime,\r\n          horaFin: endTime,\r\n          tiempoTrabajadoMinutos: tiempoTrabajado,\r\n          completado: true\r\n        }\r\n      });\r\n      \r\n      if (currentUser.vehicleId) {\r\n        const vehicleRef = ref(database, `vehiculos/${currentUser.vehicleId}`);\r\n        await update(vehicleRef, {\r\n          estado: 'disponible',\r\n          operadorEnRuta: null,\r\n          zonaDestino: null,\r\n          enZonaTrabajo: false,\r\n          ultimaActualizacion: new Date().toISOString()\r\n        });\r\n        console.log('‚úÖ Veh√≠culo marcado como disponible');\r\n      }\r\n      \r\n      if (selectedZona.id) {\r\n        await update(ref(database, `zonas_asignadas/${selectedZona.id}`), {\r\n          estado: 'completado',\r\n          fechaCompletado: endTime,\r\n          tiempoTrabajadoMinutos: tiempoTrabajado,\r\n          completadoPor: currentUser.uid,\r\n          ultimaActualizacion: new Date().toISOString()\r\n        });\r\n      }\r\n      \r\n      const historialRef = ref(database, `historial_trabajos/${currentUser.uid}/${Date.now()}`);\r\n      await set(historialRef, {\r\n        trabajadorId: currentUser.uid,\r\n        trabajadorNombre: currentUser.name || currentUser.email,\r\n        zonaId: selectedZona.id,\r\n        zonaNombre: selectedZona.nombre,\r\n        zonaDireccion: selectedZona.direccion,\r\n        horaInicio: workLog.startTime,\r\n        horaLlegada: workLog.arrivalTime,\r\n        horaFin: endTime,\r\n        tiempoTrabajadoMinutos: tiempoTrabajado,\r\n        estado: 'completado',\r\n        fecha: new Date().toISOString().split('T')[0]\r\n      });\r\n      \r\n      console.log('‚úÖ Trabajo completado y registrado en Firebase');\r\n      alert('‚úÖ ¬°Excelente trabajo! La tarea ha sido marcada como completada.');\r\n      \r\n    } catch (error) {\r\n      console.error('Error al registrar finalizaci√≥n en Firebase:', error);\r\n      alert('‚ö†Ô∏è Error al guardar. El trabajo se complet√≥ pero hubo un problema al registrarlo.');\r\n    }\r\n    \r\n    console.log('Registro de trabajo:', finalLog);\r\n  };\r\n\r\n  // Cancelar navegaci√≥n/trabajo\r\n  const cancelNavigation = async () => {\r\n    if (!window.confirm('¬øEst√°s seguro de cancelar el recorrido actual?')) {\r\n      return;\r\n    }\r\n\r\n    setIsNavigating(false);\r\n    setWorkStatus('idle');\r\n    setDistance(null);\r\n    setDuration(null);\r\n    \r\n    if (directionsRendererRef.current) {\r\n      directionsRendererRef.current.setDirections({ routes: [] });\r\n    }\r\n    \r\n    try {\r\n      await trabajadoresService.updateTrabajadorData(currentUser.uid, {\r\n        estado: 'disponible',\r\n        zonaDestino: null,\r\n        recorridoCancelado: new Date().toISOString()\r\n      });\r\n      \r\n      if (currentUser.vehicleId) {\r\n        const vehicleRef = ref(database, `vehiculos/${currentUser.vehicleId}`);\r\n        await update(vehicleRef, {\r\n          estado: 'disponible',\r\n          operadorEnRuta: null,\r\n          zonaDestino: null,\r\n          enZonaTrabajo: false,\r\n          ultimaActualizacion: new Date().toISOString()\r\n        });\r\n        console.log('‚úÖ Veh√≠culo liberado y marcado como disponible');\r\n      }\r\n      \r\n      if (selectedZona && selectedZona.id && workStatus !== 'idle') {\r\n        await update(ref(database, `zonas_asignadas/${selectedZona.id}`), {\r\n          estado: 'pendiente',\r\n          ultimaActualizacion: new Date().toISOString()\r\n        });\r\n      }\r\n      \r\n      console.log('‚úÖ Recorrido cancelado');\r\n    } catch (error) {\r\n      console.error('Error al cancelar recorrido:', error);\r\n    }\r\n    \r\n    alert('Recorrido cancelado. Puedes iniciar uno nuevo cuando quieras.');\r\n  };\r\n\r\n  // Resetear para nuevo trabajo\r\n  const resetWork = () => {\r\n    setSelectedZona(null);\r\n    setWorkStatus('idle');\r\n    setWorkLog({\r\n      startTime: null,\r\n      arrivalTime: null,\r\n      endTime: null,\r\n      zona: null\r\n    });\r\n    setIsNavigating(false);\r\n    setDistance(null);\r\n    setDuration(null);\r\n    setShowWorkLog(false);\r\n    \r\n    if (zonaMarkerRef.current) {\r\n      zonaMarkerRef.current.setMap(null);\r\n      zonaMarkerRef.current = null;\r\n    }\r\n    \r\n    if (directionsRendererRef.current) {\r\n      directionsRendererRef.current.setDirections({ routes: [] });\r\n    }\r\n  };\r\n\r\n  // Marcar notificaci√≥n como le√≠da\r\n  const markNotificationAsRead = async (notifId) => {\r\n    setAnimatingNotif(notifId);\r\n    setTimeout(async () => {\r\n      try {\r\n        const notifRef = ref(database, `notificaciones/${notifId}`);\r\n        await update(notifRef, {\r\n          leido: true,\r\n          fechaLeido: new Date().toISOString()\r\n        });\r\n        console.log('‚úÖ Notificaci√≥n marcada como le√≠da');\r\n      } catch (error) {\r\n        console.error('Error al marcar notificaci√≥n:', error);\r\n      }\r\n      setAnimatingNotif(null);\r\n    }, 300);\r\n  };\r\n\r\n  // Limpiar todas las notificaciones\r\n  const clearAllNotifications = async () => {\r\n    if (notificaciones.length === 0) return;\r\n    \r\n    if (!window.confirm('¬øMarcar todas las notificaciones como le√≠das?')) return;\r\n    \r\n    try {\r\n      const updates = {};\r\n      notificaciones.forEach(notif => {\r\n        updates[`notificaciones/${notif.id}/leido`] = true;\r\n        updates[`notificaciones/${notif.id}/fechaLeido`] = new Date().toISOString();\r\n      });\r\n      \r\n      await update(ref(database), updates);\r\n      console.log('‚úÖ Todas las notificaciones marcadas como le√≠das');\r\n      setShowNotifications(false);\r\n    } catch (error) {\r\n      console.error('Error al limpiar notificaciones:', error);\r\n    }\r\n  };\r\n\r\n  // Formatear tiempo\r\n  const formatTime = (isoString) => {\r\n    if (!isoString) return '--:--';\r\n    const date = new Date(isoString);\r\n    return date.toLocaleTimeString('es-CL', { \r\n      hour: '2-digit', \r\n      minute: '2-digit',\r\n      hour12: false \r\n    });\r\n  };\r\n\r\n  // Calcular duraci√≥n\r\n  const calculateDuration = (start, end) => {\r\n    if (!start || !end) return '--';\r\n    const diff = new Date(end) - new Date(start);\r\n    const hours = Math.floor(diff / 3600000);\r\n    const minutes = Math.floor((diff % 3600000) / 60000);\r\n    return `${hours}h ${minutes}m`;\r\n  };\r\n\r\n  // Formatear tiempo relativo\r\n  const formatRelativeTime = (timestamp) => {\r\n    const now = new Date();\r\n    const date = new Date(timestamp);\r\n    const diff = Math.floor((now - date) / 1000);\r\n    \r\n    if (diff < 60) return 'Hace un momento';\r\n    if (diff < 3600) return `Hace ${Math.floor(diff / 60)} min`;\r\n    if (diff < 86400) return `Hace ${Math.floor(diff / 3600)} h`;\r\n    return date.toLocaleDateString('es-CL');\r\n  };\r\n\r\n  // Limpiar al desmontar componente\r\n  useEffect(() => {\r\n    return () => {\r\n      if (watchIdRef.current) {\r\n        navigator.geolocation.clearWatch(watchIdRef.current);\r\n      }\r\n      \r\n      if (currentUser?.uid) {\r\n        trabajadoresService.updateTrabajadorData(currentUser.uid, {\r\n          estado: 'inactivo',\r\n          ubicacion: null\r\n        }).catch(console.error);\r\n      }\r\n    };\r\n  }, [currentUser]);\r\n\r\n  if (error) {\r\n    return (\r\n      <div style={{ padding: '20px', textAlign: 'center' }}>\r\n        <h2>Error</h2>\r\n        <p>{error}</p>\r\n        <button onClick={() => window.location.reload()}>Reintentar</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Estilos mejorados con animaciones\r\n  const styles = {\r\n    container: {\r\n      width: '100%',\r\n      height: '100vh',\r\n      position: 'relative',\r\n      overflow: 'hidden',\r\n      background: '#f8fafc'\r\n    },\r\n    header: {\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      background: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n      color: 'white',\r\n      padding: isMobile ? '12px 16px' : '16px 24px',\r\n      zIndex: 1002,\r\n      boxShadow: '0 4px 20px rgba(0,0,0,0.15)',\r\n      backdropFilter: 'blur(10px)'\r\n    },\r\n    panel: {\r\n      position: 'fixed',\r\n      top: isMobile ? '64px' : '72px',\r\n      left: showPanel ? '0' : '-100%',\r\n      width: isMobile ? '100%' : '420px',\r\n      maxWidth: '100%',\r\n      height: isMobile ? 'auto' : 'calc(100vh - 72px)',\r\n      maxHeight: isMobile ? '65vh' : 'calc(100vh - 72px)',\r\n      background: 'linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)',\r\n      boxShadow: '4px 0 20px rgba(0,0,0,0.1)',\r\n      overflowY: 'auto',\r\n      overflowX: 'hidden',\r\n      transition: 'left 0.4s cubic-bezier(0.4, 0, 0.2, 1)',\r\n      zIndex: 1001,\r\n      borderRight: '1px solid rgba(0,0,0,0.05)'\r\n    },\r\n    map: {\r\n      width: '100%',\r\n      height: '100%',\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0\r\n    },\r\n    button: {\r\n      width: '100%',\r\n      padding: isMobile ? '14px' : '13px',\r\n      fontSize: isMobile ? '15px' : '14px',\r\n      border: 'none',\r\n      borderRadius: '10px',\r\n      fontWeight: '600',\r\n      cursor: 'pointer',\r\n      marginBottom: '12px',\r\n      touchAction: 'manipulation',\r\n      transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n      boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\r\n      position: 'relative',\r\n      overflow: 'hidden'\r\n    },\r\n    notificationBadge: {\r\n      position: 'absolute',\r\n      top: '-5px',\r\n      right: '-5px',\r\n      background: '#ef4444',\r\n      color: 'white',\r\n      borderRadius: '50%',\r\n      width: '20px',\r\n      height: '20px',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      fontSize: '11px',\r\n      fontWeight: 'bold',\r\n      animation: 'pulse 2s infinite',\r\n      boxShadow: '0 2px 4px rgba(239, 68, 68, 0.4)'\r\n    },\r\n    card: {\r\n      background: 'white',\r\n      borderRadius: '12px',\r\n      padding: isMobile ? '14px' : '16px',\r\n      marginBottom: '16px',\r\n      boxShadow: '0 2px 12px rgba(0,0,0,0.06)',\r\n      border: '1px solid rgba(0,0,0,0.04)',\r\n      transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n      position: 'relative',\r\n      overflow: 'hidden'\r\n    },\r\n    gpsIndicator: {\r\n      display: 'inline-flex',\r\n      alignItems: 'center',\r\n      gap: '8px',\r\n      padding: '6px 12px',\r\n      borderRadius: '20px',\r\n      fontSize: '13px',\r\n      fontWeight: '500',\r\n      transition: 'all 0.3s ease'\r\n    },\r\n    floatingButton: {\r\n      position: 'fixed',\r\n      bottom: isMobile ? '24px' : '32px',\r\n      right: isMobile ? '24px' : '32px',\r\n      width: isMobile ? '64px' : '56px',\r\n      height: isMobile ? '64px' : '56px',\r\n      borderRadius: '50%',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      boxShadow: '0 8px 24px rgba(0,0,0,0.25)',\r\n      zIndex: 1000,\r\n      cursor: 'pointer',\r\n      fontSize: isMobile ? '26px' : '22px',\r\n      transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n      animation: 'float 3s ease-in-out infinite'\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      {/* Mapa */}\r\n      <div ref={mapRef} style={styles.map} />\r\n      \r\n      {/* Header mejorado */}\r\n      <div style={styles.header}>\r\n        <div style={{ \r\n          display: 'flex', \r\n          justifyContent: 'space-between', \r\n          alignItems: 'center'\r\n        }}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n            <button\r\n              onClick={() => setShowPanel(!showPanel)}\r\n              style={{\r\n                padding: '8px',\r\n                background: 'rgba(255,255,255,0.2)',\r\n                backdropFilter: 'blur(10px)',\r\n                color: 'white',\r\n                border: '1px solid rgba(255,255,255,0.3)',\r\n                borderRadius: '8px',\r\n                cursor: 'pointer',\r\n                fontSize: '20px',\r\n                transition: 'all 0.3s ease',\r\n                transform: showPanel ? 'rotate(0deg)' : 'rotate(180deg)'\r\n              }}\r\n            >\r\n              {showPanel ? '‚óÄ' : '‚ñ∂'}\r\n            </button>\r\n            <div>\r\n              <h1 style={{ \r\n                margin: 0, \r\n                fontSize: isMobile ? '18px' : '20px', \r\n                fontWeight: '700',\r\n                letterSpacing: '-0.5px'\r\n              }}>\r\n                üë∑‚Äç‚ôÇÔ∏è {currentUser.name || 'Trabajador'}\r\n              </h1>\r\n              {gpsStatus === 'active' && (\r\n                <div style={{\r\n                  ...styles.gpsIndicator,\r\n                  background: 'rgba(255,255,255,0.2)',\r\n                  color: 'white',\r\n                  marginTop: '4px'\r\n                }}>\r\n                  <span style={{\r\n                    width: '8px',\r\n                    height: '8px',\r\n                    background: '#4ade80',\r\n                    borderRadius: '50%',\r\n                    animation: 'pulse 2s infinite'\r\n                  }}></span>\r\n                  GPS Activo\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\r\n            {/* Bot√≥n de notificaciones */}\r\n            <button\r\n              onClick={() => setShowNotifications(!showNotifications)}\r\n              style={{\r\n                padding: '8px 10px',\r\n                background: 'rgba(255,255,255,0.2)',\r\n                backdropFilter: 'blur(10px)',\r\n                color: 'white',\r\n                border: '1px solid rgba(255,255,255,0.3)',\r\n                borderRadius: '8px',\r\n                cursor: 'pointer',\r\n                fontSize: '18px',\r\n                position: 'relative',\r\n                transition: 'all 0.3s ease'\r\n              }}\r\n            >\r\n              üîî\r\n              {notificaciones.length > 0 && (\r\n                <span style={styles.notificationBadge}>\r\n                  {notificaciones.length}\r\n                </span>\r\n              )}\r\n            </button>\r\n            \r\n            <button\r\n              onClick={onLogout}\r\n              style={{\r\n                padding: '8px 14px',\r\n                background: 'rgba(255,255,255,0.2)',\r\n                backdropFilter: 'blur(10px)',\r\n                color: 'white',\r\n                border: '1px solid rgba(255,255,255,0.3)',\r\n                borderRadius: '8px',\r\n                cursor: 'pointer',\r\n                fontSize: isMobile ? '13px' : '14px',\r\n                fontWeight: '600',\r\n                transition: 'all 0.3s ease'\r\n              }}\r\n            >\r\n              Salir\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Panel lateral mejorado */}\r\n      <div style={styles.panel}>\r\n        <div style={{ padding: isMobile ? '16px' : '20px' }}>\r\n          {/* Panel de notificaciones */}\r\n          {showNotifications && notificaciones.length > 0 && (\r\n            <div style={{\r\n              ...styles.card,\r\n              background: 'linear-gradient(135deg, #fef3c7 0%, #fed7aa 100%)',\r\n              border: '2px solid #fbbf24',\r\n              animation: 'slideIn 0.3s ease'\r\n            }}>\r\n              <div style={{ \r\n                display: 'flex', \r\n                justifyContent: 'space-between', \r\n                alignItems: 'center',\r\n                marginBottom: '12px'\r\n              }}>\r\n                <h4 style={{ \r\n                  margin: 0, \r\n                  fontSize: '15px', \r\n                  color: '#92400e',\r\n                  fontWeight: '700'\r\n                }}>\r\n                  üîî Notificaciones ({notificaciones.length})\r\n                </h4>\r\n                <button\r\n                  onClick={clearAllNotifications}\r\n                  style={{\r\n                    padding: '4px 8px',\r\n                    background: '#dc2626',\r\n                    color: 'white',\r\n                    border: 'none',\r\n                    borderRadius: '6px',\r\n                    fontSize: '12px',\r\n                    cursor: 'pointer',\r\n                    fontWeight: '600'\r\n                  }}\r\n                >\r\n                  Limpiar todas\r\n                </button>\r\n              </div>\r\n              <div style={{ maxHeight: '200px', overflowY: 'auto' }}>\r\n                {notificaciones.map(notif => (\r\n                  <div \r\n                    key={notif.id}\r\n                    style={{\r\n                      padding: '10px',\r\n                      background: 'rgba(255,255,255,0.8)',\r\n                      borderRadius: '8px',\r\n                      marginBottom: '8px',\r\n                      fontSize: '13px',\r\n                      display: 'flex',\r\n                      justifyContent: 'space-between',\r\n                      alignItems: 'start',\r\n                      gap: '8px',\r\n                      transition: 'all 0.3s ease',\r\n                      opacity: animatingNotif === notif.id ? 0 : 1,\r\n                      transform: animatingNotif === notif.id ? 'translateX(100%)' : 'translateX(0)'\r\n                    }}\r\n                  >\r\n                    <div style={{ flex: 1 }}>\r\n                      <div style={{ fontWeight: '600', marginBottom: '4px' }}>\r\n                        {notif.mensaje}\r\n                      </div>\r\n                      <div style={{ fontSize: '11px', color: '#6b7280' }}>\r\n                        {formatRelativeTime(notif.timestamp)}\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => markNotificationAsRead(notif.id)}\r\n                      style={{\r\n                        padding: '4px',\r\n                        background: 'transparent',\r\n                        border: 'none',\r\n                        color: '#dc2626',\r\n                        cursor: 'pointer',\r\n                        fontSize: '16px',\r\n                        transition: 'all 0.2s ease'\r\n                      }}\r\n                    >\r\n                      ‚úï\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Activaci√≥n GPS con animaci√≥n */}\r\n          <button\r\n            onClick={toggleGPS}\r\n            style={{\r\n              ...styles.button,\r\n              background: isTracking \r\n                ? 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)' \r\n                : 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n              color: 'white',\r\n              transform: 'scale(1)',\r\n            }}\r\n            onMouseEnter={(e) => e.target.style.transform = 'scale(1.02)'}\r\n            onMouseLeave={(e) => e.target.style.transform = 'scale(1)'}\r\n          >\r\n            {isTracking ? 'üìç Desactivar GPS' : 'üìç Activar GPS'}\r\n          </button>\r\n          \r\n          {/* Estado del GPS con animaci√≥n */}\r\n          {gpsStatus !== 'inactive' && (\r\n            <div style={{ \r\n              ...styles.gpsIndicator,\r\n              marginBottom: '16px',\r\n              background: gpsStatus === 'active' ? '#dcfce7' : \r\n                         gpsStatus === 'activating' ? '#fef3c7' : \r\n                         '#fee2e2',\r\n              color: gpsStatus === 'active' ? '#166534' : \r\n                     gpsStatus === 'activating' ? '#92400e' : \r\n                     '#991b1b',\r\n              animation: 'fadeIn 0.3s ease'\r\n            }}>\r\n              {gpsStatus === 'active' && (\r\n                <>\r\n                  <span style={{\r\n                    width: '10px',\r\n                    height: '10px',\r\n                    background: '#22c55e',\r\n                    borderRadius: '50%',\r\n                    animation: 'pulse 2s infinite'\r\n                  }}></span>\r\n                  GPS activo y rastreando\r\n                </>\r\n              )}\r\n              {gpsStatus === 'activating' && 'üü° Activando GPS...'}\r\n              {gpsStatus === 'error' && 'üî¥ Error en GPS'}\r\n            </div>\r\n          )}\r\n\r\n          {/* Selector de zona mejorado */}\r\n          {isTracking && workStatus === 'idle' && (\r\n            <div style={styles.card}>\r\n              <label style={{ \r\n                display: 'block', \r\n                marginBottom: '10px', \r\n                fontSize: '14px', \r\n                fontWeight: '600',\r\n                color: '#374151'\r\n              }}>\r\n                üèóÔ∏è Selecciona tu zona de trabajo\r\n              </label>\r\n              {zonasAsignadas.length > 0 ? (\r\n                <select\r\n                  value={selectedZona?.id || ''}\r\n                  onChange={(e) => {\r\n                    const zona = zonasAsignadas.find(z => z.id === e.target.value);\r\n                    if (zona) selectZona(zona);\r\n                  }}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '12px',\r\n                    borderRadius: '8px',\r\n                    border: '2px solid #e5e7eb',\r\n                    fontSize: isMobile ? '16px' : '14px',\r\n                    background: 'white',\r\n                    cursor: 'pointer',\r\n                    transition: 'all 0.3s ease'\r\n                  }}\r\n                >\r\n                  <option value=\"\">-- Seleccionar zona --</option>\r\n                  {zonasAsignadas.map(zona => (\r\n                    <option key={zona.id} value={zona.id}>\r\n                      {zona.nombre}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              ) : (\r\n                <div style={{\r\n                  padding: '16px',\r\n                  background: 'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',\r\n                  borderRadius: '8px',\r\n                  textAlign: 'center',\r\n                  fontSize: '14px',\r\n                  color: '#6b7280'\r\n                }}>\r\n                  No tienes zonas asignadas\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Informaci√≥n de zona seleccionada */}\r\n          {selectedZona && workStatus === 'idle' && (\r\n            <div style={{\r\n              ...styles.card,\r\n              background: 'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)',\r\n              border: '2px solid #3b82f6',\r\n              animation: 'slideIn 0.3s ease'\r\n            }}>\r\n              <h4 style={{ margin: '0 0 10px 0', color: '#1e40af', fontSize: '15px', fontWeight: '700' }}>\r\n                üìç {selectedZona.nombre}\r\n              </h4>\r\n              <p style={{ margin: 0, fontSize: '13px', color: '#1e3a8a', lineHeight: '1.5' }}>\r\n                {selectedZona.direccion}\r\n              </p>\r\n              {selectedZona.descripcion && (\r\n                <p style={{ \r\n                  margin: '10px 0 0 0', \r\n                  fontSize: '12px', \r\n                  color: '#1e3a8a',\r\n                  opacity: 0.8,\r\n                  lineHeight: '1.4'\r\n                }}>\r\n                  {selectedZona.descripcion}\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Bot√≥n iniciar recorrido */}\r\n          {workStatus === 'idle' && selectedZona && userPosition && (\r\n            <button\r\n              onClick={startNavigation}\r\n              style={{\r\n                ...styles.button,\r\n                background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\r\n                color: 'white'\r\n              }}\r\n              onMouseEnter={(e) => e.target.style.transform = 'scale(1.02)'}\r\n              onMouseLeave={(e) => e.target.style.transform = 'scale(1)'}\r\n            >\r\n              üöó Iniciar Recorrido\r\n            </button>\r\n          )}\r\n\r\n          {/* Estado: En camino */}\r\n          {workStatus === 'traveling' && (\r\n            <div style={styles.card}>\r\n              <div style={{\r\n                background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\r\n                margin: '-16px -16px 16px -16px',\r\n                padding: '16px',\r\n                borderRadius: '12px 12px 0 0'\r\n              }}>\r\n                <div style={{ fontSize: '17px', fontWeight: '700', color: '#92400e' }}>\r\n                  üöó En camino a la zona\r\n                </div>\r\n                <div style={{ fontSize: '14px', marginTop: '6px', color: '#78350f' }}>\r\n                  üìç {selectedZona?.nombre}\r\n                </div>\r\n                {distance && duration && (\r\n                  <div style={{ \r\n                    marginTop: '12px', \r\n                    padding: '8px',\r\n                    background: 'rgba(255,255,255,0.8)',\r\n                    borderRadius: '6px',\r\n                    fontSize: '14px',\r\n                    display: 'flex',\r\n                    gap: '16px'\r\n                  }}>\r\n                    <span>üìè {distance}</span>\r\n                    <span>‚è±Ô∏è {duration}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <button\r\n                onClick={handleArrival}\r\n                style={{\r\n                  ...styles.button,\r\n                  background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\r\n                  color: 'white',\r\n                  fontSize: isMobile ? '16px' : '15px',\r\n                  marginBottom: '12px'\r\n                }}\r\n              >\r\n                üìç Ya llegu√© a la zona\r\n              </button>\r\n              \r\n              <button\r\n                onClick={cancelNavigation}\r\n                style={{\r\n                  ...styles.button,\r\n                  background: 'white',\r\n                  color: '#ef4444',\r\n                  border: '2px solid #ef4444',\r\n                  marginBottom: 0\r\n                }}\r\n              >\r\n                ‚ùå Cancelar Recorrido\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Estado: Trabajando */}\r\n          {workStatus === 'working' && (\r\n            <div style={styles.card}>\r\n              <div style={{\r\n                background: 'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)',\r\n                margin: '-16px -16px 16px -16px',\r\n                padding: '20px',\r\n                borderRadius: '12px 12px 0 0',\r\n                border: '2px solid #22c55e'\r\n              }}>\r\n                <div style={{ \r\n                  fontSize: isMobile ? '18px' : '17px', \r\n                  fontWeight: '700', \r\n                  color: '#14532d',\r\n                  marginBottom: '8px',\r\n                  animation: 'pulse 2s infinite'\r\n                }}>\r\n                  üîß TRABAJANDO EN ZONA\r\n                </div>\r\n                <div style={{ fontSize: '15px', color: '#166534' }}>\r\n                  üìç {selectedZona?.nombre}\r\n                </div>\r\n                {selectedZona?.descripcion && (\r\n                  <div style={{\r\n                    marginTop: '12px',\r\n                    padding: '10px',\r\n                    background: 'rgba(255,255,255,0.9)',\r\n                    borderRadius: '8px',\r\n                    fontSize: '13px',\r\n                    color: '#15803d',\r\n                    lineHeight: '1.5'\r\n                  }}>\r\n                    üìã {selectedZona.descripcion}\r\n                  </div>\r\n                )}\r\n                <div style={{ \r\n                  fontSize: '13px', \r\n                  marginTop: '10px', \r\n                  color: '#166534',\r\n                  fontWeight: '600'\r\n                }}>\r\n                  ‚è∞ Llegada: {formatTime(workLog.arrivalTime)}\r\n                </div>\r\n              </div>\r\n              \r\n              <button\r\n                onClick={() => {\r\n                  if (window.confirm('¬øConfirmas que has completado toda la tarea asignada?')) {\r\n                    finishWork();\r\n                  }\r\n                }}\r\n                style={{\r\n                  ...styles.button,\r\n                  background: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n                  color: 'white',\r\n                  padding: isMobile ? '18px' : '16px',\r\n                  fontSize: isMobile ? '17px' : '16px',\r\n                  fontWeight: '700',\r\n                  boxShadow: '0 6px 20px rgba(34, 197, 94, 0.4)',\r\n                  textTransform: 'uppercase',\r\n                  letterSpacing: '0.5px',\r\n                  marginBottom: '12px'\r\n                }}\r\n              >\r\n                ‚úÖ COMPLETAR TAREA\r\n              </button>\r\n              \r\n              <button\r\n                onClick={() => {\r\n                  if (window.confirm('¬øCancelar el trabajo? La zona volver√° a estado pendiente.')) {\r\n                    cancelNavigation();\r\n                  }\r\n                }}\r\n                style={{\r\n                  ...styles.button,\r\n                  background: 'white',\r\n                  color: '#ef4444',\r\n                  border: '2px solid #ef4444',\r\n                  fontSize: isMobile ? '14px' : '13px',\r\n                  marginBottom: 0\r\n                }}\r\n              >\r\n                ‚ùå No puedo completar\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Estado: Completado */}\r\n          {workStatus === 'completed' && (\r\n            <div style={{\r\n              ...styles.card,\r\n              background: 'linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%)',\r\n              border: '2px solid #6366f1',\r\n              animation: 'slideIn 0.3s ease'\r\n            }}>\r\n              <div style={{ \r\n                fontSize: '17px', \r\n                fontWeight: '700', \r\n                color: '#312e81',\r\n                textAlign: 'center',\r\n                marginBottom: '16px'\r\n              }}>\r\n                ‚úÖ Trabajo Completado\r\n              </div>\r\n              <button\r\n                onClick={resetWork}\r\n                style={{\r\n                  ...styles.button,\r\n                  background: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n                  color: 'white',\r\n                  marginBottom: 0\r\n                }}\r\n              >\r\n                üîÑ Nuevo Trabajo\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Bot√≥n flotante mejorado */}\r\n      {!showPanel && workStatus !== 'idle' && (\r\n        <button\r\n          onClick={() => setShowPanel(true)}\r\n          style={{\r\n            ...styles.floatingButton,\r\n            background: workStatus === 'traveling' \r\n              ? 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)' :\r\n              workStatus === 'working' \r\n              ? 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)' :\r\n              'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n            color: 'white',\r\n            border: 'none'\r\n          }}\r\n        >\r\n          {workStatus === 'traveling' && 'üöó'}\r\n          {workStatus === 'working' && 'üîß'}\r\n          {workStatus === 'completed' && '‚úÖ'}\r\n        </button>\r\n      )}\r\n\r\n      {/* Modal de resumen de trabajo mejorado */}\r\n      {showWorkLog && workLog.zona && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          background: 'rgba(0,0,0,0.6)',\r\n          backdropFilter: 'blur(5px)',\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          zIndex: 2000,\r\n          padding: '20px',\r\n          animation: 'fadeIn 0.3s ease'\r\n        }}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '16px',\r\n            padding: isMobile ? '20px' : '24px',\r\n            maxWidth: isMobile ? '100%' : '420px',\r\n            width: '100%',\r\n            maxHeight: '80vh',\r\n            overflow: 'auto',\r\n            boxShadow: '0 20px 60px rgba(0,0,0,0.3)',\r\n            animation: 'slideUp 0.3s ease'\r\n          }}>\r\n            <h3 style={{ \r\n              margin: '0 0 20px 0', \r\n              color: '#1f2937', \r\n              fontSize: isMobile ? '20px' : '22px',\r\n              fontWeight: '700'\r\n            }}>\r\n              üìã Resumen del Trabajo\r\n            </h3>\r\n            \r\n            <div style={{ fontSize: isMobile ? '14px' : '15px', lineHeight: '1.8' }}>\r\n              <div style={{\r\n                padding: '16px',\r\n                background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',\r\n                borderRadius: '12px',\r\n                marginBottom: '16px'\r\n              }}>\r\n                <strong style={{ fontSize: '16px', color: '#0369a1' }}>\r\n                  {workLog.zona.nombre}\r\n                </strong><br/>\r\n                <span style={{ color: '#0284c7', fontSize: '14px' }}>\r\n                  üìç {workLog.zona.direccion}\r\n                </span>\r\n              </div>\r\n              \r\n              <div style={{\r\n                background: '#f8fafc',\r\n                padding: '16px',\r\n                borderRadius: '12px',\r\n                marginBottom: '20px'\r\n              }}>\r\n                <div style={{ marginBottom: '12px', color: '#475569' }}>\r\n                  ‚è±Ô∏è <strong>Tiempo trabajado:</strong> {calculateDuration(workLog.arrivalTime, workLog.endTime)}\r\n               </div>\r\n               <div style={{\r\n                 marginTop: '12px',\r\n                 padding: '12px',\r\n                 background: 'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)',\r\n                 borderRadius: '8px',\r\n                 textAlign: 'center',\r\n                 fontWeight: 'bold',\r\n                 color: '#166534',\r\n                 fontSize: '16px',\r\n                 boxShadow: '0 2px 8px rgba(34, 197, 94, 0.2)'\r\n               }}>\r\n                 ‚úÖ COMPLETADO EXITOSAMENTE\r\n               </div>\r\n             </div>\r\n             \r\n             <button\r\n               onClick={() => setShowWorkLog(false)}\r\n               style={{\r\n                 width: '100%',\r\n                 padding: '14px',\r\n                 background: 'linear-gradient(135deg, #6b7280 0%, #4b5563 100%)',\r\n                 color: 'white',\r\n                 border: 'none',\r\n                 borderRadius: '10px',\r\n                 fontSize: '15px',\r\n                 fontWeight: '600',\r\n                 cursor: 'pointer',\r\n                 transition: 'all 0.3s ease',\r\n                 boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\r\n               }}\r\n               onMouseEnter={(e) => e.target.style.transform = 'scale(1.02)'}\r\n               onMouseLeave={(e) => e.target.style.transform = 'scale(1)'}\r\n             >\r\n               Cerrar\r\n             </button>\r\n           </div>\r\n         </div>\r\n       </div>\r\n     )}\r\n\r\n     {/* Indicador de carga mejorado */}\r\n     {!mapLoaded && (\r\n       <div style={{\r\n         position: 'absolute',\r\n         top: '50%',\r\n         left: '50%',\r\n         transform: 'translate(-50%, -50%)',\r\n         textAlign: 'center',\r\n         zIndex: 1001\r\n       }}>\r\n         <div style={{\r\n           width: '60px',\r\n           height: '60px',\r\n           position: 'relative'\r\n         }}>\r\n           <div style={{\r\n             position: 'absolute',\r\n             width: '100%',\r\n             height: '100%',\r\n             border: '4px solid rgba(34, 197, 94, 0.2)',\r\n             borderRadius: '50%'\r\n           }}></div>\r\n           <div style={{\r\n             position: 'absolute',\r\n             width: '100%',\r\n             height: '100%',\r\n             border: '4px solid transparent',\r\n             borderTopColor: '#22c55e',\r\n             borderRadius: '50%',\r\n             animation: 'spin 1s linear infinite'\r\n           }}></div>\r\n         </div>\r\n         <p style={{ \r\n           marginTop: '20px', \r\n           color: '#22c55e',\r\n           fontSize: '14px',\r\n           fontWeight: '600'\r\n         }}>\r\n           Cargando mapa...\r\n         </p>\r\n       </div>\r\n     )}\r\n\r\n     <style jsx>{`\r\n       @keyframes spin {\r\n         0% { transform: rotate(0deg); }\r\n         100% { transform: rotate(360deg); }\r\n       }\r\n       \r\n       @keyframes pulse {\r\n         0% {\r\n           box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7);\r\n           transform: scale(1);\r\n         }\r\n         50% {\r\n           box-shadow: 0 0 0 10px rgba(34, 197, 94, 0);\r\n           transform: scale(1.05);\r\n         }\r\n         100% {\r\n           box-shadow: 0 0 0 0 rgba(34, 197, 94, 0);\r\n           transform: scale(1);\r\n         }\r\n       }\r\n       \r\n       @keyframes float {\r\n         0%, 100% {\r\n           transform: translateY(0px);\r\n         }\r\n         50% {\r\n           transform: translateY(-10px);\r\n         }\r\n       }\r\n       \r\n       @keyframes slideIn {\r\n         from {\r\n           opacity: 0;\r\n           transform: translateX(-20px);\r\n         }\r\n         to {\r\n           opacity: 1;\r\n           transform: translateX(0);\r\n         }\r\n       }\r\n       \r\n       @keyframes slideUp {\r\n         from {\r\n           opacity: 0;\r\n           transform: translateY(20px);\r\n         }\r\n         to {\r\n           opacity: 1;\r\n           transform: translateY(0);\r\n         }\r\n       }\r\n       \r\n       @keyframes fadeIn {\r\n         from {\r\n           opacity: 0;\r\n         }\r\n         to {\r\n           opacity: 1;\r\n         }\r\n       }\r\n       \r\n       /* Scrollbar personalizada */\r\n       ::-webkit-scrollbar {\r\n         width: 8px;\r\n         height: 8px;\r\n       }\r\n       \r\n       ::-webkit-scrollbar-track {\r\n         background: #f1f1f1;\r\n         border-radius: 10px;\r\n       }\r\n       \r\n       ::-webkit-scrollbar-thumb {\r\n         background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);\r\n         border-radius: 10px;\r\n       }\r\n       \r\n       ::-webkit-scrollbar-thumb:hover {\r\n         background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);\r\n       }\r\n       \r\n       /* Transiciones suaves para botones */\r\n       button {\r\n         transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n       }\r\n       \r\n       button:active {\r\n         transform: scale(0.98);\r\n       }\r\n       \r\n       /* Efecto ripple en botones */\r\n       button::after {\r\n         content: '';\r\n         position: absolute;\r\n         top: 50%;\r\n         left: 50%;\r\n         width: 0;\r\n         height: 0;\r\n         border-radius: 50%;\r\n         background: rgba(255, 255, 255, 0.5);\r\n         transform: translate(-50%, -50%);\r\n         transition: width 0.6s, height 0.6s;\r\n       }\r\n       \r\n       button:active::after {\r\n         width: 300px;\r\n         height: 300px;\r\n       }\r\n       \r\n       /* Sombras y efectos de elevaci√≥n */\r\n       .card-hover:hover {\r\n         transform: translateY(-2px);\r\n         box-shadow: 0 8px 30px rgba(0,0,0,0.12);\r\n       }\r\n       \r\n       /* Efectos de glassmorphism */\r\n       .glass {\r\n         background: rgba(255, 255, 255, 0.95);\r\n         backdrop-filter: blur(10px);\r\n         -webkit-backdrop-filter: blur(10px);\r\n         border: 1px solid rgba(255, 255, 255, 0.18);\r\n       }\r\n       \r\n       /* Gradientes animados */\r\n       @keyframes gradient {\r\n         0% {\r\n           background-position: 0% 50%;\r\n         }\r\n         50% {\r\n           background-position: 100% 50%;\r\n         }\r\n         100% {\r\n           background-position: 0% 50%;\r\n         }\r\n       }\r\n       \r\n       .gradient-animation {\r\n         background-size: 200% 200%;\r\n         animation: gradient 3s ease infinite;\r\n       }\r\n       \r\n       /* Responsive improvements */\r\n       @media (max-width: 768px) {\r\n         button {\r\n           -webkit-tap-highlight-color: transparent;\r\n           -webkit-touch-callout: none;\r\n           -webkit-user-select: none;\r\n           user-select: none;\r\n         }\r\n       }\r\n       \r\n       /* Animaci√≥n de notificaciones */\r\n       @keyframes notificationSlide {\r\n         from {\r\n           transform: translateX(100%);\r\n           opacity: 0;\r\n         }\r\n         to {\r\n           transform: translateX(0);\r\n           opacity: 1;\r\n         }\r\n       }\r\n       \r\n       @keyframes notificationExit {\r\n         from {\r\n           transform: translateX(0);\r\n           opacity: 1;\r\n         }\r\n         to {\r\n           transform: translateX(100%);\r\n           opacity: 0;\r\n         }\r\n       }\r\n       \r\n       /* Mejoras de accesibilidad */\r\n       @media (prefers-reduced-motion: reduce) {\r\n         * {\r\n           animation-duration: 0.01ms !important;\r\n           animation-iteration-count: 1 !important;\r\n           transition-duration: 0.01ms !important;\r\n         }\r\n       }\r\n       \r\n       /* Focus styles para accesibilidad */\r\n       button:focus-visible {\r\n         outline: 2px solid #22c55e;\r\n         outline-offset: 2px;\r\n       }\r\n       \r\n       select:focus-visible,\r\n       input:focus-visible,\r\n       textarea:focus-visible {\r\n         outline: 2px solid #3b82f6;\r\n         outline-offset: 0;\r\n       }\r\n     `}</style>\r\n   </div>\r\n );\r\n};\r\n\r\nexport default SistemaTrabajadoresFirebase;"],"mappings":"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AAE,SAAS,CACzBhC,YAAY,CAAE,KAAK,CACnBS,SAAS,CAAE,yBACb,CAAE,CAAM,CAAC,EACN,CAAC,cACNpV,IAAA,MAAGgT,KAAK,CAAE,CACR4C,SAAS,CAAE,MAAM,CACjB9B,KAAK,CAAE,SAAS,CAChBW,QAAQ,CAAE,MAAM,CAChBG,UAAU,CAAE,KACd,CAAE,CAAAzB,QAAA,CAAC,kBAEH,CAAG,CAAC,EACD,CACN,cAEDnT,IAAA,UAAOD,GAAG,MAAAoT,QAAA,CAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,CAAQ,CAAC,EACP,CAAC,CAET,CAAC,CAED,cAAe,CAAA9S,2BAA2B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}