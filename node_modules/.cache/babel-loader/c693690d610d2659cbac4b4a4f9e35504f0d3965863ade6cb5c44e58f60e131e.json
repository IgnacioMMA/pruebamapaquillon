{"ast":null,"code":"// src/components/SistemaTrabajadoresFirebase.js\nimport React,{useEffect,useRef,useState}from'react';import{trabajadoresService}from'../services/firebaseservices';import{database}from'../config/firebase';import{ref,onValue,update,set,push,get}from'firebase/database';import TrabajadorVehiclePanel from'./TrabajadorVehiclePanel';import{cloudinaryConfig}from'../config/cloudinary';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SistemaTrabajadoresFirebase=_ref=>{let{currentUser,onLogout,onViewChange}=_ref;// Estados principales\nconst[showVehiclePanel,setShowVehiclePanel]=useState(false);const[userPosition,setUserPosition]=useState(null);const[selectedZona,setSelectedZona]=useState(null);const[isTracking,setIsTracking]=useState(false);const[workStatus,setWorkStatus]=useState('idle');// Estados para zonas y notificaciones\nconst[zonasAsignadas,setZonasAsignadas]=useState([]);const[notificaciones,setNotificaciones]=useState([]);const[isMobile,setIsMobile]=useState(false);const[toastNotification,setToastNotification]=useState(null);// ESTADOS PARA DOCUMENTOS\nconst[showDocumentsModal,setShowDocumentsModal]=useState(false);const[uploadingFile,setUploadingFile]=useState(false);const[uploadProgress,setUploadProgress]=useState({});const[documentos,setDocumentos]=useState({licenciaConducir:{url:'',nombre:'',fecha:'',vencimiento:''},certificadoOperador:{url:'',nombre:'',fecha:'',vencimiento:''},certificados:[]});const[message,setMessage]=useState({type:'',text:''});// Referencias\nconst toastTimeoutRef=useRef(null);const[gpsStatus,setGpsStatus]=useState('inactive');// ========== FUNCIONES COMPLETAS PARA MANEJO DE DOCUMENTOS ==========\n// 1. FUNCI√ìN PARA SUBIR ARCHIVOS (COMPLETA Y MEJORADA)\nconst handleFileUpload=async(file,tipoDocumento)=>{if(!file)return;// Validaci√≥n de PDF\nif(file.type==='application/pdf'){setMessage({type:'error',text:'‚ùå NO se permiten PDFs. Por favor, sube una FOTO o IMAGEN del documento (JPG/PNG).'});alert('üì∏ ALTERNATIVAS PARA SUBIR TU DOCUMENTO:\\n\\n'+'1. Toma una FOTO con tu celular\\n'+'2. Haz una CAPTURA DE PANTALLA del PDF\\n'+'3. Usa un esc√°ner que guarde como JPG\\n'+'4. Convierte el PDF a imagen en: https://www.ilovepdf.com/pdf_to_jpg');return;}// Validaci√≥n de tipo de archivo\nconst allowedTypes=['image/jpeg','image/png','image/jpg'];if(!allowedTypes.includes(file.type)){setMessage({type:'error',text:'‚ùå Solo se permiten im√°genes JPG y PNG'});return;}// Validaci√≥n de tama√±o\nif(file.size>10*1024*1024){setMessage({type:'error',text:'‚ùå El archivo no puede superar los 10MB'});return;}setUploadingFile(true);setUploadProgress({[tipoDocumento]:0});try{// Preparar FormData para Cloudinary\nconst formData=new FormData();formData.append('file',file);formData.append('upload_preset','vehiculos_docs');const trabajadorId=currentUser.uid||`temp_${Date.now()}`;const timestamp=Date.now();const cleanFileName=file.name.split('.')[0].replace(/[^a-zA-Z0-9_-]/g,'_');formData.append('folder',`municipalidad/trabajadores/${trabajadorId}/${tipoDocumento}`);formData.append('public_id',`${timestamp}_${cleanFileName}`);setUploadProgress({[tipoDocumento]:30});// Subir a Cloudinary\nconst response=await fetch(`https://api.cloudinary.com/v1_1/${cloudinaryConfig.cloudName}/image/upload`,{method:'POST',body:formData});setUploadProgress({[tipoDocumento]:60});if(!response.ok){throw new Error('Error al subir imagen a Cloudinary');}const data=await response.json();console.log('‚úÖ Imagen subida a Cloudinary:',data);setUploadProgress({[tipoDocumento]:90});// Crear objeto de documento con todos los datos necesarios\nconst documentData={url:data.secure_url||'',publicId:data.public_id||'',nombre:file.name||'documento',fecha:new Date().toISOString(),tama√±o:file.size||0,tipo:file.type||'image/jpeg',vencimiento:''// Campo opcional para fechas de vencimiento\n};console.log('üìÑ Datos del documento a guardar:',documentData);// Guardar en Firebase PRIMERO\nawait guardarDocumentosEnFirebase(tipoDocumento,documentData);// DESPU√âS actualizar el estado local\nif(tipoDocumento==='certificados'){setDocumentos(prev=>({...prev,certificados:[...(prev.certificados||[]),documentData]}));}else{setDocumentos(prev=>({...prev,[tipoDocumento]:documentData}));}setUploadProgress({[tipoDocumento]:100});setMessage({type:'success',text:`‚úÖ ${file.name} subido exitosamente`});showToast('‚úÖ Documento subido exitosamente','success');setTimeout(()=>{setUploadProgress({});setMessage({type:'',text:''});},3000);}catch(error){console.error('‚ùå Error completo:',error);setMessage({type:'error',text:'‚ùå Error al subir la imagen: '+error.message});showToast('‚ùå Error al subir el documento','error');}finally{setUploadingFile(false);}};// 2. FUNCI√ìN PARA GUARDAR EN FIREBASE\nconst guardarDocumentosEnFirebase=async(tipoDocumento,documentData)=>{try{console.log(`üîÑ Guardando ${tipoDocumento} en Firebase...`);if(!currentUser||!currentUser.uid){throw new Error('No hay usuario autenticado');}if(tipoDocumento==='certificados'){// Para certificados, usar push para crear una lista\nconst certificadosRef=ref(database,`trabajadores/${currentUser.uid}/documentos/certificados`);const newCertRef=push(certificadosRef);await set(newCertRef,documentData);console.log('‚úÖ Certificado guardado con ID:',newCertRef.key);}else{// Para licencia y certificado de operador\nconst docRef=ref(database,`trabajadores/${currentUser.uid}/documentos/${tipoDocumento}`);await set(docRef,documentData);console.log(`‚úÖ ${tipoDocumento} guardado en Firebase`);}// Verificar que se guard√≥ correctamente\nconst verificarRef=ref(database,`trabajadores/${currentUser.uid}/documentos`);const snapshot=await get(verificarRef);console.log('üì¶ Verificaci√≥n - Documentos en Firebase:',snapshot.val());}catch(error){console.error('‚ùå Error al guardar en Firebase:',error);throw error;}};// 3. FUNCI√ìN PARA ELIMINAR DOCUMENTOS\nconst handleDeleteDocument=async function(tipoDocumento){let index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!window.confirm('¬øEst√°s seguro de eliminar este documento?'))return;try{// Primero eliminar de Firebase\nawait eliminarDocumentoDeFirebase(tipoDocumento,index);// Despu√©s actualizar el estado local\nif(tipoDocumento==='certificados'&&index!==null){setDocumentos(prev=>({...prev,certificados:prev.certificados.filter((_,i)=>i!==index)}));}else{setDocumentos(prev=>({...prev,[tipoDocumento]:{url:'',nombre:'',fecha:'',vencimiento:''}}));}setMessage({type:'success',text:'‚úÖ Documento eliminado correctamente'});showToast('‚úÖ Documento eliminado','success');setTimeout(()=>{setMessage({type:'',text:''});},3000);}catch(error){console.error('Error al eliminar documento:',error);setMessage({type:'error',text:'‚ùå Error al eliminar el documento'});}};// 4. FUNCI√ìN PARA ELIMINAR DE FIREBASE\nconst eliminarDocumentoDeFirebase=async(tipoDocumento,index)=>{try{if(!currentUser||!currentUser.uid){throw new Error('No hay usuario autenticado');}if(tipoDocumento==='certificados'){// Para certificados, obtener la lista actual y eliminar el espec√≠fico\nconst certificadosRef=ref(database,`trabajadores/${currentUser.uid}/documentos/certificados`);const snapshot=await get(certificadosRef);const certificadosData=snapshot.val()||{};const certificadosArray=Object.entries(certificadosData);if(index!==null&&index<certificadosArray.length){const[keyToDelete]=certificadosArray[index];const certRef=ref(database,`trabajadores/${currentUser.uid}/documentos/certificados/${keyToDelete}`);await set(certRef,null);console.log(`‚úÖ Certificado ${keyToDelete} eliminado de Firebase`);}}else{// Para otros documentos, simplemente eliminar\nconst docRef=ref(database,`trabajadores/${currentUser.uid}/documentos/${tipoDocumento}`);await set(docRef,null);console.log(`‚úÖ ${tipoDocumento} eliminado de Firebase`);}}catch(error){console.error('‚ùå Error al eliminar de Firebase:',error);throw error;}};// 5. FUNCI√ìN PARA CARGAR DOCUMENTOS DESDE FIREBASE\nconst cargarDocumentosDesdeFirebase=()=>{if(!currentUser||!currentUser.uid){console.log('‚ö†Ô∏è No hay usuario para cargar documentos');return;}console.log('üîÑ Iniciando carga de documentos para usuario:',currentUser.uid);const docsRef=ref(database,`trabajadores/${currentUser.uid}/documentos`);const unsubscribe=onValue(docsRef,snapshot=>{const data=snapshot.val();console.log('üì¶ Datos RAW de Firebase:',data);if(data){// Inicializar objeto de documentos\nconst docsToLoad={licenciaConducir:{url:'',nombre:'',fecha:'',vencimiento:''},certificadoOperador:{url:'',nombre:'',fecha:'',vencimiento:''},certificados:[]};// Cargar licencia de conducir\nif(data.licenciaConducir&&typeof data.licenciaConducir==='object'){docsToLoad.licenciaConducir={url:data.licenciaConducir.url||'',nombre:data.licenciaConducir.nombre||'',fecha:data.licenciaConducir.fecha||'',vencimiento:data.licenciaConducir.vencimiento||'',publicId:data.licenciaConducir.publicId||'',tama√±o:data.licenciaConducir.tama√±o||0,tipo:data.licenciaConducir.tipo||''};console.log('üìã Licencia cargada:',docsToLoad.licenciaConducir);}// Cargar certificado de operador\nif(data.certificadoOperador&&typeof data.certificadoOperador==='object'){docsToLoad.certificadoOperador={url:data.certificadoOperador.url||'',nombre:data.certificadoOperador.nombre||'',fecha:data.certificadoOperador.fecha||'',vencimiento:data.certificadoOperador.vencimiento||'',publicId:data.certificadoOperador.publicId||'',tama√±o:data.certificadoOperador.tama√±o||0,tipo:data.certificadoOperador.tipo||''};console.log('üèóÔ∏è Certificado operador cargado:',docsToLoad.certificadoOperador);}// Cargar certificados adicionales\nif(data.certificados&&typeof data.certificados==='object'){docsToLoad.certificados=Object.entries(data.certificados).map(_ref2=>{let[key,cert]=_ref2;return{firebaseKey:key,url:cert.url||'',nombre:cert.nombre||'',fecha:cert.fecha||'',vencimiento:cert.vencimiento||'',publicId:cert.publicId||'',tama√±o:cert.tama√±o||0,tipo:cert.tipo||''};});console.log('üìö Certificados cargados:',docsToLoad.certificados.length);}console.log('‚úÖ Documentos procesados para cargar:',docsToLoad);setDocumentos(docsToLoad);}else{console.log('‚ö†Ô∏è No hay documentos en Firebase para este usuario');setDocumentos({licenciaConducir:{url:'',nombre:'',fecha:'',vencimiento:''},certificadoOperador:{url:'',nombre:'',fecha:'',vencimiento:''},certificados:[]});}},error=>{console.error('‚ùå Error al cargar documentos de Firebase:',error);showToast('‚ùå Error al cargar documentos','error');});return unsubscribe;};// 6. FUNCI√ìN PARA FORMATEAR TAMA√ëO DE ARCHIVO\nconst formatFileSize=bytes=>{if(!bytes||bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return Math.round(bytes/Math.pow(k,i)*100)/100+' '+sizes[i];};// 7. USE EFFECT PARA CARGAR DOCUMENTOS AL INICIAR\nuseEffect(()=>{let unsubscribe;if(currentUser&&currentUser.uid){console.log('üë§ Usuario detectado:',currentUser.uid);console.log('üîÑ Iniciando carga de documentos...');// Peque√±o delay para asegurar que Firebase est√© listo\nconst timer=setTimeout(()=>{unsubscribe=cargarDocumentosDesdeFirebase();},500);return()=>{clearTimeout(timer);if(unsubscribe){console.log('üîö Desuscribiendo listener de documentos');unsubscribe();}};}else{console.log('‚ö†Ô∏è No hay usuario autenticado');}},[currentUser===null||currentUser===void 0?void 0:currentUser.uid]);// Usar optional chaining\n// 8. FUNCI√ìN DE DEBUG (TEMPORAL - QUITAR EN PRODUCCI√ìN)\nconst debugDocumentos=()=>{console.log('=== DEBUG DE DOCUMENTOS ===');console.log('Estado actual de documentos:',documentos);console.log('Usuario actual:',currentUser);if(currentUser&&currentUser.uid){const docsRef=ref(database,`trabajadores/${currentUser.uid}/documentos`);get(docsRef).then(snapshot=>{console.log('Datos en Firebase:',snapshot.val());}).catch(error=>{console.error('Error al obtener datos de Firebase:',error);});}};// ========== RESTO DE LAS FUNCIONES DEL COMPONENTE ==========\n// Funci√≥n para navegar al dashboard\nconst navigateToDashboard=()=>{if(onViewChange){onViewChange('dashboard-trabajador');}};// Funci√≥n para mostrar notificaciones tipo toast\nconst showToast=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';let duration=arguments.length>2&&arguments[2]!==undefined?arguments[2]:4000;if(toastTimeoutRef.current){clearTimeout(toastTimeoutRef.current);}setToastNotification({message,type});toastTimeoutRef.current=setTimeout(()=>{setToastNotification(null);},duration);};// Detectar si es m√≥vil\nuseEffect(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<=768);};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);// Cargar zonas asignadas\nuseEffect(()=>{if(currentUser&&currentUser.uid){const zonasRef=ref(database,'zonas_asignadas');const unsubZonas=onValue(zonasRef,snapshot=>{const data=snapshot.val();if(data){const zonasArray=Object.entries(data).filter(_ref3=>{let[id,zona]=_ref3;return zona.trabajadorAsignado===currentUser.uid&&zona.estado!=='completado';}).map(_ref4=>{let[id,zona]=_ref4;return{id,...zona};});setZonasAsignadas(zonasArray);}else{setZonasAsignadas([]);}});return()=>unsubZonas();}},[currentUser]);// Registrar trabajador\nuseEffect(()=>{if(currentUser&&currentUser.uid){console.log('üîÑ Registrando trabajador en Firebase...');trabajadoresService.createOrUpdateTrabajador(currentUser.uid,{nombre:currentUser.name||currentUser.email||'Trabajador',email:currentUser.email,telefono:currentUser.phone||'',vehicleId:currentUser.vehicleId||null,estado:'disponible',rol:'trabajador',ubicacion:null,createdAt:new Date().toISOString(),ultimaActualizacion:new Date().toISOString()}).then(()=>{console.log('‚úÖ Trabajador registrado exitosamente');}).catch(error=>{console.error('‚ùå Error al registrar trabajador:',error);});}},[currentUser]);// Limpiar al desmontar\nuseEffect(()=>{return()=>{if(toastTimeoutRef.current){clearTimeout(toastTimeoutRef.current);}};},[]);// ========== MODAL DE DOCUMENTOS (SIN CAMBIOS) ==========\nconst DocumentosModal=()=>{var _documentos$licenciaC,_documentos$licenciaC2,_documentos$licenciaC3,_documentos$certifica,_documentos$certifica2,_documentos$certifica3,_documentos$certifica4;if(!showDocumentsModal)return null;return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.5)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:3000,padding:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',maxWidth:'900px',width:'100%',maxHeight:'90vh',overflow:'auto',padding:'30px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'25px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,color:'#1f2937',fontSize:'24px'},children:\"\\uD83D\\uDCC4 Mis Documentos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDocumentsModal(false),style:{padding:'8px',background:'#6b7280',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'18px'},children:\"\\u2716\"})]}),message.text&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'12px',borderRadius:'8px',marginBottom:'20px',background:message.type==='success'?'#dcfce7':'#fee2e2',border:`1px solid ${message.type==='success'?'#86efac':'#fecaca'}`,color:message.type==='success'?'#166534':'#991b1b'},children:message.text}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',background:'#fef3c7',border:'2px solid #f59e0b',borderRadius:'8px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 10px 0',color:'#92400e',fontSize:'16px'},children:\"\\uD83D\\uDCF8 IMPORTANTE: Solo se aceptan IM\\xC1GENES\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 10px 0',fontSize:'14px',color:'#78350f'},children:\"Los archivos PDF no est\\xE1n soportados. Si tienes documentos en PDF:\"}),/*#__PURE__*/_jsxs(\"ol\",{style:{margin:'0',paddingLeft:'20px',fontSize:'14px',color:'#78350f'},children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDCF1 Toma una \",/*#__PURE__*/_jsx(\"strong\",{children:\"FOTO\"}),\" del documento con tu celular\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDCBB Haz una \",/*#__PURE__*/_jsx(\"strong\",{children:\"CAPTURA DE PANTALLA\"}),\" del PDF\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDD04 Convierte el PDF a JPG en: \",/*#__PURE__*/_jsx(\"a\",{href:\"https://www.ilovepdf.com/pdf_to_jpg\",target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#f59e0b'},children:\"iLovePDF.com\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(auto-fit, minmax(280px, 1fr))',gap:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'8px',padding:'15px',background:(_documentos$licenciaC=documentos.licenciaConducir)!==null&&_documentos$licenciaC!==void 0&&_documentos$licenciaC.url?'#f0fdf4':'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:0,fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"\\uD83D\\uDE97 Licencia de Conducir\"}),((_documentos$licenciaC2=documentos.licenciaConducir)===null||_documentos$licenciaC2===void 0?void 0:_documentos$licenciaC2.url)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',padding:'2px 6px',background:'#22c55e',color:'white',borderRadius:'4px'},children:\"\\u2713 Cargado\"})]}),(_documentos$licenciaC3=documentos.licenciaConducir)!==null&&_documentos$licenciaC3!==void 0&&_documentos$licenciaC3.url?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',background:'#f9fafb',borderRadius:'6px',marginBottom:'8px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#1f2937',marginBottom:'3px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:documentos.licenciaConducir.nombre}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'11px'},children:new Date(documentos.licenciaConducir.fecha).toLocaleDateString('es-CL')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"a\",{href:documentos.licenciaConducir.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{flex:1,padding:'6px',background:'#3b82f6',color:'white',textAlign:'center',borderRadius:'6px',textDecoration:'none',fontSize:'12px'},children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('licenciaConducir'),style:{flex:1,padding:'6px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'12px'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"licenciaConducir\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'licenciaConducir'),style:{display:'none'}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"licenciaConducir\",style:{display:'block',padding:'20px 10px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'6px',textAlign:'center',cursor:'pointer',fontSize:'12px',color:'#6b7280',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#3b82f6';e.currentTarget.style.background='#eff6ff';},onMouseLeave:e=>{e.currentTarget.style.borderColor='#d1d5db';e.currentTarget.style.background='#f9fafb';},children:uploadProgress.licenciaConducir?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'5px'},children:[\"Subiendo... \",uploadProgress.licenciaConducir,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'4px',background:'#e5e7eb',borderRadius:'2px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:`${uploadProgress.licenciaConducir}%`,height:'100%',background:'#3b82f6',transition:'width 0.3s'}})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',marginBottom:'5px'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Click para subir\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'8px',padding:'15px',background:(_documentos$certifica=documentos.certificadoOperador)!==null&&_documentos$certifica!==void 0&&_documentos$certifica.url?'#f0fdf4':'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:0,fontSize:'14px',fontWeight:'600',color:'#374151'},children:\"\\uD83C\\uDFD7\\uFE0F Certificado de Operador\"}),((_documentos$certifica2=documentos.certificadoOperador)===null||_documentos$certifica2===void 0?void 0:_documentos$certifica2.url)&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',padding:'2px 6px',background:'#22c55e',color:'white',borderRadius:'4px'},children:\"\\u2713 Cargado\"})]}),(_documentos$certifica3=documentos.certificadoOperador)!==null&&_documentos$certifica3!==void 0&&_documentos$certifica3.url?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',background:'#f9fafb',borderRadius:'6px',marginBottom:'8px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#1f2937',marginBottom:'3px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:documentos.certificadoOperador.nombre}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'11px'},children:new Date(documentos.certificadoOperador.fecha).toLocaleDateString('es-CL')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"a\",{href:documentos.certificadoOperador.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{flex:1,padding:'6px',background:'#3b82f6',color:'white',textAlign:'center',borderRadius:'6px',textDecoration:'none',fontSize:'12px'},children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('certificadoOperador'),style:{flex:1,padding:'6px',background:'#ef4444',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'12px'},children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"certificadoOperador\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'certificadoOperador'),style:{display:'none'}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"certificadoOperador\",style:{display:'block',padding:'20px 10px',background:'#f9fafb',border:'2px dashed #d1d5db',borderRadius:'6px',textAlign:'center',cursor:'pointer',fontSize:'12px',color:'#6b7280',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#3b82f6';e.currentTarget.style.background='#eff6ff';},onMouseLeave:e=>{e.currentTarget.style.borderColor='#d1d5db';e.currentTarget.style.background='#f9fafb';},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',marginBottom:'5px'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Click para subir\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px',padding:'20px',background:'#f9fafb',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:'0 0 15px 0',fontSize:'16px',fontWeight:'600',color:'#374151'},children:\"\\uD83D\\uDCDA Certificados de Capacitaci\\xF3n\"}),((_documentos$certifica4=documentos.certificados)===null||_documentos$certifica4===void 0?void 0:_documentos$certifica4.length)>0&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'15px'},children:documentos.certificados.map((cert,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',background:'white',borderRadius:'6px',marginBottom:'8px',display:'flex',justifyContent:'space-between',alignItems:'center',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:0},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'500',fontSize:'13px',color:'#1f2937',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:[\"\\uD83D\\uDCDC \",cert.nombre]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6b7280',fontSize:'11px',marginTop:'2px'},children:[formatFileSize(cert.tama√±o),\" \\u2022 \",new Date(cert.fecha).toLocaleDateString('es-CL')]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'6px',marginLeft:'10px'},children:[/*#__PURE__*/_jsx(\"a\",{href:cert.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{padding:'4px 8px',background:'#3b82f6',color:'white',borderRadius:'4px',textDecoration:'none',fontSize:'11px'},children:\"Ver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteDocument('certificados',index),style:{padding:'4px 8px',background:'#ef4444',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'11px'},children:\"Eliminar\"})]})]},index))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"certificados\",accept:\".jpg,.jpeg,.png\",onChange:e=>handleFileUpload(e.target.files[0],'certificados'),style:{display:'none'},disabled:uploadingFile}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"certificados\",style:{display:'inline-block',padding:'10px 16px',background:uploadingFile?'#9ca3af':'#10b981',color:'white',borderRadius:'6px',cursor:uploadingFile?'not-allowed':'pointer',fontSize:'14px',fontWeight:'500'},children:uploadingFile?'‚è≥ Subiendo...':'‚ûï Agregar Certificado'})]})]})]})});};// RESTO DEL C√ìDIGO (Estilos y return) SIN CAMBIOS...\nconst styles={container:{width:'100%',minHeight:'100vh',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',position:'relative',overflow:'hidden'},header:{background:'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',color:'white',padding:'16px',position:'relative',boxShadow:'0 4px 20px rgba(0,0,0,0.15)'},headerContent:{display:'flex',flexDirection:'column',gap:'16px'},userInfo:{display:'flex',alignItems:'center',justifyContent:'space-between'},userName:{fontSize:'20px',fontWeight:'700',display:'flex',alignItems:'center',gap:'8px'},logoutBtn:{padding:'8px 16px',background:'rgba(255,255,255,0.2)',backdropFilter:'blur(10px)',color:'white',border:'1px solid rgba(255,255,255,0.3)',borderRadius:'8px',cursor:'pointer',fontSize:'14px',fontWeight:'600',display:'flex',alignItems:'center',gap:'6px'},buttonGrid:{display:'grid',gridTemplateColumns:'repeat(2, 1fr)',gap:'12px'},actionBtn:{padding:'16px',borderRadius:'12px',border:'none',cursor:'pointer',fontSize:'15px',fontWeight:'600',display:'flex',flexDirection:'column',alignItems:'center',gap:'8px',transition:'all 0.3s ease',boxShadow:'0 4px 15px rgba(0,0,0,0.1)'},mainContent:{padding:'20px',paddingTop:'30px'},dashboardGrid:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(auto-fit, minmax(300px, 1fr))',gap:'20px',marginBottom:'30px'},dashboardCard:{background:'white',borderRadius:'16px',padding:'24px',boxShadow:'0 10px 40px rgba(0,0,0,0.1)',transition:'all 0.3s ease'},cardIcon:{fontSize:'48px',marginBottom:'12px'},cardTitle:{fontSize:'18px',fontWeight:'700',color:'#1f2937',marginBottom:'8px'},cardValue:{fontSize:'32px',fontWeight:'800',color:'#3b82f6',marginBottom:'4px'},cardSubtext:{fontSize:'14px',color:'#6b7280'},zonasSection:{background:'white',borderRadius:'16px',padding:'24px',boxShadow:'0 10px 40px rgba(0,0,0,0.1)'},sectionTitle:{fontSize:'20px',fontWeight:'700',color:'#1f2937',marginBottom:'16px',display:'flex',alignItems:'center',gap:'8px'},zonaCard:{background:'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',borderRadius:'12px',padding:'16px',marginBottom:'12px',border:'2px solid #e5e7eb',transition:'all 0.3s ease'},emptyState:{textAlign:'center',padding:'40px',color:'#6b7280'},toast:{position:'fixed',top:'20px',right:'20px',padding:'12px 20px',borderRadius:'10px',boxShadow:'0 4px 20px rgba(0,0,0,0.15)',display:'flex',alignItems:'center',gap:'12px',zIndex:2000,animation:'slideInRight 0.3s ease',maxWidth:'350px',backdropFilter:'blur(10px)'}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.header,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.headerContent,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.userInfo,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.userName,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDC77\\u200D\\u2642\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:currentUser.name||'Trabajador'})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onLogout,style:styles.logoutBtn,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDEAA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Salir\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.buttonGrid,children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDocumentsModal(true),style:{...styles.actionBtn,background:'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mis Documentos\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowVehiclePanel(true),style:{...styles.actionBtn,background:'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDE9B\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mi Veh\\xEDculo\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:navigateToDashboard,style:{...styles.actionBtn,background:'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Dashboard\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>showToast('üó∫Ô∏è Funci√≥n de mapa pr√≥ximamente','info'),style:{...styles.actionBtn,background:'linear-gradient(135deg, #10b981 0%, #059669 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:\"\\uD83D\\uDDFA\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mapa GPS\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.mainContent,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.dashboardGrid,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.dashboardCard,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.cardIcon,children:\"\\uD83D\\uDCCD\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardTitle,children:\"Estado GPS\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardValue,children:gpsStatus==='active'?'Activo':'Inactivo'}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardSubtext,children:gpsStatus==='active'?'üü¢ Transmitiendo ubicaci√≥n':'üî¥ Sin transmisi√≥n'})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.dashboardCard,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.cardIcon,children:\"\\uD83C\\uDFD7\\uFE0F\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardTitle,children:\"Zonas Asignadas\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardValue,children:zonasAsignadas.length}),/*#__PURE__*/_jsxs(\"div\",{style:styles.cardSubtext,children:[zonasAsignadas.filter(z=>z.estado==='pendiente').length,\" pendientes\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.dashboardCard,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.cardIcon,children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardTitle,children:\"Estado Actual\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardValue,children:\"Disponible\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cardSubtext,children:\"Listo para trabajar\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.zonasSection,children:[/*#__PURE__*/_jsxs(\"h2\",{style:styles.sectionTitle,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDDFA\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mis Zonas de Trabajo\"})]}),zonasAsignadas.length>0?/*#__PURE__*/_jsx(\"div\",{children:zonasAsignadas.map(zona=>/*#__PURE__*/_jsxs(\"div\",{style:styles.zonaCard,children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0 0 8px 0',fontSize:'16px',fontWeight:'600',color:'#1f2937'},children:[\"\\uD83D\\uDCCD \",zona.nombre]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 8px 0',fontSize:'14px',color:'#6b7280'},children:zona.direccion}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{padding:'4px 8px',background:zona.prioridad==='alta'?'#dc2626':zona.prioridad==='media'?'#f59e0b':'#10b981',color:'white',borderRadius:'6px',fontSize:'12px',fontWeight:'600'},children:[\"Prioridad: \",zona.prioridad]}),/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',background:zona.estado==='pendiente'?'#6b7280':zona.estado==='en_progreso'?'#3b82f6':'#10b981',color:'white',borderRadius:'6px',fontSize:'12px',fontWeight:'600'},children:zona.estado==='pendiente'?'‚è≥ Pendiente':zona.estado==='en_progreso'?'üîß En Progreso':'‚úÖ Completado'})]})]},zona.id))}):/*#__PURE__*/_jsxs(\"div\",{style:styles.emptyState,children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'12px',opacity:0.5},children:\"\\uD83D\\uDCED\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'16px',fontWeight:'500',marginBottom:'4px'},children:\"No tienes zonas asignadas\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px'},children:\"Cuando te asignen nuevas zonas aparecer\\xE1n aqu\\xED\"})]})]})]}),toastNotification&&/*#__PURE__*/_jsxs(\"div\",{style:{...styles.toast,background:toastNotification.type==='success'?'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)':toastNotification.type==='error'?'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)':toastNotification.type==='warning'?'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)':'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',color:'white'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px'},children:toastNotification.type==='success'?'‚úÖ':toastNotification.type==='error'?'‚ùå':toastNotification.type==='warning'?'‚ö†Ô∏è':'‚ÑπÔ∏è'}),/*#__PURE__*/_jsx(\"span\",{style:{flex:1,fontSize:'14px',fontWeight:'500'},children:toastNotification.message})]}),showVehiclePanel&&/*#__PURE__*/_jsx(TrabajadorVehiclePanel,{currentUser:currentUser,onClose:()=>setShowVehiclePanel(false)}),/*#__PURE__*/_jsx(DocumentosModal,{}),/*#__PURE__*/_jsx(\"style\",{children:`\n        @keyframes slideInRight {\n          from {\n            transform: translateX(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n      `})]});};export default SistemaTrabajadoresFirebase;","map":{"version":3,"names":["React","useEffect","useRef","useState","trabajadoresService","database","ref","onValue","update","set","push","get","TrabajadorVehiclePanel","cloudinaryConfig","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SistemaTrabajadoresFirebase","_ref","currentUser","onLogout","onViewChange","showVehiclePanel","setShowVehiclePanel","userPosition","setUserPosition","selectedZona","setSelectedZona","isTracking","setIsTracking","workStatus","setWorkStatus","zonasAsignadas","setZonasAsignadas","notificaciones","setNotificaciones","isMobile","setIsMobile","toastNotification","setToastNotification","showDocumentsModal","setShowDocumentsModal","uploadingFile","setUploadingFile","uploadProgress","setUploadProgress","documentos","setDocumentos","licenciaConducir","url","nombre","fecha","vencimiento","certificadoOperador","certificados","message","setMessage","type","text","toastTimeoutRef","gpsStatus","setGpsStatus","handleFileUpload","file","tipoDocumento","alert","allowedTypes","includes","size","formData","FormData","append","trabajadorId","uid","Date","now","timestamp","cleanFileName","name","split","replace","response","fetch","cloudName","method","body","ok","Error","data","json","console","log","documentData","secure_url","publicId","public_id","toISOString","tama√±o","tipo","guardarDocumentosEnFirebase","prev","showToast","setTimeout","error","certificadosRef","newCertRef","key","docRef","verificarRef","snapshot","val","handleDeleteDocument","index","arguments","length","undefined","window","confirm","eliminarDocumentoDeFirebase","filter","_","i","certificadosData","certificadosArray","Object","entries","keyToDelete","certRef","cargarDocumentosDesdeFirebase","docsRef","unsubscribe","docsToLoad","map","_ref2","cert","firebaseKey","formatFileSize","bytes","k","sizes","Math","floor","round","pow","timer","clearTimeout","debugDocumentos","then","catch","navigateToDashboard","duration","current","checkMobile","innerWidth","addEventListener","removeEventListener","zonasRef","unsubZonas","zonasArray","_ref3","id","zona","trabajadorAsignado","estado","_ref4","createOrUpdateTrabajador","email","telefono","phone","vehicleId","rol","ubicacion","createdAt","ultimaActualizacion","DocumentosModal","_documentos$licenciaC","_documentos$licenciaC2","_documentos$licenciaC3","_documentos$certifica","_documentos$certifica2","_documentos$certifica3","_documentos$certifica4","style","position","top","left","right","bottom","background","display","justifyContent","alignItems","zIndex","padding","children","borderRadius","maxWidth","width","maxHeight","overflow","marginBottom","margin","color","fontSize","onClick","border","cursor","paddingLeft","href","target","rel","gridTemplateColumns","gap","fontWeight","textOverflow","whiteSpace","toLocaleDateString","flex","textAlign","textDecoration","accept","onChange","e","files","htmlFor","transition","onMouseEnter","currentTarget","borderColor","onMouseLeave","height","marginTop","minWidth","marginLeft","disabled","styles","container","minHeight","header","boxShadow","headerContent","flexDirection","userInfo","userName","logoutBtn","backdropFilter","buttonGrid","actionBtn","mainContent","paddingTop","dashboardGrid","dashboardCard","cardIcon","cardTitle","cardValue","cardSubtext","zonasSection","sectionTitle","zonaCard","emptyState","toast","animation","z","direccion","flexWrap","prioridad","opacity","onClose"],"sources":["C:/Users/Izan/Desktop/AppReact/mapa-quillon/src/components/SistemaTrabajadoresFirebase.js"],"sourcesContent":["// src/components/SistemaTrabajadoresFirebase.js\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { trabajadoresService } from '../services/firebaseservices';\r\nimport { database } from '../config/firebase';\r\nimport { ref, onValue, update, set, push, get } from 'firebase/database';\r\nimport TrabajadorVehiclePanel from './TrabajadorVehiclePanel';\r\nimport { cloudinaryConfig } from '../config/cloudinary';\r\n\r\n\r\nconst SistemaTrabajadoresFirebase = ({ currentUser, onLogout, onViewChange }) => {\r\n  // Estados principales\r\n  const [showVehiclePanel, setShowVehiclePanel] = useState(false);\r\n  const [userPosition, setUserPosition] = useState(null);\r\n  const [selectedZona, setSelectedZona] = useState(null);\r\n  const [isTracking, setIsTracking] = useState(false);\r\n  const [workStatus, setWorkStatus] = useState('idle');\r\n  \r\n  // Estados para zonas y notificaciones\r\n  const [zonasAsignadas, setZonasAsignadas] = useState([]);\r\n  const [notificaciones, setNotificaciones] = useState([]);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [toastNotification, setToastNotification] = useState(null);\r\n  \r\n  // ESTADOS PARA DOCUMENTOS\r\n  const [showDocumentsModal, setShowDocumentsModal] = useState(false);\r\n  const [uploadingFile, setUploadingFile] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState({});\r\n  const [documentos, setDocumentos] = useState({\r\n    licenciaConducir: { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n    certificadoOperador: { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n    certificados: []\r\n  });\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  \r\n  // Referencias\r\n  const toastTimeoutRef = useRef(null);\r\n  const [gpsStatus, setGpsStatus] = useState('inactive');\r\n\r\n  // ========== FUNCIONES COMPLETAS PARA MANEJO DE DOCUMENTOS ==========\r\n  \r\n  // 1. FUNCI√ìN PARA SUBIR ARCHIVOS (COMPLETA Y MEJORADA)\r\n  const handleFileUpload = async (file, tipoDocumento) => {\r\n    if (!file) return;\r\n    \r\n    // Validaci√≥n de PDF\r\n    if (file.type === 'application/pdf') {\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '‚ùå NO se permiten PDFs. Por favor, sube una FOTO o IMAGEN del documento (JPG/PNG).' \r\n      });\r\n      \r\n      alert(\r\n        'üì∏ ALTERNATIVAS PARA SUBIR TU DOCUMENTO:\\n\\n' +\r\n        '1. Toma una FOTO con tu celular\\n' +\r\n        '2. Haz una CAPTURA DE PANTALLA del PDF\\n' +\r\n        '3. Usa un esc√°ner que guarde como JPG\\n' +\r\n        '4. Convierte el PDF a imagen en: https://www.ilovepdf.com/pdf_to_jpg'\r\n      );\r\n      \r\n      return;\r\n    }\r\n    \r\n    // Validaci√≥n de tipo de archivo\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/jpg'];\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '‚ùå Solo se permiten im√°genes JPG y PNG' \r\n      });\r\n      return;\r\n    }\r\n    \r\n    // Validaci√≥n de tama√±o\r\n    if (file.size > 10 * 1024 * 1024) {\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '‚ùå El archivo no puede superar los 10MB' \r\n      });\r\n      return;\r\n    }\r\n\r\n    setUploadingFile(true);\r\n    setUploadProgress({ [tipoDocumento]: 0 });\r\n\r\n    try {\r\n      // Preparar FormData para Cloudinary\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      formData.append('upload_preset', 'vehiculos_docs');\r\n      \r\n      const trabajadorId = currentUser.uid || `temp_${Date.now()}`;\r\n      const timestamp = Date.now();\r\n      const cleanFileName = file.name.split('.')[0].replace(/[^a-zA-Z0-9_-]/g, '_');\r\n      \r\n      formData.append('folder', `municipalidad/trabajadores/${trabajadorId}/${tipoDocumento}`);\r\n      formData.append('public_id', `${timestamp}_${cleanFileName}`);\r\n      \r\n      setUploadProgress({ [tipoDocumento]: 30 });\r\n\r\n      // Subir a Cloudinary\r\n      const response = await fetch(\r\n        `https://api.cloudinary.com/v1_1/${cloudinaryConfig.cloudName}/image/upload`,\r\n        {\r\n          method: 'POST',\r\n          body: formData\r\n        }\r\n      );\r\n\r\n      setUploadProgress({ [tipoDocumento]: 60 });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Error al subir imagen a Cloudinary');\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('‚úÖ Imagen subida a Cloudinary:', data);\r\n      \r\n      setUploadProgress({ [tipoDocumento]: 90 });\r\n\r\n      // Crear objeto de documento con todos los datos necesarios\r\n      const documentData = {\r\n        url: data.secure_url || '',\r\n        publicId: data.public_id || '',\r\n        nombre: file.name || 'documento',\r\n        fecha: new Date().toISOString(),\r\n        tama√±o: file.size || 0,\r\n        tipo: file.type || 'image/jpeg',\r\n        vencimiento: '' // Campo opcional para fechas de vencimiento\r\n      };\r\n\r\n      console.log('üìÑ Datos del documento a guardar:', documentData);\r\n\r\n      // Guardar en Firebase PRIMERO\r\n      await guardarDocumentosEnFirebase(tipoDocumento, documentData);\r\n\r\n      // DESPU√âS actualizar el estado local\r\n      if (tipoDocumento === 'certificados') {\r\n        setDocumentos(prev => ({\r\n          ...prev,\r\n          certificados: [...(prev.certificados || []), documentData]\r\n        }));\r\n      } else {\r\n        setDocumentos(prev => ({\r\n          ...prev,\r\n          [tipoDocumento]: documentData\r\n        }));\r\n      }\r\n\r\n      setUploadProgress({ [tipoDocumento]: 100 });\r\n      setMessage({ \r\n        type: 'success', \r\n        text: `‚úÖ ${file.name} subido exitosamente` \r\n      });\r\n      showToast('‚úÖ Documento subido exitosamente', 'success');\r\n\r\n      setTimeout(() => {\r\n        setUploadProgress({});\r\n        setMessage({ type: '', text: '' });\r\n      }, 3000);\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Error completo:', error);\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '‚ùå Error al subir la imagen: ' + error.message \r\n      });\r\n      showToast('‚ùå Error al subir el documento', 'error');\r\n    } finally {\r\n      setUploadingFile(false);\r\n    }\r\n  };\r\n\r\n  // 2. FUNCI√ìN PARA GUARDAR EN FIREBASE\r\n  const guardarDocumentosEnFirebase = async (tipoDocumento, documentData) => {\r\n    try {\r\n      console.log(`üîÑ Guardando ${tipoDocumento} en Firebase...`);\r\n      \r\n      if (!currentUser || !currentUser.uid) {\r\n        throw new Error('No hay usuario autenticado');\r\n      }\r\n      \r\n      if (tipoDocumento === 'certificados') {\r\n        // Para certificados, usar push para crear una lista\r\n        const certificadosRef = ref(database, `trabajadores/${currentUser.uid}/documentos/certificados`);\r\n        const newCertRef = push(certificadosRef);\r\n        await set(newCertRef, documentData);\r\n        console.log('‚úÖ Certificado guardado con ID:', newCertRef.key);\r\n      } else {\r\n        // Para licencia y certificado de operador\r\n        const docRef = ref(database, `trabajadores/${currentUser.uid}/documentos/${tipoDocumento}`);\r\n        await set(docRef, documentData);\r\n        console.log(`‚úÖ ${tipoDocumento} guardado en Firebase`);\r\n      }\r\n      \r\n      // Verificar que se guard√≥ correctamente\r\n      const verificarRef = ref(database, `trabajadores/${currentUser.uid}/documentos`);\r\n      const snapshot = await get(verificarRef);\r\n      console.log('üì¶ Verificaci√≥n - Documentos en Firebase:', snapshot.val());\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error al guardar en Firebase:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // 3. FUNCI√ìN PARA ELIMINAR DOCUMENTOS\r\n  const handleDeleteDocument = async (tipoDocumento, index = null) => {\r\n    if (!window.confirm('¬øEst√°s seguro de eliminar este documento?')) return;\r\n\r\n    try {\r\n      // Primero eliminar de Firebase\r\n      await eliminarDocumentoDeFirebase(tipoDocumento, index);\r\n      \r\n      // Despu√©s actualizar el estado local\r\n      if (tipoDocumento === 'certificados' && index !== null) {\r\n        setDocumentos(prev => ({\r\n          ...prev,\r\n          certificados: prev.certificados.filter((_, i) => i !== index)\r\n        }));\r\n      } else {\r\n        setDocumentos(prev => ({\r\n          ...prev,\r\n          [tipoDocumento]: { url: '', nombre: '', fecha: '', vencimiento: '' }\r\n        }));\r\n      }\r\n\r\n      setMessage({ \r\n        type: 'success', \r\n        text: '‚úÖ Documento eliminado correctamente' \r\n      });\r\n      showToast('‚úÖ Documento eliminado', 'success');\r\n      \r\n      setTimeout(() => {\r\n        setMessage({ type: '', text: '' });\r\n      }, 3000);\r\n      \r\n    } catch (error) {\r\n      console.error('Error al eliminar documento:', error);\r\n      setMessage({ \r\n        type: 'error', \r\n        text: '‚ùå Error al eliminar el documento' \r\n      });\r\n    }\r\n  };\r\n\r\n  // 4. FUNCI√ìN PARA ELIMINAR DE FIREBASE\r\n  const eliminarDocumentoDeFirebase = async (tipoDocumento, index) => {\r\n    try {\r\n      if (!currentUser || !currentUser.uid) {\r\n        throw new Error('No hay usuario autenticado');\r\n      }\r\n\r\n      if (tipoDocumento === 'certificados') {\r\n        // Para certificados, obtener la lista actual y eliminar el espec√≠fico\r\n        const certificadosRef = ref(database, `trabajadores/${currentUser.uid}/documentos/certificados`);\r\n        const snapshot = await get(certificadosRef);\r\n        const certificadosData = snapshot.val() || {};\r\n        \r\n        const certificadosArray = Object.entries(certificadosData);\r\n        if (index !== null && index < certificadosArray.length) {\r\n          const [keyToDelete] = certificadosArray[index];\r\n          const certRef = ref(database, `trabajadores/${currentUser.uid}/documentos/certificados/${keyToDelete}`);\r\n          await set(certRef, null);\r\n          console.log(`‚úÖ Certificado ${keyToDelete} eliminado de Firebase`);\r\n        }\r\n      } else {\r\n        // Para otros documentos, simplemente eliminar\r\n        const docRef = ref(database, `trabajadores/${currentUser.uid}/documentos/${tipoDocumento}`);\r\n        await set(docRef, null);\r\n        console.log(`‚úÖ ${tipoDocumento} eliminado de Firebase`);\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Error al eliminar de Firebase:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // 5. FUNCI√ìN PARA CARGAR DOCUMENTOS DESDE FIREBASE\r\n  const cargarDocumentosDesdeFirebase = () => {\r\n    if (!currentUser || !currentUser.uid) {\r\n      console.log('‚ö†Ô∏è No hay usuario para cargar documentos');\r\n      return;\r\n    }\r\n\r\n    console.log('üîÑ Iniciando carga de documentos para usuario:', currentUser.uid);\r\n    \r\n    const docsRef = ref(database, `trabajadores/${currentUser.uid}/documentos`);\r\n    \r\n    const unsubscribe = onValue(docsRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      console.log('üì¶ Datos RAW de Firebase:', data);\r\n      \r\n      if (data) {\r\n        // Inicializar objeto de documentos\r\n        const docsToLoad = {\r\n          licenciaConducir: { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n          certificadoOperador: { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n          certificados: []\r\n        };\r\n        \r\n        // Cargar licencia de conducir\r\n        if (data.licenciaConducir && typeof data.licenciaConducir === 'object') {\r\n          docsToLoad.licenciaConducir = {\r\n            url: data.licenciaConducir.url || '',\r\n            nombre: data.licenciaConducir.nombre || '',\r\n            fecha: data.licenciaConducir.fecha || '',\r\n            vencimiento: data.licenciaConducir.vencimiento || '',\r\n            publicId: data.licenciaConducir.publicId || '',\r\n            tama√±o: data.licenciaConducir.tama√±o || 0,\r\n            tipo: data.licenciaConducir.tipo || ''\r\n          };\r\n          console.log('üìã Licencia cargada:', docsToLoad.licenciaConducir);\r\n        }\r\n        \r\n        // Cargar certificado de operador\r\n        if (data.certificadoOperador && typeof data.certificadoOperador === 'object') {\r\n          docsToLoad.certificadoOperador = {\r\n            url: data.certificadoOperador.url || '',\r\n            nombre: data.certificadoOperador.nombre || '',\r\n            fecha: data.certificadoOperador.fecha || '',\r\n            vencimiento: data.certificadoOperador.vencimiento || '',\r\n            publicId: data.certificadoOperador.publicId || '',\r\n            tama√±o: data.certificadoOperador.tama√±o || 0,\r\n            tipo: data.certificadoOperador.tipo || ''\r\n          };\r\n          console.log('üèóÔ∏è Certificado operador cargado:', docsToLoad.certificadoOperador);\r\n        }\r\n        \r\n        // Cargar certificados adicionales\r\n        if (data.certificados && typeof data.certificados === 'object') {\r\n          docsToLoad.certificados = Object.entries(data.certificados).map(([key, cert]) => ({\r\n            firebaseKey: key,\r\n            url: cert.url || '',\r\n            nombre: cert.nombre || '',\r\n            fecha: cert.fecha || '',\r\n            vencimiento: cert.vencimiento || '',\r\n            publicId: cert.publicId || '',\r\n            tama√±o: cert.tama√±o || 0,\r\n            tipo: cert.tipo || ''\r\n          }));\r\n          console.log('üìö Certificados cargados:', docsToLoad.certificados.length);\r\n        }\r\n        \r\n        console.log('‚úÖ Documentos procesados para cargar:', docsToLoad);\r\n        setDocumentos(docsToLoad);\r\n        \r\n      } else {\r\n        console.log('‚ö†Ô∏è No hay documentos en Firebase para este usuario');\r\n        setDocumentos({\r\n          licenciaConducir: { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n          certificadoOperador: { url: '', nombre: '', fecha: '', vencimiento: '' },\r\n          certificados: []\r\n        });\r\n      }\r\n    }, (error) => {\r\n      console.error('‚ùå Error al cargar documentos de Firebase:', error);\r\n      showToast('‚ùå Error al cargar documentos', 'error');\r\n    });\r\n    \r\n    return unsubscribe;\r\n  };\r\n\r\n  // 6. FUNCI√ìN PARA FORMATEAR TAMA√ëO DE ARCHIVO\r\n  const formatFileSize = (bytes) => {\r\n    if (!bytes || bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\r\n  };\r\n\r\n  // 7. USE EFFECT PARA CARGAR DOCUMENTOS AL INICIAR\r\n  useEffect(() => {\r\n    let unsubscribe;\r\n    \r\n    if (currentUser && currentUser.uid) {\r\n      console.log('üë§ Usuario detectado:', currentUser.uid);\r\n      console.log('üîÑ Iniciando carga de documentos...');\r\n      \r\n      // Peque√±o delay para asegurar que Firebase est√© listo\r\n      const timer = setTimeout(() => {\r\n        unsubscribe = cargarDocumentosDesdeFirebase();\r\n      }, 500);\r\n      \r\n      return () => {\r\n        clearTimeout(timer);\r\n        if (unsubscribe) {\r\n          console.log('üîö Desuscribiendo listener de documentos');\r\n          unsubscribe();\r\n        }\r\n      };\r\n    } else {\r\n      console.log('‚ö†Ô∏è No hay usuario autenticado');\r\n    }\r\n  }, [currentUser?.uid]); // Usar optional chaining\r\n\r\n  // 8. FUNCI√ìN DE DEBUG (TEMPORAL - QUITAR EN PRODUCCI√ìN)\r\n  const debugDocumentos = () => {\r\n    console.log('=== DEBUG DE DOCUMENTOS ===');\r\n    console.log('Estado actual de documentos:', documentos);\r\n    console.log('Usuario actual:', currentUser);\r\n    \r\n    if (currentUser && currentUser.uid) {\r\n      const docsRef = ref(database, `trabajadores/${currentUser.uid}/documentos`);\r\n      get(docsRef).then((snapshot) => {\r\n        console.log('Datos en Firebase:', snapshot.val());\r\n      }).catch((error) => {\r\n        console.error('Error al obtener datos de Firebase:', error);\r\n      });\r\n    }\r\n  };\r\n\r\n  // ========== RESTO DE LAS FUNCIONES DEL COMPONENTE ==========\r\n  \r\n  // Funci√≥n para navegar al dashboard\r\n  const navigateToDashboard = () => {\r\n    if (onViewChange) {\r\n      onViewChange('dashboard-trabajador');\r\n    }\r\n  };\r\n\r\n  // Funci√≥n para mostrar notificaciones tipo toast\r\n  const showToast = (message, type = 'info', duration = 4000) => {\r\n    if (toastTimeoutRef.current) {\r\n      clearTimeout(toastTimeoutRef.current);\r\n    }\r\n    \r\n    setToastNotification({ message, type });\r\n    \r\n    toastTimeoutRef.current = setTimeout(() => {\r\n      setToastNotification(null);\r\n    }, duration);\r\n  };\r\n\r\n  // Detectar si es m√≥vil\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth <= 768);\r\n    };\r\n    \r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    \r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  // Cargar zonas asignadas\r\n  useEffect(() => {\r\n    if (currentUser && currentUser.uid) {\r\n      const zonasRef = ref(database, 'zonas_asignadas');\r\n      const unsubZonas = onValue(zonasRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        if (data) {\r\n          const zonasArray = Object.entries(data)\r\n            .filter(([id, zona]) => {\r\n              return zona.trabajadorAsignado === currentUser.uid && zona.estado !== 'completado';\r\n            })\r\n            .map(([id, zona]) => ({\r\n              id,\r\n              ...zona\r\n            }));\r\n          \r\n          setZonasAsignadas(zonasArray);\r\n        } else {\r\n          setZonasAsignadas([]);\r\n        }\r\n      });\r\n\r\n      return () => unsubZonas();\r\n    }\r\n  }, [currentUser]);\r\n\r\n  // Registrar trabajador\r\n  useEffect(() => {\r\n    if (currentUser && currentUser.uid) {\r\n      console.log('üîÑ Registrando trabajador en Firebase...');\r\n      trabajadoresService.createOrUpdateTrabajador(currentUser.uid, {\r\n        nombre: currentUser.name || currentUser.email || 'Trabajador',\r\n        email: currentUser.email,\r\n        telefono: currentUser.phone || '',\r\n        vehicleId: currentUser.vehicleId || null,\r\n        estado: 'disponible',\r\n        rol: 'trabajador',\r\n        ubicacion: null,\r\n        createdAt: new Date().toISOString(),\r\n        ultimaActualizacion: new Date().toISOString()\r\n      }).then(() => {\r\n        console.log('‚úÖ Trabajador registrado exitosamente');\r\n      }).catch(error => {\r\n        console.error('‚ùå Error al registrar trabajador:', error);\r\n      });\r\n    }\r\n  }, [currentUser]);\r\n\r\n  // Limpiar al desmontar\r\n  useEffect(() => {\r\n    return () => {\r\n      if (toastTimeoutRef.current) {\r\n        clearTimeout(toastTimeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n  // ========== MODAL DE DOCUMENTOS (SIN CAMBIOS) ==========\r\n  const DocumentosModal = () => {\r\n    if (!showDocumentsModal) return null;\r\n\r\n    return (\r\n      <div style={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        background: 'rgba(0,0,0,0.5)',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        zIndex: 3000,\r\n        padding: '20px'\r\n      }}>\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '12px',\r\n          maxWidth: '900px',\r\n          width: '100%',\r\n          maxHeight: '90vh',\r\n          overflow: 'auto',\r\n          padding: '30px'\r\n        }}>\r\n          <div style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            marginBottom: '25px'\r\n          }}>\r\n            <h2 style={{ margin: 0, color: '#1f2937', fontSize: '24px' }}>\r\n              üìÑ Mis Documentos\r\n            </h2>\r\n            <button\r\n              onClick={() => setShowDocumentsModal(false)}\r\n              style={{\r\n                padding: '8px',\r\n                background: '#6b7280',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '6px',\r\n                cursor: 'pointer',\r\n                fontSize: '18px'\r\n              }}\r\n            >\r\n              ‚úñ\r\n            </button>\r\n          </div>\r\n\r\n          {message.text && (\r\n            <div style={{\r\n              padding: '12px',\r\n              borderRadius: '8px',\r\n              marginBottom: '20px',\r\n              background: message.type === 'success' ? '#dcfce7' : '#fee2e2',\r\n              border: `1px solid ${message.type === 'success' ? '#86efac' : '#fecaca'}`,\r\n              color: message.type === 'success' ? '#166534' : '#991b1b'\r\n            }}>\r\n              {message.text}\r\n            </div>\r\n          )}\r\n\r\n          <div style={{\r\n            padding: '15px',\r\n            background: '#fef3c7',\r\n            border: '2px solid #f59e0b',\r\n            borderRadius: '8px',\r\n            marginBottom: '20px'\r\n          }}>\r\n            <h4 style={{ margin: '0 0 10px 0', color: '#92400e', fontSize: '16px' }}>\r\n              üì∏ IMPORTANTE: Solo se aceptan IM√ÅGENES\r\n            </h4>\r\n            <p style={{ margin: '0 0 10px 0', fontSize: '14px', color: '#78350f' }}>\r\n              Los archivos PDF no est√°n soportados. Si tienes documentos en PDF:\r\n            </p>\r\n            <ol style={{ margin: '0', paddingLeft: '20px', fontSize: '14px', color: '#78350f' }}>\r\n              <li>üì± Toma una <strong>FOTO</strong> del documento con tu celular</li>\r\n              <li>üíª Haz una <strong>CAPTURA DE PANTALLA</strong> del PDF</li>\r\n              <li>üîÑ Convierte el PDF a JPG en: <a href=\"https://www.ilovepdf.com/pdf_to_jpg\" target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: '#f59e0b' }}>iLovePDF.com</a></li>\r\n            </ol>\r\n          </div>\r\n\r\n          <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(280px, 1fr))',\r\n            gap: '20px'\r\n          }}>\r\n            {/* Licencia de Conducir */}\r\n            <div style={{\r\n              border: '1px solid #e5e7eb',\r\n              borderRadius: '8px',\r\n              padding: '15px',\r\n              background: documentos.licenciaConducir?.url ? '#f0fdf4' : 'white'\r\n            }}>\r\n              <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'space-between',\r\n                marginBottom: '10px'\r\n              }}>\r\n                <h5 style={{ \r\n                  margin: 0, \r\n                  fontSize: '14px', \r\n                  fontWeight: '600', \r\n                  color: '#374151' \r\n                }}>\r\n                  üöó Licencia de Conducir\r\n                </h5>\r\n                {documentos.licenciaConducir?.url && (\r\n                  <span style={{\r\n                    fontSize: '10px',\r\n                    padding: '2px 6px',\r\n                    background: '#22c55e',\r\n                    color: 'white',\r\n                    borderRadius: '4px'\r\n                  }}>\r\n                    ‚úì Cargado\r\n                  </span>\r\n                )}\r\n              </div>\r\n              \r\n              {documentos.licenciaConducir?.url ? (\r\n                <div>\r\n                  <div style={{\r\n                    padding: '8px',\r\n                    background: '#f9fafb',\r\n                    borderRadius: '6px',\r\n                    marginBottom: '8px',\r\n                    fontSize: '12px'\r\n                  }}>\r\n                    <div style={{ \r\n                      fontWeight: '500', \r\n                      color: '#1f2937',\r\n                      marginBottom: '3px',\r\n                      overflow: 'hidden',\r\n                      textOverflow: 'ellipsis',\r\n                      whiteSpace: 'nowrap'\r\n                    }}>\r\n                      {documentos.licenciaConducir.nombre}\r\n                    </div>\r\n                    <div style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                      {new Date(documentos.licenciaConducir.fecha).toLocaleDateString('es-CL')}\r\n                    </div>\r\n                  </div>\r\n                  <div style={{ display: 'flex', gap: '8px' }}>\r\n                    <a \r\n                      href={documentos.licenciaConducir.url}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      style={{\r\n                        flex: 1,\r\n                        padding: '6px',\r\n                        background: '#3b82f6',\r\n                        color: 'white',\r\n                        textAlign: 'center',\r\n                        borderRadius: '6px',\r\n                        textDecoration: 'none',\r\n                        fontSize: '12px'\r\n                      }}\r\n                    >\r\n                      üëÅÔ∏è Ver\r\n                    </a>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleDeleteDocument('licenciaConducir')}\r\n                      style={{\r\n                        flex: 1,\r\n                        padding: '6px',\r\n                        background: '#ef4444',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '6px',\r\n                        cursor: 'pointer',\r\n                        fontSize: '12px'\r\n                      }}\r\n                    >\r\n                      üóëÔ∏è Eliminar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"licenciaConducir\"\r\n                    accept=\".jpg,.jpeg,.png\"\r\n                    onChange={(e) => handleFileUpload(e.target.files[0], 'licenciaConducir')}\r\n                    style={{ display: 'none' }}\r\n                  />\r\n                  <label\r\n                    htmlFor=\"licenciaConducir\"\r\n                    style={{\r\n                      display: 'block',\r\n                      padding: '20px 10px',\r\n                      background: '#f9fafb',\r\n                      border: '2px dashed #d1d5db',\r\n                      borderRadius: '6px',\r\n                      textAlign: 'center',\r\n                      cursor: 'pointer',\r\n                      fontSize: '12px',\r\n                      color: '#6b7280',\r\n                      transition: 'all 0.2s'\r\n                    }}\r\n                    onMouseEnter={(e) => {\r\n                      e.currentTarget.style.borderColor = '#3b82f6';\r\n                      e.currentTarget.style.background = '#eff6ff';\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      e.currentTarget.style.borderColor = '#d1d5db';\r\n                      e.currentTarget.style.background = '#f9fafb';\r\n                    }}\r\n                  >\r\n                    {uploadProgress.licenciaConducir ? (\r\n                      <div>\r\n                        <div style={{ marginBottom: '5px' }}>\r\n                          Subiendo... {uploadProgress.licenciaConducir}%\r\n                        </div>\r\n                        <div style={{\r\n                          width: '100%',\r\n                          height: '4px',\r\n                          background: '#e5e7eb',\r\n                          borderRadius: '2px',\r\n                          overflow: 'hidden'\r\n                        }}>\r\n                          <div style={{\r\n                            width: `${uploadProgress.licenciaConducir}%`,\r\n                            height: '100%',\r\n                            background: '#3b82f6',\r\n                            transition: 'width 0.3s'\r\n                          }} />\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        <div style={{ fontSize: '20px', marginBottom: '5px' }}>üì§</div>\r\n                        <div>Click para subir</div>\r\n                      </>\r\n                    )}\r\n                  </label>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Certificado de Operador */}\r\n            <div style={{\r\n              border: '1px solid #e5e7eb',\r\n              borderRadius: '8px',\r\n              padding: '15px',\r\n              background: documentos.certificadoOperador?.url ? '#f0fdf4' : 'white'\r\n            }}>\r\n              <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'space-between',\r\n                marginBottom: '10px'\r\n              }}>\r\n                <h5 style={{ \r\n                  margin: 0, \r\n                  fontSize: '14px', \r\n                  fontWeight: '600', \r\n                  color: '#374151' \r\n                }}>\r\n                  üèóÔ∏è Certificado de Operador\r\n                </h5>\r\n                {documentos.certificadoOperador?.url && (\r\n                  <span style={{\r\n                    fontSize: '10px',\r\n                    padding: '2px 6px',\r\n                    background: '#22c55e',\r\n                    color: 'white',\r\n                    borderRadius: '4px'\r\n                  }}>\r\n                    ‚úì Cargado\r\n                  </span>\r\n                )}\r\n              </div>\r\n              \r\n              {documentos.certificadoOperador?.url ? (\r\n                <div>\r\n                  <div style={{\r\n                    padding: '8px',\r\n                    background: '#f9fafb',\r\n                    borderRadius: '6px',\r\n                    marginBottom: '8px',\r\n                    fontSize: '12px'\r\n                  }}>\r\n                    <div style={{ \r\n                      fontWeight: '500', \r\n                      color: '#1f2937',\r\n                      marginBottom: '3px',\r\n                      overflow: 'hidden',\r\n                      textOverflow: 'ellipsis',\r\n                      whiteSpace: 'nowrap'\r\n                    }}>\r\n                      {documentos.certificadoOperador.nombre}\r\n                    </div>\r\n                    <div style={{ color: '#6b7280', fontSize: '11px' }}>\r\n                      {new Date(documentos.certificadoOperador.fecha).toLocaleDateString('es-CL')}\r\n                    </div>\r\n                  </div>\r\n                  <div style={{ display: 'flex', gap: '8px' }}>\r\n                    <a \r\n                      href={documentos.certificadoOperador.url}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      style={{\r\n                        flex: 1,\r\n                        padding: '6px',\r\n                        background: '#3b82f6',\r\n                        color: 'white',\r\n                        textAlign: 'center',\r\n                        borderRadius: '6px',\r\n                        textDecoration: 'none',\r\n                        fontSize: '12px'\r\n                      }}\r\n                    >\r\n                      üëÅÔ∏è Ver\r\n                    </a>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleDeleteDocument('certificadoOperador')}\r\n                      style={{\r\n                        flex: 1,\r\n                        padding: '6px',\r\n                        background: '#ef4444',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '6px',\r\n                        cursor: 'pointer',\r\n                        fontSize: '12px'\r\n                      }}\r\n                    >\r\n                      üóëÔ∏è Eliminar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"certificadoOperador\"\r\n                    accept=\".jpg,.jpeg,.png\"\r\n                    onChange={(e) => handleFileUpload(e.target.files[0], 'certificadoOperador')}\r\n                    style={{ display: 'none' }}\r\n                  />\r\n                  <label\r\n                    htmlFor=\"certificadoOperador\"\r\n                    style={{\r\n                      display: 'block',\r\n                      padding: '20px 10px',\r\n                      background: '#f9fafb',\r\n                      border: '2px dashed #d1d5db',\r\n                      borderRadius: '6px',\r\n                      textAlign: 'center',\r\n                      cursor: 'pointer',\r\n                      fontSize: '12px',\r\n                      color: '#6b7280',\r\n                      transition: 'all 0.2s'\r\n                    }}\r\n                    onMouseEnter={(e) => {\r\n                      e.currentTarget.style.borderColor = '#3b82f6';\r\n                      e.currentTarget.style.background = '#eff6ff';\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      e.currentTarget.style.borderColor = '#d1d5db';\r\n                      e.currentTarget.style.background = '#f9fafb';\r\n                    }}\r\n                  >\r\n                    <div style={{ fontSize: '20px', marginBottom: '5px' }}>üì§</div>\r\n                    <div>Click para subir</div>\r\n                  </label>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Secci√≥n de certificados adicionales */}\r\n          <div style={{\r\n            marginTop: '30px',\r\n            padding: '20px',\r\n            background: '#f9fafb',\r\n            borderRadius: '8px'\r\n          }}>\r\n            <h5 style={{ \r\n              margin: '0 0 15px 0', \r\n              fontSize: '16px', \r\n              fontWeight: '600', \r\n              color: '#374151' \r\n            }}>\r\n              üìö Certificados de Capacitaci√≥n\r\n            </h5>\r\n            \r\n            {documentos.certificados?.length > 0 && (\r\n              <div style={{ marginBottom: '15px' }}>\r\n                {documentos.certificados.map((cert, index) => (\r\n                  <div key={index} style={{\r\n                    padding: '10px',\r\n                    background: 'white',\r\n                    borderRadius: '6px',\r\n                    marginBottom: '8px',\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                    border: '1px solid #e5e7eb'\r\n                  }}>\r\n                    <div style={{ flex: 1, minWidth: 0 }}>\r\n                      <div style={{ \r\n                        fontWeight: '500', \r\n                        fontSize: '13px',\r\n                        color: '#1f2937',\r\n                        overflow: 'hidden',\r\n                        textOverflow: 'ellipsis',\r\n                        whiteSpace: 'nowrap'\r\n                      }}>\r\n                        üìú {cert.nombre}\r\n                      </div>\r\n                      <div style={{ \r\n                        color: '#6b7280', \r\n                        fontSize: '11px',\r\n                        marginTop: '2px' \r\n                      }}>\r\n                        {formatFileSize(cert.tama√±o)} ‚Ä¢ {new Date(cert.fecha).toLocaleDateString('es-CL')}\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '6px', marginLeft: '10px' }}>\r\n                      <a \r\n                        href={cert.url}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        style={{\r\n                          padding: '4px 8px',\r\n                          background: '#3b82f6',\r\n                          color: 'white',\r\n                          borderRadius: '4px',\r\n                          textDecoration: 'none',\r\n                          fontSize: '11px'\r\n                        }}\r\n                      >\r\n                        Ver\r\n                      </a>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => handleDeleteDocument('certificados', index)}\r\n                        style={{\r\n                          padding: '4px 8px',\r\n                          background: '#ef4444',\r\n                          color: 'white',\r\n                          border: 'none',\r\n                          borderRadius: '4px',\r\n                          cursor: 'pointer',\r\n                          fontSize: '11px'\r\n                        }}\r\n                      >\r\n                        Eliminar\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n            \r\n            <div>\r\n              <input\r\n                type=\"file\"\r\n                id=\"certificados\"\r\n                accept=\".jpg,.jpeg,.png\"\r\n                onChange={(e) => handleFileUpload(e.target.files[0], 'certificados')}\r\n                style={{ display: 'none' }}\r\n                disabled={uploadingFile}\r\n              />\r\n              <label\r\n                htmlFor=\"certificados\"\r\n                style={{\r\n                  display: 'inline-block',\r\n                  padding: '10px 16px',\r\n                  background: uploadingFile ? '#9ca3af' : '#10b981',\r\n                  color: 'white',\r\n                  borderRadius: '6px',\r\n                  cursor: uploadingFile ? 'not-allowed' : 'pointer',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500'\r\n                }}\r\n              >\r\n                {uploadingFile ? '‚è≥ Subiendo...' : '‚ûï Agregar Certificado'}\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // RESTO DEL C√ìDIGO (Estilos y return) SIN CAMBIOS...\r\n  const styles = {\r\n    container: {\r\n      width: '100%',\r\n      minHeight: '100vh',\r\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n      position: 'relative',\r\n      overflow: 'hidden'\r\n    },\r\n    header: {\r\n      background: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\r\n      color: 'white',\r\n      padding: '16px',\r\n      position: 'relative',\r\n      boxShadow: '0 4px 20px rgba(0,0,0,0.15)'\r\n    },\r\n    headerContent: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      gap: '16px'\r\n    },\r\n    userInfo: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between'\r\n    },\r\n    userName: {\r\n      fontSize: '20px',\r\n      fontWeight: '700',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '8px'\r\n    },\r\n    logoutBtn: {\r\n      padding: '8px 16px',\r\n      background: 'rgba(255,255,255,0.2)',\r\n      backdropFilter: 'blur(10px)',\r\n      color: 'white',\r\n      border: '1px solid rgba(255,255,255,0.3)',\r\n      borderRadius: '8px',\r\n      cursor: 'pointer',\r\n      fontSize: '14px',\r\n      fontWeight: '600',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '6px'\r\n    },\r\n    buttonGrid: {\r\n      display: 'grid',\r\n      gridTemplateColumns: 'repeat(2, 1fr)',\r\n      gap: '12px'\r\n    },\r\n    actionBtn: {\r\n      padding: '16px',\r\n      borderRadius: '12px',\r\n      border: 'none',\r\n      cursor: 'pointer',\r\n      fontSize: '15px',\r\n      fontWeight: '600',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      gap: '8px',\r\n      transition: 'all 0.3s ease',\r\n      boxShadow: '0 4px 15px rgba(0,0,0,0.1)'\r\n    },\r\n    mainContent: {\r\n      padding: '20px',\r\n      paddingTop: '30px'\r\n    },\r\n    dashboardGrid: {\r\n      display: 'grid',\r\n      gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(300px, 1fr))',\r\n      gap: '20px',\r\n      marginBottom: '30px'\r\n    },\r\n    dashboardCard: {\r\n      background: 'white',\r\n      borderRadius: '16px',\r\n      padding: '24px',\r\n      boxShadow: '0 10px 40px rgba(0,0,0,0.1)',\r\n      transition: 'all 0.3s ease'\r\n    },\r\n    cardIcon: {\r\n      fontSize: '48px',\r\n      marginBottom: '12px'\r\n    },\r\n    cardTitle: {\r\n      fontSize: '18px',\r\n      fontWeight: '700',\r\n      color: '#1f2937',\r\n      marginBottom: '8px'\r\n    },\r\n    cardValue: {\r\n      fontSize: '32px',\r\n      fontWeight: '800',\r\n      color: '#3b82f6',\r\n      marginBottom: '4px'\r\n    },\r\n    cardSubtext: {\r\n      fontSize: '14px',\r\n      color: '#6b7280'\r\n    },\r\n    zonasSection: {\r\n      background: 'white',\r\n      borderRadius: '16px',\r\n      padding: '24px',\r\n      boxShadow: '0 10px 40px rgba(0,0,0,0.1)'\r\n    },\r\n    sectionTitle: {\r\n      fontSize: '20px',\r\n      fontWeight: '700',\r\n      color: '#1f2937',\r\n      marginBottom: '16px',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '8px'\r\n    },\r\n    zonaCard: {\r\n      background: 'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',\r\n      borderRadius: '12px',\r\n      padding: '16px',\r\n      marginBottom: '12px',\r\n      border: '2px solid #e5e7eb',\r\n      transition: 'all 0.3s ease'\r\n    },\r\n    emptyState: {\r\n      textAlign: 'center',\r\n      padding: '40px',\r\n      color: '#6b7280'\r\n    },\r\n    toast: {\r\n      position: 'fixed',\r\n      top: '20px',\r\n      right: '20px',\r\n      padding: '12px 20px',\r\n      borderRadius: '10px',\r\n      boxShadow: '0 4px 20px rgba(0,0,0,0.15)',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '12px',\r\n      zIndex: 2000,\r\n      animation: 'slideInRight 0.3s ease',\r\n      maxWidth: '350px',\r\n      backdropFilter: 'blur(10px)'\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      {/* Header Mejorado para M√≥vil */}\r\n      <div style={styles.header}>\r\n        <div style={styles.headerContent}>\r\n          <div style={styles.userInfo}>\r\n            <div style={styles.userName}>\r\n              <span>üë∑‚Äç‚ôÇÔ∏è</span>\r\n              <span>{currentUser.name || 'Trabajador'}</span>\r\n            </div>\r\n            <button onClick={onLogout} style={styles.logoutBtn}>\r\n              <span>üö™</span>\r\n              <span>Salir</span>\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Botones de Acci√≥n */}\r\n          <div style={styles.buttonGrid}>\r\n            <button\r\n              onClick={() => setShowDocumentsModal(true)}\r\n              style={{\r\n                ...styles.actionBtn,\r\n                background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\r\n                color: 'white'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '24px' }}>üìÑ</span>\r\n              <span>Mis Documentos</span>\r\n            </button>\r\n            \r\n            <button\r\n              onClick={() => setShowVehiclePanel(true)}\r\n              style={{\r\n                ...styles.actionBtn,\r\n                background: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',\r\n                color: 'white'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '24px' }}>üöõ</span>\r\n              <span>Mi Veh√≠culo</span>\r\n            </button>\r\n            \r\n            <button\r\n              onClick={navigateToDashboard}\r\n              style={{\r\n                ...styles.actionBtn,\r\n                background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\r\n                color: 'white'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '24px' }}>üìä</span>\r\n              <span>Dashboard</span>\r\n            </button>\r\n            \r\n            <button\r\n              onClick={() => showToast('üó∫Ô∏è Funci√≥n de mapa pr√≥ximamente', 'info')}\r\n              style={{\r\n                ...styles.actionBtn,\r\n                background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\r\n                color: 'white'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '24px' }}>üó∫Ô∏è</span>\r\n              <span>Mapa GPS</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Contenido Principal */}\r\n      <div style={styles.mainContent}>\r\n        {/* Dashboard Cards */}\r\n        <div style={styles.dashboardGrid}>\r\n          <div style={styles.dashboardCard}>\r\n            <div style={styles.cardIcon}>üìç</div>\r\n            <div style={styles.cardTitle}>Estado GPS</div>\r\n            <div style={styles.cardValue}>\r\n              {gpsStatus === 'active' ? 'Activo' : 'Inactivo'}\r\n            </div>\r\n            <div style={styles.cardSubtext}>\r\n              {gpsStatus === 'active' ? 'üü¢ Transmitiendo ubicaci√≥n' : 'üî¥ Sin transmisi√≥n'}\r\n            </div>\r\n          </div>\r\n\r\n          <div style={styles.dashboardCard}>\r\n            <div style={styles.cardIcon}>üèóÔ∏è</div>\r\n            <div style={styles.cardTitle}>Zonas Asignadas</div>\r\n            <div style={styles.cardValue}>{zonasAsignadas.length}</div>\r\n            <div style={styles.cardSubtext}>\r\n              {zonasAsignadas.filter(z => z.estado === 'pendiente').length} pendientes\r\n            </div>\r\n          </div>\r\n\r\n          <div style={styles.dashboardCard}>\r\n            <div style={styles.cardIcon}>‚úÖ</div>\r\n            <div style={styles.cardTitle}>Estado Actual</div>\r\n            <div style={styles.cardValue}>Disponible</div>\r\n            <div style={styles.cardSubtext}>Listo para trabajar</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Secci√≥n de Zonas */}\r\n        <div style={styles.zonasSection}>\r\n          <h2 style={styles.sectionTitle}>\r\n            <span>üó∫Ô∏è</span>\r\n            <span>Mis Zonas de Trabajo</span>\r\n          </h2>\r\n          \r\n          {zonasAsignadas.length > 0 ? (\r\n            <div>\r\n              {zonasAsignadas.map(zona => (\r\n                <div key={zona.id} style={styles.zonaCard}>\r\n                  <h3 style={{ margin: '0 0 8px 0', fontSize: '16px', fontWeight: '600', color: '#1f2937' }}>\r\n                    üìç {zona.nombre}\r\n                  </h3>\r\n                  <p style={{ margin: '0 0 8px 0', fontSize: '14px', color: '#6b7280' }}>\r\n                    {zona.direccion}\r\n                  </p>\r\n                  <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\r\n                    <span style={{\r\n                      padding: '4px 8px',\r\n                      background: zona.prioridad === 'alta' ? '#dc2626' : \r\n                                zona.prioridad === 'media' ? '#f59e0b' : '#10b981',\r\n                      color: 'white',\r\n                      borderRadius: '6px',\r\n                      fontSize: '12px',\r\n                      fontWeight: '600'\r\n                    }}>\r\n                      Prioridad: {zona.prioridad}\r\n                    </span>\r\n                    <span style={{\r\n                      padding: '4px 8px',\r\n                      background: zona.estado === 'pendiente' ? '#6b7280' :\r\n                                zona.estado === 'en_progreso' ? '#3b82f6' : '#10b981',\r\n                      color: 'white',\r\n                      borderRadius: '6px',\r\n                      fontSize: '12px',\r\n                      fontWeight: '600'\r\n                    }}>\r\n                      {zona.estado === 'pendiente' ? '‚è≥ Pendiente' :\r\n                       zona.estado === 'en_progreso' ? 'üîß En Progreso' : '‚úÖ Completado'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div style={styles.emptyState}>\r\n              <div style={{ fontSize: '48px', marginBottom: '12px', opacity: 0.5 }}>üì≠</div>\r\n              <p style={{ fontSize: '16px', fontWeight: '500', marginBottom: '4px' }}>\r\n                No tienes zonas asignadas\r\n              </p>\r\n              <p style={{ fontSize: '14px' }}>\r\n                Cuando te asignen nuevas zonas aparecer√°n aqu√≠\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Toast Notification */}\r\n      {toastNotification && (\r\n        <div style={{\r\n          ...styles.toast,\r\n          background: toastNotification.type === 'success' ? 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)' :\r\n                     toastNotification.type === 'error' ? 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)' :\r\n                     toastNotification.type === 'warning' ? 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)' :\r\n                     'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\r\n          color: 'white'\r\n        }}>\r\n          <span style={{ fontSize: '18px' }}>\r\n            {toastNotification.type === 'success' ? '‚úÖ' :\r\n             toastNotification.type === 'error' ? '‚ùå' :\r\n             toastNotification.type === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è'}\r\n          </span>\r\n          <span style={{ flex: 1, fontSize: '14px', fontWeight: '500' }}>\r\n            {toastNotification.message}\r\n          </span>\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal del panel de veh√≠culo */}\r\n      {showVehiclePanel && (\r\n        <TrabajadorVehiclePanel \r\n          currentUser={currentUser}\r\n          onClose={() => setShowVehiclePanel(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Modal de Documentos */}\r\n      <DocumentosModal />\r\n\r\n      <style>{`\r\n        @keyframes slideInRight {\r\n          from {\r\n            transform: translateX(100%);\r\n            opacity: 0;\r\n          }\r\n          to {\r\n            transform: translateX(0);\r\n            opacity: 1;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SistemaTrabajadoresFirebase;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}